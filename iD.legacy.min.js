(function(){var pk=Object.create;var U0=Object.defineProperty;var mk=Object.getOwnPropertyDescriptor;var hk=Object.getOwnPropertyNames;var gk=Object.getPrototypeOf,vk=Object.prototype.hasOwnProperty;var e7=function(e){return U0(e,"__esModule",{value:!0})};var Ya=function(e,t){return function(){return e&&(t=e(e=0)),t}};var $e=function(e,t){return function(){return t||e((t={exports:{}}).exports,t),t.exports}},t7=function(e,t){e7(e);for(var r in t)U0(e,r,{get:t[r],enumerable:!0})},yk=function(e,t,r){if(t&&typeof t=="object"||typeof t=="function")for(var n=hk(t),i=0,a=n.length,o;i<a;i++)o=n[i],!vk.call(e,o)&&o!=="default"&&U0(e,o,{get:function(s){return t[s]}.bind(null,o),enumerable:!(r=mk(t,o))||r.enumerable});return e},Xe=function(e){return yk(e7(U0(e!=null?pk(gk(e)):{},"default",e&&e.__esModule&&"default"in e?{get:function(){return e.default},enumerable:!0}:{value:e,enumerable:!0})),e)};function Se(e){return Se=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Se(e)}var pt=Ya(function(){});var od=$e(function(a7,ad){(function(e){"use strict";function t(T){return parseInt(T)===T}function r(T){if(!t(T.length))return!1;for(var M=0;M<T.length;M++)if(!t(T[M])||T[M]<0||T[M]>255)return!1;return!0}function n(T,M){if(T.buffer&&T.name==="Uint8Array")return M&&(T.slice?T=T.slice():T=Array.prototype.slice.call(T)),T;if(Array.isArray(T)){if(!r(T))throw new Error("Array contains invalid value: "+T);return new Uint8Array(T)}if(t(T.length)&&r(T))return new Uint8Array(T);throw new Error("unsupported array-like object")}function i(T){return new Uint8Array(T)}function a(T,M,I,z,q){(z!=null||q!=null)&&(T.slice?T=T.slice(z,q):T=Array.prototype.slice.call(T,z,q)),M.set(T,I)}var o=function(){function T(I){var z=[],q=0;for(I=encodeURI(I);q<I.length;){var V=I.charCodeAt(q++);V===37?(z.push(parseInt(I.substr(q,2),16)),q+=2):z.push(V)}return n(z)}function M(I){for(var z=[],q=0;q<I.length;){var V=I[q];V<128?(z.push(String.fromCharCode(V)),q++):V>191&&V<224?(z.push(String.fromCharCode((V&31)<<6|I[q+1]&63)),q+=2):(z.push(String.fromCharCode((V&15)<<12|(I[q+1]&63)<<6|I[q+2]&63)),q+=3)}return z.join("")}return{toBytes:T,fromBytes:M}}(),s=function(){function T(z){for(var q=[],V=0;V<z.length;V+=2)q.push(parseInt(z.substr(V,2),16));return q}var M="0123456789abcdef";function I(z){for(var q=[],V=0;V<z.length;V++){var Y=z[V];q.push(M[(Y&240)>>4]+M[Y&15])}return q.join("")}return{toBytes:T,fromBytes:I}}(),l={16:10,24:12,32:14},u=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],c=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],d=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],p=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],m=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],w=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],b=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],h=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],g=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],v=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],x=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],_=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],y=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],E=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],k=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function A(T){for(var M=[],I=0;I<T.length;I+=4)M.push(T[I]<<24|T[I+1]<<16|T[I+2]<<8|T[I+3]);return M}var C=function T(M){if(!(this instanceof T))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:n(M,!0)}),this._prepare()};C.prototype._prepare=function(){var T=l[this.key.length];if(T==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var M=0;M<=T;M++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var I=(T+1)*4,z=this.key.length/4,q=A(this.key),V,M=0;M<z;M++)V=M>>2,this._Ke[V][M%4]=q[M],this._Kd[T-V][M%4]=q[M];for(var Y=0,ee=z,ie;ee<I;){if(ie=q[z-1],q[0]^=c[ie>>16&255]<<24^c[ie>>8&255]<<16^c[ie&255]<<8^c[ie>>24&255]^u[Y]<<24,Y+=1,z!=8)for(var M=1;M<z;M++)q[M]^=q[M-1];else{for(var M=1;M<z/2;M++)q[M]^=q[M-1];ie=q[z/2-1],q[z/2]^=c[ie&255]^c[ie>>8&255]<<8^c[ie>>16&255]<<16^c[ie>>24&255]<<24;for(var M=z/2+1;M<z;M++)q[M]^=q[M-1]}for(var M=0,se,ve;M<z&&ee<I;)se=ee>>2,ve=ee%4,this._Ke[se][ve]=q[M],this._Kd[T-se][ve]=q[M++],ee++}for(var se=1;se<T;se++)for(var ve=0;ve<4;ve++)ie=this._Kd[se][ve],this._Kd[se][ve]=_[ie>>24&255]^y[ie>>16&255]^E[ie>>8&255]^k[ie&255]},C.prototype.encrypt=function(T){if(T.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var M=this._Ke.length-1,I=[0,0,0,0],z=A(T),q=0;q<4;q++)z[q]^=this._Ke[0][q];for(var V=1;V<M;V++){for(var q=0;q<4;q++)I[q]=p[z[q]>>24&255]^m[z[(q+1)%4]>>16&255]^w[z[(q+2)%4]>>8&255]^b[z[(q+3)%4]&255]^this._Ke[V][q];z=I.slice()}for(var Y=i(16),ee,q=0;q<4;q++)ee=this._Ke[M][q],Y[4*q]=(c[z[q]>>24&255]^ee>>24)&255,Y[4*q+1]=(c[z[(q+1)%4]>>16&255]^ee>>16)&255,Y[4*q+2]=(c[z[(q+2)%4]>>8&255]^ee>>8)&255,Y[4*q+3]=(c[z[(q+3)%4]&255]^ee)&255;return Y},C.prototype.decrypt=function(T){if(T.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var M=this._Kd.length-1,I=[0,0,0,0],z=A(T),q=0;q<4;q++)z[q]^=this._Kd[0][q];for(var V=1;V<M;V++){for(var q=0;q<4;q++)I[q]=h[z[q]>>24&255]^g[z[(q+3)%4]>>16&255]^v[z[(q+2)%4]>>8&255]^x[z[(q+1)%4]&255]^this._Kd[V][q];z=I.slice()}for(var Y=i(16),ee,q=0;q<4;q++)ee=this._Kd[M][q],Y[4*q]=(d[z[q]>>24&255]^ee>>24)&255,Y[4*q+1]=(d[z[(q+3)%4]>>16&255]^ee>>16)&255,Y[4*q+2]=(d[z[(q+2)%4]>>8&255]^ee>>8)&255,Y[4*q+3]=(d[z[(q+1)%4]&255]^ee)&255;return Y};var D=function T(M){if(!(this instanceof T))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new C(M)};D.prototype.encrypt=function(T){if(T=n(T),T.length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var M=i(T.length),I=i(16),z=0;z<T.length;z+=16)a(T,I,0,z,z+16),I=this._aes.encrypt(I),a(I,M,z);return M},D.prototype.decrypt=function(T){if(T=n(T),T.length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var M=i(T.length),I=i(16),z=0;z<T.length;z+=16)a(T,I,0,z,z+16),I=this._aes.decrypt(I),a(I,M,z);return M};var S=function T(M,I){if(!(this instanceof T))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!I)I=i(16);else if(I.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=n(I,!0),this._aes=new C(M)};S.prototype.encrypt=function(T){if(T=n(T),T.length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var M=i(T.length),I=i(16),z=0;z<T.length;z+=16){a(T,I,0,z,z+16);for(var q=0;q<16;q++)I[q]^=this._lastCipherblock[q];this._lastCipherblock=this._aes.encrypt(I),a(this._lastCipherblock,M,z)}return M},S.prototype.decrypt=function(T){if(T=n(T),T.length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var M=i(T.length),I=i(16),z=0;z<T.length;z+=16){a(T,I,0,z,z+16),I=this._aes.decrypt(I);for(var q=0;q<16;q++)M[z+q]=I[q]^this._lastCipherblock[q];a(T,this._lastCipherblock,0,z,z+16)}return M};var N=function T(M,I,z){if(!(this instanceof T))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!I)I=i(16);else if(I.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");z||(z=1),this.segmentSize=z,this._shiftRegister=n(I,!0),this._aes=new C(M)};N.prototype.encrypt=function(T){if(T.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var M=n(T,!0),I,z=0;z<M.length;z+=this.segmentSize){I=this._aes.encrypt(this._shiftRegister);for(var q=0;q<this.segmentSize;q++)M[z+q]^=I[q];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(M,this._shiftRegister,16-this.segmentSize,z,z+this.segmentSize)}return M},N.prototype.decrypt=function(T){if(T.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var M=n(T,!0),I,z=0;z<M.length;z+=this.segmentSize){I=this._aes.encrypt(this._shiftRegister);for(var q=0;q<this.segmentSize;q++)M[z+q]^=I[q];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(T,this._shiftRegister,16-this.segmentSize,z,z+this.segmentSize)}return M};var R=function T(M,I){if(!(this instanceof T))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!I)I=i(16);else if(I.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=n(I,!0),this._lastPrecipherIndex=16,this._aes=new C(M)};R.prototype.encrypt=function(T){for(var M=n(T,!0),I=0;I<M.length;I++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),M[I]^=this._lastPrecipher[this._lastPrecipherIndex++];return M},R.prototype.decrypt=R.prototype.encrypt;var P=function T(M){if(!(this instanceof T))throw Error("Counter must be instanitated with `new`");M!==0&&!M&&(M=1),typeof M=="number"?(this._counter=i(16),this.setValue(M)):this.setBytes(M)};P.prototype.setValue=function(T){if(typeof T!="number"||parseInt(T)!=T)throw new Error("invalid counter value (must be an integer)");if(T>Number.MAX_SAFE_INTEGER)throw new Error("integer value out of safe range");for(var M=15;M>=0;--M)this._counter[M]=T%256,T=parseInt(T/256)},P.prototype.setBytes=function(T){if(T=n(T,!0),T.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=T},P.prototype.increment=function(){for(var T=15;T>=0;T--)if(this._counter[T]===255)this._counter[T]=0;else{this._counter[T]++;break}};var L=function T(M,I){if(!(this instanceof T))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",I instanceof P||(I=new P(I)),this._counter=I,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new C(M)};L.prototype.encrypt=function(T){for(var M=n(T,!0),I=0;I<M.length;I++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),M[I]^=this._remainingCounter[this._remainingCounterIndex++];return M},L.prototype.decrypt=L.prototype.encrypt;function B(T){T=n(T,!0);var M=16-T.length%16,I=i(T.length+M);a(T,I);for(var z=T.length;z<I.length;z++)I[z]=M;return I}function O(T){if(T=n(T,!0),T.length<16)throw new Error("PKCS#7 invalid length");var M=T[T.length-1];if(M>16)throw new Error("PKCS#7 padding byte out of range");for(var I=T.length-M,z=0;z<M;z++)if(T[I+z]!==M)throw new Error("PKCS#7 invalid padding byte");var q=i(I);return a(T,q,0,0,I),q}var U={AES:C,Counter:P,ModeOfOperation:{ecb:D,cbc:S,cfb:N,ofb:R,ctr:L},utils:{hex:s,utf8:o},padding:{pkcs7:{pad:B,strip:O}},_arrayTest:{coerceArray:n,createArray:i,copyArray:a}};typeof a7!="undefined"?ad.exports=U:typeof define=="function"&&define.amd?define([],function(){return U}):(e.aesjs&&(U._aesjs=e.aesjs),e.aesjs=U)})(a7)});var H0=$e(function(G0){G0.remove=Sk;var q0=[{base:" ",chars:"\xA0"},{base:"0",chars:"\u07C0"},{base:"A",chars:"\u24B6\uFF21\xC0\xC1\xC2\u1EA6\u1EA4\u1EAA\u1EA8\xC3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\xC4\u01DE\u1EA2\xC5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F"},{base:"AA",chars:"\uA732"},{base:"AE",chars:"\xC6\u01FC\u01E2"},{base:"AO",chars:"\uA734"},{base:"AU",chars:"\uA736"},{base:"AV",chars:"\uA738\uA73A"},{base:"AY",chars:"\uA73C"},{base:"B",chars:"\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0181"},{base:"C",chars:"\u24B8\uFF23\uA73E\u1E08\u0106C\u0108\u010A\u010C\xC7\u0187\u023B"},{base:"D",chars:"\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018A\u0189\u1D05\uA779"},{base:"Dh",chars:"\xD0"},{base:"DZ",chars:"\u01F1\u01C4"},{base:"Dz",chars:"\u01F2\u01C5"},{base:"E",chars:"\u025B\u24BA\uFF25\xC8\xC9\xCA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\xCB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E\u1D07"},{base:"F",chars:"\uA77C\u24BB\uFF26\u1E1E\u0191\uA77B"},{base:"G",chars:"\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E\u0262"},{base:"H",chars:"\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D"},{base:"I",chars:"\u24BE\uFF29\xCC\xCD\xCE\u0128\u012A\u012C\u0130\xCF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197"},{base:"J",chars:"\u24BF\uFF2A\u0134\u0248\u0237"},{base:"K",chars:"\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2"},{base:"L",chars:"\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780"},{base:"LJ",chars:"\u01C7"},{base:"Lj",chars:"\u01C8"},{base:"M",chars:"\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C\u03FB"},{base:"N",chars:"\uA7A4\u0220\u24C3\uFF2E\u01F8\u0143\xD1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u019D\uA790\u1D0E"},{base:"NJ",chars:"\u01CA"},{base:"Nj",chars:"\u01CB"},{base:"O",chars:"\u24C4\uFF2F\xD2\xD3\xD4\u1ED2\u1ED0\u1ED6\u1ED4\xD5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\xD6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\xD8\u01FE\u0186\u019F\uA74A\uA74C"},{base:"OE",chars:"\u0152"},{base:"OI",chars:"\u01A2"},{base:"OO",chars:"\uA74E"},{base:"OU",chars:"\u0222"},{base:"P",chars:"\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754"},{base:"Q",chars:"\u24C6\uFF31\uA756\uA758\u024A"},{base:"R",chars:"\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782"},{base:"S",chars:"\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784"},{base:"T",chars:"\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786"},{base:"Th",chars:"\xDE"},{base:"TZ",chars:"\uA728"},{base:"U",chars:"\u24CA\uFF35\xD9\xDA\xDB\u0168\u1E78\u016A\u1E7A\u016C\xDC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244"},{base:"V",chars:"\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245"},{base:"VY",chars:"\uA760"},{base:"W",chars:"\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72"},{base:"X",chars:"\u24CD\uFF38\u1E8A\u1E8C"},{base:"Y",chars:"\u24CE\uFF39\u1EF2\xDD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE"},{base:"Z",chars:"\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762"},{base:"a",chars:"\u24D0\uFF41\u1E9A\xE0\xE1\xE2\u1EA7\u1EA5\u1EAB\u1EA9\xE3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\xE4\u01DF\u1EA3\xE5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250\u0251"},{base:"aa",chars:"\uA733"},{base:"ae",chars:"\xE6\u01FD\u01E3"},{base:"ao",chars:"\uA735"},{base:"au",chars:"\uA737"},{base:"av",chars:"\uA739\uA73B"},{base:"ay",chars:"\uA73D"},{base:"b",chars:"\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253\u0182"},{base:"c",chars:"\uFF43\u24D2\u0107\u0109\u010B\u010D\xE7\u1E09\u0188\u023C\uA73F\u2184"},{base:"d",chars:"\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\u018B\u13E7\u0501\uA7AA"},{base:"dh",chars:"\xF0"},{base:"dz",chars:"\u01F3\u01C6"},{base:"e",chars:"\u24D4\uFF45\xE8\xE9\xEA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\xEB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u01DD"},{base:"f",chars:"\u24D5\uFF46\u1E1F\u0192"},{base:"ff",chars:"\uFB00"},{base:"fi",chars:"\uFB01"},{base:"fl",chars:"\uFB02"},{base:"ffi",chars:"\uFB03"},{base:"ffl",chars:"\uFB04"},{base:"g",chars:"\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\uA77F\u1D79"},{base:"h",chars:"\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265"},{base:"hv",chars:"\u0195"},{base:"i",chars:"\u24D8\uFF49\xEC\xED\xEE\u0129\u012B\u012D\xEF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131"},{base:"j",chars:"\u24D9\uFF4A\u0135\u01F0\u0249"},{base:"k",chars:"\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3"},{base:"l",chars:"\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747\u026D"},{base:"lj",chars:"\u01C9"},{base:"m",chars:"\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F"},{base:"n",chars:"\u24DD\uFF4E\u01F9\u0144\xF1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5\u043B\u0509"},{base:"nj",chars:"\u01CC"},{base:"o",chars:"\u24DE\uFF4F\xF2\xF3\xF4\u1ED3\u1ED1\u1ED7\u1ED5\xF5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\xF6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\xF8\u01FF\uA74B\uA74D\u0275\u0254\u1D11"},{base:"oe",chars:"\u0153"},{base:"oi",chars:"\u01A3"},{base:"oo",chars:"\uA74F"},{base:"ou",chars:"\u0223"},{base:"p",chars:"\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755\u03C1"},{base:"q",chars:"\u24E0\uFF51\u024B\uA757\uA759"},{base:"r",chars:"\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783"},{base:"s",chars:"\u24E2\uFF53\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B\u0282"},{base:"ss",chars:"\xDF"},{base:"t",chars:"\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787"},{base:"th",chars:"\xFE"},{base:"tz",chars:"\uA729"},{base:"u",chars:"\u24E4\uFF55\xF9\xFA\xFB\u0169\u1E79\u016B\u1E7B\u016D\xFC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289"},{base:"v",chars:"\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C"},{base:"vy",chars:"\uA761"},{base:"w",chars:"\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73"},{base:"x",chars:"\u24E7\uFF58\u1E8B\u1E8D"},{base:"y",chars:"\u24E8\uFF59\u1EF3\xFD\u0177\u1EF9\u0233\u1E8F\xFF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF"},{base:"z",chars:"\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763"}],o7={};for(V4=0;V4<q0.length;V4+=1)for(s7=q0[V4].chars,Q0=0;Q0<s7.length;Q0+=1)o7[s7[Q0]]=q0[V4].base;var s7,Q0,V4;function Sk(e){return e.replace(/[^\u0000-\u007e]/g,function(t){return o7[t]||t})}G0.replacementList=q0;G0.diacriticsMap=o7});var fd=$e(function(PL,e2){pt();var d7=function(e){"use strict";var t=Object.prototype,r=t.hasOwnProperty,n,i=typeof Symbol=="function"?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(B,O,U){return Object.defineProperty(B,O,{value:U,enumerable:!0,configurable:!0,writable:!0}),B[O]}try{l({},"")}catch(B){l=function(U,T,M){return U[T]=M}}function u(B,O,U,T){var M=O&&O.prototype instanceof h?O:h,I=Object.create(M.prototype),z=new R(T||[]);return I._invoke=C(B,U,z),I}e.wrap=u;function c(B,O,U){try{return{type:"normal",arg:B.call(O,U)}}catch(T){return{type:"throw",arg:T}}}var d="suspendedStart",p="suspendedYield",m="executing",w="completed",b={};function h(){}function g(){}function v(){}var x={};l(x,a,function(){return this});var _=Object.getPrototypeOf,y=_&&_(_(P([])));y&&y!==t&&r.call(y,a)&&(x=y);var E=v.prototype=h.prototype=Object.create(x);g.prototype=v,l(E,"constructor",v),l(v,"constructor",g),g.displayName=l(v,s,"GeneratorFunction");function k(B){["next","throw","return"].forEach(function(O){l(B,O,function(U){return this._invoke(O,U)})})}e.isGeneratorFunction=function(B){var O=typeof B=="function"&&B.constructor;return O?O===g||(O.displayName||O.name)==="GeneratorFunction":!1},e.mark=function(B){return Object.setPrototypeOf?Object.setPrototypeOf(B,v):(B.__proto__=v,l(B,s,"GeneratorFunction")),B.prototype=Object.create(E),B},e.awrap=function(B){return{__await:B}};function A(B,O){function U(I,z,q,V){var Y=c(B[I],B,z);if(Y.type==="throw")V(Y.arg);else{var ee=Y.arg,ie=ee.value;return ie&&Se(ie)==="object"&&r.call(ie,"__await")?O.resolve(ie.__await).then(function(se){U("next",se,q,V)},function(se){U("throw",se,q,V)}):O.resolve(ie).then(function(se){ee.value=se,q(ee)},function(se){return U("throw",se,q,V)})}}var T;function M(I,z){function q(){return new O(function(V,Y){U(I,z,V,Y)})}return T=T?T.then(q,q):q()}this._invoke=M}k(A.prototype),l(A.prototype,o,function(){return this}),e.AsyncIterator=A,e.async=function(B,O,U,T,M){M===void 0&&(M=Promise);var I=new A(u(B,O,U,T),M);return e.isGeneratorFunction(O)?I:I.next().then(function(z){return z.done?z.value:I.next()})};function C(B,O,U){var T=d;return function(I,z){if(T===m)throw new Error("Generator is already running");if(T===w){if(I==="throw")throw z;return L()}for(U.method=I,U.arg=z;;){var q=U.delegate;if(q){var V=D(q,U);if(V){if(V===b)continue;return V}}if(U.method==="next")U.sent=U._sent=U.arg;else if(U.method==="throw"){if(T===d)throw T=w,U.arg;U.dispatchException(U.arg)}else U.method==="return"&&U.abrupt("return",U.arg);T=m;var Y=c(B,O,U);if(Y.type==="normal"){if(T=U.done?w:p,Y.arg===b)continue;return{value:Y.arg,done:U.done}}else Y.type==="throw"&&(T=w,U.method="throw",U.arg=Y.arg)}}}function D(B,O){var U=B.iterator[O.method];if(U===n){if(O.delegate=null,O.method==="throw"){if(B.iterator.return&&(O.method="return",O.arg=n,D(B,O),O.method==="throw"))return b;O.method="throw",O.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var T=c(U,B.iterator,O.arg);if(T.type==="throw")return O.method="throw",O.arg=T.arg,O.delegate=null,b;var M=T.arg;if(!M)return O.method="throw",O.arg=new TypeError("iterator result is not an object"),O.delegate=null,b;if(M.done)O[B.resultName]=M.value,O.next=B.nextLoc,O.method!=="return"&&(O.method="next",O.arg=n);else return M;return O.delegate=null,b}k(E),l(E,s,"Generator"),l(E,a,function(){return this}),l(E,"toString",function(){return"[object Generator]"});function S(B){var O={tryLoc:B[0]};1 in B&&(O.catchLoc=B[1]),2 in B&&(O.finallyLoc=B[2],O.afterLoc=B[3]),this.tryEntries.push(O)}function N(B){var O=B.completion||{};O.type="normal",delete O.arg,B.completion=O}function R(B){this.tryEntries=[{tryLoc:"root"}],B.forEach(S,this),this.reset(!0)}e.keys=function(B){var O=[];for(var U in B)O.push(U);return O.reverse(),function T(){for(;O.length;){var M=O.pop();if(M in B)return T.value=M,T.done=!1,T}return T.done=!0,T}};function P(B){if(B){var O=B[a];if(O)return O.call(B);if(typeof B.next=="function")return B;if(!isNaN(B.length)){var U=-1,T=function M(){for(;++U<B.length;)if(r.call(B,U))return M.value=B[U],M.done=!1,M;return M.value=n,M.done=!0,M};return T.next=T}}return{next:L}}e.values=P;function L(){return{value:n,done:!0}}return R.prototype={constructor:R,reset:function(O){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(N),!O)for(var U in this)U.charAt(0)==="t"&&r.call(this,U)&&!isNaN(+U.slice(1))&&(this[U]=n)},stop:function(){this.done=!0;var O=this.tryEntries[0],U=O.completion;if(U.type==="throw")throw U.arg;return this.rval},dispatchException:function(O){if(this.done)throw O;var U=this;function T(Y,ee){return z.type="throw",z.arg=O,U.next=Y,ee&&(U.method="next",U.arg=n),!!ee}for(var M=this.tryEntries.length-1;M>=0;--M){var I=this.tryEntries[M],z=I.completion;if(I.tryLoc==="root")return T("end");if(I.tryLoc<=this.prev){var q=r.call(I,"catchLoc"),V=r.call(I,"finallyLoc");if(q&&V){if(this.prev<I.catchLoc)return T(I.catchLoc,!0);if(this.prev<I.finallyLoc)return T(I.finallyLoc)}else if(q){if(this.prev<I.catchLoc)return T(I.catchLoc,!0)}else if(V){if(this.prev<I.finallyLoc)return T(I.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(O,U){for(var T=this.tryEntries.length-1;T>=0;--T){var M=this.tryEntries[T];if(M.tryLoc<=this.prev&&r.call(M,"finallyLoc")&&this.prev<M.finallyLoc){var I=M;break}}I&&(O==="break"||O==="continue")&&I.tryLoc<=U&&U<=I.finallyLoc&&(I=null);var z=I?I.completion:{};return z.type=O,z.arg=U,I?(this.method="next",this.next=I.finallyLoc,b):this.complete(z)},complete:function(O,U){if(O.type==="throw")throw O.arg;return O.type==="break"||O.type==="continue"?this.next=O.arg:O.type==="return"?(this.rval=this.arg=O.arg,this.method="return",this.next="end"):O.type==="normal"&&U&&(this.next=U),b},finish:function(O){for(var U=this.tryEntries.length-1;U>=0;--U){var T=this.tryEntries[U];if(T.finallyLoc===O)return this.complete(T.completion,T.afterLoc),N(T),b}},catch:function(O){for(var U=this.tryEntries.length-1;U>=0;--U){var T=this.tryEntries[U];if(T.tryLoc===O){var M=T.completion;if(M.type==="throw"){var I=M.arg;N(T)}return I}}throw new Error("illegal catch attempt")},delegateYield:function(O,U,T){return this.delegate={iterator:P(O),resultName:U,nextLoc:T},this.method==="next"&&(this.arg=n),b}},e}((typeof e2=="undefined"?"undefined":Se(e2))==="object"?e2.exports:{});try{regeneratorRuntime=d7}catch(e){(typeof globalThis=="undefined"?"undefined":Se(globalThis))==="object"?globalThis.regeneratorRuntime=d7:Function("r","regeneratorRuntime = r")(d7)}});var $4=$e(function(BL,dd){dd.exports=fd()});function j1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h7=Ya(function(){});function el(e,t){if(!!e){if(typeof e=="string")return j1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j1(e,t)}}var y7=Ya(function(){h7()});function w7(e){if(Array.isArray(e))return e}var yd=Ya(function(){});function x7(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,s;try{for(r=r.call(e);!(i=(o=r.next()).done)&&(n.push(o.value),!(t&&n.length===t));i=!0);}catch(l){a=!0,s=l}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw s}}return n}}var bd=Ya(function(){});function _7(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var wd=Ya(function(){});function xt(e,t){return w7(e)||x7(e,t)||el(e,t)||_7()}var An=Ya(function(){yd();bd();y7();wd()});var uo=$e(function(cu){"use strict";Object.defineProperty(cu,"__esModule",{value:!0});var mh=[[1536,1791],[1872,1919],[2208,2303],[64336,65023],[65136,65279],[69216,69247],[126064,126143],[126464,126719]];function jC(e){if(e.length>1)throw new Error("isArabic works on only one-character strings");for(var t=e.charCodeAt(0),r=0;r<mh.length;r++){var n=mh[r];if(t>=n[0]&&t<=n[1])return!0}return!1}cu.isArabic=jC;function zC(e){if(e.length>2)throw new Error("isMath works on only one-character strings");var t=e.charCodeAt(0);return t>=1632&&t<=1644||t>=1776&&t<=1785}cu.isMath=zC});var Vl=$e(function(S9){"use strict";Object.defineProperty(S9,"__esModule",{value:!0});var UC={alef:{normal:["\u0627"],madda_above:{normal:["\u0627\u0653","\u0622"],isolated:"\uFE81",final:"\uFE82"},hamza_above:{normal:["\u0627\u0654","\u0623"],isolated:"\uFE83",final:"\uFE84"},hamza_below:{normal:["\u0627\u0655","\u0625"],isolated:"\uFE87",final:"\uFE88"},wasla:{normal:"\u0671",isolated:"\uFB50",final:"\uFB51"},wavy_hamza_above:["\u0672"],wavy_hamza_below:["\u0627\u065F","\u0673"],high_hamza:["\u0675","\u0627\u0674"],indic_two_above:["\u0773"],indic_three_above:["\u0774"],fathatan:{normal:["\u0627\u064B"],final:"\uFD3C",isolated:"\uFD3D"},isolated:"\uFE8D",final:"\uFE8E"},beh:{normal:["\u0628"],dotless:["\u066E"],three_dots_horizontally_below:["\u0750"],dot_below_three_dots_above:["\u0751"],three_dots_pointing_upwards_below:["\u0752"],three_dots_pointing_upwards_below_two_dots_above:["\u0753"],two_dots_below_dot_above:["\u0754"],inverted_small_v_below:["\u0755"],small_v:["\u0756"],small_v_below:["\u08A0"],hamza_above:["\u08A1"],small_meem_above:["\u08B6"],isolated:"\uFE8F",final:"\uFE90",initial:"\uFE91",medial:"\uFE92"},"teh marbuta":{normal:["\u0629"],isolated:"\uFE93",final:"\uFE94"},teh:{normal:["\u062A"],ring:["\u067C"],three_dots_above_downwards:["\u067D"],small_teh_above:["\u08B8"],isolated:"\uFE95",final:"\uFE96",initial:"\uFE97",medial:"\uFE98"},theh:{normal:["\u062B"],isolated:"\uFE99",final:"\uFE9A",initial:"\uFE9B",medial:"\uFE9C"},jeem:{normal:["\u062C"],two_dots_above:["\u08A2"],isolated:"\uFE9D",final:"\uFE9E",initial:"\uFE9F",medial:"\uFEA0"},hah:{normal:["\u062D"],hamza_above:["\u0681"],two_dots_vertical_above:["\u0682"],three_dots_above:["\u0685"],two_dots_above:["\u0757"],three_dots_pointing_upwards_below:["\u0758"],small_tah_below:["\u076E"],small_tah_two_dots:["\u076F"],small_tah_above:["\u0772"],indic_four_below:["\u077C"],isolated:"\uFEA1",final:"\uFEA2",initial:"\uFEA3",medial:"\uFEA4"},khah:{normal:["\u062E"],isolated:"\uFEA5",final:"\uFEA6",initial:"\uFEA7",medial:"\uFEA8"},dal:{normal:["\u062F"],ring:["\u0689"],dot_below:["\u068A"],dot_below_small_tah:["\u068B"],three_dots_above_downwards:["\u068F"],four_dots_above:["\u0690"],inverted_v:["\u06EE"],two_dots_vertically_below_small_tah:["\u0759"],inverted_small_v_below:["\u075A"],three_dots_below:["\u08AE"],isolated:"\uFEA9",final:"\uFEAA"},thal:{normal:["\u0630"],isolated:"\uFEAB",final:"\uFEAC"},reh:{normal:["\u0631"],small_v:["\u0692"],ring:["\u0693"],dot_below:["\u0694"],small_v_below:["\u0695"],dot_below_dot_above:["\u0696"],two_dots_above:["\u0697"],four_dots_above:["\u0699"],inverted_v:["\u06EF"],stroke:["\u075B"],two_dots_vertically_above:["\u076B"],hamza_above:["\u076C"],small_tah_two_dots:["\u0771"],loop:["\u08AA"],small_noon_above:["\u08B9"],isolated:"\uFEAD",final:"\uFEAE"},zain:{normal:["\u0632"],inverted_v_above:["\u08B2"],isolated:"\uFEAF",final:"\uFEB0"},seen:{normal:["\u0633"],dot_below_dot_above:["\u069A"],three_dots_below:["\u069B"],three_dots_below_three_dots_above:["\u069C"],four_dots_above:["\u075C"],two_dots_vertically_above:["\u076D"],small_tah_two_dots:["\u0770"],indic_four_above:["\u077D"],inverted_v:["\u077E"],isolated:"\uFEB1",final:"\uFEB2",initial:"\uFEB3",medial:"\uFEB4"},sheen:{normal:["\u0634"],dot_below:["\u06FA"],isolated:"\uFEB5",final:"\uFEB6",initial:"\uFEB7",medial:"\uFEB8"},sad:{normal:["\u0635"],two_dots_below:["\u069D"],three_dots_above:["\u069E"],three_dots_below:["\u08AF"],isolated:"\uFEB9",final:"\uFEBA",initial:"\uFEBB",medial:"\uFEBC"},dad:{normal:["\u0636"],dot_below:["\u06FB"],isolated:"\uFEBD",final:"\uFEBE",initial:"\uFEBF",medial:"\uFEC0"},tah:{normal:["\u0637"],three_dots_above:["\u069F"],two_dots_above:["\u08A3"],isolated:"\uFEC1",final:"\uFEC2",initial:"\uFEC3",medial:"\uFEC4"},zah:{normal:["\u0638"],isolated:"\uFEC5",final:"\uFEC6",initial:"\uFEC7",medial:"\uFEC8"},ain:{normal:["\u0639"],three_dots_above:["\u06A0"],two_dots_above:["\u075D"],three_dots_pointing_downwards_above:["\u075E"],two_dots_vertically_above:["\u075F"],three_dots_below:["\u08B3"],isolated:"\uFEC9",final:"\uFECA",initial:"\uFECB",medial:"\uFECC"},ghain:{normal:["\u063A"],dot_below:["\u06FC"],isolated:"\uFECD",final:"\uFECE",initial:"\uFECF",medial:"\uFED0"},feh:{normal:["\u0641"],dotless:["\u06A1"],dot_moved_below:["\u06A2"],dot_below:["\u06A3"],three_dots_below:["\u06A5"],two_dots_below:["\u0760"],three_dots_pointing_upwards_below:["\u0761"],dot_below_three_dots_above:["\u08A4"],isolated:"\uFED1",final:"\uFED2",initial:"\uFED3",medial:"\uFED4"},qaf:{normal:["\u0642"],dotless:["\u066F"],dot_above:["\u06A7"],three_dots_above:["\u06A8"],dot_below:["\u08A5"],isolated:"\uFED5",final:"\uFED6",initial:"\uFED7",medial:"\uFED8"},kaf:{normal:["\u0643"],swash:["\u06AA"],ring:["\u06AB"],dot_above:["\u06AC"],three_dots_below:["\u06AE"],two_dots_above:["\u077F"],dot_below:["\u08B4"],isolated:"\uFED9",final:"\uFEDA",initial:"\uFEDB",medial:"\uFEDC"},lam:{normal:["\u0644"],small_v:["\u06B5"],dot_above:["\u06B6"],three_dots_above:["\u06B7"],three_dots_below:["\u06B8"],bar:["\u076A"],double_bar:["\u08A6"],isolated:"\uFEDD",final:"\uFEDE",initial:"\uFEDF",medial:"\uFEE0"},meem:{normal:["\u0645"],dot_above:["\u0765"],dot_below:["\u0766"],three_dots_above:["\u08A7"],isolated:"\uFEE1",final:"\uFEE2",initial:"\uFEE3",medial:"\uFEE4"},noon:{normal:["\u0646"],dot_below:["\u06B9"],ring:["\u06BC"],three_dots_above:["\u06BD"],two_dots_below:["\u0767"],small_tah:["\u0768"],small_v:["\u0769"],isolated:"\uFEE5",final:"\uFEE6",initial:"\uFEE7",medial:"\uFEE8"},heh:{normal:["\u0647"],isolated:"\uFEE9",final:"\uFEEA",initial:"\uFEEB",medial:"\uFEEC"},waw:{normal:["\u0648"],hamza_above:{normal:["\u0624","\u0648\u0654"],isolated:"\uFE85",final:"\uFE86"},high_hamza:["\u0676","\u0648\u0674"],ring:["\u06C4"],two_dots_above:["\u06CA"],dot_above:["\u06CF"],indic_two_above:["\u0778"],indic_three_above:["\u0779"],dot_within:["\u08AB"],isolated:"\uFEED",final:"\uFEEE"},alef_maksura:{normal:["\u0649"],hamza_above:["\u0626","\u064A\u0654"],initial:"\uFBE8",medial:"\uFBE9",isolated:"\uFEEF",final:"\uFEF0"},yeh:{normal:["\u064A"],hamza_above:{normal:["\u0626","\u0649\u0654"],isolated:"\uFE89",final:"\uFE8A",initial:"\uFE8B",medial:"\uFE8C"},two_dots_below_hamza_above:["\u08A8"],high_hamza:["\u0678","\u064A\u0674"],tail:["\u06CD"],small_v:["\u06CE"],three_dots_below:["\u06D1"],two_dots_below_dot_above:["\u08A9"],two_dots_below_small_noon_above:["\u08BA"],isolated:"\uFEF1",final:"\uFEF2",initial:"\uFEF3",medial:"\uFEF4"},tteh:{normal:["\u0679"],isolated:"\uFB66",final:"\uFB67",initial:"\uFB68",medial:"\uFB69"},tteheh:{normal:["\u067A"],isolated:"\uFB5E",final:"\uFB5F",initial:"\uFB60",medial:"\uFB61"},beeh:{normal:["\u067B"],isolated:"\uFB52",final:"\uFB53",initial:"\uFB54",medial:"\uFB55"},peh:{normal:["\u067E"],small_meem_above:["\u08B7"],isolated:"\uFB56",final:"\uFB57",initial:"\uFB58",medial:"\uFB59"},teheh:{normal:["\u067F"],isolated:"\uFB62",final:"\uFB63",initial:"\uFB64",medial:"\uFB65"},beheh:{normal:["\u0680"],isolated:"\uFB5A",final:"\uFB5B",initial:"\uFB5C",medial:"\uFB5D"},nyeh:{normal:["\u0683"],isolated:"\uFB76",final:"\uFB77",initial:"\uFB78",medial:"\uFB79"},dyeh:{normal:["\u0684"],isolated:"\uFB72",final:"\uFB73",initial:"\uFB74",medial:"\uFB75"},tcheh:{normal:["\u0686"],dot_above:["\u06BF"],isolated:"\uFB7A",final:"\uFB7B",initial:"\uFB7C",medial:"\uFB7D"},tcheheh:{normal:["\u0687"],isolated:"\uFB7E",final:"\uFB7F",initial:"\uFB80",medial:"\uFB81"},ddal:{normal:["\u0688"],isolated:"\uFB88",final:"\uFB89"},dahal:{normal:["\u068C"],isolated:"\uFB84",final:"\uFB85"},ddahal:{normal:["\u068D"],isolated:"\uFB82",final:"\uFB83"},dul:{normal:["\u068F","\u068E"],isolated:"\uFB86",final:"\uFB87"},rreh:{normal:["\u0691"],isolated:"\uFB8C",final:"\uFB8D"},jeh:{normal:["\u0698"],isolated:"\uFB8A",final:"\uFB8B"},veh:{normal:["\u06A4"],isolated:"\uFB6A",final:"\uFB6B",initial:"\uFB6C",medial:"\uFB6D"},peheh:{normal:["\u06A6"],isolated:"\uFB6E",final:"\uFB6F",initial:"\uFB70",medial:"\uFB71"},keheh:{normal:["\u06A9"],dot_above:["\u0762"],three_dots_above:["\u0763"],three_dots_pointing_upwards_below:["\u0764"],isolated:"\uFB8E",final:"\uFB8F",initial:"\uFB90",medial:"\uFB91"},ng:{normal:["\u06AD"],isolated:"\uFBD3",final:"\uFBD4",initial:"\uFBD5",medial:"\uFBD6"},gaf:{normal:["\u06AF"],ring:["\u06B0"],two_dots_below:["\u06B2"],three_dots_above:["\u06B4"],inverted_stroke:["\u08B0"],isolated:"\uFB92",final:"\uFB93",initial:"\uFB94",medial:"\uFB95"},ngoeh:{normal:["\u06B1"],isolated:"\uFB9A",final:"\uFB9B",initial:"\uFB9C",medial:"\uFB9D"},gueh:{normal:["\u06B3"],isolated:"\uFB96",final:"\uFB97",initial:"\uFB98",medial:"\uFB99"},"noon ghunna":{normal:["\u06BA"],isolated:"\uFB9E",final:"\uFB9F"},rnoon:{normal:["\u06BB"],isolated:"\uFBA0",final:"\uFBA1",initial:"\uFBA2",medial:"\uFBA3"},"heh doachashmee":{normal:["\u06BE"],isolated:"\uFBAA",final:"\uFBAB",initial:"\uFBAC",medial:"\uFBAD"},"heh goal":{normal:["\u06C1"],hamza_above:["\u06C1\u0654","\u06C2"],isolated:"\uFBA6",final:"\uFBA7",initial:"\uFBA8",medial:"\uFBA9"},"teh marbuta goal":{normal:["\u06C3"]},"kirghiz oe":{normal:["\u06C5"],isolated:"\uFBE0",final:"\uFBE1"},oe:{normal:["\u06C6"],isolated:"\uFBD9",final:"\uFBDA"},u:{normal:["\u06C7"],hamza_above:{normal:["\u0677","\u06C7\u0674"],isolated:"\uFBDD"},isolated:"\uFBD7",final:"\uFBD8"},yu:{normal:["\u06C8"],isolated:"\uFBDB",final:"\uFBDC"},"kirghiz yu":{normal:["\u06C9"],isolated:"\uFBE2",final:"\uFBE3"},ve:{normal:["\u06CB"],isolated:"\uFBDE",final:"\uFBDF"},"farsi yeh":{normal:["\u06CC"],indic_two_above:["\u0775"],indic_three_above:["\u0776"],indic_four_above:["\u0777"],isolated:"\uFBFC",final:"\uFBFD",initial:"\uFBFE",medial:"\uFBFF"},e:{normal:["\u06D0"],isolated:"\uFBE4",final:"\uFBE5",initial:"\uFBE6",medial:"\uFBE7"},"yeh barree":{normal:["\u06D2"],hamza_above:{normal:["\u06D2\u0654","\u06D3"],isolated:"\uFBB0",final:"\uFBB1"},indic_two_above:["\u077A"],indic_three_above:["\u077B"],isolated:"\uFBAE",final:"\uFBAF"},ae:{normal:["\u06D5"],isolated:"\u06D5",final:"\uFEEA",yeh_above:{normal:["\u06C0","\u06D5\u0654"],isolated:"\uFBA4",final:"\uFBA5"}},"rohingya yeh":{normal:["\u08AC"]},"low alef":{normal:["\u08AD"]},"straight waw":{normal:["\u08B1"]},"african feh":{normal:["\u08BB"]},"african qaf":{normal:["\u08BC"]},"african noon":{normal:["\u08BD"]}};S9.default=UC});var fu=$e(function(F9){"use strict";Object.defineProperty(F9,"__esModule",{value:!0});var qC={\u0626\u0627:{isolated:"\uFBEA",final:"\uFBEB"},\u0626\u06D5:{isolated:"\uFBEC",final:"\uFBED"},\u0626\u0648:{isolated:"\uFBEE",final:"\uFBEF"},\u0626\u06C7:{isolated:"\uFBF0",final:"\uFBF1"},\u0626\u06C6:{isolated:"\uFBF2",final:"\uFBF3"},\u0626\u06C8:{isolated:"\uFBF4",final:"\uFBF5"},\u0626\u06D0:{isolated:"\uFBF6",final:"\uFBF7",initial:"\uFBF8"},\u0626\u0649:{uighur_kirghiz:{isolated:"\uFBF9",final:"\uFBFA",initial:"\uFBFB"},isolated:"\uFC03",final:"\uFC68"},\u0626\u062C:{isolated:"\uFC00",initial:"\uFC97"},\u0626\u062D:{isolated:"\uFC01",initial:"\uFC98"},\u0626\u0645:{isolated:"\uFC02",final:"\uFC66",initial:"\uFC9A",medial:"\uFCDF"},\u0626\u064A:{isolated:"\uFC04",final:"\uFC69"},\u0628\u062C:{isolated:"\uFC05",initial:"\uFC9C"},\u0628\u062D:{isolated:"\uFC06",initial:"\uFC9D"},\u0628\u062E:{isolated:"\uFC07",initial:"\uFC9E"},\u0628\u0645:{isolated:"\uFC08",final:"\uFC6C",initial:"\uFC9F",medial:"\uFCE1"},\u0628\u0649:{isolated:"\uFC09",final:"\uFC6E"},\u0628\u064A:{isolated:"\uFC0A",final:"\uFC6F"},\u062A\u062C:{isolated:"\uFC0B",initial:"\uFCA1"},\u062A\u062D:{isolated:"\uFC0C",initial:"\uFCA2"},\u062A\u062E:{isolated:"\uFC0D",initial:"\uFCA3"},\u062A\u0645:{isolated:"\uFC0E",final:"\uFC72",initial:"\uFCA4",medial:"\uFCE3"},\u062A\u0649:{isolated:"\uFC0F",final:"\uFC74"},\u062A\u064A:{isolated:"\uFC10",final:"\uFC75"},\u062B\u062C:{isolated:"\uFC11"},\u062B\u0645:{isolated:"\uFC12",final:"\uFC78",initial:"\uFCA6",medial:"\uFCE5"},\u062B\u0649:{isolated:"\uFC13",final:"\uFC7A"},\u062B\u0648:{isolated:"\uFC14"},\u062C\u062D:{isolated:"\uFC15",initial:"\uFCA7"},\u062C\u0645:{isolated:"\uFC16",initial:"\uFCA8"},\u062D\u062C:{isolated:"\uFC17",initial:"\uFCA9"},\u062D\u0645:{isolated:"\uFC18",initial:"\uFCAA"},\u062E\u062C:{isolated:"\uFC19",initial:"\uFCAB"},\u062E\u062D:{isolated:"\uFC1A"},\u062E\u0645:{isolated:"\uFC1B",initial:"\uFCAC"},\u0633\u062C:{isolated:"\uFC1C",initial:"\uFCAD",medial:"\uFD34"},\u0633\u062D:{isolated:"\uFC1D",initial:"\uFCAE",medial:"\uFD35"},\u0633\u062E:{isolated:"\uFC1E",initial:"\uFCAF",medial:"\uFD36"},\u0633\u0645:{isolated:"\uFC1F",initial:"\uFCB0",medial:"\uFCE7"},\u0635\u062D:{isolated:"\uFC20",initial:"\uFCB1"},\u0635\u0645:{isolated:"\uFC21",initial:"\uFCB3"},\u0636\u062C:{isolated:"\uFC22",initial:"\uFCB4"},\u0636\u062D:{isolated:"\uFC23",initial:"\uFCB5"},\u0636\u062E:{isolated:"\uFC24",initial:"\uFCB6"},\u0636\u0645:{isolated:"\uFC25",initial:"\uFCB7"},\u0637\u062D:{isolated:"\uFC26",initial:"\uFCB8"},\u0637\u0645:{isolated:"\uFC27",initial:"\uFD33",medial:"\uFD3A"},\u0638\u0645:{isolated:"\uFC28",initial:"\uFCB9",medial:"\uFD3B"},\u0639\u062C:{isolated:"\uFC29",initial:"\uFCBA"},\u0639\u0645:{isolated:"\uFC2A",initial:"\uFCBB"},\u063A\u062C:{isolated:"\uFC2B",initial:"\uFCBC"},\u063A\u0645:{isolated:"\uFC2C",initial:"\uFCBD"},\u0641\u062C:{isolated:"\uFC2D",initial:"\uFCBE"},\u0641\u062D:{isolated:"\uFC2E",initial:"\uFCBF"},\u0641\u062E:{isolated:"\uFC2F",initial:"\uFCC0"},\u0641\u0645:{isolated:"\uFC30",initial:"\uFCC1"},\u0641\u0649:{isolated:"\uFC31",final:"\uFC7C"},\u0641\u064A:{isolated:"\uFC32",final:"\uFC7D"},\u0642\u062D:{isolated:"\uFC33",initial:"\uFCC2"},\u0642\u0645:{isolated:"\uFC34",initial:"\uFCC3"},\u0642\u0649:{isolated:"\uFC35",final:"\uFC7E"},\u0642\u064A:{isolated:"\uFC36",final:"\uFC7F"},\u0643\u0627:{isolated:"\uFC37",final:"\uFC80"},\u0643\u062C:{isolated:"\uFC38",initial:"\uFCC4"},\u0643\u062D:{isolated:"\uFC39",initial:"\uFCC5"},\u0643\u062E:{isolated:"\uFC3A",initial:"\uFCC6"},\u0643\u0644:{isolated:"\uFC3B",final:"\uFC81",initial:"\uFCC7",medial:"\uFCEB"},\u0643\u0645:{isolated:"\uFC3C",final:"\uFC82",initial:"\uFCC8",medial:"\uFCEC"},\u0643\u0649:{isolated:"\uFC3D",final:"\uFC83"},\u0643\u064A:{isolated:"\uFC3E",final:"\uFC84"},\u0644\u062C:{isolated:"\uFC3F",initial:"\uFCC9"},\u0644\u062D:{isolated:"\uFC40",initial:"\uFCCA"},\u0644\u062E:{isolated:"\uFC41",initial:"\uFCCB"},\u0644\u0645:{isolated:"\uFC42",final:"\uFC85",initial:"\uFCCC",medial:"\uFCED"},\u0644\u0649:{isolated:"\uFC43",final:"\uFC86"},\u0644\u064A:{isolated:"\uFC44",final:"\uFC87"},\u0645\u062C:{isolated:"\uFC45",initial:"\uFCCE"},\u0645\u062D:{isolated:"\uFC46",initial:"\uFCCF"},\u0645\u062E:{isolated:"\uFC47",initial:"\uFCD0"},\u0645\u0645:{isolated:"\uFC48",final:"\uFC89",initial:"\uFCD1"},\u0645\u0649:{isolated:"\uFC49"},\u0645\u064A:{isolated:"\uFC4A"},\u0646\u062C:{isolated:"\uFC4B",initial:"\uFCD2"},\u0646\u062D:{isolated:"\uFC4C",initial:"\uFCD3"},\u0646\u062E:{isolated:"\uFC4D",initial:"\uFCD4"},\u0646\u0645:{isolated:"\uFC4E",final:"\uFC8C",initial:"\uFCD5",medial:"\uFCEE"},\u0646\u0649:{isolated:"\uFC4F",final:"\uFC8E"},\u0646\u064A:{isolated:"\uFC50",final:"\uFC8F"},\u0647\u062C:{isolated:"\uFC51",initial:"\uFCD7"},\u0647\u0645:{isolated:"\uFC52",initial:"\uFCD8"},\u0647\u0649:{isolated:"\uFC53"},\u0647\u064A:{isolated:"\uFC54"},\u064A\u062C:{isolated:"\uFC55",initial:"\uFCDA"},\u064A\u062D:{isolated:"\uFC56",initial:"\uFCDB"},\u064A\u062E:{isolated:"\uFC57",initial:"\uFCDC"},\u064A\u0645:{isolated:"\uFC58",final:"\uFC93",initial:"\uFCDD",medial:"\uFCF0"},\u064A\u0649:{isolated:"\uFC59",final:"\uFC95"},\u064A\u064A:{isolated:"\uFC5A",final:"\uFC96"},\u0630\u0670:{isolated:"\uFC5B"},\u0631\u0670:{isolated:"\uFC5C"},\u0649\u0670:{isolated:"\uFC5D",final:"\uFC90"},"\u064C\u0651":{isolated:"\uFC5E"},"\u064D\u0651":{isolated:"\uFC5F"},"\u064E\u0651":{isolated:"\uFC60"},"\u064F\u0651":{isolated:"\uFC61"},"\u0650\u0651":{isolated:"\uFC62"},"\u0651\u0670":{isolated:"\uFC63"},\u0626\u0631:{final:"\uFC64"},\u0626\u0632:{final:"\uFC65"},\u0626\u0646:{final:"\uFC67"},\u0628\u0631:{final:"\uFC6A"},\u0628\u0632:{final:"\uFC6B"},\u0628\u0646:{final:"\uFC6D"},\u062A\u0631:{final:"\uFC70"},\u062A\u0632:{final:"\uFC71"},\u062A\u0646:{final:"\uFC73"},\u062B\u0631:{final:"\uFC76"},\u062B\u0632:{final:"\uFC77"},\u062B\u0646:{final:"\uFC79"},\u062B\u064A:{final:"\uFC7B"},\u0645\u0627:{final:"\uFC88"},\u0646\u0631:{final:"\uFC8A"},\u0646\u0632:{final:"\uFC8B"},\u0646\u0646:{final:"\uFC8D"},\u064A\u0631:{final:"\uFC91"},\u064A\u0632:{final:"\uFC92"},\u064A\u0646:{final:"\uFC94"},\u0626\u062E:{initial:"\uFC99"},\u0626\u0647:{initial:"\uFC9B",medial:"\uFCE0"},\u0628\u0647:{initial:"\uFCA0",medial:"\uFCE2"},\u062A\u0647:{initial:"\uFCA5",medial:"\uFCE4"},\u0635\u062E:{initial:"\uFCB2"},\u0644\u0647:{initial:"\uFCCD"},\u0646\u0647:{initial:"\uFCD6",medial:"\uFCEF"},\u0647\u0670:{initial:"\uFCD9"},\u064A\u0647:{initial:"\uFCDE",medial:"\uFCF1"},\u062B\u0647:{medial:"\uFCE6"},\u0633\u0647:{medial:"\uFCE8",initial:"\uFD31"},\u0634\u0645:{medial:"\uFCE9",isolated:"\uFD0C",final:"\uFD28",initial:"\uFD30"},\u0634\u0647:{medial:"\uFCEA",initial:"\uFD32"},\u0640\u064E\u0651:{medial:"\uFCF2"},\u0640\u064F\u0651:{medial:"\uFCF3"},\u0640\u0650\u0651:{medial:"\uFCF4"},\u0637\u0649:{isolated:"\uFCF5",final:"\uFD11"},\u0637\u064A:{isolated:"\uFCF6",final:"\uFD12"},\u0639\u0649:{isolated:"\uFCF7",final:"\uFD13"},\u0639\u064A:{isolated:"\uFCF8",final:"\uFD14"},\u063A\u0649:{isolated:"\uFCF9",final:"\uFD15"},\u063A\u064A:{isolated:"\uFCFA",final:"\uFD16"},\u0633\u0649:{isolated:"\uFCFB"},\u0633\u064A:{isolated:"\uFCFC",final:"\uFD18"},\u0634\u0649:{isolated:"\uFCFD",final:"\uFD19"},\u0634\u064A:{isolated:"\uFCFE",final:"\uFD1A"},\u062D\u0649:{isolated:"\uFCFF",final:"\uFD1B"},\u062D\u064A:{isolated:"\uFD00",final:"\uFD1C"},\u062C\u0649:{isolated:"\uFD01",final:"\uFD1D"},\u062C\u064A:{isolated:"\uFD02",final:"\uFD1E"},\u062E\u0649:{isolated:"\uFD03",final:"\uFD1F"},\u062E\u064A:{isolated:"\uFD04",final:"\uFD20"},\u0635\u0649:{isolated:"\uFD05",final:"\uFD21"},\u0635\u064A:{isolated:"\uFD06",final:"\uFD22"},\u0636\u0649:{isolated:"\uFD07",final:"\uFD23"},\u0636\u064A:{isolated:"\uFD08",final:"\uFD24"},\u0634\u062C:{isolated:"\uFD09",final:"\uFD25",initial:"\uFD2D",medial:"\uFD37"},\u0634\u062D:{isolated:"\uFD0A",final:"\uFD26",initial:"\uFD2E",medial:"\uFD38"},\u0634\u062E:{isolated:"\uFD0B",final:"\uFD27",initial:"\uFD2F",medial:"\uFD39"},\u0634\u0631:{isolated:"\uFD0D",final:"\uFD29"},\u0633\u0631:{isolated:"\uFD0E",final:"\uFD2A"},\u0635\u0631:{isolated:"\uFD0F",final:"\uFD2B"},\u0636\u0631:{isolated:"\uFD10",final:"\uFD2C"},\u0633\u0639:{final:"\uFD17"},\u062A\u062C\u0645:{initial:"\uFD50"},\u062A\u062D\u062C:{final:"\uFD51",initial:"\uFD52"},\u062A\u062D\u0645:{initial:"\uFD53"},\u062A\u062E\u0645:{initial:"\uFD54"},\u062A\u0645\u062C:{initial:"\uFD55"},\u062A\u0645\u062D:{initial:"\uFD56"},\u062A\u0645\u062E:{initial:"\uFD57"},\u062C\u0645\u062D:{final:"\uFD58",initial:"\uFD59"},\u062D\u0645\u064A:{final:"\uFD5A"},\u062D\u0645\u0649:{final:"\uFD5B"},\u0633\u062D\u062C:{initial:"\uFD5C"},\u0633\u062C\u062D:{initial:"\uFD5D"},\u0633\u062C\u0649:{final:"\uFD5E"},\u0633\u0645\u062D:{final:"\uFD5F",initial:"\uFD60"},\u0633\u0645\u062C:{initial:"\uFD61"},\u0633\u0645\u0645:{final:"\uFD62",initial:"\uFD63"},\u0635\u062D\u062D:{final:"\uFD64",initial:"\uFD65"},\u0635\u0645\u0645:{final:"\uFD66",initial:"\uFDC5"},\u0634\u062D\u0645:{final:"\uFD67",initial:"\uFD68"},\u0634\u062C\u064A:{final:"\uFD69"},\u0634\u0645\u062E:{final:"\uFD6A",initial:"\uFD6B"},\u0634\u0645\u0645:{final:"\uFD6C",initial:"\uFD6D"},\u0636\u062D\u0649:{final:"\uFD6E"},\u0636\u062E\u0645:{final:"\uFD6F",initial:"\uFD70"},\u0636\u0645\u062D:{final:"\uFD71"},\u0637\u0645\u062D:{initial:"\uFD72"},\u0637\u0645\u0645:{initial:"\uFD73"},\u0637\u0645\u064A:{final:"\uFD74"},\u0639\u062C\u0645:{final:"\uFD75",initial:"\uFDC4"},\u0639\u0645\u0645:{final:"\uFD76",initial:"\uFD77"},\u0639\u0645\u0649:{final:"\uFD78"},\u063A\u0645\u0645:{final:"\uFD79"},\u063A\u0645\u064A:{final:"\uFD7A"},\u063A\u0645\u0649:{final:"\uFD7B"},\u0641\u062E\u0645:{final:"\uFD7C",initial:"\uFD7D"},\u0642\u0645\u062D:{final:"\uFD7E",initial:"\uFDB4"},\u0642\u0645\u0645:{final:"\uFD7F"},\u0644\u062D\u0645:{final:"\uFD80",initial:"\uFDB5"},\u0644\u062D\u064A:{final:"\uFD81"},\u0644\u062D\u0649:{final:"\uFD82"},\u0644\u062C\u062C:{initial:"\uFD83",final:"\uFD84"},\u0644\u062E\u0645:{final:"\uFD85",initial:"\uFD86"},\u0644\u0645\u062D:{final:"\uFD87",initial:"\uFD88"},\u0645\u062D\u062C:{initial:"\uFD89"},\u0645\u062D\u0645:{initial:"\uFD8A"},\u0645\u062D\u064A:{final:"\uFD8B"},\u0645\u062C\u062D:{initial:"\uFD8C"},\u0645\u062C\u0645:{initial:"\uFD8D"},\u0645\u062E\u062C:{initial:"\uFD8E"},\u0645\u062E\u0645:{initial:"\uFD8F"},\u0645\u062C\u062E:{initial:"\uFD92"},\u0647\u0645\u062C:{initial:"\uFD93"},\u0647\u0645\u0645:{initial:"\uFD94"},\u0646\u062D\u0645:{initial:"\uFD95"},\u0646\u062D\u0649:{final:"\uFD96"},\u0646\u062C\u0645:{final:"\uFD97",initial:"\uFD98"},\u0646\u062C\u0649:{final:"\uFD99"},\u0646\u0645\u064A:{final:"\uFD9A"},\u0646\u0645\u0649:{final:"\uFD9B"},\u064A\u0645\u0645:{final:"\uFD9C",initial:"\uFD9D"},\u0628\u062E\u064A:{final:"\uFD9E"},\u062A\u062C\u064A:{final:"\uFD9F"},\u062A\u062C\u0649:{final:"\uFDA0"},\u062A\u062E\u064A:{final:"\uFDA1"},\u062A\u062E\u0649:{final:"\uFDA2"},\u062A\u0645\u064A:{final:"\uFDA3"},\u062A\u0645\u0649:{final:"\uFDA4"},\u062C\u0645\u064A:{final:"\uFDA5"},\u062C\u062D\u0649:{final:"\uFDA6"},\u062C\u0645\u0649:{final:"\uFDA7"},\u0633\u062E\u0649:{final:"\uFDA8"},\u0635\u062D\u064A:{final:"\uFDA9"},\u0634\u062D\u064A:{final:"\uFDAA"},\u0636\u062D\u064A:{final:"\uFDAB"},\u0644\u062C\u064A:{final:"\uFDAC"},\u0644\u0645\u064A:{final:"\uFDAD"},\u064A\u062D\u064A:{final:"\uFDAE"},\u064A\u062C\u064A:{final:"\uFDAF"},\u064A\u0645\u064A:{final:"\uFDB0"},\u0645\u0645\u064A:{final:"\uFDB1"},\u0642\u0645\u064A:{final:"\uFDB2"},\u0646\u062D\u064A:{final:"\uFDB3"},\u0639\u0645\u064A:{final:"\uFDB6"},\u0643\u0645\u064A:{final:"\uFDB7"},\u0646\u062C\u062D:{initial:"\uFDB8",final:"\uFDBD"},\u0645\u062E\u064A:{final:"\uFDB9"},\u0644\u062C\u0645:{initial:"\uFDBA",final:"\uFDBC"},\u0643\u0645\u0645:{final:"\uFDBB",initial:"\uFDC3"},\u062C\u062D\u064A:{final:"\uFDBE"},\u062D\u062C\u064A:{final:"\uFDBF"},\u0645\u062C\u064A:{final:"\uFDC0"},\u0641\u0645\u064A:{final:"\uFDC1"},\u0628\u062D\u064A:{final:"\uFDC2"},\u0633\u062E\u064A:{final:"\uFDC6"},\u0646\u062C\u064A:{final:"\uFDC7"},\u0644\u0622:{isolated:"\uFEF5",final:"\uFEF6"},\u0644\u0623:{isolated:"\uFEF7",final:"\uFEF8"},\u0644\u0625:{isolated:"\uFEF9",final:"\uFEFA"},\u0644\u0627:{isolated:"\uFEFB",final:"\uFEFC"},words:{\u0635\u0644\u06D2:"\uFDF0",\u0642\u0644\u06D2:"\uFDF1",\u0627\u0644\u0644\u0647:"\uFDF2",\u0627\u0643\u0628\u0631:"\uFDF3",\u0645\u062D\u0645\u062F:"\uFDF4",\u0635\u0644\u0639\u0645:"\uFDF5",\u0631\u0633\u0648\u0644:"\uFDF6",\u0639\u0644\u064A\u0647:"\uFDF7",\u0648\u0633\u0644\u0645:"\uFDF8",\u0635\u0644\u0649:"\uFDF9",\u0635\u0644\u0649\u0627\u0644\u0644\u0647\u0639\u0644\u064A\u0647\u0648\u0633\u0644\u0645:"\uFDFA",\u062C\u0644\u062C\u0644\u0627\u0644\u0647:"\uFDFB",\u0631\u06CC\u0627\u0644:"\uFDFC"}};F9.default=qC});var Jo=$e(function(Li){"use strict";Object.defineProperty(Li,"__esModule",{value:!0});var QC=Vl(),hh=fu(),GC=Object.keys(QC.default);Li.letterList=GC;var HC=Object.keys(hh.default);Li.ligatureList=HC;var WC=Object.keys(hh.default.words);Li.ligatureWordList=WC;var VC="\u0644\u06B5\u06B6\u06B7\u06B8";Li.lams=VC;var KC="\u0627\u0622\u0623\u0625\u0671\u0672\u0673\u0675\u0773\u0774";Li.alefs=KC;var gh="\u0605\u0640\u0670\u0674\u06DF\u06E7\u06E8";Li.tashkeel=gh;function co(e,t){for(var r=e;r<=t;r++)Li.tashkeel=gh+=String.fromCharCode(r)}co(1552,1562);co(1611,1631);co(1750,1756);co(1760,1764);co(1770,1773);co(2259,2273);co(2275,2303);co(65136,65151);var vh="\u0627\u0629\u0648\u06C0\u06CF\u06FD\u06FE\u076B\u076C\u0771\u0773\u0774\u0778\u0779\u08E2\u08B1\u08B2\u08B9";Li.lineBreakers=vh;function In(e,t){for(var r=e;r<=t;r++)Li.lineBreakers=vh+=String.fromCharCode(r)}In(1536,1567);In(1569,1573);In(1583,1586);In(1632,1645);In(1649,1655);In(1672,1689);In(1731,1739);In(1746,1785);In(1881,1883);In(2218,2222);In(64336,65021);In(65152,65276);In(69216,69247);In(126064,126143);In(126464,126719)});var yh=$e(function(T9){"use strict";Object.defineProperty(T9,"__esModule",{value:!0});var YC=uo(),cs=Jo();function ZC(e){var t=[],r="";return e.split("").forEach(function(n){YC.isArabic(n)&&(cs.tashkeel.indexOf(n)>-1||r.length&&(cs.lams.indexOf(r)===0&&cs.alefs.indexOf(n)>-1||cs.lams.indexOf(r)>0&&cs.alefs.indexOf(n)===0))?t[t.length-1]+=n:t.push(n),cs.tashkeel.indexOf(n)===-1&&(r=n)}),t}T9.GlyphSplitter=ZC});var wh=$e(function(I9){"use strict";Object.defineProperty(I9,"__esModule",{value:!0});var bh=uo(),M9=Jo();function XC(e){var t=[],r="";return e.split("").forEach(function(n){bh.isArabic(n)&&bh.isArabic(r)?r.length&&M9.tashkeel.indexOf(n)>-1?t[t.length-1]+=n:M9.lineBreakers.indexOf(r)>-1?t.push(n):t[t.length-1]+=n:t.push(n),M9.tashkeel.indexOf(n)===-1&&(r=n)}),t}I9.BaselineSplitter=XC});var xh=$e(function(O9){pt();"use strict";Object.defineProperty(O9,"__esModule",{value:!0});var $C=Vl(),N9=fu(),JC=uo(),fs=Jo();function eD(e,t){typeof t=="undefined"&&(t=!0);var r="";return e.split("").forEach(function(n){if(!JC.isArabic(n)){r+=n;return}for(var i=0;i<fs.letterList.length;i++)for(var a=$C.default[fs.letterList[i]],o=Object.keys(a),s=0;s<o.length;s++){var l=a[o[s]];if(Se(l)==="object"&&typeof l.indexOf=="undefined")for(var u=Object.keys(l),c=0;c<u.length;c++){var d=l[u[c]];if(d===n||Se(d)==="object"&&d.indexOf&&d.indexOf(n)>-1){if(d===n){if(t&&l.normal&&["isolated","initial","medial","final"].indexOf(u[c])>-1){Se(l.normal)==="object"?r+=l.normal[0]:r+=l.normal;return}r+=n;return}else if(Se(d)==="object"&&d.indexOf&&d.indexOf(n)>-1){r+=d[0];return}}}else if(l===n){if(t&&a.normal&&["isolated","initial","medial","final"].indexOf(o[s])>-1){Se(a.normal)==="object"?r+=a.normal[0]:r+=a.normal;return}r+=n;return}else if(Se(l)==="object"&&l.indexOf&&l.indexOf(n)>-1){r+=l[0];return}}for(var p=0;p<fs.ligatureList.length;p++){var m=fs.ligatureList[p];if(m!=="words"){for(var w=Object.keys(N9.default[m]),b=0;b<w.length;b++)if(N9.default[m][w[b]]===n){r+=m;return}}}for(var h=0;h<fs.ligatureWordList.length;h++){var g=fs.ligatureWordList[h];if(N9.default.words[g]===n){r+=g;return}}r+=n}),r}O9.Normal=eD});var B9=$e(function(P9){pt();"use strict";Object.defineProperty(P9,"__esModule",{value:!0});var tD=Vl(),rD=uo(),_h=Jo();function nD(e,t){if(!rD.isArabic(e))throw new Error("Not Arabic");if(e==="\u0621")return"\u0621";for(var r=0;r<_h.letterList.length;r++)for(var n=tD.default[_h.letterList[r]],i=Object.keys(n),a=0;a<i.length;a++){var o=n[i[a]];if(o===e||Se(o)==="object"&&o.indexOf&&o.indexOf(e)>-1){if(i.indexOf(t)>-1)return n[t]}else if(Se(o)==="object"&&typeof o.indexOf=="undefined"){for(var s=Object.keys(o),l=0;l<s.length;l++)if((o[s[l]]===e||Se(o[s[l]])==="object"&&o[s[l]].indexOf&&o[s[l]].indexOf(e)>-1)&&s.indexOf(t)>-1)return o[t]}}}P9.CharShaper=nD});var Eh=$e(function(L9){"use strict";Object.defineProperty(L9,"__esModule",{value:!0});var R9=uo(),Kl=Jo(),kh=B9(),iD=fu();function aD(e){for(var t="initial",r="",n=0;n<e.length;n++){for(var i=" ",a=n+1;a<e.length&&R9.isArabic(e[a]);a++)if(Kl.tashkeel.indexOf(e[a])===-1){i=e[a];break}if(!R9.isArabic(e[n])||R9.isMath(e[n]))r+=e[n],t="initial";else if(Kl.tashkeel.indexOf(e[n])>-1)r+=e[n];else if(i===" "||Kl.lineBreakers.indexOf(e[n])>-1)r+=kh.CharShaper(e[n],t==="initial"?"isolated":"final"),t="initial";else if(Kl.lams.indexOf(e[n])>-1&&Kl.alefs.indexOf(i)>-1){for(r+=iD.default[e[n]+i][t==="initial"?"isolated":"final"];e[n]!==i;)n++;t="initial"}else r+=kh.CharShaper(e[n],t),t="medial"}return r}L9.WordShaper=aD});var Dh=$e(function(pu){pt();"use strict";Object.defineProperty(pu,"__esModule",{value:!0});var Ah=Vl(),Ch=uo(),du=Jo();function oD(e){if(!Ch.isArabic(e))throw new Error("Not an Arabic letter");for(var t=0;t<du.letterList.length;t++){for(var r=Ah.default[du.letterList[t]],n=Object.keys(r),i=0;i<n.length;i++){var a=r[n[i]];if(Se(a)==="object"&&typeof a.indexOf=="undefined")for(var o=Object.keys(a),s=0;s<o.length;s++){var l=a[o[s]];if(l===e||Se(l)==="object"&&l.indexOf&&l.indexOf(e)>-1)return a}else if(a===e||Se(a)==="object"&&a.indexOf&&a.indexOf(e)>-1)return r}return null}}pu.ParentLetter=oD;function sD(e){if(!Ch.isArabic(e))throw new Error("Not an Arabic letter");for(var t=0;t<du.letterList.length;t++){for(var r=Ah.default[du.letterList[t]],n=Object.keys(r),i=0;i<n.length;i++){var a=r[n[i]];if(Se(a)==="object"&&typeof a.indexOf=="undefined")for(var o=Object.keys(a),s=0;s<o.length;s++){var l=a[o[s]];if(l===e||Se(l)==="object"&&l.indexOf&&l.indexOf(e)>-1)return r}else if(a===e||Se(a)==="object"&&a.indexOf&&a.indexOf(e)>-1)return r}return null}}pu.GrandparentLetter=sD});var Fh=$e(function(aa){"use strict";Object.defineProperty(aa,"__esModule",{value:!0});var lD=uo();aa.isArabic=lD.isArabic;var uD=yh();aa.GlyphSplitter=uD.GlyphSplitter;var cD=wh();aa.BaselineSplitter=cD.BaselineSplitter;var fD=xh();aa.Normal=fD.Normal;var dD=B9();aa.CharShaper=dD.CharShaper;var pD=Eh();aa.WordShaper=pD.WordShaper;var Sh=Dh();aa.ParentLetter=Sh.ParentLetter;aa.GrandparentLetter=Sh.GrandparentLetter});var Nh=$e(function(U9,q9){pt();(function(e,t){(typeof U9=="undefined"?"undefined":Se(U9))==="object"&&typeof q9!="undefined"?q9.exports=t():typeof define=="function"&&define.amd?define(t):e.quickselect=t()})(void 0,function(){"use strict";function e(i,a,o,s,l){t(i,a,o||0,s||i.length-1,l||n)}function t(i,a,o,s,l){for(;s>o;){if(s-o>600){var u=s-o+1,c=a-o+1,d=Math.log(u),p=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*p*(u-p)/u)*(c-u/2<0?-1:1),w=Math.max(o,Math.floor(a-c*p/u+m)),b=Math.min(s,Math.floor(a+(u-c)*p/u+m));t(i,a,w,b,l)}var h=i[a],g=o,v=s;for(r(i,o,a),l(i[s],h)>0&&r(i,o,s);g<v;){for(r(i,g,v),g++,v--;l(i[g],h)<0;)g++;for(;l(i[v],h)>0;)v--}l(i[o],h)===0?r(i,o,v):(v++,r(i,v,s)),v<=a&&(o=v+1),a<=v&&(s=v-1)}}function r(i,a,o){var s=i[a];i[a]=i[o],i[o]=s}function n(i,a){return i<a?-1:i>a?1:0}return e})});var Rh=$e(function(bY,H9){"use strict";H9.exports=Yl;H9.exports.default=Yl;var yD=Nh();function Yl(e,t){if(!(this instanceof Yl))return new Yl(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),t&&this._initFormat(t),this.clear()}Yl.prototype={all:function(){return this._all(this.data,[])},search:function(t){var r=this.data,n=[],i=this.toBBox;if(!hu(t,r))return n;for(var a=[],o,s,l,u;r;){for(o=0,s=r.children.length;o<s;o++)l=r.children[o],u=r.leaf?i(l):l,hu(t,u)&&(r.leaf?n.push(l):G9(t,u)?this._all(l,n):a.push(l));r=a.pop()}return n},collides:function(t){var r=this.data,n=this.toBBox;if(!hu(t,r))return!1;for(var i=[],a,o,s,l;r;){for(a=0,o=r.children.length;a<o;a++)if(s=r.children[a],l=r.leaf?n(s):s,hu(t,l)){if(r.leaf||G9(t,l))return!0;i.push(s)}r=i.pop()}return!1},load:function(t){if(!(t&&t.length))return this;if(t.length<this._minEntries){for(var r=0,n=t.length;r<n;r++)this.insert(t[r]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(!this.data.children.length)this.data=i;else if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var a=this.data;this.data=i,i=a}this._insert(i,this.data.height-i.height-1,!0)}return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=ms([]),this},remove:function(t,r){if(!t)return this;for(var n=this.data,i=this.toBBox(t),a=[],o=[],s,l,u,c;n||a.length;){if(n||(n=a.pop(),l=a[a.length-1],s=o.pop(),c=!0),n.leaf&&(u=bD(t,n.children,r),u!==-1))return n.children.splice(u,1),a.push(n),this._condense(a),this;!c&&!n.leaf&&G9(n,i)?(a.push(n),o.push(s),s=0,l=n,n=n.children[0]):l?(s++,n=l.children[s],c=!1):n=null}return this},toBBox:function(t){return t},compareMinX:Oh,compareMinY:Ph,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,r){for(var n=[];t;)t.leaf?r.push.apply(r,t.children):n.push.apply(n,t.children),t=n.pop();return r},_build:function(t,r,n,i){var a=n-r+1,o=this._maxEntries,s;if(a<=o)return s=ms(t.slice(r,n+1)),ps(s,this.toBBox),s;i||(i=Math.ceil(Math.log(a)/Math.log(o)),o=Math.ceil(a/Math.pow(o,i-1))),s=ms([]),s.leaf=!1,s.height=i;var l=Math.ceil(a/o),u=l*Math.ceil(Math.sqrt(o)),c,d,p,m;for(Bh(t,r,n,u,this.compareMinX),c=r;c<=n;c+=u)for(p=Math.min(c+u-1,n),Bh(t,c,p,l,this.compareMinY),d=c;d<=p;d+=l)m=Math.min(d+l-1,p),s.children.push(this._build(t,d,m,i-1));return ps(s,this.toBBox),s},_chooseSubtree:function(t,r,n,i){for(var a,o,s,l,u,c,d,p;i.push(r),!(r.leaf||i.length-1===n);){for(d=p=1/0,a=0,o=r.children.length;a<o;a++)s=r.children[a],u=Q9(s),c=wD(t,s)-u,c<p?(p=c,d=u<d?u:d,l=s):c===p&&u<d&&(d=u,l=s);r=l||r.children[0]}return r},_insert:function(t,r,n){var i=this.toBBox,a=n?t:i(t),o=[],s=this._chooseSubtree(a,this.data,r,o);for(s.children.push(t),Xl(s,a);r>=0&&o[r].children.length>this._maxEntries;)this._split(o,r),r--;this._adjustParentBBoxes(a,o,r)},_split:function(t,r){var n=t[r],i=n.children.length,a=this._minEntries;this._chooseSplitAxis(n,a,i);var o=this._chooseSplitIndex(n,a,i),s=ms(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,ps(n,this.toBBox),ps(s,this.toBBox),r?t[r-1].children.push(s):this._splitRoot(n,s)},_splitRoot:function(t,r){this.data=ms([t,r]),this.data.height=t.height+1,this.data.leaf=!1,ps(this.data,this.toBBox)},_chooseSplitIndex:function(t,r,n){var i,a,o,s,l,u,c,d;for(u=c=1/0,i=r;i<=n-r;i++)a=Zl(t,0,i,this.toBBox),o=Zl(t,i,n,this.toBBox),s=xD(a,o),l=Q9(a)+Q9(o),s<u?(u=s,d=i,c=l<c?l:c):s===u&&l<c&&(c=l,d=i);return d},_chooseSplitAxis:function(t,r,n){var i=t.leaf?this.compareMinX:Oh,a=t.leaf?this.compareMinY:Ph,o=this._allDistMargin(t,r,n,i),s=this._allDistMargin(t,r,n,a);o<s&&t.children.sort(i)},_allDistMargin:function(t,r,n,i){t.children.sort(i);var a=this.toBBox,o=Zl(t,0,r,a),s=Zl(t,n-r,n,a),l=mu(o)+mu(s),u,c;for(u=r;u<n-r;u++)c=t.children[u],Xl(o,t.leaf?a(c):c),l+=mu(o);for(u=n-r-1;u>=r;u--)c=t.children[u],Xl(s,t.leaf?a(c):c),l+=mu(s);return l},_adjustParentBBoxes:function(t,r,n){for(var i=n;i>=0;i--)Xl(r[i],t)},_condense:function(t){for(var r=t.length-1,n;r>=0;r--)t[r].children.length===0?r>0?(n=t[r-1].children,n.splice(n.indexOf(t[r]),1)):this.clear():ps(t[r],this.toBBox)},_initFormat:function(t){var r=["return a"," - b",";"];this.compareMinX=new Function("a","b",r.join(t[0])),this.compareMinY=new Function("a","b",r.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};function bD(e,t,r){if(!r)return t.indexOf(e);for(var n=0;n<t.length;n++)if(r(e,t[n]))return n;return-1}function ps(e,t){Zl(e,0,e.children.length,t,e)}function Zl(e,t,r,n,i){i||(i=ms(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var a=t,o;a<r;a++)o=e.children[a],Xl(i,e.leaf?n(o):o);return i}function Xl(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function Oh(e,t){return e.minX-t.minX}function Ph(e,t){return e.minY-t.minY}function Q9(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function mu(e){return e.maxX-e.minX+(e.maxY-e.minY)}function wD(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function xD(e,t){var r=Math.max(e.minX,t.minX),n=Math.max(e.minY,t.minY),i=Math.min(e.maxX,t.maxX),a=Math.min(e.maxY,t.maxY);return Math.max(0,i-r)*Math.max(0,a-n)}function G9(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function hu(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function ms(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Bh(e,t,r,n,i){for(var a=[t,r],o;a.length;)r=a.pop(),t=a.pop(),!(r-t<=n)&&(o=t+Math.ceil((r-t)/n/2)*n,yD(e,o,t,r,i),a.push(t,o,o,r))}});var jh=$e(function(wY,Lh){"use strict";Lh.exports=gu;gu.polyline=gu;gu.polygon=_D;function gu(e,t,r){var n=e.length,i=hs(e[0],t),a=[],o,s,l,u,c;for(r||(r=[]),o=1;o<n;o++){for(s=e[o-1],l=e[o],u=c=hs(l,t);;)if(i|u){if(i&u)break;i?(s=W9(s,l,i,t),i=hs(s,t)):(l=W9(s,l,u,t),u=hs(l,t))}else{a.push(s),u!==c?(a.push(l),o<n-1&&(r.push(a),a=[])):o===n-1&&a.push(l);break}i=c}return a.length&&r.push(a),r}function _D(e,t){var r,n,i,a,o,s,l;for(n=1;n<=8;n*=2){for(r=[],i=e[e.length-1],a=!(hs(i,t)&n),o=0;o<e.length;o++)s=e[o],l=!(hs(s,t)&n),l!==a&&r.push(W9(i,s,n,t)),l&&r.push(s),i=s,a=l;if(e=r,!e.length)break}return r}function W9(e,t,r,n){return r&8?[e[0]+(t[0]-e[0])*(n[3]-e[1])/(t[1]-e[1]),n[3]]:r&4?[e[0]+(t[0]-e[0])*(n[1]-e[1])/(t[1]-e[1]),n[1]]:r&2?[n[2],e[1]+(t[1]-e[1])*(n[2]-e[0])/(t[0]-e[0])]:r&1?[n[0],e[1]+(t[1]-e[1])*(n[0]-e[0])/(t[0]-e[0])]:null}function hs(e,t){var r=0;return e[0]<t[0]?r|=1:e[0]>t[2]&&(r|=2),e[1]<t[1]?r|=4:e[1]>t[3]&&(r|=8),r}});var $l=$e(function(xY,qh){"use strict";var kD=Rh(),ED=jh();qh.exports=AD;function AD(e){for(var t=[],r=0;r<e.features.length;r++){var n=e.features[r],i=n.geometry.coordinates;if(n.geometry.type==="Polygon")t.push(Uh(i,n.properties));else if(n.geometry.type==="MultiPolygon")for(var a=0;a<i.length;a++)t.push(Uh(i[a],n.properties))}var o=kD().load(t);function s(l,u){for(var c=[],d=o.search({minX:l[0],minY:l[1],maxX:l[0],maxY:l[1]}),p=0;p<d.length;p++)if(zh(d[p].coords,l))if(u)c.push(d[p].props);else return d[p].props;return u&&c.length?c:null}return s.tree=o,s.bbox=function(u){for(var c=[],d=o.search({minX:u[0],minY:u[1],maxX:u[2],maxY:u[3]}),p=0;p<d.length;p++)CD(d[p].coords,u)&&c.push(d[p].props);return c},s}function CD(e,t){var r=[(t[0]+t[2])/2,(t[1]+t[3])/2];if(zh(e,r))return!0;for(var n=0;n<e.length;n++)if(ED(e[n],t).length>0)return!0;return!1}function zh(e,t){for(var r=!1,n=0,i=e.length;n<i;n++)for(var a=e[n],o=0,s=a.length,l=s-1;o<s;l=o++)DD(t,a[o],a[l])&&(r=!r);return r}function DD(e,t,r){return t[1]>e[1]!=r[1]>e[1]&&e[0]<(r[0]-t[0])*(e[1]-t[1])/(r[1]-t[1])+t[0]}function Uh(e,t){for(var r={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0,coords:e,props:t},n=0;n<e[0].length;n++){var i=e[0][n];r.minX=Math.min(r.minX,i[0]),r.minY=Math.min(r.minY,i[1]),r.maxX=Math.max(r.maxX,i[0]),r.maxY=Math.max(r.maxY,i[1])}return r}});var Zh=$e(function(EY,vu){vu.exports.RADIUS=6378137;vu.exports.FLATTENING=1/298.257223563;vu.exports.POLAR_RADIUS=63567523142e-4});var $9=$e(function(AY,X9){var Xh=Zh();X9.exports.geometry=$h;X9.exports.ring=Y9;function $h(e){var t=0,r;switch(e.type){case"Polygon":return Jh(e.coordinates);case"MultiPolygon":for(r=0;r<e.coordinates.length;r++)t+=Jh(e.coordinates[r]);return t;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(r=0;r<e.geometries.length;r++)t+=$h(e.geometries[r]);return t}}function Jh(e){var t=0;if(e&&e.length>0){t+=Math.abs(Y9(e[0]));for(var r=1;r<e.length;r++)t-=Math.abs(Y9(e[r]))}return t}function Y9(e){var t,r,n,i,a,o,s,l=0,u=e.length;if(u>2){for(s=0;s<u;s++)s===u-2?(i=u-2,a=u-1,o=0):s===u-1?(i=u-1,a=0,o=1):(i=s,a=s+1,o=s+2),t=e[i],r=e[a],n=e[o],l+=(Z9(n[0])-Z9(t[0]))*Math.sin(Z9(r[1]));l=l*Xh.RADIUS*Xh.RADIUS/2}return l}function Z9(e){return e*Math.PI/180}});var tg=$e(function(eg){pt();An();eg.validateCenter=function(t){var r=[2,3];if(!Array.isArray(t)||!r.includes(t.length))throw new Error("ERROR! Center has to be an array of length two or three");var n=xt(t,2),i=n[0],a=n[1];if(typeof i!="number"||typeof a!="number")throw new Error("ERROR! Longitude and Latitude has to be numbers but where ".concat(Se(i)," and ").concat(Se(a)));if(i>180||i<-180)throw new Error("ERROR! Longitude has to be between -180 and 180 but was ".concat(i));if(a>90||a<-90)throw new Error("ERROR! Latitude has to be between -90 and 90 but was ".concat(a))}});var ng=$e(function(rg){pt();rg.validateRadius=function(t){if(typeof t!="number")throw new Error("ERROR! Radius has to be a positive number but was: ".concat(Se(t)));if(t<=0)throw new Error("ERROR! Radius has to be a positive number but was: ".concat(t))}});var ag=$e(function(ig){pt();ig.validateNumberOfEdges=function(t){if(typeof t!="number"){var r=Array.isArray(t)?"array":Se(t);throw new Error("ERROR! Number of edges has to be a number but was: ".concat(r))}if(t<3)throw new Error("ERROR! Number of edges has to be at least 3 but was: ".concat(t))}});var sg=$e(function(og){pt();og.validateEarthRadius=function(t){if(typeof t!="number"){var r=Array.isArray(t)?"array":Se(t);throw new Error("ERROR! Earth radius has to be a number but was: ".concat(r))}if(t<=0)throw new Error("ERROR! Earth radius has to be a positive number but was: ".concat(t))}});var ug=$e(function(lg){pt();lg.validateBearing=function(t){if(typeof t!="number"){var r=Array.isArray(t)?"array":Se(t);throw new Error("ERROR! Bearing has to be a number but was: ".concat(r))}}});var hg=$e(function(e1){var cg=tg().validateCenter,fg=ng().validateRadius,dg=ag().validateNumberOfEdges,pg=sg().validateEarthRadius,mg=ug().validateBearing;function zD(e){var t=e.center,r=e.radius,n=e.numberOfEdges,i=e.earthRadius,a=e.bearing;cg(t),fg(r),dg(n),pg(i),mg(a)}e1.validateCenter=cg;e1.validateRadius=fg;e1.validateNumberOfEdges=dg;e1.validateEarthRadius=pg;e1.validateBearing=mg;e1.validateInput=zD});var yg=$e(function(jY,vg){pt();"use strict";var UD=hg(),qD=UD.validateInput,J9=6378137;function ec(e){return e*Math.PI/180}function gg(e){return e*180/Math.PI}function QD(e,t,r,n){var i=ec(e[1]),a=ec(e[0]),o=t/r,s=Math.asin(Math.sin(i)*Math.cos(o)+Math.cos(i)*Math.sin(o)*Math.cos(n)),l=a+Math.atan2(Math.sin(n)*Math.sin(o)*Math.cos(i),Math.cos(o)-Math.sin(i)*Math.sin(s));return[gg(l),gg(s)]}vg.exports=function(t,r,n){var i=GD(n),a=HD(n),o=VD(n),s=WD(n);qD({center:t,radius:r,numberOfEdges:i,earthRadius:a,bearing:o});for(var l=ec(o),u=[],c=0;c<i;++c)u.push(QD(t,r,a,l+s*2*Math.PI*-c/i));return u.push(u[0]),{type:"Polygon",coordinates:[u]}};function GD(e){if(tc(e))return 32;if(yu(e)){var t=e.numberOfEdges;return t===void 0?32:t}return e}function HD(e){if(tc(e))return J9;if(yu(e)){var t=e.earthRadius;return t===void 0?J9:t}return J9}function WD(e){return yu(e)&&e.rightHandRule?-1:1}function VD(e){if(tc(e))return 0;if(yu(e)){var t=e.bearing;return t===void 0?0:t}return 0}function yu(e){return e!==null&&Se(e)==="object"&&!Array.isArray(e)}function tc(e){return e==null}});var ic=$e(function(rc,nc){pt();(function(e,t){(typeof rc=="undefined"?"undefined":Se(rc))==="object"&&typeof nc!="undefined"?nc.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis!="undefined"?globalThis:e||self,e.polygonClipping=t())})(void 0,function(){"use strict";function e($,W){if(!($ instanceof W))throw new TypeError("Cannot call a class as a function")}function t($,W){for(var Q=0;Q<W.length;Q++){var H=W[Q];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty($,H.key,H)}}function r($,W,Q){return W&&t($.prototype,W),Q&&t($,Q),$}var n=function(){function $(W,Q){this.next=null,this.key=W,this.data=Q,this.left=null,this.right=null}return $}();function i($,W){return $>W?1:$<W?-1:0}function a($,W,Q){for(var H=new n(null,null),K=H,Z=H;;){var te=Q($,W.key);if(te<0){if(W.left===null)break;if(Q($,W.left.key)<0){var fe=W.left;if(W.left=fe.right,fe.right=W,W=fe,W.left===null)break}Z.left=W,Z=W,W=W.left}else if(te>0){if(W.right===null)break;if(Q($,W.right.key)>0){var fe=W.right;if(W.right=fe.left,fe.left=W,W=fe,W.right===null)break}K.right=W,K=W,W=W.right}else break}return K.right=W.left,Z.left=W.right,W.left=H.right,W.right=H.left,W}function o($,W,Q,H){var K=new n($,W);if(Q===null)return K.left=K.right=null,K;Q=a($,Q,H);var Z=H($,Q.key);return Z<0?(K.left=Q.left,K.right=Q,Q.left=null):Z>=0&&(K.right=Q.right,K.left=Q,Q.right=null),K}function s($,W,Q){var H=null,K=null;if(W){W=a($,W,Q);var Z=Q(W.key,$);Z===0?(H=W.left,K=W.right):Z<0?(K=W.right,W.right=null,H=W):(H=W.left,W.left=null,K=W)}return{left:H,right:K}}function l($,W,Q){return W===null?$:($===null||(W=a($.key,W,Q),W.left=$),W)}function u($,W,Q,H,K){if($){H(""+W+(Q?"\u2514\u2500\u2500 ":"\u251C\u2500\u2500 ")+K($)+"\n");var Z=W+(Q?"    ":"\u2502   ");$.left&&u($.left,Z,!1,H,K),$.right&&u($.right,Z,!0,H,K)}}var c=function(){function $(W){W===void 0&&(W=i),this._root=null,this._size=0,this._comparator=W}return $.prototype.insert=function(W,Q){return this._size++,this._root=o(W,Q,this._root,this._comparator)},$.prototype.add=function(W,Q){var H=new n(W,Q);this._root===null&&(H.left=H.right=null,this._size++,this._root=H);var K=this._comparator,Z=a(W,this._root,K),te=K(W,Z.key);return te===0?this._root=Z:(te<0?(H.left=Z.left,H.right=Z,Z.left=null):te>0&&(H.right=Z.right,H.left=Z,Z.right=null),this._size++,this._root=H),this._root},$.prototype.remove=function(W){this._root=this._remove(W,this._root,this._comparator)},$.prototype._remove=function(W,Q,H){var K;if(Q===null)return null;Q=a(W,Q,H);var Z=H(W,Q.key);return Z===0?(Q.left===null?K=Q.right:(K=a(W,Q.left,H),K.right=Q.right),this._size--,K):Q},$.prototype.pop=function(){var W=this._root;if(W){for(;W.left;)W=W.left;return this._root=a(W.key,this._root,this._comparator),this._root=this._remove(W.key,this._root,this._comparator),{key:W.key,data:W.data}}return null},$.prototype.findStatic=function(W){for(var Q=this._root,H=this._comparator;Q;){var K=H(W,Q.key);if(K===0)return Q;K<0?Q=Q.left:Q=Q.right}return null},$.prototype.find=function(W){return this._root&&(this._root=a(W,this._root,this._comparator),this._comparator(W,this._root.key)!==0)?null:this._root},$.prototype.contains=function(W){for(var Q=this._root,H=this._comparator;Q;){var K=H(W,Q.key);if(K===0)return!0;K<0?Q=Q.left:Q=Q.right}return!1},$.prototype.forEach=function(W,Q){for(var H=this._root,K=[],Z=!1;!Z;)H!==null?(K.push(H),H=H.left):K.length!==0?(H=K.pop(),W.call(Q,H),H=H.right):Z=!0;return this},$.prototype.range=function(W,Q,H,K){for(var Z=[],te=this._comparator,fe=this._root,de;Z.length!==0||fe;)if(fe)Z.push(fe),fe=fe.left;else{if(fe=Z.pop(),de=te(fe.key,Q),de>0)break;if(te(fe.key,W)>=0&&H.call(K,fe))return this;fe=fe.right}return this},$.prototype.keys=function(){var W=[];return this.forEach(function(Q){var H=Q.key;return W.push(H)}),W},$.prototype.values=function(){var W=[];return this.forEach(function(Q){var H=Q.data;return W.push(H)}),W},$.prototype.min=function(){return this._root?this.minNode(this._root).key:null},$.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},$.prototype.minNode=function(W){if(W===void 0&&(W=this._root),W)for(;W.left;)W=W.left;return W},$.prototype.maxNode=function(W){if(W===void 0&&(W=this._root),W)for(;W.right;)W=W.right;return W},$.prototype.at=function(W){for(var Q=this._root,H=!1,K=0,Z=[];!H;)if(Q)Z.push(Q),Q=Q.left;else if(Z.length>0){if(Q=Z.pop(),K===W)return Q;K++,Q=Q.right}else H=!0;return null},$.prototype.next=function(W){var Q=this._root,H=null;if(W.right){for(H=W.right;H.left;)H=H.left;return H}for(var K=this._comparator;Q;){var Z=K(W.key,Q.key);if(Z===0)break;Z<0?(H=Q,Q=Q.left):Q=Q.right}return H},$.prototype.prev=function(W){var Q=this._root,H=null;if(W.left!==null){for(H=W.left;H.right;)H=H.right;return H}for(var K=this._comparator;Q;){var Z=K(W.key,Q.key);if(Z===0)break;Z<0?Q=Q.left:(H=Q,Q=Q.right)}return H},$.prototype.clear=function(){return this._root=null,this._size=0,this},$.prototype.toList=function(){return m(this._root)},$.prototype.load=function(W,Q,H){Q===void 0&&(Q=[]),H===void 0&&(H=!1);var K=W.length,Z=this._comparator;if(H&&h(W,Q,0,K-1,Z),this._root===null)this._root=d(W,Q,0,K),this._size=K;else{var te=b(this.toList(),p(W,Q),Z);K=this._size+K,this._root=w({head:te},0,K)}return this},$.prototype.isEmpty=function(){return this._root===null},Object.defineProperty($.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty($.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),$.prototype.toString=function(W){W===void 0&&(W=function(K){return String(K.key)});var Q=[];return u(this._root,"",!0,function(H){return Q.push(H)},W),Q.join("")},$.prototype.update=function(W,Q,H){var K=this._comparator,Z=s(W,this._root,K),te=Z.left,fe=Z.right;K(W,Q)<0?fe=o(Q,H,fe,K):te=o(Q,H,te,K),this._root=l(te,fe,K)},$.prototype.split=function(W){return s(W,this._root,this._comparator)},$}();function d($,W,Q,H){var K=H-Q;if(K>0){var Z=Q+Math.floor(K/2),te=$[Z],fe=W[Z],de=new n(te,fe);return de.left=d($,W,Q,Z),de.right=d($,W,Z+1,H),de}return null}function p($,W){for(var Q=new n(null,null),H=Q,K=0;K<$.length;K++)H=H.next=new n($[K],W[K]);return H.next=null,Q.next}function m($){for(var W=$,Q=[],H=!1,K=new n(null,null),Z=K;!H;)W?(Q.push(W),W=W.left):Q.length>0?(W=Z=Z.next=Q.pop(),W=W.right):H=!0;return Z.next=null,K.next}function w($,W,Q){var H=Q-W;if(H>0){var K=W+Math.floor(H/2),Z=w($,W,K),te=$.head;return te.left=Z,$.head=$.head.next,te.right=w($,K+1,Q),te}return null}function b($,W,Q){for(var H=new n(null,null),K=H,Z=$,te=W;Z!==null&&te!==null;)Q(Z.key,te.key)<0?(K.next=Z,Z=Z.next):(K.next=te,te=te.next),K=K.next;return Z!==null?K.next=Z:te!==null&&(K.next=te),H.next}function h($,W,Q,H,K){if(!(Q>=H)){for(var Z=$[Q+H>>1],te=Q-1,fe=H+1;;){do te++;while(K($[te],Z)<0);do fe--;while(K($[fe],Z)>0);if(te>=fe)break;var de=$[te];$[te]=$[fe],$[fe]=de,de=W[te],W[te]=W[fe],W[fe]=de}h($,W,Q,fe,K),h($,W,fe+1,H,K)}}var g=function(W,Q){return W.ll.x<=Q.x&&Q.x<=W.ur.x&&W.ll.y<=Q.y&&Q.y<=W.ur.y},v=function(W,Q){if(Q.ur.x<W.ll.x||W.ur.x<Q.ll.x||Q.ur.y<W.ll.y||W.ur.y<Q.ll.y)return null;var H=W.ll.x<Q.ll.x?Q.ll.x:W.ll.x,K=W.ur.x<Q.ur.x?W.ur.x:Q.ur.x,Z=W.ll.y<Q.ll.y?Q.ll.y:W.ll.y,te=W.ur.y<Q.ur.y?W.ur.y:Q.ur.y;return{ll:{x:H,y:Z},ur:{x:K,y:te}}},x=Number.EPSILON;x===void 0&&(x=Math.pow(2,-52));var _=x*x,y=function(W,Q){if(-x<W&&W<x&&-x<Q&&Q<x)return 0;var H=W-Q;return H*H<_*W*Q?0:W<Q?-1:1},E=function(){function $(){e(this,$),this.reset()}return r($,[{key:"reset",value:function(){this.xRounder=new k,this.yRounder=new k}},{key:"round",value:function(Q,H){return{x:this.xRounder.round(Q),y:this.yRounder.round(H)}}}]),$}(),k=function(){function $(){e(this,$),this.tree=new c,this.round(0)}return r($,[{key:"round",value:function(Q){var H=this.tree.add(Q),K=this.tree.prev(H);if(K!==null&&y(H.key,K.key)===0)return this.tree.remove(Q),K.key;var Z=this.tree.next(H);return Z!==null&&y(H.key,Z.key)===0?(this.tree.remove(Q),Z.key):Q}}]),$}(),A=new E,C=function(W,Q){return W.x*Q.y-W.y*Q.x},D=function(W,Q){return W.x*Q.x+W.y*Q.y},S=function(W,Q,H){var K={x:Q.x-W.x,y:Q.y-W.y},Z={x:H.x-W.x,y:H.y-W.y},te=C(K,Z);return y(te,0)},N=function(W){return Math.sqrt(D(W,W))},R=function(W,Q,H){var K={x:Q.x-W.x,y:Q.y-W.y},Z={x:H.x-W.x,y:H.y-W.y};return C(Z,K)/N(Z)/N(K)},P=function(W,Q,H){var K={x:Q.x-W.x,y:Q.y-W.y},Z={x:H.x-W.x,y:H.y-W.y};return D(Z,K)/N(Z)/N(K)},L=function(W,Q,H){return Q.y===0?null:{x:W.x+Q.x/Q.y*(H-W.y),y:H}},B=function(W,Q,H){return Q.x===0?null:{x:H,y:W.y+Q.y/Q.x*(H-W.x)}},O=function(W,Q,H,K){if(Q.x===0)return B(H,K,W.x);if(K.x===0)return B(W,Q,H.x);if(Q.y===0)return L(H,K,W.y);if(K.y===0)return L(W,Q,H.y);var Z=C(Q,K);if(Z==0)return null;var te={x:H.x-W.x,y:H.y-W.y},fe=C(te,Q)/Z,de=C(te,K)/Z,xe=W.x+de*Q.x,Oe=H.x+fe*K.x,Be=W.y+de*Q.y,Ge=H.y+fe*K.y,nt=(xe+Oe)/2,Ye=(Be+Ge)/2;return{x:nt,y:Ye}},U=function(){r($,null,[{key:"compare",value:function(Q,H){var K=$.comparePoints(Q.point,H.point);return K!==0?K:(Q.point!==H.point&&Q.link(H),Q.isLeft!==H.isLeft?Q.isLeft?1:-1:M.compare(Q.segment,H.segment))}},{key:"comparePoints",value:function(Q,H){return Q.x<H.x?-1:Q.x>H.x?1:Q.y<H.y?-1:Q.y>H.y?1:0}}]);function $(W,Q){e(this,$),W.events===void 0?W.events=[this]:W.events.push(this),this.point=W,this.isLeft=Q}return r($,[{key:"link",value:function(Q){if(Q.point===this.point)throw new Error("Tried to link already linked events");for(var H=Q.point.events,K=0,Z=H.length;K<Z;K++){var te=H[K];this.point.events.push(te),te.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var Q=this.point.events.length,H=0;H<Q;H++){var K=this.point.events[H];if(K.segment.consumedBy===void 0)for(var Z=H+1;Z<Q;Z++){var te=this.point.events[Z];te.consumedBy===void 0&&K.otherSE.point.events===te.otherSE.point.events&&K.segment.consume(te.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var Q=[],H=0,K=this.point.events.length;H<K;H++){var Z=this.point.events[H];Z!==this&&!Z.segment.ringOut&&Z.segment.isInResult()&&Q.push(Z)}return Q}},{key:"getLeftmostComparator",value:function(Q){var H=this,K=new Map,Z=function(fe){var de=fe.otherSE;K.set(fe,{sine:R(H.point,Q.point,de.point),cosine:P(H.point,Q.point,de.point)})};return function(te,fe){K.has(te)||Z(te),K.has(fe)||Z(fe);var de=K.get(te),xe=de.sine,Oe=de.cosine,Be=K.get(fe),Ge=Be.sine,nt=Be.cosine;return xe>=0&&Ge>=0?Oe<nt?1:Oe>nt?-1:0:xe<0&&Ge<0?Oe<nt?-1:Oe>nt?1:0:Ge<xe?-1:Ge>xe?1:0}}}]),$}(),T=0,M=function(){r($,null,[{key:"compare",value:function(Q,H){var K=Q.leftSE.point.x,Z=H.leftSE.point.x,te=Q.rightSE.point.x,fe=H.rightSE.point.x;if(fe<K)return 1;if(te<Z)return-1;var de=Q.leftSE.point.y,xe=H.leftSE.point.y,Oe=Q.rightSE.point.y,Be=H.rightSE.point.y;if(K<Z){if(xe<de&&xe<Oe)return 1;if(xe>de&&xe>Oe)return-1;var Ge=Q.comparePoint(H.leftSE.point);if(Ge<0)return 1;if(Ge>0)return-1;var nt=H.comparePoint(Q.rightSE.point);return nt!==0?nt:-1}if(K>Z){if(de<xe&&de<Be)return-1;if(de>xe&&de>Be)return 1;var Ye=H.comparePoint(Q.leftSE.point);if(Ye!==0)return Ye;var We=Q.comparePoint(H.rightSE.point);return We<0?1:We>0?-1:1}if(de<xe)return-1;if(de>xe)return 1;if(te<fe){var Ke=H.comparePoint(Q.rightSE.point);if(Ke!==0)return Ke}if(te>fe){var ft=Q.comparePoint(H.rightSE.point);if(ft<0)return 1;if(ft>0)return-1}if(te!==fe){var wt=Oe-de,yt=te-K,Tt=Be-xe,sr=fe-Z;if(wt>yt&&Tt<sr)return 1;if(wt<yt&&Tt>sr)return-1}return te>fe?1:te<fe||Oe<Be?-1:Oe>Be?1:Q.id<H.id?-1:Q.id>H.id?1:0}}]);function $(W,Q,H,K){e(this,$),this.id=++T,this.leftSE=W,W.segment=this,W.otherSE=Q,this.rightSE=Q,Q.segment=this,Q.otherSE=W,this.rings=H,this.windings=K}return r($,[{key:"replaceRightSE",value:function(Q){this.rightSE=Q,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var Q=this.leftSE.point.y,H=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:Q<H?Q:H},ur:{x:this.rightSE.point.x,y:Q>H?Q:H}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(Q){return Q.x===this.leftSE.point.x&&Q.y===this.leftSE.point.y||Q.x===this.rightSE.point.x&&Q.y===this.rightSE.point.y}},{key:"comparePoint",value:function(Q){if(this.isAnEndpoint(Q))return 0;var H=this.leftSE.point,K=this.rightSE.point,Z=this.vector();if(H.x===K.x)return Q.x===H.x?0:Q.x<H.x?1:-1;var te=(Q.y-H.y)/Z.y,fe=H.x+te*Z.x;if(Q.x===fe)return 0;var de=(Q.x-H.x)/Z.x,xe=H.y+de*Z.y;return Q.y===xe?0:Q.y<xe?-1:1}},{key:"getIntersection",value:function(Q){var H=this.bbox(),K=Q.bbox(),Z=v(H,K);if(Z===null)return null;var te=this.leftSE.point,fe=this.rightSE.point,de=Q.leftSE.point,xe=Q.rightSE.point,Oe=g(H,de)&&this.comparePoint(de)===0,Be=g(K,te)&&Q.comparePoint(te)===0,Ge=g(H,xe)&&this.comparePoint(xe)===0,nt=g(K,fe)&&Q.comparePoint(fe)===0;if(Be&&Oe)return nt&&!Ge?fe:!nt&&Ge?xe:null;if(Be)return Ge&&te.x===xe.x&&te.y===xe.y?null:te;if(Oe)return nt&&fe.x===de.x&&fe.y===de.y?null:de;if(nt&&Ge)return null;if(nt)return fe;if(Ge)return xe;var Ye=O(te,this.vector(),de,Q.vector());return Ye===null||!g(Z,Ye)?null:A.round(Ye.x,Ye.y)}},{key:"split",value:function(Q){var H=[],K=Q.events!==void 0,Z=new U(Q,!0),te=new U(Q,!1),fe=this.rightSE;this.replaceRightSE(te),H.push(te),H.push(Z);var de=new $(Z,fe,this.rings.slice(),this.windings.slice());return U.comparePoints(de.leftSE.point,de.rightSE.point)>0&&de.swapEvents(),U.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),K&&(Z.checkForConsuming(),te.checkForConsuming()),H}},{key:"swapEvents",value:function(){var Q=this.rightSE;this.rightSE=this.leftSE,this.leftSE=Q,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var H=0,K=this.windings.length;H<K;H++)this.windings[H]*=-1}},{key:"consume",value:function(Q){for(var H=this,K=Q;H.consumedBy;)H=H.consumedBy;for(;K.consumedBy;)K=K.consumedBy;var Z=$.compare(H,K);if(Z!==0){if(Z>0){var te=H;H=K,K=te}if(H.prev===K){var fe=H;H=K,K=fe}for(var de=0,xe=K.rings.length;de<xe;de++){var Oe=K.rings[de],Be=K.windings[de],Ge=H.rings.indexOf(Oe);Ge===-1?(H.rings.push(Oe),H.windings.push(Be)):H.windings[Ge]+=Be}K.rings=null,K.windings=null,K.consumedBy=H,K.leftSE.consumedBy=H.leftSE,K.rightSE.consumedBy=H.rightSE}}},{key:"prevInResult",value:function(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}},{key:"beforeState",value:function(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{var Q=this.prev.consumedBy||this.prev;this._beforeState=Q.afterState()}return this._beforeState}},{key:"afterState",value:function(){if(this._afterState!==void 0)return this._afterState;var Q=this.beforeState();this._afterState={rings:Q.rings.slice(0),windings:Q.windings.slice(0),multiPolys:[]};for(var H=this._afterState.rings,K=this._afterState.windings,Z=this._afterState.multiPolys,te=0,fe=this.rings.length;te<fe;te++){var de=this.rings[te],xe=this.windings[te],Oe=H.indexOf(de);Oe===-1?(H.push(de),K.push(xe)):K[Oe]+=xe}for(var Be=[],Ge=[],nt=0,Ye=H.length;nt<Ye;nt++)if(K[nt]!==0){var We=H[nt],Ke=We.poly;if(Ge.indexOf(Ke)===-1)if(We.isExterior)Be.push(Ke);else{Ge.indexOf(Ke)===-1&&Ge.push(Ke);var ft=Be.indexOf(We.poly);ft!==-1&&Be.splice(ft,1)}}for(var wt=0,yt=Be.length;wt<yt;wt++){var Tt=Be[wt].multiPoly;Z.indexOf(Tt)===-1&&Z.push(Tt)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;var Q=this.beforeState().multiPolys,H=this.afterState().multiPolys;switch(re.type){case"union":{var K=Q.length===0,Z=H.length===0;this._isInResult=K!==Z;break}case"intersection":{var te,fe;Q.length<H.length?(te=Q.length,fe=H.length):(te=H.length,fe=Q.length),this._isInResult=fe===re.numMultiPolys&&te<fe;break}case"xor":{var de=Math.abs(Q.length-H.length);this._isInResult=de%2==1;break}case"difference":{var xe=function(Be){return Be.length===1&&Be[0].isSubject};this._isInResult=xe(Q)!==xe(H);break}default:throw new Error("Unrecognized operation type found ".concat(re.type))}return this._isInResult}}],[{key:"fromRing",value:function(Q,H,K){var Z,te,fe,de=U.comparePoints(Q,H);if(de<0)Z=Q,te=H,fe=1;else if(de>0)Z=H,te=Q,fe=-1;else throw new Error("Tried to create degenerate segment at [".concat(Q.x,", ").concat(Q.y,"]"));var xe=new U(Z,!0),Oe=new U(te,!1);return new $(xe,Oe,[K],[fe])}}]),$}(),I=function(){function $(W,Q,H){if(e(this,$),!Array.isArray(W)||W.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=Q,this.isExterior=H,this.segments=[],typeof W[0][0]!="number"||typeof W[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var K=A.round(W[0][0],W[0][1]);this.bbox={ll:{x:K.x,y:K.y},ur:{x:K.x,y:K.y}};for(var Z=K,te=1,fe=W.length;te<fe;te++){if(typeof W[te][0]!="number"||typeof W[te][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var de=A.round(W[te][0],W[te][1]);de.x===Z.x&&de.y===Z.y||(this.segments.push(M.fromRing(Z,de,this)),de.x<this.bbox.ll.x&&(this.bbox.ll.x=de.x),de.y<this.bbox.ll.y&&(this.bbox.ll.y=de.y),de.x>this.bbox.ur.x&&(this.bbox.ur.x=de.x),de.y>this.bbox.ur.y&&(this.bbox.ur.y=de.y),Z=de)}(K.x!==Z.x||K.y!==Z.y)&&this.segments.push(M.fromRing(Z,K,this))}return r($,[{key:"getSweepEvents",value:function(){for(var Q=[],H=0,K=this.segments.length;H<K;H++){var Z=this.segments[H];Q.push(Z.leftSE),Q.push(Z.rightSE)}return Q}}]),$}(),z=function(){function $(W,Q){if(e(this,$),!Array.isArray(W))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new I(W[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var H=1,K=W.length;H<K;H++){var Z=new I(W[H],this,!1);Z.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=Z.bbox.ll.x),Z.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=Z.bbox.ll.y),Z.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=Z.bbox.ur.x),Z.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=Z.bbox.ur.y),this.interiorRings.push(Z)}this.multiPoly=Q}return r($,[{key:"getSweepEvents",value:function(){for(var Q=this.exteriorRing.getSweepEvents(),H=0,K=this.interiorRings.length;H<K;H++)for(var Z=this.interiorRings[H].getSweepEvents(),te=0,fe=Z.length;te<fe;te++)Q.push(Z[te]);return Q}}]),$}(),q=function(){function $(W,Q){if(e(this,$),!Array.isArray(W))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof W[0][0][0]=="number"&&(W=[W])}catch(te){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var H=0,K=W.length;H<K;H++){var Z=new z(W[H],this);Z.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=Z.bbox.ll.x),Z.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=Z.bbox.ll.y),Z.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=Z.bbox.ur.x),Z.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=Z.bbox.ur.y),this.polys.push(Z)}this.isSubject=Q}return r($,[{key:"getSweepEvents",value:function(){for(var Q=[],H=0,K=this.polys.length;H<K;H++)for(var Z=this.polys[H].getSweepEvents(),te=0,fe=Z.length;te<fe;te++)Q.push(Z[te]);return Q}}]),$}(),V=function(){r($,null,[{key:"factory",value:function(Q){for(var H=[],K=0,Z=Q.length;K<Z;K++){var te=Q[K];if(!(!te.isInResult()||te.ringOut)){for(var fe=null,de=te.leftSE,xe=te.rightSE,Oe=[de],Be=de.point,Ge=[];fe=de,de=xe,Oe.push(de),de.point!==Be;)for(;;){var nt=de.getAvailableLinkedEvents();if(nt.length===0){var Ye=Oe[0].point,We=Oe[Oe.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(Ye.x,",")+" ".concat(Ye.y,"]. Last matching segment found ends at")+" [".concat(We.x,", ").concat(We.y,"]."))}if(nt.length===1){xe=nt[0].otherSE;break}for(var Ke=null,ft=0,wt=Ge.length;ft<wt;ft++)if(Ge[ft].point===de.point){Ke=ft;break}if(Ke!==null){var yt=Ge.splice(Ke)[0],Tt=Oe.splice(yt.index);Tt.unshift(Tt[0].otherSE),H.push(new $(Tt.reverse()));continue}Ge.push({index:Oe.length,point:de.point});var sr=de.getLeftmostComparator(fe);xe=nt.sort(sr)[0].otherSE;break}H.push(new $(Oe))}}return H}}]);function $(W){e(this,$),this.events=W;for(var Q=0,H=W.length;Q<H;Q++)W[Q].segment.ringOut=this;this.poly=null}return r($,[{key:"getGeom",value:function(){for(var Q=this.events[0].point,H=[Q],K=1,Z=this.events.length-1;K<Z;K++){var te=this.events[K].point,fe=this.events[K+1].point;S(te,Q,fe)!==0&&(H.push(te),Q=te)}if(H.length===1)return null;var de=H[0],xe=H[1];S(de,Q,xe)===0&&H.shift(),H.push(H[0]);for(var Oe=this.isExteriorRing()?1:-1,Be=this.isExteriorRing()?0:H.length-1,Ge=this.isExteriorRing()?H.length:-1,nt=[],Ye=Be;Ye!=Ge;Ye+=Oe)nt.push([H[Ye].x,H[Ye].y]);return nt}},{key:"isExteriorRing",value:function(){if(this._isExteriorRing===void 0){var Q=this.enclosingRing();this._isExteriorRing=Q?!Q.isExteriorRing():!0}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var Q=this.events[0],H=1,K=this.events.length;H<K;H++){var Z=this.events[H];U.compare(Q,Z)>0&&(Q=Z)}for(var te=Q.segment.prevInResult(),fe=te?te.prevInResult():null;;){if(!te)return null;if(!fe)return te.ringOut;if(fe.ringOut!==te.ringOut)return fe.ringOut.enclosingRing()!==te.ringOut?te.ringOut:te.ringOut.enclosingRing();te=fe.prevInResult(),fe=te?te.prevInResult():null}}}]),$}(),Y=function(){function $(W){e(this,$),this.exteriorRing=W,W.poly=this,this.interiorRings=[]}return r($,[{key:"addInterior",value:function(Q){this.interiorRings.push(Q),Q.poly=this}},{key:"getGeom",value:function(){var Q=[this.exteriorRing.getGeom()];if(Q[0]===null)return null;for(var H=0,K=this.interiorRings.length;H<K;H++){var Z=this.interiorRings[H].getGeom();Z!==null&&Q.push(Z)}return Q}}]),$}(),ee=function(){function $(W){e(this,$),this.rings=W,this.polys=this._composePolys(W)}return r($,[{key:"getGeom",value:function(){for(var Q=[],H=0,K=this.polys.length;H<K;H++){var Z=this.polys[H].getGeom();Z!==null&&Q.push(Z)}return Q}},{key:"_composePolys",value:function(Q){for(var H=[],K=0,Z=Q.length;K<Z;K++){var te=Q[K];if(!te.poly)if(te.isExteriorRing())H.push(new Y(te));else{var fe=te.enclosingRing();fe.poly||H.push(new Y(fe)),fe.poly.addInterior(te)}}return H}}]),$}(),ie=function(){function $(W){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M.compare;e(this,$),this.queue=W,this.tree=new c(Q),this.segments=[]}return r($,[{key:"process",value:function(Q){var H=Q.segment,K=[];if(Q.consumedBy)return Q.isLeft?this.queue.remove(Q.otherSE):this.tree.remove(H),K;var Z=Q.isLeft?this.tree.insert(H):this.tree.find(H);if(!Z)throw new Error("Unable to find segment #".concat(H.id," ")+"[".concat(H.leftSE.point.x,", ").concat(H.leftSE.point.y,"] -> ")+"[".concat(H.rightSE.point.x,", ").concat(H.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var te=Z,fe=Z,de=void 0,xe=void 0;de===void 0;)te=this.tree.prev(te),te===null?de=null:te.key.consumedBy===void 0&&(de=te.key);for(;xe===void 0;)fe=this.tree.next(fe),fe===null?xe=null:fe.key.consumedBy===void 0&&(xe=fe.key);if(Q.isLeft){var Oe=null;if(de){var Be=de.getIntersection(H);if(Be!==null&&(H.isAnEndpoint(Be)||(Oe=Be),!de.isAnEndpoint(Be)))for(var Ge=this._splitSafely(de,Be),nt=0,Ye=Ge.length;nt<Ye;nt++)K.push(Ge[nt])}var We=null;if(xe){var Ke=xe.getIntersection(H);if(Ke!==null&&(H.isAnEndpoint(Ke)||(We=Ke),!xe.isAnEndpoint(Ke)))for(var ft=this._splitSafely(xe,Ke),wt=0,yt=ft.length;wt<yt;wt++)K.push(ft[wt])}if(Oe!==null||We!==null){var Tt=null;if(Oe===null)Tt=We;else if(We===null)Tt=Oe;else{var sr=U.comparePoints(Oe,We);Tt=sr<=0?Oe:We}this.queue.remove(H.rightSE),K.push(H.rightSE);for(var Vt=H.split(Tt),ir=0,Ht=Vt.length;ir<Ht;ir++)K.push(Vt[ir])}K.length>0?(this.tree.remove(H),K.push(Q)):(this.segments.push(H),H.prev=de)}else{if(de&&xe){var Er=de.getIntersection(xe);if(Er!==null){if(!de.isAnEndpoint(Er))for(var Hr=this._splitSafely(de,Er),Kt=0,Ze=Hr.length;Kt<Ze;Kt++)K.push(Hr[Kt]);if(!xe.isAnEndpoint(Er))for(var Wr=this._splitSafely(xe,Er),ye=0,me=Wr.length;ye<me;ye++)K.push(Wr[ye])}}this.tree.remove(H)}return K}},{key:"_splitSafely",value:function(Q,H){this.tree.remove(Q);var K=Q.rightSE;this.queue.remove(K);var Z=Q.split(H);return Z.push(K),Q.consumedBy===void 0&&this.tree.insert(Q),Z}}]),$}(),se=typeof process!="undefined"&&process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,ve=typeof process!="undefined"&&process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,le=function(){function $(){e(this,$)}return r($,[{key:"run",value:function(Q,H,K){re.type=Q,A.reset();for(var Z=[new q(H,!0)],te=0,fe=K.length;te<fe;te++)Z.push(new q(K[te],!1));if(re.numMultiPolys=Z.length,re.type==="difference")for(var de=Z[0],xe=1;xe<Z.length;)v(Z[xe].bbox,de.bbox)!==null?xe++:Z.splice(xe,1);if(re.type==="intersection"){for(var Oe=0,Be=Z.length;Oe<Be;Oe++)for(var Ge=Z[Oe],nt=Oe+1,Ye=Z.length;nt<Ye;nt++)if(v(Ge.bbox,Z[nt].bbox)===null)return[]}for(var We=new c(U.compare),Ke=0,ft=Z.length;Ke<ft;Ke++)for(var wt=Z[Ke].getSweepEvents(),yt=0,Tt=wt.length;yt<Tt;yt++)if(We.insert(wt[yt]),We.size>se)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var sr=new ie(We),Vt=We.size,ir=We.pop();ir;){var Ht=ir.key;if(We.size===Vt){var Er=Ht.segment;throw new Error("Unable to pop() ".concat(Ht.isLeft?"left":"right"," SweepEvent ")+"[".concat(Ht.point.x,", ").concat(Ht.point.y,"] from segment #").concat(Er.id," ")+"[".concat(Er.leftSE.point.x,", ").concat(Er.leftSE.point.y,"] -> ")+"[".concat(Er.rightSE.point.x,", ").concat(Er.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(We.size>se)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(sr.segments.length>ve)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var Hr=sr.process(Ht),Kt=0,Ze=Hr.length;Kt<Ze;Kt++){var Wr=Hr[Kt];Wr.consumedBy===void 0&&We.insert(Wr)}Vt=We.size,ir=We.pop()}A.reset();var ye=V.factory(sr.segments),me=new ee(ye);return me.getGeom()}}]),$}(),re=new le,Ae=function(W){for(var Q=arguments.length,H=new Array(Q>1?Q-1:0),K=1;K<Q;K++)H[K-1]=arguments[K];return re.run("union",W,H)},ae=function(W){for(var Q=arguments.length,H=new Array(Q>1?Q-1:0),K=1;K<Q;K++)H[K-1]=arguments[K];return re.run("intersection",W,H)},he=function(W){for(var Q=arguments.length,H=new Array(Q>1?Q-1:0),K=1;K<Q;K++)H[K-1]=arguments[K];return re.run("xor",W,H)},Ce=function(W){for(var Q=arguments.length,H=new Array(Q>1?Q-1:0),K=1;K<Q;K++)H[K-1]=arguments[K];return re.run("difference",W,H)},Te={union:Ae,intersection:ae,xor:he,difference:Ce};return Te})});var bg=$e(function(UY,ac){(function(){function e(t,r,n){function i(p){return p.map(function(m,w){return w<2?1*m.toFixed(r):1*m.toFixed(n)})}function a(p){return p.map(i)}function o(p){return p.map(a)}function s(p){return p.map(o)}function l(p){if(!p)return{};switch(p.type){case"Point":return p.coordinates=i(p.coordinates),p;case"LineString":case"MultiPoint":return p.coordinates=a(p.coordinates),p;case"Polygon":case"MultiLineString":return p.coordinates=o(p.coordinates),p;case"MultiPolygon":return p.coordinates=s(p.coordinates),p;case"GeometryCollection":return p.geometries=p.geometries.map(l),p;default:return{}}}function u(p){return p.geometry=l(p.geometry),p}function c(p){return p.features=p.features.map(u),p}function d(p){return p.geometries=p.geometries.map(l),p}if(!t)return t;switch(t.type){case"Feature":return u(t);case"GeometryCollection":return d(t);case"FeatureCollection":return c(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiPolygon":case"MultiLineString":return l(t);default:return t}}ac.exports=e,ac.exports.parse=e})()});var _g=$e(function(QY,xg){pt();function bu(e){return Se(e)==="object"&&e!==null}function KD(e,t){Array.isArray(e)?e.forEach(t):bu(e)&&Object.keys(e).forEach(function(r){var n=e[r];t(n,r)})}function wg(e){var t=0;return Array.isArray(e)||bu(e)?(KD(e,function(r){if(Array.isArray(r)||bu(r)){var n=wg(r);n>t&&(t=n)}}),t+1):t}function YD(e,t){t=t||{};var r=JSON.stringify([1],null,gs(t,"indent",2)).slice(2,-3),n=gs(t,"margins",!1),i=gs(t,"arrayMargins",!1),a=gs(t,"objectMargins",!1),o=r===""?1/0:gs(t,"maxLength",80),s=gs(t,"maxNesting",1/0);return function l(u,c,d){u&&typeof u.toJSON=="function"&&(u=u.toJSON());var p=JSON.stringify(u);if(p===void 0)return p;var m=o-c.length-d,w=wg(u);if(w<=s&&p.length<=m){var b=XD(p,{addMargin:n,addArrayMargin:i,addObjectMargin:a});if(b.length<=m)return b}if(bu(u)){var h=c+r,g=[],v,x=function(E,k){return k===E.length-1?0:1};if(Array.isArray(u)){for(var _=0;_<u.length;_++)g.push(l(u[_],h,x(u,_))||"null");v="[]"}else Object.keys(u).forEach(function(y,E,k){var A=JSON.stringify(y)+": ",C=l(u[y],h,A.length+x(k,E));C!==void 0&&g.push(A+C)}),v="{}";if(g.length>0)return[v[0],r+g.join(",\n"+h),v[1]].join("\n"+c)}return p}(e,"",0)}var ZD=/("(?:[^\\"]|\\.)*")|[:,\][}{]/g;function XD(e,t){t=t||{};var r={"{":"{","}":"}","[":"[","]":"]",",":", ",":":": "};return(t.addMargin||t.addObjectMargin)&&(r["{"]="{ ",r["}"]=" }"),(t.addMargin||t.addArrayMargin)&&(r["["]="[ ",r["]"]=" ]"),e.replace(ZD,function(n,i){return i?n:r[n]})}function gs(e,t,r){return t in e?e[t]:r}xg.exports=YD});var bi=$e(function(EJ,Og){pt();"use strict";Og.exports=function e(t,r){if(t===r)return!0;if(t&&r&&Se(t)=="object"&&Se(r)=="object"){if(t.constructor!==r.constructor)return!1;var n,i,a;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!=0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(a=Object.keys(t),n=a.length,n!==Object.keys(r).length)return!1;for(i=n;i--!=0;)if(!Object.prototype.hasOwnProperty.call(r,a[i]))return!1;for(i=n;i--!=0;){var o=a[i];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r}});var Ic=$e(function(Vu,av){An();pt();var f1=Xe($4());function Mc(e,t){var r=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=qS(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(e)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function qS(e,t){if(!!e){if(typeof e=="string")return iv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iv(e,t)}}function iv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}(function(e,t){(typeof Vu=="undefined"?"undefined":Se(Vu))=="object"&&typeof av!="undefined"?t(Vu):typeof define=="function"&&define.amd?define(["exports"],t):t((e=typeof globalThis!="undefined"?globalThis:e||self).toGeoJSON={})})(void 0,function(e){"use strict";var t=f1.default.mark(m),r=f1.default.mark(_),n=f1.default.mark(U);function i(T){return T&&T.normalize&&T.normalize(),T&&T.textContent||""}function a(T,M){var I=T.getElementsByTagName(M);return I.length?I[0]:null}function o(T){var M={};if(T){var I=a(T,"line");if(I){var z=i(a(I,"color")),q=parseFloat(i(a(I,"opacity"))),V=parseFloat(i(a(I,"width")));z&&(M.stroke=z),isNaN(q)||(M["stroke-opacity"]=q),isNaN(V)||(M["stroke-width"]=96*V/25.4)}}return M}function s(T,M){var I={},z,q;for(q=0;q<M.length;q++)z=a(T,M[q]),z&&(I[M[q]]=i(z));return I}function l(T){for(var M=s(T,["name","cmt","desc","type","time","keywords"]),I=T.getElementsByTagNameNS("http://www.garmin.com/xmlschemas/GpxExtensions/v3","*"),z=0;z<I.length;z++){var q=I[z];q.parentNode.parentNode===T&&(M[q.tagName.replace(":","_")]=i(q))}var V=T.getElementsByTagName("link");V.length&&(M.links=[]);for(var Y=0;Y<V.length;Y++)M.links.push(Object.assign({href:V[Y].getAttribute("href")},s(V[Y],["text","type"])));return M}function u(T){var M=[parseFloat(T.getAttribute("lon")),parseFloat(T.getAttribute("lat"))],I=a(T,"ele"),z=a(T,"gpxtpx:hr")||a(T,"hr"),q=a(T,"time"),V;I&&(V=parseFloat(i(I)),isNaN(V)||M.push(V));var Y={coordinates:M,time:q?i(q):null,extendedValues:[]};z&&Y.extendedValues.push(["heart",parseFloat(i(z))]);var ee=a(T,"extensions");if(ee!==null)for(var ie=0,se=["speed","course","hAcc","vAcc"];ie<se.length;ie++){var ve=se[ie],le=parseFloat(i(a(ee,ve)));isNaN(le)||Y.extendedValues.push([ve,le])}return Y}function c(T){var M=d(T,"rtept");if(M)return{type:"Feature",properties:Object.assign(l(T),o(a(T,"extensions")),{_gpxType:"rte"}),geometry:{type:"LineString",coordinates:M.line}}}function d(T,M){var I=T.getElementsByTagName(M);if(!(I.length<2)){for(var z=[],q=[],V={},Y=0;Y<I.length;Y++){var ee=u(I[Y]);z.push(ee.coordinates),ee.time&&q.push(ee.time);for(var ie=0;ie<ee.extendedValues.length;ie++){var se=xt(ee.extendedValues[ie],2),ve=se[0],le=se[1],re=ve==="heart"?ve:ve+"s";V[re]||(V[re]=Array(I.length).fill(null)),V[re][Y]=le}}return{line:z,times:q,extendedValues:V}}}function p(T){for(var M=T.getElementsByTagName("trkseg"),I=[],z=[],q=[],V=0;V<M.length;V++){var Y=d(M[V],"trkpt");Y&&(q.push(Y),Y.times&&Y.times.length&&z.push(Y.times))}if(q.length!==0){for(var ee=q.length>1,ie=Object.assign(l(T),o(a(T,"extensions")),{_gpxType:"trk"},z.length?{coordinateProperties:{times:ee?z:z[0]}}:{}),se=0;se<q.length;se++){var ve=q[se];I.push(ve.line);for(var le=0,re=Object.entries(ve.extendedValues);le<re.length;le++){var Ae=xt(re[le],2),ae=Ae[0],he=Ae[1],Ce=ie;ae==="heart"&&(ie.coordinateProperties||(ie.coordinateProperties={}),Ce=ie.coordinateProperties),ee?(Ce[ae]||(Ce[ae]=q.map(function(Te){return new Array(Te.line.length).fill(null)})),Ce[ae][se]=he):Ce[ae]=he}}return{type:"Feature",properties:ie,geometry:ee?{type:"MultiLineString",coordinates:I}:{type:"LineString",coordinates:I[0]}}}}function m(T){var M,I,z,q,V,Y,ee,ie,se;return f1.default.wrap(function(le){for(;;)switch(le.prev=le.next){case 0:M=T.getElementsByTagName("trk"),I=T.getElementsByTagName("rte"),z=T.getElementsByTagName("wpt"),q=0;case 2:if(!(q<M.length)){le.next=11;break}if(V=p(M[q]),le.t0=V,!le.t0){le.next=8;break}return le.next=8,V;case 8:q++,le.next=2;break;case 11:Y=0;case 12:if(!(Y<I.length)){le.next=21;break}if(ee=c(I[Y]),le.t1=ee,!le.t1){le.next=18;break}return le.next=18,ee;case 18:Y++,le.next=12;break;case 21:ie=0;case 22:if(!(ie<z.length)){le.next=28;break}return le.next=25,se=z[ie],{type:"Feature",properties:Object.assign(l(se),s(se,["sym"])),geometry:{type:"Point",coordinates:u(se).coordinates}};case 25:ie++,le.next=22;break;case 28:case"end":return le.stop()}},t)}var w=[["heartRate","heartRates"],["Cadence","cadences"],["Speed","speeds"],["Watts","watts"]],b=[["TotalTimeSeconds","totalTimeSeconds"],["DistanceMeters","distanceMeters"],["MaximumSpeed","maxSpeed"],["AverageHeartRateBpm","avgHeartRate"],["MaximumHeartRateBpm","maxHeartRate"],["AvgSpeed","avgSpeed"],["AvgWatts","avgWatts"],["MaxWatts","maxWatts"]];function h(T,M){var I=[],z=Mc(M),q;try{for(z.s();!(q=z.n()).done;){var V=xt(q.value,2),Y=V[0],ee=V[1],ie=a(T,Y);if(!ie){var se=T.getElementsByTagNameNS("http://www.garmin.com/xmlschemas/ActivityExtension/v2",Y);se.length&&(ie=se[0])}var ve=parseFloat(i(ie));isNaN(ve)||I.push([ee,ve])}}catch(le){z.e(le)}finally{z.f()}return I}function g(T){var M=i(a(T,"LongitudeDegrees")),I=i(a(T,"LatitudeDegrees"));if(!M.length||!I.length)return null;var z=[parseFloat(M),parseFloat(I)],q=a(T,"AltitudeMeters"),V=a(T,"HeartRateBpm"),Y=a(T,"Time"),ee;return q&&(ee=parseFloat(i(q)),isNaN(ee)||z.push(ee)),{coordinates:z,time:Y?i(Y):null,heartRate:V?parseFloat(i(V)):null,extensions:h(T,w)}}function v(T,M){var I=T.getElementsByTagName(M),z=[],q=[],V=[];if(I.length<2)return null;for(var Y={extendedProperties:{}},ee=0;ee<I.length;ee++){var ie=g(I[ee]);if(ie!==null){z.push(ie.coordinates),ie.time&&q.push(ie.time),ie.heartRate&&V.push(ie.heartRate);var se=Mc(ie.extensions),ve;try{for(se.s();!(ve=se.n()).done;){var le=xt(ve.value,2),re=le[0],Ae=le[1];Y.extendedProperties[re]||(Y.extendedProperties[re]=Array(I.length).fill(null)),Y.extendedProperties[re][ee]=Ae}}catch(ae){se.e(ae)}finally{se.f()}}}return Object.assign(Y,{line:z,times:q,heartRates:V})}function x(T){var M=T.getElementsByTagName("Track"),I=[],z=[],q=[],V=[],Y,ee=function(Ae){var ae={},he=Mc(Ae),Ce;try{for(he.s();!(Ce=he.n()).done;){var Te=xt(Ce.value,2),$=Te[0],W=Te[1];ae[$]=W}}catch(Q){he.e(Q)}finally{he.f()}return ae}(h(T,b)),ie=a(T,"Name");ie&&(ee.name=i(ie));for(var se=0;se<M.length;se++)Y=v(M[se],"Trackpoint"),Y&&(I.push(Y.line),Y.times.length&&z.push(Y.times),Y.heartRates.length&&q.push(Y.heartRates),V.push(Y.extendedProperties));for(var ve=0;ve<V.length;ve++){var le=V[ve];for(var re in le)M.length===1?ee[re]=Y.extendedProperties[re]:(ee[re]||(ee[re]=I.map(function(Ae){return Array(Ae.length).fill(null)})),ee[re][ve]=le[re])}if(I.length!==0)return(z.length||q.length)&&(ee.coordinateProperties=Object.assign(z.length?{times:I.length===1?z[0]:z}:{},q.length?{heart:I.length===1?q[0]:q}:{})),{type:"Feature",properties:ee,geometry:{type:I.length===1?"LineString":"MultiLineString",coordinates:I.length===1?I[0]:I}}}function _(T){var M,I,z,q,V,Y;return f1.default.wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:M=T.getElementsByTagName("Lap"),I=0;case 2:if(!(I<M.length)){ie.next=11;break}if(z=x(M[I]),ie.t0=z,!ie.t0){ie.next=8;break}return ie.next=8,z;case 8:I++,ie.next=2;break;case 11:q=T.getElementsByTagName("Courses"),V=0;case 13:if(!(V<q.length)){ie.next=22;break}if(Y=x(q[V]),ie.t1=Y,!ie.t1){ie.next=19;break}return ie.next=19,Y;case 19:V++,ie.next=13;break;case 22:case"end":return ie.stop()}},r)}var y=/\s*/g,E=/^\s*|\s*$/g,k=/\s+/;function A(T){if(!T||!T.length)return 0;for(var M=0,I=0;I<T.length;I++)M=(M<<5)-M+T.charCodeAt(I)|0;return M}function C(T){return T.replace(y,"").split(",").map(parseFloat)}function D(T){return T.replace(E,"").split(k).map(C)}function S(T){if(T.xml!==void 0)return T.xml;if(T.tagName){for(var M=T.tagName,I=0;I<T.attributes.length;I++)M+=T.attributes[I].name+T.attributes[I].value;for(var z=0;z<T.childNodes.length;z++)M+=S(T.childNodes[z]);return M}return T.nodeName==="#text"?(T.nodeValue||T.value||"").trim():T.nodeName==="#cdata-section"?T.nodeValue:""}var N=["Polygon","LineString","Point","Track","gx:Track"];function R(T,M,I){var z=i(a(M,"color"))||"",q=I=="stroke"||I==="fill"?I:I+"-color";z.substr(0,1)==="#"&&(z=z.substr(1)),z.length===6||z.length===3?T[q]=z:z.length===8&&(T[I+"-opacity"]=parseInt(z.substr(0,2),16)/255,T[q]="#"+z.substr(6,2)+z.substr(4,2)+z.substr(2,2))}function P(T,M,I,z){var q=parseFloat(i(a(M,I)));isNaN(q)||(T[z]=q)}function L(T){var M=T.getElementsByTagName("coord"),I=[],z=[];M.length===0&&(M=T.getElementsByTagName("gx:coord"));for(var q=0;q<M.length;q++)I.push(i(M[q]).split(" ").map(parseFloat));for(var V=T.getElementsByTagName("when"),Y=0;Y<V.length;Y++)z.push(i(V[Y]));return{coords:I,times:z}}function B(T){var M,I,z,q,V,Y=[],ee=[];if(a(T,"MultiGeometry"))return B(a(T,"MultiGeometry"));if(a(T,"MultiTrack"))return B(a(T,"MultiTrack"));if(a(T,"gx:MultiTrack"))return B(a(T,"gx:MultiTrack"));for(z=0;z<N.length;z++)if(I=T.getElementsByTagName(N[z]),I){for(q=0;q<I.length;q++)if(M=I[q],N[z]==="Point")Y.push({type:"Point",coordinates:C(i(a(M,"coordinates")))});else if(N[z]==="LineString")Y.push({type:"LineString",coordinates:D(i(a(M,"coordinates")))});else if(N[z]==="Polygon"){var ie=M.getElementsByTagName("LinearRing"),se=[];for(V=0;V<ie.length;V++)se.push(D(i(a(ie[V],"coordinates"))));Y.push({type:"Polygon",coordinates:se})}else if(N[z]==="Track"||N[z]==="gx:Track"){var ve=L(M);Y.push({type:"LineString",coordinates:ve.coords}),ve.times.length&&ee.push(ve.times)}}return{geoms:Y,coordTimes:ee}}function O(T,M,I,z){var q=B(T),V,Y={},ee=i(a(T,"name")),ie=i(a(T,"address")),se=i(a(T,"styleUrl")),ve=i(a(T,"description")),le=a(T,"TimeSpan"),re=a(T,"TimeStamp"),Ae=a(T,"ExtendedData"),ae=a(T,"IconStyle"),he=a(T,"LabelStyle"),Ce=a(T,"LineStyle"),Te=a(T,"PolyStyle"),$=a(T,"visibility");if(ee&&(Y.name=ee),ie&&(Y.address=ie),se){se[0]!=="#"&&(se="#"+se),Y.styleUrl=se,M[se]&&(Y.styleHash=M[se]),I[se]&&(Y.styleMapHash=I[se],Y.styleHash=M[I[se].normal]);var W=z[Y.styleHash];W&&(ae||(ae=a(W,"IconStyle")),he||(he=a(W,"LabelStyle")),Ce||(Ce=a(W,"LineStyle")),Te||(Te=a(W,"PolyStyle")))}if(ve&&(Y.description=ve),le){var Q=i(a(le,"begin")),H=i(a(le,"end"));Y.timespan={begin:Q,end:H}}if(re&&(Y.timestamp=i(a(re,"when"))),ae){R(Y,ae,"icon"),P(Y,ae,"scale","icon-scale"),P(Y,ae,"heading","icon-heading");var K=a(ae,"hotSpot");if(K){var Z=parseFloat(K.getAttribute("x")),te=parseFloat(K.getAttribute("y"));isNaN(Z)||isNaN(te)||(Y["icon-offset"]=[Z,te])}var fe=a(ae,"Icon");if(fe){var de=i(a(fe,"href"));de&&(Y.icon=de)}}if(he&&(R(Y,he,"label"),P(Y,he,"scale","label-scale")),Ce&&(R(Y,Ce,"stroke"),P(Y,Ce,"width","stroke-width")),Te){R(Y,Te,"fill");var xe=i(a(Te,"fill")),Oe=i(a(Te,"outline"));xe&&(Y["fill-opacity"]=xe==="1"?Y["fill-opacity"]||1:0),Oe&&(Y["stroke-opacity"]=Oe==="1"?Y["stroke-opacity"]||1:0)}if(Ae){var Be=Ae.getElementsByTagName("Data"),Ge=Ae.getElementsByTagName("SimpleData");for(V=0;V<Be.length;V++)Y[Be[V].getAttribute("name")]=i(a(Be[V],"value"));for(V=0;V<Ge.length;V++)Y[Ge[V].getAttribute("name")]=i(Ge[V])}$&&(Y.visibility=i($)),q.coordTimes.length&&(Y.coordinateProperties={times:q.coordTimes.length===1?q.coordTimes[0]:q.coordTimes});var nt={type:"Feature",geometry:q.geoms.length===0?null:q.geoms.length===1?q.geoms[0]:{type:"GeometryCollection",geometries:q.geoms},properties:Y};return T.getAttribute("id")&&(nt.id=T.getAttribute("id")),nt}function U(T){var M,I,z,q,V,Y,ee,ie,se,ve,le,re,Ae,ae;return f1.default.wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:for(M={},I={},z={},q=T.getElementsByTagName("Placemark"),V=T.getElementsByTagName("Style"),Y=T.getElementsByTagName("StyleMap"),ee=0;ee<V.length;ee++)ie=A(S(V[ee])).toString(16),M["#"+V[ee].getAttribute("id")]=ie,I[ie]=V[ee];for(se=0;se<Y.length;se++){for(M["#"+Y[se].getAttribute("id")]=A(S(Y[se])).toString(16),ve=Y[se].getElementsByTagName("Pair"),le={},re=0;re<ve.length;re++)le[i(a(ve[re],"key"))]=i(a(ve[re],"styleUrl"));z["#"+Y[se].getAttribute("id")]=le}Ae=0;case 4:if(!(Ae<q.length)){Ce.next=13;break}if(ae=O(q[Ae],M,z,I),Ce.t0=ae,!Ce.t0){Ce.next=10;break}return Ce.next=10,ae;case 10:Ae++,Ce.next=4;break;case 13:case"end":return Ce.stop()}},n)}e.gpx=function(T){return{type:"FeatureCollection",features:Array.from(m(T))}},e.gpxGen=m,e.kml=function(T){return{type:"FeatureCollection",features:Array.from(U(T))}},e.kmlGen=U,e.tcx=function(T){return{type:"FeatureCollection",features:Array.from(_(T))}},e.tcxGen=_,Object.defineProperty(e,"__esModule",{value:!0})})});var ji=$e(function(Nc,Oc){pt();(function(e,t){(typeof Nc=="undefined"?"undefined":Se(Nc))=="object"&&typeof Oc!="undefined"?Oc.exports=t():typeof define=="function"&&define.amd?define(t):(e=e||self).RBush=t()})(void 0,function(){"use strict";function e(h,g,v,x,_){(function y(E,k,A,C,D){for(;C>A;){if(C-A>600){var S=C-A+1,N=k-A+1,R=Math.log(S),P=.5*Math.exp(2*R/3),L=.5*Math.sqrt(R*P*(S-P)/S)*(N-S/2<0?-1:1),B=Math.max(A,Math.floor(k-N*P/S+L)),O=Math.min(C,Math.floor(k+(S-N)*P/S+L));y(E,k,B,O,D)}var U=E[k],T=A,M=C;for(t(E,A,k),D(E[C],U)>0&&t(E,A,C);T<M;){for(t(E,T,M),T++,M--;D(E[T],U)<0;)T++;for(;D(E[M],U)>0;)M--}D(E[A],U)===0?t(E,A,M):t(E,++M,C),M<=k&&(A=M+1),k<=M&&(C=M-1)}})(h,g,v||0,x||h.length-1,_||r)}function t(h,g,v){var x=h[g];h[g]=h[v],h[v]=x}function r(h,g){return h<g?-1:h>g?1:0}var n=function(g){g===void 0&&(g=9),this._maxEntries=Math.max(4,g),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function i(h,g,v){if(!v)return g.indexOf(h);for(var x=0;x<g.length;x++)if(v(h,g[x]))return x;return-1}function a(h,g){o(h,0,h.children.length,g,h)}function o(h,g,v,x,_){_||(_=w(null)),_.minX=1/0,_.minY=1/0,_.maxX=-1/0,_.maxY=-1/0;for(var y=g;y<v;y++){var E=h.children[y];s(_,h.leaf?x(E):E)}return _}function s(h,g){return h.minX=Math.min(h.minX,g.minX),h.minY=Math.min(h.minY,g.minY),h.maxX=Math.max(h.maxX,g.maxX),h.maxY=Math.max(h.maxY,g.maxY),h}function l(h,g){return h.minX-g.minX}function u(h,g){return h.minY-g.minY}function c(h){return(h.maxX-h.minX)*(h.maxY-h.minY)}function d(h){return h.maxX-h.minX+(h.maxY-h.minY)}function p(h,g){return h.minX<=g.minX&&h.minY<=g.minY&&g.maxX<=h.maxX&&g.maxY<=h.maxY}function m(h,g){return g.minX<=h.maxX&&g.minY<=h.maxY&&g.maxX>=h.minX&&g.maxY>=h.minY}function w(h){return{children:h,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function b(h,g,v,x,_){for(var y=[g,v];y.length;)if(!((v=y.pop())-(g=y.pop())<=x)){var E=g+Math.ceil((v-g)/x/2)*x;e(h,E,g,v,_),y.push(g,E,E,v)}}return n.prototype.all=function(){return this._all(this.data,[])},n.prototype.search=function(h){var g=this.data,v=[];if(!m(h,g))return v;for(var x=this.toBBox,_=[];g;){for(var y=0;y<g.children.length;y++){var E=g.children[y],k=g.leaf?x(E):E;m(h,k)&&(g.leaf?v.push(E):p(h,k)?this._all(E,v):_.push(E))}g=_.pop()}return v},n.prototype.collides=function(h){var g=this.data;if(!m(h,g))return!1;for(var v=[];g;){for(var x=0;x<g.children.length;x++){var _=g.children[x],y=g.leaf?this.toBBox(_):_;if(m(h,y)){if(g.leaf||p(h,y))return!0;v.push(_)}}g=v.pop()}return!1},n.prototype.load=function(h){if(!h||!h.length)return this;if(h.length<this._minEntries){for(var g=0;g<h.length;g++)this.insert(h[g]);return this}var v=this._build(h.slice(),0,h.length-1,0);if(this.data.children.length)if(this.data.height===v.height)this._splitRoot(this.data,v);else{if(this.data.height<v.height){var x=this.data;this.data=v,v=x}this._insert(v,this.data.height-v.height-1,!0)}else this.data=v;return this},n.prototype.insert=function(h){return h&&this._insert(h,this.data.height-1),this},n.prototype.clear=function(){return this.data=w([]),this},n.prototype.remove=function(h,g){if(!h)return this;for(var v,x,_,y=this.data,E=this.toBBox(h),k=[],A=[];y||k.length;){if(y||(y=k.pop(),x=k[k.length-1],v=A.pop(),_=!0),y.leaf){var C=i(h,y.children,g);if(C!==-1)return y.children.splice(C,1),k.push(y),this._condense(k),this}_||y.leaf||!p(y,E)?x?(v++,y=x.children[v],_=!1):y=null:(k.push(y),A.push(v),v=0,x=y,y=y.children[0])}return this},n.prototype.toBBox=function(h){return h},n.prototype.compareMinX=function(h,g){return h.minX-g.minX},n.prototype.compareMinY=function(h,g){return h.minY-g.minY},n.prototype.toJSON=function(){return this.data},n.prototype.fromJSON=function(h){return this.data=h,this},n.prototype._all=function(h,g){for(var v=[];h;)h.leaf?g.push.apply(g,h.children):v.push.apply(v,h.children),h=v.pop();return g},n.prototype._build=function(h,g,v,x){var _,y=v-g+1,E=this._maxEntries;if(y<=E)return a(_=w(h.slice(g,v+1)),this.toBBox),_;x||(x=Math.ceil(Math.log(y)/Math.log(E)),E=Math.ceil(y/Math.pow(E,x-1))),(_=w([])).leaf=!1,_.height=x;var k=Math.ceil(y/E),A=k*Math.ceil(Math.sqrt(E));b(h,g,v,A,this.compareMinX);for(var C=g;C<=v;C+=A){var D=Math.min(C+A-1,v);b(h,C,D,k,this.compareMinY);for(var S=C;S<=D;S+=k){var N=Math.min(S+k-1,D);_.children.push(this._build(h,S,N,x-1))}}return a(_,this.toBBox),_},n.prototype._chooseSubtree=function(h,g,v,x){for(;x.push(g),!g.leaf&&x.length-1!==v;){for(var _=1/0,y=1/0,E=void 0,k=0;k<g.children.length;k++){var A=g.children[k],C=c(A),D=(S=h,N=A,(Math.max(N.maxX,S.maxX)-Math.min(N.minX,S.minX))*(Math.max(N.maxY,S.maxY)-Math.min(N.minY,S.minY))-C);D<y?(y=D,_=C<_?C:_,E=A):D===y&&C<_&&(_=C,E=A)}g=E||g.children[0]}var S,N;return g},n.prototype._insert=function(h,g,v){var x=v?h:this.toBBox(h),_=[],y=this._chooseSubtree(x,this.data,g,_);for(y.children.push(h),s(y,x);g>=0&&_[g].children.length>this._maxEntries;)this._split(_,g),g--;this._adjustParentBBoxes(x,_,g)},n.prototype._split=function(h,g){var v=h[g],x=v.children.length,_=this._minEntries;this._chooseSplitAxis(v,_,x);var y=this._chooseSplitIndex(v,_,x),E=w(v.children.splice(y,v.children.length-y));E.height=v.height,E.leaf=v.leaf,a(v,this.toBBox),a(E,this.toBBox),g?h[g-1].children.push(E):this._splitRoot(v,E)},n.prototype._splitRoot=function(h,g){this.data=w([h,g]),this.data.height=h.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},n.prototype._chooseSplitIndex=function(h,g,v){for(var x,_,y,E,k,A,C,D=1/0,S=1/0,N=g;N<=v-g;N++){var R=o(h,0,N,this.toBBox),P=o(h,N,v,this.toBBox),L=(_=R,y=P,E=void 0,k=void 0,A=void 0,C=void 0,E=Math.max(_.minX,y.minX),k=Math.max(_.minY,y.minY),A=Math.min(_.maxX,y.maxX),C=Math.min(_.maxY,y.maxY),Math.max(0,A-E)*Math.max(0,C-k)),B=c(R)+c(P);L<D?(D=L,x=N,S=B<S?B:S):L===D&&B<S&&(S=B,x=N)}return x||v-g},n.prototype._chooseSplitAxis=function(h,g,v){var x=h.leaf?this.compareMinX:l,_=h.leaf?this.compareMinY:u;this._allDistMargin(h,g,v,x)<this._allDistMargin(h,g,v,_)&&h.children.sort(x)},n.prototype._allDistMargin=function(h,g,v,x){h.children.sort(x);for(var _=this.toBBox,y=o(h,0,g,_),E=o(h,v-g,v,_),k=d(y)+d(E),A=g;A<v-g;A++){var C=h.children[A];s(y,h.leaf?_(C):C),k+=d(y)}for(var D=v-g-1;D>=g;D--){var S=h.children[D];s(E,h.leaf?_(S):S),k+=d(E)}return k},n.prototype._adjustParentBBoxes=function(h,g,v){for(var x=v;x>=0;x--)s(g[x],h)},n.prototype._condense=function(h){for(var g=h.length-1,v=void 0;g>=0;g--)h[g].children.length===0?g>0?(v=h[g-1].children).splice(v.indexOf(h[g]),1):this.clear():a(h[g],this.toBBox)},n})});var c8=$e(function(U2e,fv){pt();"use strict";fv.exports=function(e,t){t||(t={}),typeof t=="function"&&(t={cmp:t});var r=typeof t.cycles=="boolean"?t.cycles:!1,n=t.cmp&&function(a){return function(o){return function(s,l){var u={key:s,value:o[s]},c={key:l,value:o[l]};return a(u,c)}}}(t.cmp),i=[];return function a(o){if(o&&o.toJSON&&typeof o.toJSON=="function"&&(o=o.toJSON()),o!==void 0){if(typeof o=="number")return isFinite(o)?""+o:"null";if(Se(o)!=="object")return JSON.stringify(o);var s,l;if(Array.isArray(o)){for(l="[",s=0;s<o.length;s++)s&&(l+=","),l+=a(o[s])||"null";return l+"]"}if(o===null)return"null";if(i.indexOf(o)!==-1){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var u=i.push(o)-1,c=Object.keys(o).sort(n&&n(o));for(l="",s=0;s<c.length;s++){var d=c[s],p=a(o[d]);!p||(l&&(l+=","),l+=JSON.stringify(d)+":"+p)}return i.splice(u,1),"{"+l+"}"}}(e)}});var da=$e(function(E8,A8){pt();(function(e,t){(typeof E8=="undefined"?"undefined":Se(E8))==="object"&&typeof A8!="undefined"?A8.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis!="undefined"?globalThis:e||self,e.marked=t())})(void 0,function(){"use strict";function e(ye,me){for(var ge=0;ge<me.length;ge++){var X=me[ge];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(ye,X.key,X)}}function t(ye,me,ge){return me&&e(ye.prototype,me),ge&&e(ye,ge),ye}function r(ye,me){if(!!ye){if(typeof ye=="string")return n(ye,me);var ge=Object.prototype.toString.call(ye).slice(8,-1);if(ge==="Object"&&ye.constructor&&(ge=ye.constructor.name),ge==="Map"||ge==="Set")return Array.from(ye);if(ge==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ge))return n(ye,me)}}function n(ye,me){(me==null||me>ye.length)&&(me=ye.length);for(var ge=0,X=new Array(me);ge<me;ge++)X[ge]=ye[ge];return X}function i(ye,me){var ge=typeof Symbol!="undefined"&&ye[Symbol.iterator]||ye["@@iterator"];if(ge)return(ge=ge.call(ye)).next.bind(ge);if(Array.isArray(ye)||(ge=r(ye))||me&&ye&&typeof ye.length=="number"){ge&&(ye=ge);var X=0;return function(){return X>=ye.length?{done:!0}:{done:!1,value:ye[X++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a={exports:{}};function o(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function s(ye){a.exports.defaults=ye}a.exports={defaults:o(),getDefaults:o,changeDefaults:s};var l=/[&<>"']/,u=/[&<>"']/g,c=/[<>"']|&(?!#?\w+;)/,d=/[<>"']|&(?!#?\w+;)/g,p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},m=function(me){return p[me]};function w(ye,me){if(me){if(l.test(ye))return ye.replace(u,m)}else if(c.test(ye))return ye.replace(d,m);return ye}var b=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function h(ye){return ye.replace(b,function(me,ge){return ge=ge.toLowerCase(),ge==="colon"?":":ge.charAt(0)==="#"?ge.charAt(1)==="x"?String.fromCharCode(parseInt(ge.substring(2),16)):String.fromCharCode(+ge.substring(1)):""})}var g=/(^|[^\[])\^/g;function v(ye,me){ye=ye.source||ye,me=me||"";var ge={replace:function(J,oe){return oe=oe.source||oe,oe=oe.replace(g,"$1"),ye=ye.replace(J,oe),ge},getRegex:function(){return new RegExp(ye,me)}};return ge}var x=/[^\w:]/g,_=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function y(ye,me,ge){if(ye){var X;try{X=decodeURIComponent(h(ge)).replace(x,"").toLowerCase()}catch(J){return null}if(X.indexOf("javascript:")===0||X.indexOf("vbscript:")===0||X.indexOf("data:")===0)return null}me&&!_.test(ge)&&(ge=D(me,ge));try{ge=encodeURI(ge).replace(/%25/g,"%")}catch(J){return null}return ge}var E={},k=/^[^:]+:\/*[^/]*$/,A=/^([^:]+:)[\s\S]*$/,C=/^([^:]+:\/*[^/]*)[\s\S]*$/;function D(ye,me){E[" "+ye]||(k.test(ye)?E[" "+ye]=ye+"/":E[" "+ye]=P(ye,"/",!0)),ye=E[" "+ye];var ge=ye.indexOf(":")===-1;return me.substring(0,2)==="//"?ge?me:ye.replace(A,"$1")+me:me.charAt(0)==="/"?ge?me:ye.replace(C,"$1")+me:ye+me}var S={exec:function(){}};function N(ye){for(var me=1,ge,X;me<arguments.length;me++){ge=arguments[me];for(X in ge)Object.prototype.hasOwnProperty.call(ge,X)&&(ye[X]=ge[X])}return ye}function R(ye,me){var ge=ye.replace(/\|/g,function(oe,ne,Ee){for(var Fe=!1,ze=ne;--ze>=0&&Ee[ze]==="\\";)Fe=!Fe;return Fe?"|":" |"}),X=ge.split(/ \|/),J=0;if(X[0].trim()||X.shift(),X[X.length-1].trim()||X.pop(),X.length>me)X.splice(me);else for(;X.length<me;)X.push("");for(;J<X.length;J++)X[J]=X[J].trim().replace(/\\\|/g,"|");return X}function P(ye,me,ge){var X=ye.length;if(X===0)return"";for(var J=0;J<X;){var oe=ye.charAt(X-J-1);if(oe===me&&!ge)J++;else if(oe!==me&&ge)J++;else break}return ye.substr(0,X-J)}function L(ye,me){if(ye.indexOf(me[1])===-1)return-1;for(var ge=ye.length,X=0,J=0;J<ge;J++)if(ye[J]==="\\")J++;else if(ye[J]===me[0])X++;else if(ye[J]===me[1]&&(X--,X<0))return J;return-1}function B(ye){ye&&ye.sanitize&&!ye.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function O(ye,me){if(me<1)return"";for(var ge="";me>1;)me&1&&(ge+=ye),me>>=1,ye+=ye;return ge+ye}var U={escape:w,unescape:h,edit:v,cleanUrl:y,resolveUrl:D,noopTest:S,merge:N,splitCells:R,rtrim:P,findClosingBracket:L,checkSanitizeDeprecation:B,repeatString:O},T=a.exports.defaults,M=U.rtrim,I=U.splitCells,z=U.escape,q=U.findClosingBracket;function V(ye,me,ge,X){var J=me.href,oe=me.title?z(me.title):null,ne=ye[1].replace(/\\([\[\]])/g,"$1");if(ye[0].charAt(0)!=="!"){X.state.inLink=!0;var Ee={type:"link",raw:ge,href:J,title:oe,text:ne,tokens:X.inlineTokens(ne,[])};return X.state.inLink=!1,Ee}else return{type:"image",raw:ge,href:J,title:oe,text:z(ne)}}function Y(ye,me){var ge=ye.match(/^(\s+)(?:```)/);if(ge===null)return me;var X=ge[1];return me.split("\n").map(function(J){var oe=J.match(/^\s+/);if(oe===null)return J;var ne=oe[0];return ne.length>=X.length?J.slice(X.length):J}).join("\n")}var ee=function(){function ye(ge){this.options=ge||T}var me=ye.prototype;return me.space=function(X){var J=this.rules.block.newline.exec(X);if(J)return J[0].length>1?{type:"space",raw:J[0]}:{raw:"\n"}},me.code=function(X){var J=this.rules.block.code.exec(X);if(J){var oe=J[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:J[0],codeBlockStyle:"indented",text:this.options.pedantic?oe:M(oe,"\n")}}},me.fences=function(X){var J=this.rules.block.fences.exec(X);if(J){var oe=J[0],ne=Y(oe,J[3]||"");return{type:"code",raw:oe,lang:J[2]?J[2].trim():J[2],text:ne}}},me.heading=function(X){var J=this.rules.block.heading.exec(X);if(J){var oe=J[2].trim();if(/#$/.test(oe)){var ne=M(oe,"#");(this.options.pedantic||!ne||/ $/.test(ne))&&(oe=ne.trim())}var Ee={type:"heading",raw:J[0],depth:J[1].length,text:oe,tokens:[]};return this.lexer.inline(Ee.text,Ee.tokens),Ee}},me.hr=function(X){var J=this.rules.block.hr.exec(X);if(J)return{type:"hr",raw:J[0]}},me.blockquote=function(X){var J=this.rules.block.blockquote.exec(X);if(J){var oe=J[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:J[0],tokens:this.lexer.blockTokens(oe,[]),text:oe}}},me.list=function(X){var J=this.rules.block.list.exec(X);if(J){var oe,ne,Ee,Fe,ze,Ue,dt,ct,Ot,tt,He=J[1].trim(),_r=He.length>1,At={type:"list",raw:"",ordered:_r,start:_r?+He.slice(0,-1):"",loose:!1,items:[]};He=_r?"\\d{1,9}\\"+He.slice(-1):"\\"+He,this.options.pedantic&&(He=_r?He:"[*+-]");for(var Si=new RegExp("^( {0,3}"+He+")((?: [^\\n]*| *)(?:\\n[^\\n]*)*(?:\\n|$))");X&&!(this.rules.block.hr.test(X)||!(J=Si.exec(X)));){Ot=J[2].split("\n"),this.options.pedantic?(Fe=2,tt=Ot[0].trimLeft()):(Fe=J[2].search(/[^ ]/),Fe=J[1].length+(Fe>4?1:Fe),tt=Ot[0].slice(Fe-J[1].length)),Ue=!1,oe=J[0],!Ot[0]&&/^ *$/.test(Ot[1])&&(oe=J[1]+Ot.slice(0,2).join("\n")+"\n",At.loose=!0,Ot=[]);var Ki=new RegExp("^ {0,"+Math.min(3,Fe-1)+"}(?:[*+-]|\\d{1,9}[.)])");for(ze=1;ze<Ot.length;ze++){if(ct=Ot[ze],this.options.pedantic&&(ct=ct.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),Ki.test(ct)){oe=J[1]+Ot.slice(0,ze).join("\n")+"\n";break}if(!Ue){ct.trim()||(Ue=!0),ct.search(/[^ ]/)>=Fe?tt+="\n"+ct.slice(Fe):tt+="\n"+ct;continue}if(ct.search(/[^ ]/)>=Fe||!ct.trim()){tt+="\n"+ct.slice(Fe);continue}else{oe=J[1]+Ot.slice(0,ze).join("\n")+"\n";break}}At.loose||(dt?At.loose=!0:/\n *\n *$/.test(oe)&&(dt=!0)),this.options.gfm&&(ne=/^\[[ xX]\] /.exec(tt),ne&&(Ee=ne[0]!=="[ ] ",tt=tt.replace(/^\[[ xX]\] +/,""))),At.items.push({type:"list_item",raw:oe,task:!!ne,checked:Ee,loose:!1,text:tt}),At.raw+=oe,X=X.slice(oe.length)}At.items[At.items.length-1].raw=oe.trimRight(),At.items[At.items.length-1].text=tt.trimRight(),At.raw=At.raw.trimRight();var Ur=At.items.length;for(ze=0;ze<Ur;ze++)this.lexer.state.top=!1,At.items[ze].tokens=this.lexer.blockTokens(At.items[ze].text,[]),At.items[ze].tokens.some(function(Va){return Va.type==="space"})&&(At.loose=!0,At.items[ze].loose=!0);return At}},me.html=function(X){var J=this.rules.block.html.exec(X);if(J){var oe={type:"html",raw:J[0],pre:!this.options.sanitizer&&(J[1]==="pre"||J[1]==="script"||J[1]==="style"),text:J[0]};return this.options.sanitize&&(oe.type="paragraph",oe.text=this.options.sanitizer?this.options.sanitizer(J[0]):z(J[0]),oe.tokens=[],this.lexer.inline(oe.text,oe.tokens)),oe}},me.def=function(X){var J=this.rules.block.def.exec(X);if(J){J[3]&&(J[3]=J[3].substring(1,J[3].length-1));var oe=J[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:oe,raw:J[0],href:J[2],title:J[3]}}},me.table=function(X){var J=this.rules.block.table.exec(X);if(J){var oe={type:"table",header:I(J[1]).map(function(dt){return{text:dt}}),align:J[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:J[3]?J[3].replace(/\n$/,"").split("\n"):[]};if(oe.header.length===oe.align.length){oe.raw=J[0];var ne=oe.align.length,Ee,Fe,ze,Ue;for(Ee=0;Ee<ne;Ee++)/^ *-+: *$/.test(oe.align[Ee])?oe.align[Ee]="right":/^ *:-+: *$/.test(oe.align[Ee])?oe.align[Ee]="center":/^ *:-+ *$/.test(oe.align[Ee])?oe.align[Ee]="left":oe.align[Ee]=null;for(ne=oe.rows.length,Ee=0;Ee<ne;Ee++)oe.rows[Ee]=I(oe.rows[Ee],oe.header.length).map(function(dt){return{text:dt}});for(ne=oe.header.length,Fe=0;Fe<ne;Fe++)oe.header[Fe].tokens=[],this.lexer.inlineTokens(oe.header[Fe].text,oe.header[Fe].tokens);for(ne=oe.rows.length,Fe=0;Fe<ne;Fe++)for(Ue=oe.rows[Fe],ze=0;ze<Ue.length;ze++)Ue[ze].tokens=[],this.lexer.inlineTokens(Ue[ze].text,Ue[ze].tokens);return oe}}},me.lheading=function(X){var J=this.rules.block.lheading.exec(X);if(J){var oe={type:"heading",raw:J[0],depth:J[2].charAt(0)==="="?1:2,text:J[1],tokens:[]};return this.lexer.inline(oe.text,oe.tokens),oe}},me.paragraph=function(X){var J=this.rules.block.paragraph.exec(X);if(J){var oe={type:"paragraph",raw:J[0],text:J[1].charAt(J[1].length-1)==="\n"?J[1].slice(0,-1):J[1],tokens:[]};return this.lexer.inline(oe.text,oe.tokens),oe}},me.text=function(X){var J=this.rules.block.text.exec(X);if(J){var oe={type:"text",raw:J[0],text:J[0],tokens:[]};return this.lexer.inline(oe.text,oe.tokens),oe}},me.escape=function(X){var J=this.rules.inline.escape.exec(X);if(J)return{type:"escape",raw:J[0],text:z(J[1])}},me.tag=function(X){var J=this.rules.inline.tag.exec(X);if(J)return!this.lexer.state.inLink&&/^<a /i.test(J[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(J[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(J[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(J[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:J[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(J[0]):z(J[0]):J[0]}},me.link=function(X){var J=this.rules.inline.link.exec(X);if(J){var oe=J[2].trim();if(!this.options.pedantic&&/^</.test(oe)){if(!/>$/.test(oe))return;var ne=M(oe.slice(0,-1),"\\");if((oe.length-ne.length)%2==0)return}else{var Ee=q(J[2],"()");if(Ee>-1){var Fe=J[0].indexOf("!")===0?5:4,ze=Fe+J[1].length+Ee;J[2]=J[2].substring(0,Ee),J[0]=J[0].substring(0,ze).trim(),J[3]=""}}var Ue=J[2],dt="";if(this.options.pedantic){var ct=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Ue);ct&&(Ue=ct[1],dt=ct[3])}else dt=J[3]?J[3].slice(1,-1):"";return Ue=Ue.trim(),/^</.test(Ue)&&(this.options.pedantic&&!/>$/.test(oe)?Ue=Ue.slice(1):Ue=Ue.slice(1,-1)),V(J,{href:Ue&&Ue.replace(this.rules.inline._escapes,"$1"),title:dt&&dt.replace(this.rules.inline._escapes,"$1")},J[0],this.lexer)}},me.reflink=function(X,J){var oe;if((oe=this.rules.inline.reflink.exec(X))||(oe=this.rules.inline.nolink.exec(X))){var ne=(oe[2]||oe[1]).replace(/\s+/g," ");if(ne=J[ne.toLowerCase()],!ne||!ne.href){var Ee=oe[0].charAt(0);return{type:"text",raw:Ee,text:Ee}}return V(oe,ne,oe[0],this.lexer)}},me.emStrong=function(X,J,oe){oe===void 0&&(oe="");var ne=this.rules.inline.emStrong.lDelim.exec(X);if(!!ne&&!(ne[3]&&oe.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var Ee=ne[1]||ne[2]||"";if(!Ee||Ee&&(oe===""||this.rules.inline.punctuation.exec(oe))){var Fe=ne[0].length-1,ze,Ue,dt=Fe,ct=0,Ot=ne[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Ot.lastIndex=0,J=J.slice(-1*X.length+Fe);(ne=Ot.exec(J))!=null;)if(ze=ne[1]||ne[2]||ne[3]||ne[4]||ne[5]||ne[6],!!ze){if(Ue=ze.length,ne[3]||ne[4]){dt+=Ue;continue}else if((ne[5]||ne[6])&&Fe%3&&!((Fe+Ue)%3)){ct+=Ue;continue}if(dt-=Ue,!(dt>0)){if(Ue=Math.min(Ue,Ue+dt+ct),Math.min(Fe,Ue)%2){var tt=X.slice(1,Fe+ne.index+Ue);return{type:"em",raw:X.slice(0,Fe+ne.index+Ue+1),text:tt,tokens:this.lexer.inlineTokens(tt,[])}}var He=X.slice(2,Fe+ne.index+Ue-1);return{type:"strong",raw:X.slice(0,Fe+ne.index+Ue+1),text:He,tokens:this.lexer.inlineTokens(He,[])}}}}}},me.codespan=function(X){var J=this.rules.inline.code.exec(X);if(J){var oe=J[2].replace(/\n/g," "),ne=/[^ ]/.test(oe),Ee=/^ /.test(oe)&&/ $/.test(oe);return ne&&Ee&&(oe=oe.substring(1,oe.length-1)),oe=z(oe,!0),{type:"codespan",raw:J[0],text:oe}}},me.br=function(X){var J=this.rules.inline.br.exec(X);if(J)return{type:"br",raw:J[0]}},me.del=function(X){var J=this.rules.inline.del.exec(X);if(J)return{type:"del",raw:J[0],text:J[2],tokens:this.lexer.inlineTokens(J[2],[])}},me.autolink=function(X,J){var oe=this.rules.inline.autolink.exec(X);if(oe){var ne,Ee;return oe[2]==="@"?(ne=z(this.options.mangle?J(oe[1]):oe[1]),Ee="mailto:"+ne):(ne=z(oe[1]),Ee=ne),{type:"link",raw:oe[0],text:ne,href:Ee,tokens:[{type:"text",raw:ne,text:ne}]}}},me.url=function(X,J){var oe;if(oe=this.rules.inline.url.exec(X)){var ne,Ee;if(oe[2]==="@")ne=z(this.options.mangle?J(oe[0]):oe[0]),Ee="mailto:"+ne;else{var Fe;do Fe=oe[0],oe[0]=this.rules.inline._backpedal.exec(oe[0])[0];while(Fe!==oe[0]);ne=z(oe[0]),oe[1]==="www."?Ee="http://"+ne:Ee=ne}return{type:"link",raw:oe[0],text:ne,href:Ee,tokens:[{type:"text",raw:ne,text:ne}]}}},me.inlineText=function(X,J){var oe=this.rules.inline.text.exec(X);if(oe){var ne;return this.lexer.state.inRawBlock?ne=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(oe[0]):z(oe[0]):oe[0]:ne=z(this.options.smartypants?J(oe[0]):oe[0]),{type:"text",raw:oe[0],text:ne}}},ye}(),ie=U.noopTest,se=U.edit,ve=U.merge,le={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:ie,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/};le._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,le._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,le.def=se(le.def).replace("label",le._label).replace("title",le._title).getRegex(),le.bullet=/(?:[*+-]|\d{1,9}[.)])/,le.listItemStart=se(/^( *)(bull) */).replace("bull",le.bullet).getRegex(),le.list=se(le.list).replace(/bull/g,le.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+le.def.source+")").getRegex(),le._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",le._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,le.html=se(le.html,"i").replace("comment",le._comment).replace("tag",le._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),le.paragraph=se(le._paragraph).replace("hr",le.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",le._tag).getRegex(),le.blockquote=se(le.blockquote).replace("paragraph",le.paragraph).getRegex(),le.normal=ve({},le),le.gfm=ve({},le.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),le.gfm.table=se(le.gfm.table).replace("hr",le.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",le._tag).getRegex(),le.pedantic=ve({},le.normal,{html:se("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",le._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ie,paragraph:se(le.normal._paragraph).replace("hr",le.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",le.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var re={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:ie,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:ie,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};re._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",re.punctuation=se(re.punctuation).replace(/punctuation/g,re._punctuation).getRegex(),re.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,re.escapedEmSt=/\\\*|\\_/g,re._comment=se(le._comment).replace("(?:-->|$)","-->").getRegex(),re.emStrong.lDelim=se(re.emStrong.lDelim).replace(/punct/g,re._punctuation).getRegex(),re.emStrong.rDelimAst=se(re.emStrong.rDelimAst,"g").replace(/punct/g,re._punctuation).getRegex(),re.emStrong.rDelimUnd=se(re.emStrong.rDelimUnd,"g").replace(/punct/g,re._punctuation).getRegex(),re._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,re._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,re._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,re.autolink=se(re.autolink).replace("scheme",re._scheme).replace("email",re._email).getRegex(),re._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,re.tag=se(re.tag).replace("comment",re._comment).replace("attribute",re._attribute).getRegex(),re._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,re._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,re._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,re.link=se(re.link).replace("label",re._label).replace("href",re._href).replace("title",re._title).getRegex(),re.reflink=se(re.reflink).replace("label",re._label).getRegex(),re.reflinkSearch=se(re.reflinkSearch,"g").replace("reflink",re.reflink).replace("nolink",re.nolink).getRegex(),re.normal=ve({},re),re.pedantic=ve({},re.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:se(/^!?\[(label)\]\((.*?)\)/).replace("label",re._label).getRegex(),reflink:se(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",re._label).getRegex()}),re.gfm=ve({},re.normal,{escape:se(re.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),re.gfm.url=se(re.gfm.url,"i").replace("email",re.gfm._extended_email).getRegex(),re.breaks=ve({},re.gfm,{br:se(re.br).replace("{2,}","*").getRegex(),text:se(re.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var Ae={block:le,inline:re},ae=ee,he=a.exports.defaults,Ce=Ae.block,Te=Ae.inline,$=U.repeatString;function W(ye){return ye.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function Q(ye){var me="",ge,X,J=ye.length;for(ge=0;ge<J;ge++)X=ye.charCodeAt(ge),Math.random()>.5&&(X="x"+X.toString(16)),me+="&#"+X+";";return me}var H=function(){function ye(ge){this.tokens=[],this.tokens.links=Object.create(null),this.options=ge||he,this.options.tokenizer=this.options.tokenizer||new ae,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var X={block:Ce.normal,inline:Te.normal};this.options.pedantic?(X.block=Ce.pedantic,X.inline=Te.pedantic):this.options.gfm&&(X.block=Ce.gfm,this.options.breaks?X.inline=Te.breaks:X.inline=Te.gfm),this.tokenizer.rules=X}ye.lex=function(X,J){var oe=new ye(J);return oe.lex(X)},ye.lexInline=function(X,J){var oe=new ye(J);return oe.inlineTokens(X)};var me=ye.prototype;return me.lex=function(X){X=X.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(X,this.tokens);for(var J;J=this.inlineQueue.shift();)this.inlineTokens(J.src,J.tokens);return this.tokens},me.blockTokens=function(X,J){var oe=this;J===void 0&&(J=[]),this.options.pedantic&&(X=X.replace(/^ +$/gm,""));for(var ne,Ee,Fe,ze;X;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(dt){return(ne=dt.call({lexer:oe},X,J))?(X=X.substring(ne.raw.length),J.push(ne),!0):!1}))){if(ne=this.tokenizer.space(X)){X=X.substring(ne.raw.length),ne.type&&J.push(ne);continue}if(ne=this.tokenizer.code(X)){X=X.substring(ne.raw.length),Ee=J[J.length-1],Ee&&(Ee.type==="paragraph"||Ee.type==="text")?(Ee.raw+="\n"+ne.raw,Ee.text+="\n"+ne.text,this.inlineQueue[this.inlineQueue.length-1].src=Ee.text):J.push(ne);continue}if(ne=this.tokenizer.fences(X)){X=X.substring(ne.raw.length),J.push(ne);continue}if(ne=this.tokenizer.heading(X)){X=X.substring(ne.raw.length),J.push(ne);continue}if(ne=this.tokenizer.hr(X)){X=X.substring(ne.raw.length),J.push(ne);continue}if(ne=this.tokenizer.blockquote(X)){X=X.substring(ne.raw.length),J.push(ne);continue}if(ne=this.tokenizer.list(X)){X=X.substring(ne.raw.length),J.push(ne);continue}if(ne=this.tokenizer.html(X)){X=X.substring(ne.raw.length),J.push(ne);continue}if(ne=this.tokenizer.def(X)){X=X.substring(ne.raw.length),Ee=J[J.length-1],Ee&&(Ee.type==="paragraph"||Ee.type==="text")?(Ee.raw+="\n"+ne.raw,Ee.text+="\n"+ne.raw,this.inlineQueue[this.inlineQueue.length-1].src=Ee.text):this.tokens.links[ne.tag]||(this.tokens.links[ne.tag]={href:ne.href,title:ne.title});continue}if(ne=this.tokenizer.table(X)){X=X.substring(ne.raw.length),J.push(ne);continue}if(ne=this.tokenizer.lheading(X)){X=X.substring(ne.raw.length),J.push(ne);continue}if(Fe=X,this.options.extensions&&this.options.extensions.startBlock&&function(){var dt=1/0,ct=X.slice(1),Ot=void 0;oe.options.extensions.startBlock.forEach(function(tt){Ot=tt.call({lexer:this},ct),typeof Ot=="number"&&Ot>=0&&(dt=Math.min(dt,Ot))}),dt<1/0&&dt>=0&&(Fe=X.substring(0,dt+1))}(),this.state.top&&(ne=this.tokenizer.paragraph(Fe))){Ee=J[J.length-1],ze&&Ee.type==="paragraph"?(Ee.raw+="\n"+ne.raw,Ee.text+="\n"+ne.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Ee.text):J.push(ne),ze=Fe.length!==X.length,X=X.substring(ne.raw.length);continue}if(ne=this.tokenizer.text(X)){X=X.substring(ne.raw.length),Ee=J[J.length-1],Ee&&Ee.type==="text"?(Ee.raw+="\n"+ne.raw,Ee.text+="\n"+ne.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Ee.text):J.push(ne);continue}if(X){var Ue="Infinite loop on byte: "+X.charCodeAt(0);if(this.options.silent){console.error(Ue);break}else throw new Error(Ue)}}return this.state.top=!0,J},me.inline=function(X,J){this.inlineQueue.push({src:X,tokens:J})},me.inlineTokens=function(X,J){var oe=this;J===void 0&&(J=[]);var ne,Ee,Fe,ze=X,Ue,dt,ct;if(this.tokens.links){var Ot=Object.keys(this.tokens.links);if(Ot.length>0)for(;(Ue=this.tokenizer.rules.inline.reflinkSearch.exec(ze))!=null;)Ot.includes(Ue[0].slice(Ue[0].lastIndexOf("[")+1,-1))&&(ze=ze.slice(0,Ue.index)+"["+$("a",Ue[0].length-2)+"]"+ze.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(Ue=this.tokenizer.rules.inline.blockSkip.exec(ze))!=null;)ze=ze.slice(0,Ue.index)+"["+$("a",Ue[0].length-2)+"]"+ze.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(Ue=this.tokenizer.rules.inline.escapedEmSt.exec(ze))!=null;)ze=ze.slice(0,Ue.index)+"++"+ze.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;X;)if(dt||(ct=""),dt=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(He){return(ne=He.call({lexer:oe},X,J))?(X=X.substring(ne.raw.length),J.push(ne),!0):!1}))){if(ne=this.tokenizer.escape(X)){X=X.substring(ne.raw.length),J.push(ne);continue}if(ne=this.tokenizer.tag(X)){X=X.substring(ne.raw.length),Ee=J[J.length-1],Ee&&ne.type==="text"&&Ee.type==="text"?(Ee.raw+=ne.raw,Ee.text+=ne.text):J.push(ne);continue}if(ne=this.tokenizer.link(X)){X=X.substring(ne.raw.length),J.push(ne);continue}if(ne=this.tokenizer.reflink(X,this.tokens.links)){X=X.substring(ne.raw.length),Ee=J[J.length-1],Ee&&ne.type==="text"&&Ee.type==="text"?(Ee.raw+=ne.raw,Ee.text+=ne.text):J.push(ne);continue}if(ne=this.tokenizer.emStrong(X,ze,ct)){X=X.substring(ne.raw.length),J.push(ne);continue}if(ne=this.tokenizer.codespan(X)){X=X.substring(ne.raw.length),J.push(ne);continue}if(ne=this.tokenizer.br(X)){X=X.substring(ne.raw.length),J.push(ne);continue}if(ne=this.tokenizer.del(X)){X=X.substring(ne.raw.length),J.push(ne);continue}if(ne=this.tokenizer.autolink(X,Q)){X=X.substring(ne.raw.length),J.push(ne);continue}if(!this.state.inLink&&(ne=this.tokenizer.url(X,Q))){X=X.substring(ne.raw.length),J.push(ne);continue}if(Fe=X,this.options.extensions&&this.options.extensions.startInline&&function(){var He=1/0,_r=X.slice(1),At=void 0;oe.options.extensions.startInline.forEach(function(Si){At=Si.call({lexer:this},_r),typeof At=="number"&&At>=0&&(He=Math.min(He,At))}),He<1/0&&He>=0&&(Fe=X.substring(0,He+1))}(),ne=this.tokenizer.inlineText(Fe,W)){X=X.substring(ne.raw.length),ne.raw.slice(-1)!=="_"&&(ct=ne.raw.slice(-1)),dt=!0,Ee=J[J.length-1],Ee&&Ee.type==="text"?(Ee.raw+=ne.raw,Ee.text+=ne.text):J.push(ne);continue}if(X){var tt="Infinite loop on byte: "+X.charCodeAt(0);if(this.options.silent){console.error(tt);break}else throw new Error(tt)}}return J},t(ye,null,[{key:"rules",get:function(){return{block:Ce,inline:Te}}}]),ye}(),K=a.exports.defaults,Z=U.cleanUrl,te=U.escape,fe=function(){function ye(ge){this.options=ge||K}var me=ye.prototype;return me.code=function(X,J,oe){var ne=(J||"").match(/\S*/)[0];if(this.options.highlight){var Ee=this.options.highlight(X,ne);Ee!=null&&Ee!==X&&(oe=!0,X=Ee)}return X=X.replace(/\n$/,"")+"\n",ne?'<pre><code class="'+this.options.langPrefix+te(ne,!0)+'">'+(oe?X:te(X,!0))+"</code></pre>\n":"<pre><code>"+(oe?X:te(X,!0))+"</code></pre>\n"},me.blockquote=function(X){return"<blockquote>\n"+X+"</blockquote>\n"},me.html=function(X){return X},me.heading=function(X,J,oe,ne){return this.options.headerIds?"<h"+J+' id="'+this.options.headerPrefix+ne.slug(oe)+'">'+X+"</h"+J+">\n":"<h"+J+">"+X+"</h"+J+">\n"},me.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},me.list=function(X,J,oe){var ne=J?"ol":"ul",Ee=J&&oe!==1?' start="'+oe+'"':"";return"<"+ne+Ee+">\n"+X+"</"+ne+">\n"},me.listitem=function(X){return"<li>"+X+"</li>\n"},me.checkbox=function(X){return"<input "+(X?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},me.paragraph=function(X){return"<p>"+X+"</p>\n"},me.table=function(X,J){return J&&(J="<tbody>"+J+"</tbody>"),"<table>\n<thead>\n"+X+"</thead>\n"+J+"</table>\n"},me.tablerow=function(X){return"<tr>\n"+X+"</tr>\n"},me.tablecell=function(X,J){var oe=J.header?"th":"td",ne=J.align?"<"+oe+' align="'+J.align+'">':"<"+oe+">";return ne+X+"</"+oe+">\n"},me.strong=function(X){return"<strong>"+X+"</strong>"},me.em=function(X){return"<em>"+X+"</em>"},me.codespan=function(X){return"<code>"+X+"</code>"},me.br=function(){return this.options.xhtml?"<br/>":"<br>"},me.del=function(X){return"<del>"+X+"</del>"},me.link=function(X,J,oe){if(X=Z(this.options.sanitize,this.options.baseUrl,X),X===null)return oe;var ne='<a href="'+te(X)+'"';return J&&(ne+=' title="'+J+'"'),ne+=">"+oe+"</a>",ne},me.image=function(X,J,oe){if(X=Z(this.options.sanitize,this.options.baseUrl,X),X===null)return oe;var ne='<img src="'+X+'" alt="'+oe+'"';return J&&(ne+=' title="'+J+'"'),ne+=this.options.xhtml?"/>":">",ne},me.text=function(X){return X},ye}(),de=function(){function ye(){}var me=ye.prototype;return me.strong=function(X){return X},me.em=function(X){return X},me.codespan=function(X){return X},me.del=function(X){return X},me.html=function(X){return X},me.text=function(X){return X},me.link=function(X,J,oe){return""+oe},me.image=function(X,J,oe){return""+oe},me.br=function(){return""},ye}(),xe=function(){function ye(){this.seen={}}var me=ye.prototype;return me.serialize=function(X){return X.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},me.getNextSafeSlug=function(X,J){var oe=X,ne=0;if(this.seen.hasOwnProperty(oe)){ne=this.seen[X];do ne++,oe=X+"-"+ne;while(this.seen.hasOwnProperty(oe))}return J||(this.seen[X]=ne,this.seen[oe]=0),oe},me.slug=function(X,J){J===void 0&&(J={});var oe=this.serialize(X);return this.getNextSafeSlug(oe,J.dryrun)},ye}(),Oe=fe,Be=de,Ge=xe,nt=a.exports.defaults,Ye=U.unescape,We=function(){function ye(ge){this.options=ge||nt,this.options.renderer=this.options.renderer||new Oe,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Be,this.slugger=new Ge}ye.parse=function(X,J){var oe=new ye(J);return oe.parse(X)},ye.parseInline=function(X,J){var oe=new ye(J);return oe.parseInline(X)};var me=ye.prototype;return me.parse=function(X,J){J===void 0&&(J=!0);var oe="",ne,Ee,Fe,ze,Ue,dt,ct,Ot,tt,He,_r,At,Si,Ki,Ur,Va,ba,xn,wa,Ka=X.length;for(ne=0;ne<Ka;ne++){if(He=X[ne],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[He.type]&&(wa=this.options.extensions.renderers[He.type].call({parser:this},He),wa!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(He.type))){oe+=wa||"";continue}switch(He.type){case"space":continue;case"hr":{oe+=this.renderer.hr();continue}case"heading":{oe+=this.renderer.heading(this.parseInline(He.tokens),He.depth,Ye(this.parseInline(He.tokens,this.textRenderer)),this.slugger);continue}case"code":{oe+=this.renderer.code(He.text,He.lang,He.escaped);continue}case"table":{for(Ot="",ct="",ze=He.header.length,Ee=0;Ee<ze;Ee++)ct+=this.renderer.tablecell(this.parseInline(He.header[Ee].tokens),{header:!0,align:He.align[Ee]});for(Ot+=this.renderer.tablerow(ct),tt="",ze=He.rows.length,Ee=0;Ee<ze;Ee++){for(dt=He.rows[Ee],ct="",Ue=dt.length,Fe=0;Fe<Ue;Fe++)ct+=this.renderer.tablecell(this.parseInline(dt[Fe].tokens),{header:!1,align:He.align[Fe]});tt+=this.renderer.tablerow(ct)}oe+=this.renderer.table(Ot,tt);continue}case"blockquote":{tt=this.parse(He.tokens),oe+=this.renderer.blockquote(tt);continue}case"list":{for(_r=He.ordered,At=He.start,Si=He.loose,ze=He.items.length,tt="",Ee=0;Ee<ze;Ee++)Ur=He.items[Ee],Va=Ur.checked,ba=Ur.task,Ki="",Ur.task&&(xn=this.renderer.checkbox(Va),Si?Ur.tokens.length>0&&Ur.tokens[0].type==="paragraph"?(Ur.tokens[0].text=xn+" "+Ur.tokens[0].text,Ur.tokens[0].tokens&&Ur.tokens[0].tokens.length>0&&Ur.tokens[0].tokens[0].type==="text"&&(Ur.tokens[0].tokens[0].text=xn+" "+Ur.tokens[0].tokens[0].text)):Ur.tokens.unshift({type:"text",text:xn}):Ki+=xn),Ki+=this.parse(Ur.tokens,Si),tt+=this.renderer.listitem(Ki,ba,Va);oe+=this.renderer.list(tt,_r,At);continue}case"html":{oe+=this.renderer.html(He.text);continue}case"paragraph":{oe+=this.renderer.paragraph(this.parseInline(He.tokens));continue}case"text":{for(tt=He.tokens?this.parseInline(He.tokens):He.text;ne+1<Ka&&X[ne+1].type==="text";)He=X[++ne],tt+="\n"+(He.tokens?this.parseInline(He.tokens):He.text);oe+=J?this.renderer.paragraph(tt):tt;continue}default:{var xa='Token with "'+He.type+'" type was not found.';if(this.options.silent){console.error(xa);return}else throw new Error(xa)}}}return oe},me.parseInline=function(X,J){J=J||this.renderer;var oe="",ne,Ee,Fe,ze=X.length;for(ne=0;ne<ze;ne++){if(Ee=X[ne],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Ee.type]&&(Fe=this.options.extensions.renderers[Ee.type].call({parser:this},Ee),Fe!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(Ee.type))){oe+=Fe||"";continue}switch(Ee.type){case"escape":{oe+=J.text(Ee.text);break}case"html":{oe+=J.html(Ee.text);break}case"link":{oe+=J.link(Ee.href,Ee.title,this.parseInline(Ee.tokens,J));break}case"image":{oe+=J.image(Ee.href,Ee.title,Ee.text);break}case"strong":{oe+=J.strong(this.parseInline(Ee.tokens,J));break}case"em":{oe+=J.em(this.parseInline(Ee.tokens,J));break}case"codespan":{oe+=J.codespan(Ee.text);break}case"br":{oe+=J.br();break}case"del":{oe+=J.del(this.parseInline(Ee.tokens,J));break}case"text":{oe+=J.text(Ee.text);break}default:{var Ue='Token with "'+Ee.type+'" type was not found.';if(this.options.silent){console.error(Ue);return}else throw new Error(Ue)}}}return oe},ye}(),Ke=H,ft=We,wt=ee,yt=fe,Tt=de,sr=xe,Vt=U.merge,ir=U.checkSanitizeDeprecation,Ht=U.escape,Er=a.exports.getDefaults,Hr=a.exports.changeDefaults,Kt=a.exports.defaults;function Ze(ye,me,ge){if(typeof ye=="undefined"||ye===null)throw new Error("marked(): input parameter is undefined or null");if(typeof ye!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(ye)+", string expected");if(typeof me=="function"&&(ge=me,me=null),me=Vt({},Ze.defaults,me||{}),ir(me),ge){var X=me.highlight,J;try{J=Ke.lex(ye,me)}catch(Fe){return ge(Fe)}var oe=function(ze){var Ue;if(!ze)try{me.walkTokens&&Ze.walkTokens(J,me.walkTokens),Ue=ft.parse(J,me)}catch(dt){ze=dt}return me.highlight=X,ze?ge(ze):ge(null,Ue)};if(!X||X.length<3||(delete me.highlight,!J.length))return oe();var ne=0;Ze.walkTokens(J,function(Fe){Fe.type==="code"&&(ne++,setTimeout(function(){X(Fe.text,Fe.lang,function(ze,Ue){if(ze)return oe(ze);Ue!=null&&Ue!==Fe.text&&(Fe.text=Ue,Fe.escaped=!0),ne--,ne===0&&oe()})},0))}),ne===0&&oe();return}try{var Ee=Ke.lex(ye,me);return me.walkTokens&&Ze.walkTokens(Ee,me.walkTokens),ft.parse(Ee,me)}catch(Fe){if(Fe.message+="\nPlease report this to https://github.com/markedjs/marked.",me.silent)return"<p>An error occurred:</p><pre>"+Ht(Fe.message+"",!0)+"</pre>";throw Fe}}Ze.options=Ze.setOptions=function(ye){return Vt(Ze.defaults,ye),Hr(Ze.defaults),Ze},Ze.getDefaults=Er,Ze.defaults=Kt,Ze.use=function(){for(var ye=arguments.length,me=new Array(ye),ge=0;ge<ye;ge++)me[ge]=arguments[ge];var X=Vt.apply(void 0,[{}].concat(me)),J=Ze.defaults.extensions||{renderers:{},childTokens:{}},oe;me.forEach(function(ne){if(ne.extensions&&(oe=!0,ne.extensions.forEach(function(Fe){if(!Fe.name)throw new Error("extension name required");if(Fe.renderer){var ze=J.renderers?J.renderers[Fe.name]:null;ze?J.renderers[Fe.name]=function(){for(var Ue=arguments.length,dt=new Array(Ue),ct=0;ct<Ue;ct++)dt[ct]=arguments[ct];var Ot=Fe.renderer.apply(this,dt);return Ot===!1&&(Ot=ze.apply(this,dt)),Ot}:J.renderers[Fe.name]=Fe.renderer}if(Fe.tokenizer){if(!Fe.level||Fe.level!=="block"&&Fe.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");J[Fe.level]?J[Fe.level].unshift(Fe.tokenizer):J[Fe.level]=[Fe.tokenizer],Fe.start&&(Fe.level==="block"?J.startBlock?J.startBlock.push(Fe.start):J.startBlock=[Fe.start]:Fe.level==="inline"&&(J.startInline?J.startInline.push(Fe.start):J.startInline=[Fe.start]))}Fe.childTokens&&(J.childTokens[Fe.name]=Fe.childTokens)})),ne.renderer&&function(){var Fe=Ze.defaults.renderer||new yt,ze=function(ct){var Ot=Fe[ct];Fe[ct]=function(){for(var tt=arguments.length,He=new Array(tt),_r=0;_r<tt;_r++)He[_r]=arguments[_r];var At=ne.renderer[ct].apply(Fe,He);return At===!1&&(At=Ot.apply(Fe,He)),At}};for(var Ue in ne.renderer)ze(Ue);X.renderer=Fe}(),ne.tokenizer&&function(){var Fe=Ze.defaults.tokenizer||new wt,ze=function(ct){var Ot=Fe[ct];Fe[ct]=function(){for(var tt=arguments.length,He=new Array(tt),_r=0;_r<tt;_r++)He[_r]=arguments[_r];var At=ne.tokenizer[ct].apply(Fe,He);return At===!1&&(At=Ot.apply(Fe,He)),At}};for(var Ue in ne.tokenizer)ze(Ue);X.tokenizer=Fe}(),ne.walkTokens){var Ee=Ze.defaults.walkTokens;X.walkTokens=function(Fe){ne.walkTokens.call(this,Fe),Ee&&Ee.call(this,Fe)}}oe&&(X.extensions=J),Ze.setOptions(X)})},Ze.walkTokens=function(ye,me){for(var ge=function(){var ne=J.value;switch(me.call(Ze,ne),ne.type){case"table":{for(var Ee=i(ne.header),Fe;!(Fe=Ee()).done;){var ze=Fe.value;Ze.walkTokens(ze.tokens,me)}for(var Ue=i(ne.rows),dt;!(dt=Ue()).done;)for(var ct=dt.value,Ot=i(ct),tt;!(tt=Ot()).done;){var He=tt.value;Ze.walkTokens(He.tokens,me)}break}case"list":{Ze.walkTokens(ne.items,me);break}default:Ze.defaults.extensions&&Ze.defaults.extensions.childTokens&&Ze.defaults.extensions.childTokens[ne.type]?Ze.defaults.extensions.childTokens[ne.type].forEach(function(_r){Ze.walkTokens(ne[_r],me)}):ne.tokens&&Ze.walkTokens(ne.tokens,me)}},X=i(ye),J;!(J=X()).done;)ge()},Ze.parseInline=function(ye,me){if(typeof ye=="undefined"||ye===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof ye!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(ye)+", string expected");me=Vt({},Ze.defaults,me||{}),ir(me);try{var ge=Ke.lexInline(ye,me);return me.walkTokens&&Ze.walkTokens(ge,me.walkTokens),ft.parseInline(ge,me)}catch(X){if(X.message+="\nPlease report this to https://github.com/markedjs/marked.",me.silent)return"<p>An error occurred:</p><pre>"+Ht(X.message+"",!0)+"</pre>";throw X}},Ze.Parser=ft,Ze.parser=ft.parse,Ze.Renderer=yt,Ze.TextRenderer=Tt,Ze.Lexer=Ke,Ze.lexer=Ke.lex,Ze.Tokenizer=wt,Ze.Slugger=sr,Ze.parse=Ze;var Wr=Ze;return Wr})});var sw=$e(function(cCe,A4){A4.exports=kO;A4.exports.pair=AO;A4.exports.format=B8;A4.exports.formatPair=EO;A4.exports.coordToDMS=ow;function kO(e,t){var r=R8(e,t);return r===null?null:r.val}function EO(e){return B8(e.lat,"lat")+" "+B8(e.lon,"lon")}function B8(e,t){var r=ow(e,t);return r.whole+"\xB0 "+(r.minutes?r.minutes+"' ":"")+(r.seconds?r.seconds+'" ':"")+r.dir}function ow(e,t){var r={lat:["N","S"],lon:["E","W"]}[t]||"",n=r[e>=0?0:1],i=Math.abs(e),a=Math.floor(i),o=i-a,s=o*60,l=Math.floor(s),u=Math.floor((s-l)*60);return{whole:a,minutes:l,seconds:u,dir:n}}function R8(e,t){if(t||(t="NSEW"),typeof e!="string")return null;e=e.toUpperCase();var r=/^[\s\,]*([NSEW])?\s*([\-|\—|\―]?[0-9.]+)[°º˚]?\s*(?:([0-9.]+)['’′‘]\s*)?(?:([0-9.]+)(?:''|"|”|″)\s*)?([NSEW])?/,n=e.match(r);if(!n)return null;var i=n[0],a;if(n[1]&&n[5]?(a=n[1],i=i.slice(0,-1)):a=n[1]||n[5],a&&t.indexOf(a)===-1)return null;var o=n[2]?parseFloat(n[2]):0,s=n[3]?parseFloat(n[3])/60:0,l=n[4]?parseFloat(n[4])/3600:0,u=o<0?-1:1;return(a==="S"||a==="W")&&(u*=-1),{val:(Math.abs(o)+s+l)*u,dim:a,matched:i,remain:e.slice(i.length)}}function AO(e,t){e=e.trim();var r=R8(e,t);if(!r)return null;e=r.remain.trim();var n=R8(e,t);return!n||n.remain?null:r.dim?CO(r.val,n.val,r.dim):[r.val,n.val]}function CO(e,t,r){if(r==="N"||r==="S")return[e,t];if(r==="W"||r==="E")return[t,e]}});var yx=$e(function(Yje,vx){"use strict";vx.exports=I4;function I4(e,t){this.x=e,this.y=t}I4.prototype={clone:function(){return new I4(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,r){return this.clone()._rotateAround(t,r)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var r=t.x-this.x,n=t.y-this.y;return r*r+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,r){return Math.atan2(this.x*r-this.y*t,this.x*t+this.y*r)},_matMult:function(t){var r=t[0]*this.x+t[1]*this.y,n=t[2]*this.x+t[3]*this.y;return this.x=r,this.y=n,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var r=Math.cos(t),n=Math.sin(t),i=r*this.x-n*this.y,a=n*this.x+r*this.y;return this.x=i,this.y=a,this},_rotateAround:function(t,r){var n=Math.cos(t),i=Math.sin(t),a=r.x+n*(this.x-r.x)-i*(this.y-r.y),o=r.y+i*(this.x-r.x)+n*(this.y-r.y);return this.x=a,this.y=o,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}};I4.convert=function(e){return e instanceof I4?e:Array.isArray(e)?new I4(e[0],e[1]):e}});var X8=$e(function(Zje,bx){"use strict";var pP=yx();bx.exports=N4;function N4(e,t,r,n,i){this.properties={},this.extent=r,this.type=0,this._pbf=e,this._geometry=-1,this._keys=n,this._values=i,e.readFields(mP,this,t)}function mP(e,t,r){e==1?t.id=r.readVarint():e==2?hP(r,t):e==3?t.type=r.readVarint():e==4&&(t._geometry=r.pos)}function hP(e,t){for(var r=e.readVarint()+e.pos;e.pos<r;){var n=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[n]=i}}N4.types=["Unknown","Point","LineString","Polygon"];N4.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,r=1,n=0,i=0,a=0,o=[],s;e.pos<t;){if(n<=0){var l=e.readVarint();r=l&7,n=l>>3}if(n--,r===1||r===2)i+=e.readSVarint(),a+=e.readSVarint(),r===1&&(s&&o.push(s),s=[]),s.push(new pP(i,a));else if(r===7)s&&s.push(s[0].clone());else throw new Error("unknown command "+r)}return s&&o.push(s),o};N4.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,r=1,n=0,i=0,a=0,o=1/0,s=-1/0,l=1/0,u=-1/0;e.pos<t;){if(n<=0){var c=e.readVarint();r=c&7,n=c>>3}if(n--,r===1||r===2)i+=e.readSVarint(),a+=e.readSVarint(),i<o&&(o=i),i>s&&(s=i),a<l&&(l=a),a>u&&(u=a);else if(r!==7)throw new Error("unknown command "+r)}return[o,l,s,u]};N4.prototype.toGeoJSON=function(e,t,r){var n=this.extent*Math.pow(2,r),i=this.extent*e,a=this.extent*t,o=this.loadGeometry(),s=N4.types[this.type],l,u;function c(m){for(var w=0;w<m.length;w++){var b=m[w],h=180-(b.y+a)*360/n;m[w]=[(b.x+i)*360/n-180,360/Math.PI*Math.atan(Math.exp(h*Math.PI/180))-90]}}switch(this.type){case 1:var d=[];for(l=0;l<o.length;l++)d[l]=o[l][0];o=d,c(o);break;case 2:for(l=0;l<o.length;l++)c(o[l]);break;case 3:for(o=gP(o),l=0;l<o.length;l++)for(u=0;u<o[l].length;u++)c(o[l][u]);break}o.length===1?o=o[0]:s="Multi"+s;var p={type:"Feature",geometry:{type:s,coordinates:o},properties:this.properties};return"id"in this&&(p.id=this.id),p};function gP(e){var t=e.length;if(t<=1)return[e];for(var r=[],n,i,a=0;a<t;a++){var o=vP(e[a]);o!==0&&(i===void 0&&(i=o<0),i===o<0?(n&&r.push(n),n=[e[a]]):n.push(e[a]))}return n&&r.push(n),r}function vP(e){for(var t=0,r=0,n=e.length,i=n-1,a,o;r<n;i=r++)a=e[r],o=e[i],t+=(o.x-a.x)*(a.y+o.y);return t}});var $8=$e(function(Xje,xx){"use strict";var yP=X8();xx.exports=wx;function wx(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(bP,this,t),this.length=this._features.length}function bP(e,t,r){e===15?t.version=r.readVarint():e===1?t.name=r.readString():e===5?t.extent=r.readVarint():e===2?t._features.push(r.pos):e===3?t._keys.push(r.readString()):e===4&&t._values.push(wP(r))}function wP(e){for(var t=null,r=e.readVarint()+e.pos;e.pos<r;){var n=e.readVarint()>>3;t=n===1?e.readString():n===2?e.readFloat():n===3?e.readDouble():n===4?e.readVarint64():n===5?e.readVarint():n===6?e.readSVarint():n===7?e.readBoolean():null}return t}wx.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new yP(this._pbf,t,this.extent,this._keys,this._values)}});var kx=$e(function($je,_x){"use strict";var xP=$8();_x.exports=_P;function _P(e,t){this.layers=e.readFields(kP,{},t)}function kP(e,t,r){if(e===3){var n=new xP(r,r.readVarint()+r.pos);n.length&&(t[n.name]=n)}}});var J8=$e(function(Jje,O6){O6.exports.VectorTile=kx();O6.exports.VectorTileFeature=X8();O6.exports.VectorTileLayer=$8()});var Ex=$e(function(ef){ef.read=function(e,t,r,n,i){var a,o,s=i*8-n-1,l=(1<<s)-1,u=l>>1,c=-7,d=r?i-1:0,p=r?-1:1,m=e[t+d];for(d+=p,a=m&(1<<-c)-1,m>>=-c,c+=s;c>0;a=a*256+e[t+d],d+=p,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=n;c>0;o=o*256+e[t+d],d+=p,c-=8);if(a===0)a=1-u;else{if(a===l)return o?NaN:(m?-1:1)*(1/0);o=o+Math.pow(2,n),a=a-u}return(m?-1:1)*o*Math.pow(2,a-n)};ef.write=function(e,t,r,n,i,a){var o,s,l,u=a*8-i-1,c=(1<<u)-1,d=c>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=n?0:a-1,w=n?1:-1,b=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+d>=1?t+=p/l:t+=p*Math.pow(2,1-d),t*l>=2&&(o++,l/=2),o+d>=c?(s=0,o=c):o+d>=1?(s=(t*l-1)*Math.pow(2,i),o=o+d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[r+m]=s&255,m+=w,s/=256,i-=8);for(o=o<<i|s,u+=i;u>0;e[r+m]=o&255,m+=w,o/=256,u-=8);e[r+m-w]|=b*128}});var rf=$e(function(tze,Fx){"use strict";Fx.exports=tr;var P6=Ex();function tr(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}tr.Varint=0;tr.Fixed64=1;tr.Bytes=2;tr.Fixed32=5;var tf=(1<<16)*(1<<16),Ax=1/tf,EP=12,Cx=typeof TextDecoder=="undefined"?null:new TextDecoder("utf8");tr.prototype={destroy:function(){this.buf=null},readFields:function(t,r,n){for(n=n||this.length;this.pos<n;){var i=this.readVarint(),a=i>>3,o=this.pos;this.type=i&7,t(a,r,this),this.pos===o&&this.skip(i)}return r},readMessage:function(t,r){return this.readFields(t,r,this.readVarint()+this.pos)},readFixed32:function(){var t=B6(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=Sx(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=B6(this.buf,this.pos)+B6(this.buf,this.pos+4)*tf;return this.pos+=8,t},readSFixed64:function(){var t=B6(this.buf,this.pos)+Sx(this.buf,this.pos+4)*tf;return this.pos+=8,t},readFloat:function(){var t=P6.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=P6.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var r=this.buf,n,i;return i=r[this.pos++],n=i&127,i<128||(i=r[this.pos++],n|=(i&127)<<7,i<128)||(i=r[this.pos++],n|=(i&127)<<14,i<128)||(i=r[this.pos++],n|=(i&127)<<21,i<128)?n:(i=r[this.pos],n|=(i&15)<<28,AP(n,t,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,r=this.pos;return this.pos=t,t-r>=EP&&Cx?jP(this.buf,r,t):LP(this.buf,r,t)},readBytes:function(){var t=this.readVarint()+this.pos,r=this.buf.subarray(this.pos,t);return this.pos=t,r},readPackedVarint:function(t,r){if(this.type!==tr.Bytes)return t.push(this.readVarint(r));var n=Qa(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(r));return t},readPackedSVarint:function(t){if(this.type!==tr.Bytes)return t.push(this.readSVarint());var r=Qa(this);for(t=t||[];this.pos<r;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==tr.Bytes)return t.push(this.readBoolean());var r=Qa(this);for(t=t||[];this.pos<r;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==tr.Bytes)return t.push(this.readFloat());var r=Qa(this);for(t=t||[];this.pos<r;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==tr.Bytes)return t.push(this.readDouble());var r=Qa(this);for(t=t||[];this.pos<r;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==tr.Bytes)return t.push(this.readFixed32());var r=Qa(this);for(t=t||[];this.pos<r;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==tr.Bytes)return t.push(this.readSFixed32());var r=Qa(this);for(t=t||[];this.pos<r;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==tr.Bytes)return t.push(this.readFixed64());var r=Qa(this);for(t=t||[];this.pos<r;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==tr.Bytes)return t.push(this.readSFixed64());var r=Qa(this);for(t=t||[];this.pos<r;)t.push(this.readSFixed64());return t},skip:function(t){var r=t&7;if(r===tr.Varint)for(;this.buf[this.pos++]>127;);else if(r===tr.Bytes)this.pos=this.readVarint()+this.pos;else if(r===tr.Fixed32)this.pos+=4;else if(r===tr.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+r)},writeTag:function(t,r){this.writeVarint(t<<3|r)},realloc:function(t){for(var r=this.length||16;r<this.pos+t;)r*=2;if(r!==this.length){var n=new Uint8Array(r);n.set(this.buf),this.buf=n,this.length=r}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),P4(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),P4(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),P4(this.buf,t&-1,this.pos),P4(this.buf,Math.floor(t*Ax),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),P4(this.buf,t&-1,this.pos),P4(this.buf,Math.floor(t*Ax),this.pos+4),this.pos+=8},writeVarint:function(t){if(t=+t||0,t>268435455||t<0){CP(t,this);return}this.realloc(4),this.buf[this.pos++]=t&127|(t>127?128:0),!(t<=127)&&(this.buf[this.pos++]=(t>>>=7)&127|(t>127?128:0),!(t<=127)&&(this.buf[this.pos++]=(t>>>=7)&127|(t>127?128:0),!(t<=127)&&(this.buf[this.pos++]=t>>>7&127)))},writeSVarint:function(t){this.writeVarint(t<0?-t*2-1:t*2)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(t.length*4),this.pos++;var r=this.pos;this.pos=zP(this.buf,t,this.pos);var n=this.pos-r;n>=128&&Dx(r,n,this),this.pos=r-1,this.writeVarint(n),this.pos+=n},writeFloat:function(t){this.realloc(4),P6.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),P6.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var r=t.length;this.writeVarint(r),this.realloc(r);for(var n=0;n<r;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,r){this.pos++;var n=this.pos;t(r,this);var i=this.pos-n;i>=128&&Dx(n,i,this),this.pos=n-1,this.writeVarint(i),this.pos+=i},writeMessage:function(t,r,n){this.writeTag(t,tr.Bytes),this.writeRawMessage(r,n)},writePackedVarint:function(t,r){r.length&&this.writeMessage(t,FP,r)},writePackedSVarint:function(t,r){r.length&&this.writeMessage(t,TP,r)},writePackedBoolean:function(t,r){r.length&&this.writeMessage(t,NP,r)},writePackedFloat:function(t,r){r.length&&this.writeMessage(t,MP,r)},writePackedDouble:function(t,r){r.length&&this.writeMessage(t,IP,r)},writePackedFixed32:function(t,r){r.length&&this.writeMessage(t,OP,r)},writePackedSFixed32:function(t,r){r.length&&this.writeMessage(t,PP,r)},writePackedFixed64:function(t,r){r.length&&this.writeMessage(t,BP,r)},writePackedSFixed64:function(t,r){r.length&&this.writeMessage(t,RP,r)},writeBytesField:function(t,r){this.writeTag(t,tr.Bytes),this.writeBytes(r)},writeFixed32Field:function(t,r){this.writeTag(t,tr.Fixed32),this.writeFixed32(r)},writeSFixed32Field:function(t,r){this.writeTag(t,tr.Fixed32),this.writeSFixed32(r)},writeFixed64Field:function(t,r){this.writeTag(t,tr.Fixed64),this.writeFixed64(r)},writeSFixed64Field:function(t,r){this.writeTag(t,tr.Fixed64),this.writeSFixed64(r)},writeVarintField:function(t,r){this.writeTag(t,tr.Varint),this.writeVarint(r)},writeSVarintField:function(t,r){this.writeTag(t,tr.Varint),this.writeSVarint(r)},writeStringField:function(t,r){this.writeTag(t,tr.Bytes),this.writeString(r)},writeFloatField:function(t,r){this.writeTag(t,tr.Fixed32),this.writeFloat(r)},writeDoubleField:function(t,r){this.writeTag(t,tr.Fixed64),this.writeDouble(r)},writeBooleanField:function(t,r){this.writeVarintField(t,Boolean(r))}};function AP(e,t,r){var n=r.buf,i,a;if(a=n[r.pos++],i=(a&112)>>4,a<128||(a=n[r.pos++],i|=(a&127)<<3,a<128)||(a=n[r.pos++],i|=(a&127)<<10,a<128)||(a=n[r.pos++],i|=(a&127)<<17,a<128)||(a=n[r.pos++],i|=(a&127)<<24,a<128)||(a=n[r.pos++],i|=(a&1)<<31,a<128))return O4(e,i,t);throw new Error("Expected varint not more than 10 bytes")}function Qa(e){return e.type===tr.Bytes?e.readVarint()+e.pos:e.pos+1}function O4(e,t,r){return r?t*4294967296+(e>>>0):(t>>>0)*4294967296+(e>>>0)}function CP(e,t){var r,n;if(e>=0?(r=e%4294967296|0,n=e/4294967296|0):(r=~(-e%4294967296),n=~(-e/4294967296),r^4294967295?r=r+1|0:(r=0,n=n+1|0)),e>=18446744073709552e3||e<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),DP(r,n,t),SP(n,t)}function DP(e,t,r){r.buf[r.pos++]=e&127|128,e>>>=7,r.buf[r.pos++]=e&127|128,e>>>=7,r.buf[r.pos++]=e&127|128,e>>>=7,r.buf[r.pos++]=e&127|128,e>>>=7,r.buf[r.pos]=e&127}function SP(e,t){var r=(e&7)<<4;t.buf[t.pos++]|=r|((e>>>=3)?128:0),!!e&&(t.buf[t.pos++]=e&127|((e>>>=7)?128:0),!!e&&(t.buf[t.pos++]=e&127|((e>>>=7)?128:0),!!e&&(t.buf[t.pos++]=e&127|((e>>>=7)?128:0),!!e&&(t.buf[t.pos++]=e&127|((e>>>=7)?128:0),!!e&&(t.buf[t.pos++]=e&127)))))}function Dx(e,t,r){var n=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(Math.LN2*7));r.realloc(n);for(var i=r.pos-1;i>=e;i--)r.buf[i+n]=r.buf[i]}function FP(e,t){for(var r=0;r<e.length;r++)t.writeVarint(e[r])}function TP(e,t){for(var r=0;r<e.length;r++)t.writeSVarint(e[r])}function MP(e,t){for(var r=0;r<e.length;r++)t.writeFloat(e[r])}function IP(e,t){for(var r=0;r<e.length;r++)t.writeDouble(e[r])}function NP(e,t){for(var r=0;r<e.length;r++)t.writeBoolean(e[r])}function OP(e,t){for(var r=0;r<e.length;r++)t.writeFixed32(e[r])}function PP(e,t){for(var r=0;r<e.length;r++)t.writeSFixed32(e[r])}function BP(e,t){for(var r=0;r<e.length;r++)t.writeFixed64(e[r])}function RP(e,t){for(var r=0;r<e.length;r++)t.writeSFixed64(e[r])}function B6(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+e[t+3]*16777216}function P4(e,t,r){e[r]=t,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24}function Sx(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function LP(e,t,r){for(var n="",i=t;i<r;){var a=e[i],o=null,s=a>239?4:a>223?3:a>191?2:1;if(i+s>r)break;var l,u,c;s===1?a<128&&(o=a):s===2?(l=e[i+1],(l&192)==128&&(o=(a&31)<<6|l&63,o<=127&&(o=null))):s===3?(l=e[i+1],u=e[i+2],(l&192)==128&&(u&192)==128&&(o=(a&15)<<12|(l&63)<<6|u&63,(o<=2047||o>=55296&&o<=57343)&&(o=null))):s===4&&(l=e[i+1],u=e[i+2],c=e[i+3],(l&192)==128&&(u&192)==128&&(c&192)==128&&(o=(a&15)<<18|(l&63)<<12|(u&63)<<6|c&63,(o<=65535||o>=1114112)&&(o=null))),o===null?(o=65533,s=1):o>65535&&(o-=65536,n+=String.fromCharCode(o>>>10&1023|55296),o=56320|o&1023),n+=String.fromCharCode(o),i+=s}return n}function jP(e,t,r){return Cx.decode(e.subarray(t,r))}function zP(e,t,r){for(var n=0,i,a;n<t.length;n++){if(i=t.charCodeAt(n),i>55295&&i<57344)if(a)if(i<56320){e[r++]=239,e[r++]=191,e[r++]=189,a=i;continue}else i=a-55296<<10|i-56320|65536,a=null;else{i>56319||n+1===t.length?(e[r++]=239,e[r++]=191,e[r++]=189):a=i;continue}else a&&(e[r++]=239,e[r++]=191,e[r++]=189,a=null);i<128?e[r++]=i:(i<2048?e[r++]=i>>6|192:(i<65536?e[r++]=i>>12|224:(e[r++]=i>>18|240,e[r++]=i>>12&63|128),e[r++]=i>>6&63|128),e[r++]=i&63|128)}return r}});var Wx=$e(function(T0,R4){pt();(function(){var e;function t(w){var b,h,g="",v=-1,x;if(w&&w.length)for(x=w.length;(v+=1)<x;)b=w.charCodeAt(v),h=v+1<x?w.charCodeAt(v+1):0,55296<=b&&b<=56319&&56320<=h&&h<=57343&&(b=65536+((b&1023)<<10)+(h&1023),v+=1),b<=127?g+=String.fromCharCode(b):b<=2047?g+=String.fromCharCode(192|b>>>6&31,128|b&63):b<=65535?g+=String.fromCharCode(224|b>>>12&15,128|b>>>6&63,128|b&63):b<=2097151&&(g+=String.fromCharCode(240|b>>>18&7,128|b>>>12&63,128|b>>>6&63,128|b&63));return g}function r(w){var b,h,g,v,x,_=[],y;if(b=h=g=v=x=0,w&&w.length)for(y=w.length,w+="";b<y;)g=w.charCodeAt(b),h+=1,g<128?(_[h]=String.fromCharCode(g),b+=1):g>191&&g<224?(v=w.charCodeAt(b+1),_[h]=String.fromCharCode((g&31)<<6|v&63),b+=2):(v=w.charCodeAt(b+1),x=w.charCodeAt(b+2),_[h]=String.fromCharCode((g&15)<<12|(v&63)<<6|x&63),b+=3);return _.join("")}function n(w,b){var h=(w&65535)+(b&65535),g=(w>>16)+(b>>16)+(h>>16);return g<<16|h&65535}function i(w,b){return w<<b|w>>>32-b}function a(w,b){for(var h=b?"0123456789ABCDEF":"0123456789abcdef",g="",v,x=0,_=w.length;x<_;x+=1)v=w.charCodeAt(x),g+=h.charAt(v>>>4&15)+h.charAt(v&15);return g}function o(w){var b,h=w.length,g="";for(b=0;b<h;b+=1)g+=String.fromCharCode(w.charCodeAt(b)&255,w.charCodeAt(b)>>>8&255);return g}function s(w){var b,h=w.length,g="";for(b=0;b<h;b+=1)g+=String.fromCharCode(w.charCodeAt(b)>>>8&255,w.charCodeAt(b)&255);return g}function l(w){var b,h=w.length*32,g="";for(b=0;b<h;b+=8)g+=String.fromCharCode(w[b>>5]>>>24-b%32&255);return g}function u(w){var b,h=w.length*32,g="";for(b=0;b<h;b+=8)g+=String.fromCharCode(w[b>>5]>>>b%32&255);return g}function c(w){var b,h=w.length*8,g=Array(w.length>>2),v=g.length;for(b=0;b<v;b+=1)g[b]=0;for(b=0;b<h;b+=8)g[b>>5]|=(w.charCodeAt(b/8)&255)<<b%32;return g}function d(w){var b,h=w.length*8,g=Array(w.length>>2),v=g.length;for(b=0;b<v;b+=1)g[b]=0;for(b=0;b<h;b+=8)g[b>>5]|=(w.charCodeAt(b/8)&255)<<24-b%32;return g}function p(w,b){var h=b.length,g=Array(),v,x,_,y,E,k,A,C;for(k=Array(Math.ceil(w.length/2)),y=k.length,v=0;v<y;v+=1)k[v]=w.charCodeAt(v*2)<<8|w.charCodeAt(v*2+1);for(;k.length>0;){for(E=Array(),_=0,v=0;v<k.length;v+=1)_=(_<<16)+k[v],x=Math.floor(_/h),_-=x*h,(E.length>0||x>0)&&(E[E.length]=x);g[g.length]=_,k=E}for(A="",v=g.length-1;v>=0;v--)A+=b.charAt(g[v]);for(C=Math.ceil(w.length*8/(Math.log(b.length)/Math.log(2))),v=A.length;v<C;v+=1)A=b[0]+A;return A}function m(w,b){var h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g="",v=w.length,x,_,y;for(b=b||"=",x=0;x<v;x+=3)for(y=w.charCodeAt(x)<<16|(x+1<v?w.charCodeAt(x+1)<<8:0)|(x+2<v?w.charCodeAt(x+2):0),_=0;_<4;_+=1)x*8+_*6>w.length*8?g+=b:g+=h.charAt(y>>>6*(3-_)&63);return g}e={VERSION:"1.0.6",Base64:function(){var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h="=",g=!1,v=!0;this.encode=function(x){var _,y,E,k="",A=x.length;for(h=h||"=",x=v?t(x):x,_=0;_<A;_+=3)for(E=x.charCodeAt(_)<<16|(_+1<A?x.charCodeAt(_+1)<<8:0)|(_+2<A?x.charCodeAt(_+2):0),y=0;y<4;y+=1)_*8+y*6>A*8?k+=h:k+=b.charAt(E>>>6*(3-y)&63);return k},this.decode=function(x){var _,y,E,k,A,C,D,S,N,R,P="",L=[];if(!x)return x;_=R=0,x=x.replace(new RegExp("\\"+h,"gi"),"");do A=b.indexOf(x.charAt(_+=1)),C=b.indexOf(x.charAt(_+=1)),D=b.indexOf(x.charAt(_+=1)),S=b.indexOf(x.charAt(_+=1)),N=A<<18|C<<12|D<<6|S,y=N>>16&255,E=N>>8&255,k=N&255,R+=1,D===64?L[R]=String.fromCharCode(y):S===64?L[R]=String.fromCharCode(y,E):L[R]=String.fromCharCode(y,E,k);while(_<x.length);return P=L.join(""),P=v?r(P):P,P},this.setPad=function(x){return h=x||h,this},this.setTab=function(x){return b=x||b,this},this.setUTF8=function(x){return typeof x=="boolean"&&(v=x),this}},CRC32:function(b){var h=0,g=0,v=0,x,_,y;for(b=t(b),x=["00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 ","79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 ","84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F ","63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD ","A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC ","51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 ","B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 ","06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 ","E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 ","12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 ","D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 ","33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 ","CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 ","9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E ","7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D ","806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 ","60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA ","AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 ","5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 ","B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 ","05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 ","F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA ","11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 ","D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F ","30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E ","C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D"].join(""),h=h^-1,_=0,y=b.length;_<y;_+=1)v=(h^b.charCodeAt(_))&255,g="0x"+x.substr(v*9,8),h=h>>>8^g;return(h^-1)>>>0},MD5:function(b){var h=b&&typeof b.uppercase=="boolean"?b.uppercase:!1,g=b&&typeof b.pad=="string"?b.pad:"=",v=b&&typeof b.utf8=="boolean"?b.utf8:!0;this.hex=function(S){return a(x(S,v),h)},this.b64=function(S){return m(x(S),g)},this.any=function(S,N){return p(x(S,v),N)},this.raw=function(S){return x(S,v)},this.hex_hmac=function(S,N){return a(_(S,N),h)},this.b64_hmac=function(S,N){return m(_(S,N),g)},this.any_hmac=function(S,N,R){return p(_(S,N),R)},this.vm_test=function(){return hex("abc").toLowerCase()==="900150983cd24fb0d6963f7d28e17f72"},this.setUpperCase=function(S){return typeof S=="boolean"&&(h=S),this},this.setPad=function(S){return g=S||g,this},this.setUTF8=function(S){return typeof S=="boolean"&&(v=S),this};function x(S){return S=v?t(S):S,u(y(c(S),S.length*8))}function _(S,N){var R,P,L,B,O;for(S=v?t(S):S,N=v?t(N):N,R=c(S),R.length>16&&(R=y(R,S.length*8)),P=Array(16),L=Array(16),O=0;O<16;O+=1)P[O]=R[O]^909522486,L[O]=R[O]^1549556828;return B=y(P.concat(c(N)),512+N.length*8),u(y(L.concat(B),512+128))}function y(S,N){var R,P,L,B,O,U=1732584193,T=-271733879,M=-1732584194,I=271733878;for(S[N>>5]|=128<<N%32,S[(N+64>>>9<<4)+14]=N,R=0;R<S.length;R+=16)P=U,L=T,B=M,O=I,U=k(U,T,M,I,S[R+0],7,-680876936),I=k(I,U,T,M,S[R+1],12,-389564586),M=k(M,I,U,T,S[R+2],17,606105819),T=k(T,M,I,U,S[R+3],22,-1044525330),U=k(U,T,M,I,S[R+4],7,-176418897),I=k(I,U,T,M,S[R+5],12,1200080426),M=k(M,I,U,T,S[R+6],17,-1473231341),T=k(T,M,I,U,S[R+7],22,-45705983),U=k(U,T,M,I,S[R+8],7,1770035416),I=k(I,U,T,M,S[R+9],12,-1958414417),M=k(M,I,U,T,S[R+10],17,-42063),T=k(T,M,I,U,S[R+11],22,-1990404162),U=k(U,T,M,I,S[R+12],7,1804603682),I=k(I,U,T,M,S[R+13],12,-40341101),M=k(M,I,U,T,S[R+14],17,-1502002290),T=k(T,M,I,U,S[R+15],22,1236535329),U=A(U,T,M,I,S[R+1],5,-165796510),I=A(I,U,T,M,S[R+6],9,-1069501632),M=A(M,I,U,T,S[R+11],14,643717713),T=A(T,M,I,U,S[R+0],20,-373897302),U=A(U,T,M,I,S[R+5],5,-701558691),I=A(I,U,T,M,S[R+10],9,38016083),M=A(M,I,U,T,S[R+15],14,-660478335),T=A(T,M,I,U,S[R+4],20,-405537848),U=A(U,T,M,I,S[R+9],5,568446438),I=A(I,U,T,M,S[R+14],9,-1019803690),M=A(M,I,U,T,S[R+3],14,-187363961),T=A(T,M,I,U,S[R+8],20,1163531501),U=A(U,T,M,I,S[R+13],5,-1444681467),I=A(I,U,T,M,S[R+2],9,-51403784),M=A(M,I,U,T,S[R+7],14,1735328473),T=A(T,M,I,U,S[R+12],20,-1926607734),U=C(U,T,M,I,S[R+5],4,-378558),I=C(I,U,T,M,S[R+8],11,-2022574463),M=C(M,I,U,T,S[R+11],16,1839030562),T=C(T,M,I,U,S[R+14],23,-35309556),U=C(U,T,M,I,S[R+1],4,-1530992060),I=C(I,U,T,M,S[R+4],11,1272893353),M=C(M,I,U,T,S[R+7],16,-155497632),T=C(T,M,I,U,S[R+10],23,-1094730640),U=C(U,T,M,I,S[R+13],4,681279174),I=C(I,U,T,M,S[R+0],11,-358537222),M=C(M,I,U,T,S[R+3],16,-722521979),T=C(T,M,I,U,S[R+6],23,76029189),U=C(U,T,M,I,S[R+9],4,-640364487),I=C(I,U,T,M,S[R+12],11,-421815835),M=C(M,I,U,T,S[R+15],16,530742520),T=C(T,M,I,U,S[R+2],23,-995338651),U=D(U,T,M,I,S[R+0],6,-198630844),I=D(I,U,T,M,S[R+7],10,1126891415),M=D(M,I,U,T,S[R+14],15,-1416354905),T=D(T,M,I,U,S[R+5],21,-57434055),U=D(U,T,M,I,S[R+12],6,1700485571),I=D(I,U,T,M,S[R+3],10,-1894986606),M=D(M,I,U,T,S[R+10],15,-1051523),T=D(T,M,I,U,S[R+1],21,-2054922799),U=D(U,T,M,I,S[R+8],6,1873313359),I=D(I,U,T,M,S[R+15],10,-30611744),M=D(M,I,U,T,S[R+6],15,-1560198380),T=D(T,M,I,U,S[R+13],21,1309151649),U=D(U,T,M,I,S[R+4],6,-145523070),I=D(I,U,T,M,S[R+11],10,-1120210379),M=D(M,I,U,T,S[R+2],15,718787259),T=D(T,M,I,U,S[R+9],21,-343485551),U=n(U,P),T=n(T,L),M=n(M,B),I=n(I,O);return Array(U,T,M,I)}function E(S,N,R,P,L,B){return n(i(n(n(N,S),n(P,B)),L),R)}function k(S,N,R,P,L,B,O){return E(N&R|~N&P,S,N,L,B,O)}function A(S,N,R,P,L,B,O){return E(N&P|R&~P,S,N,L,B,O)}function C(S,N,R,P,L,B,O){return E(N^R^P,S,N,L,B,O)}function D(S,N,R,P,L,B,O){return E(R^(N|~P),S,N,L,B,O)}},SHA1:function(b){var h=b&&typeof b.uppercase=="boolean"?b.uppercase:!1,g=b&&typeof b.pad=="string"?b.pad:"=",v=b&&typeof b.utf8=="boolean"?b.utf8:!0;this.hex=function(A){return a(x(A,v),h)},this.b64=function(A){return m(x(A,v),g)},this.any=function(A,C){return p(x(A,v),C)},this.raw=function(A){return x(A,v)},this.hex_hmac=function(A,C){return a(_(A,C))},this.b64_hmac=function(A,C){return m(_(A,C),g)},this.any_hmac=function(A,C,D){return p(_(A,C),D)},this.vm_test=function(){return hex("abc").toLowerCase()==="900150983cd24fb0d6963f7d28e17f72"},this.setUpperCase=function(A){return typeof A=="boolean"&&(h=A),this},this.setPad=function(A){return g=A||g,this},this.setUTF8=function(A){return typeof A=="boolean"&&(v=A),this};function x(A){return A=v?t(A):A,l(y(d(A),A.length*8))}function _(A,C){var D,S,N,R,P;for(A=v?t(A):A,C=v?t(C):C,D=d(A),D.length>16&&(D=y(D,A.length*8)),S=Array(16),N=Array(16),R=0;R<16;R+=1)S[R]=D[R]^909522486,N[R]=D[R]^1549556828;return P=y(S.concat(d(C)),512+C.length*8),l(y(N.concat(P),512+160))}function y(A,C){var D,S,N,R,P,L,B,O,U=Array(80),T=1732584193,M=-271733879,I=-1732584194,z=271733878,q=-1009589776;for(A[C>>5]|=128<<24-C%32,A[(C+64>>9<<4)+15]=C,D=0;D<A.length;D+=16){for(R=T,P=M,L=I,B=z,O=q,S=0;S<80;S+=1)S<16?U[S]=A[D+S]:U[S]=i(U[S-3]^U[S-8]^U[S-14]^U[S-16],1),N=n(n(i(T,5),E(S,M,I,z)),n(n(q,U[S]),k(S))),q=z,z=I,I=i(M,30),M=T,T=N;T=n(T,R),M=n(M,P),I=n(I,L),z=n(z,B),q=n(q,O)}return Array(T,M,I,z,q)}function E(A,C,D,S){return A<20?C&D|~C&S:A<40?C^D^S:A<60?C&D|C&S|D&S:C^D^S}function k(A){return A<20?1518500249:A<40?1859775393:A<60?-1894007588:-899497514}},SHA256:function(b){var h=b&&typeof b.uppercase=="boolean"?b.uppercase:!1,g=b&&typeof b.pad=="string"?b.pad:"=",v=b&&typeof b.utf8=="boolean"?b.utf8:!0,x;this.hex=function(T){return a(_(T,v))},this.b64=function(T){return m(_(T,v),g)},this.any=function(T,M){return p(_(T,v),M)},this.raw=function(T){return _(T,v)},this.hex_hmac=function(T,M){return a(y(T,M))},this.b64_hmac=function(T,M){return m(y(T,M),g)},this.any_hmac=function(T,M,I){return p(y(T,M),I)},this.vm_test=function(){return hex("abc").toLowerCase()==="900150983cd24fb0d6963f7d28e17f72"},this.setUpperCase=function(T){return typeof T=="boolean"&&(h=T),this},this.setPad=function(T){return g=T||g,this},this.setUTF8=function(T){return typeof T=="boolean"&&(v=T),this};function _(T,M){return T=M?t(T):T,l(U(d(T),T.length*8))}function y(T,M){T=v?t(T):T,M=v?t(M):M;var I,z=0,q=d(T),V=Array(16),Y=Array(16);for(q.length>16&&(q=U(q,T.length*8));z<16;z+=1)V[z]=q[z]^909522486,Y[z]=q[z]^1549556828;return I=U(V.concat(d(M)),512+M.length*8),l(U(Y.concat(I),512+256))}function E(T,M){return T>>>M|T<<32-M}function k(T,M){return T>>>M}function A(T,M,I){return T&M^~T&I}function C(T,M,I){return T&M^T&I^M&I}function D(T){return E(T,2)^E(T,13)^E(T,22)}function S(T){return E(T,6)^E(T,11)^E(T,25)}function N(T){return E(T,7)^E(T,18)^k(T,3)}function R(T){return E(T,17)^E(T,19)^k(T,10)}function P(T){return E(T,28)^E(T,34)^E(T,39)}function L(T){return E(T,14)^E(T,18)^E(T,41)}function B(T){return E(T,1)^E(T,8)^k(T,7)}function O(T){return E(T,19)^E(T,61)^k(T,6)}x=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998];function U(T,M){var I=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],z=new Array(64),q,V,Y,ee,ie,se,ve,le,re,Ae,ae,he;for(T[M>>5]|=128<<24-M%32,T[(M+64>>9<<4)+15]=M,re=0;re<T.length;re+=16){for(q=I[0],V=I[1],Y=I[2],ee=I[3],ie=I[4],se=I[5],ve=I[6],le=I[7],Ae=0;Ae<64;Ae+=1)Ae<16?z[Ae]=T[Ae+re]:z[Ae]=n(n(n(R(z[Ae-2]),z[Ae-7]),N(z[Ae-15])),z[Ae-16]),ae=n(n(n(n(le,S(ie)),A(ie,se,ve)),x[Ae]),z[Ae]),he=n(D(q),C(q,V,Y)),le=ve,ve=se,se=ie,ie=n(ee,ae),ee=Y,Y=V,V=q,q=n(ae,he);I[0]=n(q,I[0]),I[1]=n(V,I[1]),I[2]=n(Y,I[2]),I[3]=n(ee,I[3]),I[4]=n(ie,I[4]),I[5]=n(se,I[5]),I[6]=n(ve,I[6]),I[7]=n(le,I[7])}return I}},SHA512:function(b){var h=b&&typeof b.uppercase=="boolean"?b.uppercase:!1,g=b&&typeof b.pad=="string"?b.pad:"=",v=b&&typeof b.utf8=="boolean"?b.utf8:!0,x;this.hex=function(L){return a(_(L))},this.b64=function(L){return m(_(L),g)},this.any=function(L,B){return p(_(L),B)},this.raw=function(L){return _(L,v)},this.hex_hmac=function(L,B){return a(y(L,B))},this.b64_hmac=function(L,B){return m(y(L,B),g)},this.any_hmac=function(L,B,O){return p(y(L,B),O)},this.vm_test=function(){return hex("abc").toLowerCase()==="900150983cd24fb0d6963f7d28e17f72"},this.setUpperCase=function(L){return typeof L=="boolean"&&(h=L),this},this.setPad=function(L){return g=L||g,this},this.setUTF8=function(L){return typeof L=="boolean"&&(v=L),this};function _(L){return L=v?t(L):L,l(E(d(L),L.length*8))}function y(L,B){L=v?t(L):L,B=v?t(B):B;var O,U=0,T=d(L),M=Array(32),I=Array(32);for(T.length>32&&(T=E(T,L.length*8));U<32;U+=1)M[U]=T[U]^909522486,I[U]=T[U]^1549556828;return O=E(M.concat(d(B)),1024+B.length*8),l(E(I.concat(O),1024+512))}function E(L,B){var O,U,T,M=new Array(80),I=new Array(16),z=[new k(1779033703,-205731576),new k(-1150833019,-2067093701),new k(1013904242,-23791573),new k(-1521486534,1595750129),new k(1359893119,-1377402159),new k(-1694144372,725511199),new k(528734635,-79577749),new k(1541459225,327033209)],q=new k(0,0),V=new k(0,0),Y=new k(0,0),ee=new k(0,0),ie=new k(0,0),se=new k(0,0),ve=new k(0,0),le=new k(0,0),re=new k(0,0),Ae=new k(0,0),ae=new k(0,0),he=new k(0,0),Ce=new k(0,0),Te=new k(0,0),$=new k(0,0),W=new k(0,0),Q=new k(0,0);for(x===void 0&&(x=[new k(1116352408,-685199838),new k(1899447441,602891725),new k(-1245643825,-330482897),new k(-373957723,-2121671748),new k(961987163,-213338824),new k(1508970993,-1241133031),new k(-1841331548,-1357295717),new k(-1424204075,-630357736),new k(-670586216,-1560083902),new k(310598401,1164996542),new k(607225278,1323610764),new k(1426881987,-704662302),new k(1925078388,-226784913),new k(-2132889090,991336113),new k(-1680079193,633803317),new k(-1046744716,-815192428),new k(-459576895,-1628353838),new k(-272742522,944711139),new k(264347078,-1953704523),new k(604807628,2007800933),new k(770255983,1495990901),new k(1249150122,1856431235),new k(1555081692,-1119749164),new k(1996064986,-2096016459),new k(-1740746414,-295247957),new k(-1473132947,766784016),new k(-1341970488,-1728372417),new k(-1084653625,-1091629340),new k(-958395405,1034457026),new k(-710438585,-1828018395),new k(113926993,-536640913),new k(338241895,168717936),new k(666307205,1188179964),new k(773529912,1546045734),new k(1294757372,1522805485),new k(1396182291,-1651133473),new k(1695183700,-1951439906),new k(1986661051,1014477480),new k(-2117940946,1206759142),new k(-1838011259,344077627),new k(-1564481375,1290863460),new k(-1474664885,-1136513023),new k(-1035236496,-789014639),new k(-949202525,106217008),new k(-778901479,-688958952),new k(-694614492,1432725776),new k(-200395387,1467031594),new k(275423344,851169720),new k(430227734,-1194143544),new k(506948616,1363258195),new k(659060556,-544281703),new k(883997877,-509917016),new k(958139571,-976659869),new k(1322822218,-482243893),new k(1537002063,2003034995),new k(1747873779,-692930397),new k(1955562222,1575990012),new k(2024104815,1125592928),new k(-2067236844,-1578062990),new k(-1933114872,442776044),new k(-1866530822,593698344),new k(-1538233109,-561857047),new k(-1090935817,-1295615723),new k(-965641998,-479046869),new k(-903397682,-366583396),new k(-779700025,566280711),new k(-354779690,-840897762),new k(-176337025,-294727304),new k(116418474,1914138554),new k(174292421,-1563912026),new k(289380356,-1090974290),new k(460393269,320620315),new k(685471733,587496836),new k(852142971,1086792851),new k(1017036298,365543100),new k(1126000580,-1676669620),new k(1288033470,-885112138),new k(1501505948,-60457430),new k(1607167915,987167468),new k(1816402316,1246189591)]),U=0;U<80;U+=1)M[U]=new k(0,0);for(L[B>>5]|=128<<24-(B&31),L[(B+128>>10<<5)+31]=B,T=L.length,U=0;U<T;U+=32){for(A(Y,z[0]),A(ee,z[1]),A(ie,z[2]),A(se,z[3]),A(ve,z[4]),A(le,z[5]),A(re,z[6]),A(Ae,z[7]),O=0;O<16;O+=1)M[O].h=L[U+2*O],M[O].l=L[U+2*O+1];for(O=16;O<80;O+=1)C($,M[O-2],19),D(W,M[O-2],29),S(Q,M[O-2],6),he.l=$.l^W.l^Q.l,he.h=$.h^W.h^Q.h,C($,M[O-15],1),C(W,M[O-15],8),S(Q,M[O-15],7),ae.l=$.l^W.l^Q.l,ae.h=$.h^W.h^Q.h,R(M[O],he,M[O-7],ae,M[O-16]);for(O=0;O<80;O+=1)Ce.l=ve.l&le.l^~ve.l&re.l,Ce.h=ve.h&le.h^~ve.h&re.h,C($,ve,14),C(W,ve,18),D(Q,ve,9),he.l=$.l^W.l^Q.l,he.h=$.h^W.h^Q.h,C($,Y,28),D(W,Y,2),D(Q,Y,7),ae.l=$.l^W.l^Q.l,ae.h=$.h^W.h^Q.h,Te.l=Y.l&ee.l^Y.l&ie.l^ee.l&ie.l,Te.h=Y.h&ee.h^Y.h&ie.h^ee.h&ie.h,P(q,Ae,he,Ce,x[O],M[O]),N(V,ae,Te),A(Ae,re),A(re,le),A(le,ve),N(ve,se,q),A(se,ie),A(ie,ee),A(ee,Y),N(Y,q,V);N(z[0],z[0],Y),N(z[1],z[1],ee),N(z[2],z[2],ie),N(z[3],z[3],se),N(z[4],z[4],ve),N(z[5],z[5],le),N(z[6],z[6],re),N(z[7],z[7],Ae)}for(U=0;U<8;U+=1)I[2*U]=z[U].h,I[2*U+1]=z[U].l;return I}function k(L,B){this.h=L,this.l=B}function A(L,B){L.h=B.h,L.l=B.l}function C(L,B,O){L.l=B.l>>>O|B.h<<32-O,L.h=B.h>>>O|B.l<<32-O}function D(L,B,O){L.l=B.h>>>O|B.l<<32-O,L.h=B.l>>>O|B.h<<32-O}function S(L,B,O){L.l=B.l>>>O|B.h<<32-O,L.h=B.h>>>O}function N(L,B,O){var U=(B.l&65535)+(O.l&65535),T=(B.l>>>16)+(O.l>>>16)+(U>>>16),M=(B.h&65535)+(O.h&65535)+(T>>>16),I=(B.h>>>16)+(O.h>>>16)+(M>>>16);L.l=U&65535|T<<16,L.h=M&65535|I<<16}function R(L,B,O,U,T){var M=(B.l&65535)+(O.l&65535)+(U.l&65535)+(T.l&65535),I=(B.l>>>16)+(O.l>>>16)+(U.l>>>16)+(T.l>>>16)+(M>>>16),z=(B.h&65535)+(O.h&65535)+(U.h&65535)+(T.h&65535)+(I>>>16),q=(B.h>>>16)+(O.h>>>16)+(U.h>>>16)+(T.h>>>16)+(z>>>16);L.l=M&65535|I<<16,L.h=z&65535|q<<16}function P(L,B,O,U,T,M){var I=(B.l&65535)+(O.l&65535)+(U.l&65535)+(T.l&65535)+(M.l&65535),z=(B.l>>>16)+(O.l>>>16)+(U.l>>>16)+(T.l>>>16)+(M.l>>>16)+(I>>>16),q=(B.h&65535)+(O.h&65535)+(U.h&65535)+(T.h&65535)+(M.h&65535)+(z>>>16),V=(B.h>>>16)+(O.h>>>16)+(U.h>>>16)+(T.h>>>16)+(M.h>>>16)+(q>>>16);L.l=I&65535|z<<16,L.h=q&65535|V<<16}},RMD160:function(b){var h=b&&typeof b.uppercase=="boolean"?b.uppercase:!1,g=b&&typeof b.pad=="string"?b.pa:"=",v=b&&typeof b.utf8=="boolean"?b.utf8:!0,x=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],_=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],E=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];this.hex=function(P){return a(k(P,v))},this.b64=function(P){return m(k(P,v),g)},this.any=function(P,L){return p(k(P,v),L)},this.raw=function(P){return k(P,v)},this.hex_hmac=function(P,L){return a(A(P,L))},this.b64_hmac=function(P,L){return m(A(P,L),g)},this.any_hmac=function(P,L,B){return p(A(P,L),B)},this.vm_test=function(){return hex("abc").toLowerCase()==="900150983cd24fb0d6963f7d28e17f72"},this.setUpperCase=function(P){return typeof P=="boolean"&&(h=P),this},this.setPad=function(P){return typeof P!="undefined"&&(g=P),this},this.setUTF8=function(P){return typeof P=="boolean"&&(v=P),this};function k(P){return P=v?t(P):P,C(D(c(P),P.length*8))}function A(P,L){P=v?t(P):P,L=v?t(L):L;var B,O,U=c(P),T=Array(16),M=Array(16);for(U.length>16&&(U=D(U,P.length*8)),B=0;B<16;B+=1)T[B]=U[B]^909522486,M[B]=U[B]^1549556828;return O=D(T.concat(c(L)),512+L.length*8),C(D(M.concat(O),512+160))}function C(P){var L,B="",O=P.length*32;for(L=0;L<O;L+=8)B+=String.fromCharCode(P[L>>5]>>>L%32&255);return B}function D(P,L){var B,O,U,T,M=1732584193,I=4023233417,z=2562383102,q=271733878,V=3285377520,Y,ee,ie,se,ve,le,re,Ae,ae,he;for(P[L>>5]|=128<<L%32,P[(L+64>>>9<<4)+14]=L,T=P.length,U=0;U<T;U+=16){for(Y=le=M,ee=re=I,ie=Ae=z,se=ae=q,ve=he=V,O=0;O<=79;O+=1)B=n(Y,S(O,ee,ie,se)),B=n(B,P[U+x[O]]),B=n(B,N(O)),B=n(i(B,y[O]),ve),Y=ve,ve=se,se=i(ie,10),ie=ee,ee=B,B=n(le,S(79-O,re,Ae,ae)),B=n(B,P[U+_[O]]),B=n(B,R(O)),B=n(i(B,E[O]),he),le=he,he=ae,ae=i(Ae,10),Ae=re,re=B;B=n(I,n(ie,ae)),I=n(z,n(se,he)),z=n(q,n(ve,le)),q=n(V,n(Y,re)),V=n(M,n(ee,Ae)),M=B}return[M,I,z,q,V]}function S(P,L,B,O){return 0<=P&&P<=15?L^B^O:16<=P&&P<=31?L&B|~L&O:32<=P&&P<=47?(L|~B)^O:48<=P&&P<=63?L&O|B&~O:64<=P&&P<=79?L^(B|~O):"rmd160_f: j out of range"}function N(P){return 0<=P&&P<=15?0:16<=P&&P<=31?1518500249:32<=P&&P<=47?1859775393:48<=P&&P<=63?2400959708:64<=P&&P<=79?2840853838:"rmd160_K1: j out of range"}function R(P){return 0<=P&&P<=15?1352829926:16<=P&&P<=31?1548603684:32<=P&&P<=47?1836072691:48<=P&&P<=63?2053994217:64<=P&&P<=79?0:"rmd160_K2: j out of range"}}},function(w,b){var h=!1;(typeof T0=="undefined"?"undefined":Se(T0))==="object"&&(h=T0,T0&&(typeof global=="undefined"?"undefined":Se(global))==="object"&&global&&global===global.global&&(w=global)),typeof define=="function"&&Se(define.amd)==="object"&&define.amd?define(function(){return e}):h?(typeof R4=="undefined"?"undefined":Se(R4))==="object"&&R4&&R4.exports===h?R4.exports=e:h.Hashes=e:w.Hashes=e}(this)})()});var Kx=$e(function(Gze,Vx){"use strict";var gB=Wx(),vB=new gB.SHA1,yB=Object.prototype.hasOwnProperty;function bB(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var n in r)yB.call(r,n)&&(e[n]=r[n])}return e}var cr={};cr.qsString=function(e){return Object.keys(e).sort().map(function(t){return cr.percentEncode(t)+"="+cr.percentEncode(e[t])}).join("&")};cr.stringQs=function(e){return e.split("&").filter(function(t){return t!==""}).reduce(function(t,r){var n=r.split("=");return t[decodeURIComponent(n[0])]=n[1]===null?"":decodeURIComponent(n[1]),t},{})};cr.rawxhr=function(e,t,r,n,i){var a=new XMLHttpRequest,o=/^20\d$/;a.onreadystatechange=function(){if(a.readyState===4&&a.status!==0)if(o.test(a.status))i(null,a);else return i(a,null)},a.onerror=function(l){return i(l,null)},a.open(e,t,!0);for(var s in n)a.setRequestHeader(s,n[s]);return a.send(r),a};cr.xhr=function(e,t,r,n,i,a){var o=i&&i.header||{"Content-Type":"application/x-www-form-urlencoded"};return o.Authorization="OAuth "+cr.authHeader(r),cr.rawxhr(e,t,n,o,a)};cr.nonce=function(){for(var e="";e.length<6;)e+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz"[Math.floor(Math.random()*61)];return e};cr.authHeader=function(e){return Object.keys(e).sort().map(function(t){return encodeURIComponent(t)+'="'+encodeURIComponent(e[t])+'"'}).join(", ")};cr.timestamp=function(){return~~(+new Date/1e3)};cr.percentEncode=function(e){return encodeURIComponent(e).replace(/\!/g,"%21").replace(/\'/g,"%27").replace(/\*/g,"%2A").replace(/\(/g,"%28").replace(/\)/g,"%29")};cr.baseString=function(e,t,r){return r.oauth_signature&&delete r.oauth_signature,[e,cr.percentEncode(t),cr.percentEncode(cr.qsString(r))].join("&")};cr.signature=function(e,t,r){return vB.b64_hmac(cr.percentEncode(e)+"&"+cr.percentEncode(t),r)};cr.headerGenerator=function(e){e=e||{};var t=e.consumer_key||"",r=e.consumer_secret||"",n=e.signature_method||"HMAC-SHA1",i=e.version||"1.0",a=e.token||"",o=e.token_secret||"";return function(s,l,u){s=s.toUpperCase(),typeof u=="string"&&u.length>0&&(u=cr.stringQs(u));var c=l.split("?",2),d=c[0],p=c.length===2?cr.stringQs(c[1]):{},m={oauth_consumer_key:t,oauth_signature_method:n,oauth_version:i,oauth_timestamp:cr.timestamp(),oauth_nonce:cr.nonce()};a&&(m.oauth_token=a);var w=bB({},m,p,u),b=cr.baseString(s,d,w);return m.oauth_signature=cr.signature(r,o,b),"OAuth "+cr.authHeader(m)}};Vx.exports=cr});var Zx=$e(function(wf,Yx){pt();(function(e,t){typeof define=="function"&&define.amd?define(t):(typeof wf=="undefined"?"undefined":Se(wf))==="object"?Yx.exports=t():e.resolveUrl=t()})(void 0,function(){function e(){var t=arguments.length;if(t===0)throw new Error("resolveUrl requires at least one argument; got none.");var r=document.createElement("base");if(r.href=arguments[0],t===1)return r.href;var n=document.getElementsByTagName("head")[0];n.insertBefore(r,n.firstChild);for(var i=document.createElement("a"),a,o=1;o<t;o++)i.href=arguments[o],a=i.href,r.href=a;return n.removeChild(r),a}return e})});var k1=$e(function(Wze,$x){var xf=kB(),wB=EB(),xB=AB(),_B=typeof window!="undefined"?window:global;$x.exports={assign:xf,create:wB,trim:xB,bind:CB,slice:_f,each:Xx,map:DB,pluck:kf,isList:Ef,isFunction:SB,isObject:FB,Global:_B};function kB(){return Object.assign?Object.assign:function(t,r,n,i){for(var a=1;a<arguments.length;a++)Xx(Object(arguments[a]),function(o,s){t[s]=o});return t}}function EB(){if(Object.create)return function(r,n,i,a){var o=_f(arguments,1);return xf.apply(this,[Object.create(r)].concat(o))};var t=function(){},e=t;return function(n,i,a,o){var s=_f(arguments,1);return t.prototype=n,xf.apply(this,[new t].concat(s))}}function AB(){return String.prototype.trim?function(t){return String.prototype.trim.call(t)}:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}function CB(e,t){return function(){return t.apply(e,Array.prototype.slice.call(arguments,0))}}function _f(e,t){return Array.prototype.slice.call(e,t||0)}function Xx(e,t){kf(e,function(r,n){return t(r,n),!1})}function DB(e,t){var r=Ef(e)?[]:{};return kf(e,function(n,i){return r[i]=t(n,i),!1}),r}function kf(e,t){if(Ef(e)){for(var r=0;r<e.length;r++)if(t(e[r],r))return e[r]}else for(var n in e)if(e.hasOwnProperty(n)&&t(e[n],n))return e[n]}function Ef(e){return e!=null&&typeof e!="function"&&typeof e.length=="number"}function SB(e){return e&&{}.toString.call(e)==="[object Function]"}function FB(e){return e&&{}.toString.call(e)==="[object Object]"}});var e_=$e(function(Vze,Jx){var Bo=k1(),TB=Bo.slice,MB=Bo.pluck,L4=Bo.each,IB=Bo.bind,NB=Bo.create,Af=Bo.isList,Cf=Bo.isFunction,OB=Bo.isObject;Jx.exports={createStore:Df};var PB={version:"2.0.12",enabled:!1,get:function(t,r){var n=this.storage.read(this._namespacePrefix+t);return this._deserialize(n,r)},set:function(t,r){return r===void 0?this.remove(t):(this.storage.write(this._namespacePrefix+t,this._serialize(r)),r)},remove:function(t){this.storage.remove(this._namespacePrefix+t)},each:function(t){var r=this;this.storage.each(function(n,i){t.call(r,r._deserialize(n),(i||"").replace(r._namespaceRegexp,""))})},clearAll:function(){this.storage.clearAll()},hasNamespace:function(t){return this._namespacePrefix=="__storejs_"+t+"_"},createStore:function(){return Df.apply(this,arguments)},addPlugin:function(t){this._addPlugin(t)},namespace:function(t){return Df(this.storage,this.plugins,t)}};function BB(){var e=typeof console=="undefined"?null:console;if(!!e){var t=e.warn?e.warn:e.log;t.apply(e,arguments)}}function Df(e,t,r){r||(r=""),e&&!Af(e)&&(e=[e]),t&&!Af(t)&&(t=[t]);var n=r?"__storejs_"+r+"_":"",i=r?new RegExp("^"+n):null,a=/^[a-zA-Z0-9_\-]*$/;if(!a.test(r))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var o={_namespacePrefix:n,_namespaceRegexp:i,_testStorage:function(u){try{var c="__storejs__test__";u.write(c,c);var d=u.read(c)===c;return u.remove(c),d}catch(p){return!1}},_assignPluginFnProp:function(u,c){var d=this[c];this[c]=function(){var m=TB(arguments,0),w=this;function b(){if(!!d)return L4(arguments,function(g,v){m[v]=g}),d.apply(w,m)}var h=[b].concat(m);return u.apply(w,h)}},_serialize:function(u){return JSON.stringify(u)},_deserialize:function(u,c){if(!u)return c;var d="";try{d=JSON.parse(u)}catch(p){d=u}return d!==void 0?d:c},_addStorage:function(u){this.enabled||this._testStorage(u)&&(this.storage=u,this.enabled=!0)},_addPlugin:function(u){var c=this;if(Af(u)){L4(u,function(m){c._addPlugin(m)});return}var d=MB(this.plugins,function(m){return u===m});if(!d){if(this.plugins.push(u),!Cf(u))throw new Error("Plugins must be function values that return objects");var p=u.call(this);if(!OB(p))throw new Error("Plugins must return an object of function properties");L4(p,function(m,w){if(!Cf(m))throw new Error("Bad plugin property: "+w+" from plugin "+u.name+". Plugins should only return functions.");c._assignPluginFnProp(m,w)})}},addStorage:function(u){BB("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(u)}},s=NB(o,PB,{plugins:[]});return s.raw={},L4(s,function(l,u){Cf(l)&&(s.raw[u]=IB(s,l))}),L4(e,function(l){s._addStorage(l)}),L4(t,function(l){s._addPlugin(l)}),s}});var n_=$e(function(Kze,r_){var RB=k1(),LB=RB.Global;r_.exports={name:"localStorage",read:t_,write:jB,each:zB,remove:UB,clearAll:qB};function j4(){return LB.localStorage}function t_(e){return j4().getItem(e)}function jB(e,t){return j4().setItem(e,t)}function zB(e){for(var t=j4().length-1;t>=0;t--){var r=j4().key(t);e(t_(r),r)}}function UB(e){return j4().removeItem(e)}function qB(){return j4().clear()}});var o_=$e(function(Yze,a_){var QB=k1(),GB=QB.Global;a_.exports={name:"oldFF-globalStorage",read:HB,write:WB,each:i_,remove:VB,clearAll:KB};var E1=GB.globalStorage;function HB(e){return E1[e]}function WB(e,t){E1[e]=t}function i_(e){for(var t=E1.length-1;t>=0;t--){var r=E1.key(t);e(E1[r],r)}}function VB(e){return E1.removeItem(e)}function KB(){i_(function(e,t){delete E1[e]})}});var u_=$e(function(Zze,l_){var YB=k1(),Sf=YB.Global;l_.exports={name:"oldIE-userDataStorage",write:ZB,read:XB,each:$B,remove:JB,clearAll:eR};var M0="storejs",I0=Sf.document,N0=rR(),s_=(Sf.navigator?Sf.navigator.userAgent:"").match(/ (MSIE 8|MSIE 9|MSIE 10)\./);function ZB(e,t){if(!s_){var r=Ff(e);N0(function(n){n.setAttribute(r,t),n.save(M0)})}}function XB(e){if(!s_){var t=Ff(e),r=null;return N0(function(n){r=n.getAttribute(t)}),r}}function $B(e){N0(function(t){for(var r=t.XMLDocument.documentElement.attributes,n=r.length-1;n>=0;n--){var i=r[n];e(t.getAttribute(i.name),i.name)}})}function JB(e){var t=Ff(e);N0(function(r){r.removeAttribute(t),r.save(M0)})}function eR(){N0(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(M0);for(var r=t.length-1;r>=0;r--)e.removeAttribute(t[r].name);e.save(M0)})}var tR=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");function Ff(e){return e.replace(/^\d/,"___$&").replace(tR,"___")}function rR(){if(!I0||!I0.documentElement||!I0.documentElement.addBehavior)return null;var e="script",t,r,n;try{r=new ActiveXObject("htmlfile"),r.open(),r.write("<"+e+">document.w=window</"+e+'><iframe src="/favicon.ico"></iframe>'),r.close(),t=r.w.frames[0].document,n=t.createElement("div")}catch(i){n=I0.createElement("div"),t=I0.body}return function(i){var a=[].slice.call(arguments,0);a.unshift(n),t.appendChild(n),n.addBehavior("#default#userData"),n.load(M0),i.apply(this,a),t.removeChild(n)}}});var h_=$e(function(Xze,m_){var c_=k1(),nR=c_.Global,iR=c_.trim;m_.exports={name:"cookieStorage",read:aR,write:oR,each:f_,remove:d_,clearAll:sR};var O0=nR.document;function aR(e){if(!e||!p_(e))return null;var t="(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(O0.cookie.replace(new RegExp(t),"$1"))}function f_(e){for(var t=O0.cookie.split(/; ?/g),r=t.length-1;r>=0;r--)if(!!iR(t[r])){var n=t[r].split("="),i=unescape(n[0]),a=unescape(n[1]);e(a,i)}}function oR(e,t){!e||(O0.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")}function d_(e){!e||!p_(e)||(O0.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function sR(){f_(function(e,t){d_(t)})}function p_(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(O0.cookie)}});var y_=$e(function($ze,v_){var lR=k1(),uR=lR.Global;v_.exports={name:"sessionStorage",read:g_,write:cR,each:fR,remove:dR,clearAll:pR};function z4(){return uR.sessionStorage}function g_(e){return z4().getItem(e)}function cR(e,t){return z4().setItem(e,t)}function fR(e){for(var t=z4().length-1;t>=0;t--){var r=z4().key(t);e(g_(r),r)}}function dR(e){return z4().removeItem(e)}function pR(){return z4().clear()}});var w_=$e(function(Jze,b_){b_.exports={name:"memoryStorage",read:mR,write:hR,each:gR,remove:vR,clearAll:yR};var A1={};function mR(e){return A1[e]}function hR(e,t){A1[e]=t}function gR(e){for(var t in A1)A1.hasOwnProperty(t)&&e(A1[t],t)}function vR(e){delete A1[e]}function yR(e){A1={}}});var __=$e(function(eUe,x_){x_.exports=[n_(),o_(),u_(),h_(),y_(),w_()]});var k_={};e7(k_);var E_=Ya(function(){pt();(typeof JSON=="undefined"?"undefined":Se(JSON))!=="object"&&(JSON={});(function(){"use strict";var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;function f(e){return e<10?"0"+e:e}function this_value(){return this.valueOf()}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value);var gap,indent,meta,rep;function quote(e){return rx_escapable.lastIndex=0,rx_escapable.test(e)?'"'+e.replace(rx_escapable,function(t){var r=meta[t];return typeof r=="string"?r:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var r,n,i,a,o=gap,s,l=t[e];switch(l&&Se(l)==="object"&&typeof l.toJSON=="function"&&(l=l.toJSON(e)),typeof rep=="function"&&(l=rep.call(t,e,l)),Se(l)){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,s=[],Object.prototype.toString.apply(l)==="[object Array]"){for(a=l.length,r=0;r<a;r+=1)s[r]=str(r,l)||"null";return i=s.length===0?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+o+"]":"["+s.join(",")+"]",gap=o,i}if(rep&&Se(rep)==="object")for(a=rep.length,r=0;r<a;r+=1)typeof rep[r]=="string"&&(n=rep[r],i=str(n,l),i&&s.push(quote(n)+(gap?": ":":")+i));else for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(i=str(n,l),i&&s.push(quote(n)+(gap?": ":":")+i));return i=s.length===0?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+o+"}":"{"+s.join(",")+"}",gap=o,i}}typeof JSON.stringify!="function"&&(meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,r){var n;if(gap="",indent="",typeof r=="number")for(n=0;n<r;n+=1)indent+=" ";else typeof r=="string"&&(indent=r);if(rep=t,t&&typeof t!="function"&&(Se(t)!=="object"||typeof t.length!="number"))throw new Error("JSON.stringify");return str("",{"":e})}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){var j;function walk(e,t){var r,n,i=e[t];if(i&&Se(i)==="object")for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n=walk(i,r),n!==void 0?i[r]=n:delete i[r]);return reviver.call(e,t,i)}if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})})()});var C_=$e(function(rUe,A_){A_.exports=bR;function bR(){return E_(),k_,{}}});var S_=$e(function(nUe,D_){var wR=e_(),xR=__(),_R=[C_()];D_.exports=wR.createStore(xR,_R)});var M_=$e(function(iUe,T_){"use strict";var jr=Kx(),kR=Zx(),Tf=S_(),ER=Object.prototype.hasOwnProperty;function F_(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var n in r)ER.call(r,n)&&(e[n]=r[n])}return e}T_.exports=function(e){var t={};t.authenticated=function(){return!!(n("oauth_token")&&n("oauth_token_secret"))},t.logout=function(){return n("oauth_token",""),n("oauth_token_secret",""),n("oauth_request_token_secret",""),t},t.authenticate=function(o){if(t.authenticated())return o();t.logout();var s=r(a(e)),l=e.url+"/oauth/request_token";if(s.oauth_signature=jr.signature(e.oauth_secret,"",jr.baseString("POST",l,s)),!e.singlepage){var u=600,c=550,d=[["width",u],["height",c],["left",screen.width/2-u/2],["top",screen.height/2-c/2]].map(function(g){return g.join("=")}).join(","),p=window.open("about:blank","oauth_window",d);if(t.popupWindow=p,!p){var m=new Error("Popup was blocked");throw m.status="popup-blocked",m}}jr.xhr("POST",l,s,null,{},w),e.loading();function w(g,v){if(e.done(),g)return o(g);var x=jr.stringQs(v.response);n("oauth_request_token_secret",x.oauth_token_secret);var _=e.url+"/oauth/authorize?"+jr.qsString({oauth_token:x.oauth_token,oauth_callback:kR(e.landing)});e.singlepage?location.href=_:p.location=_}window.authComplete=function(g){var v=jr.stringQs(g.split("?")[1]);b(v.oauth_token),delete window.authComplete};function b(g){var v=e.url+"/oauth/access_token",x=r(a(e)),_=n("oauth_request_token_secret");x.oauth_token=g,x.oauth_signature=jr.signature(e.oauth_secret,_,jr.baseString("POST",v,x)),jr.xhr("POST",v,x,null,{},h),e.loading()}function h(g,v){if(e.done(),g)return o(g);var x=jr.stringQs(v.response);n("oauth_token",x.oauth_token),n("oauth_token_secret",x.oauth_token_secret),o(null,t)}},t.bringPopupWindowToFront=function(){var o=!1;try{t.popupWindow&&!t.popupWindow.closed&&(t.popupWindow.focus(),o=!0)}catch(s){}return o},t.bootstrapToken=function(o,s){function l(c){var d=e.url+"/oauth/access_token",p=r(a(e)),m=n("oauth_request_token_secret");p.oauth_token=c,p.oauth_signature=jr.signature(e.oauth_secret,m,jr.baseString("POST",d,p)),jr.xhr("POST",d,p,null,{},u),e.loading()}function u(c,d){if(e.done(),c)return s(c);var p=jr.stringQs(d.response);n("oauth_token",p.oauth_token),n("oauth_token_secret",p.oauth_token_secret),s(null,t)}l(o)},t.xhr=function(o,s){if(t.authenticated())return l();if(e.auto)return t.authenticate(l);s("not authenticated",null);return;function l(){var c=r(a(e)),d=n("oauth_token_secret"),p=o.prefix!==!1?e.url+o.path:o.path,m=p.replace(/#.*$/,"").split("?",2),w=m[0],b=m.length===2?m[1]:"";return(!o.options||!o.options.header||o.options.header["Content-Type"]==="application/x-www-form-urlencoded")&&o.content&&(c=F_(c,jr.stringQs(o.content))),c.oauth_token=n("oauth_token"),c.oauth_signature=jr.signature(e.oauth_secret,d,jr.baseString(o.method,w,F_(c,jr.stringQs(b)))),jr.xhr(o.method,p,c,o.content,o.options,u)}function u(c,d){return c?s(c):d.responseXML?s(c,d.responseXML):s(c,d.response)}},t.preauth=function(o){if(!!o)return o.oauth_token&&n("oauth_token",o.oauth_token),o.oauth_token_secret&&n("oauth_token_secret",o.oauth_token_secret),t},t.options=function(o){return arguments.length?(e=o,e.url=e.url||"https://www.openstreetmap.org",e.landing=e.landing||"land.html",e.singlepage=e.singlepage||!1,e.loading=e.loading||function(){},e.done=e.done||function(){},t.preauth(e)):e};function r(o){return o.oauth_timestamp=jr.timestamp(),o.oauth_nonce=jr.nonce(),o}var n;if(Tf.enabled)n=function(s,l){if(arguments.length===1)return Tf.get(e.url+s);if(arguments.length===2)return Tf.set(e.url+s,l)};else{var i={};n=function(s,l){if(arguments.length===1)return i[e.url+s];if(arguments.length===2)return i[e.url+s]=l}}function a(o){return{oauth_consumer_key:o.oauth_consumer_key,oauth_signature_method:"HMAC-SHA1"}}return t.options(e),t}});pt();var hn=typeof globalThis!="undefined"&&globalThis||typeof self!="undefined"&&self||typeof hn!="undefined"&&hn,Rn={searchParams:"URLSearchParams"in hn,iterable:"Symbol"in hn&&"iterator"in Symbol,blob:"FileReader"in hn&&"Blob"in hn&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in hn,arrayBuffer:"ArrayBuffer"in hn};function bk(e){return e&&DataView.prototype.isPrototypeOf(e)}Rn.arrayBuffer&&(Jf=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],ed=ArrayBuffer.isView||function(e){return e&&Jf.indexOf(Object.prototype.toString.call(e))>-1});var Jf,ed;function W4(e){if(typeof e!="string"&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||e==="")throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function r7(e){return typeof e!="string"&&(e=String(e)),e}function n7(e){var t={next:function(){var n=e.shift();return{done:n===void 0,value:n}}};return Rn.iterable&&(t[Symbol.iterator]=function(){return t}),t}function Vr(e){this.map={},e instanceof Vr?e.forEach(function(t,r){this.append(r,t)},this):Array.isArray(e)?e.forEach(function(t){this.append(t[0],t[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}Vr.prototype.append=function(e,t){e=W4(e),t=r7(t);var r=this.map[e];this.map[e]=r?r+", "+t:t};Vr.prototype.delete=function(e){delete this.map[W4(e)]};Vr.prototype.get=function(e){return e=W4(e),this.has(e)?this.map[e]:null};Vr.prototype.has=function(e){return this.map.hasOwnProperty(W4(e))};Vr.prototype.set=function(e,t){this.map[W4(e)]=r7(t)};Vr.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)};Vr.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),n7(e)};Vr.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),n7(e)};Vr.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),n7(e)};Rn.iterable&&(Vr.prototype[Symbol.iterator]=Vr.prototype.entries);function i7(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function td(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function wk(e){var t=new FileReader,r=td(t);return t.readAsArrayBuffer(e),r}function xk(e){var t=new FileReader,r=td(t);return t.readAsText(e),r}function _k(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}function rd(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function nd(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?typeof e=="string"?this._bodyText=e:Rn.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:Rn.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:Rn.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():Rn.arrayBuffer&&Rn.blob&&bk(e)?(this._bodyArrayBuffer=rd(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Rn.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||ed(e))?this._bodyArrayBuffer=rd(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||(typeof e=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Rn.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Rn.blob&&(this.blob=function(){var e=i7(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=i7(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(wk)}),this.text=function(){var e=i7(this);if(e)return e;if(this._bodyBlob)return xk(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(_k(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Rn.formData&&(this.formData=function(){return this.text().then(Ak)}),this.json=function(){return this.text().then(JSON.parse)},this}var kk=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Ek(e){var t=e.toUpperCase();return kk.indexOf(t)>-1?t:e}function Lo(e,t){if(!(this instanceof Lo))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t=t||{};var r=t.body;if(e instanceof Lo){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new Vr(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,!r&&e._bodyInit!=null&&(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new Vr(t.headers)),this.method=Ek(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),(this.method==="GET"||this.method==="HEAD")&&(t.cache==="no-store"||t.cache==="no-cache")){var n=/([?&])_=[^&]*/;if(n.test(this.url))this.url=this.url.replace(n,"$1_="+new Date().getTime());else{var i=/\?/;this.url+=(i.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}Lo.prototype.clone=function(){return new Lo(this,{body:this._bodyInit})};function Ak(e){var t=new FormData;return e.trim().split("&").forEach(function(r){if(r){var n=r.split("="),i=n.shift().replace(/\+/g," "),a=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(a))}}),t}function Ck(e){var t=new Vr,r=e.replace(/\r?\n[\t ]+/g," ");return r.split("\r").map(function(n){return n.indexOf("\n")===0?n.substr(1,n.length):n}).forEach(function(n){var i=n.split(":"),a=i.shift().trim();if(a){var o=i.join(":").trim();t.append(a,o)}}),t}nd.call(Lo.prototype);function Yi(e,t){if(!(this instanceof Yi))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=t.status===void 0?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText===void 0?"":""+t.statusText,this.headers=new Vr(t.headers),this.url=t.url||"",this._initBody(e)}nd.call(Yi.prototype);Yi.prototype.clone=function(){return new Yi(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Vr(this.headers),url:this.url})};Yi.error=function(){var e=new Yi(null,{status:0,statusText:""});return e.type="error",e};var Dk=[301,302,303,307,308];Yi.redirect=function(e,t){if(Dk.indexOf(t)===-1)throw new RangeError("Invalid status code");return new Yi(null,{status:t,headers:{location:e}})};var jo=hn.DOMException;try{new jo}catch(e){jo=function(r,n){this.message=r,this.name=n;var i=Error(r);this.stack=i.stack},jo.prototype=Object.create(Error.prototype),jo.prototype.constructor=jo}function id(e,t){return new Promise(function(r,n){var i=new Lo(e,t);if(i.signal&&i.signal.aborted)return n(new jo("Aborted","AbortError"));var a=new XMLHttpRequest;function o(){a.abort()}a.onload=function(){var l={status:a.status,statusText:a.statusText,headers:Ck(a.getAllResponseHeaders()||"")};l.url="responseURL"in a?a.responseURL:l.headers.get("X-Request-URL");var u="response"in a?a.response:a.responseText;setTimeout(function(){r(new Yi(u,l))},0)},a.onerror=function(){setTimeout(function(){n(new TypeError("Network request failed"))},0)},a.ontimeout=function(){setTimeout(function(){n(new TypeError("Network request failed"))},0)},a.onabort=function(){setTimeout(function(){n(new jo("Aborted","AbortError"))},0)};function s(l){try{return l===""&&hn.location.href?hn.location.href:l}catch(u){return l}}a.open(i.method,s(i.url),!0),i.credentials==="include"?a.withCredentials=!0:i.credentials==="omit"&&(a.withCredentials=!1),"responseType"in a&&(Rn.blob?a.responseType="blob":Rn.arrayBuffer&&i.headers.get("Content-Type")&&i.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(a.responseType="arraybuffer")),t&&Se(t.headers)==="object"&&!(t.headers instanceof Vr)?Object.getOwnPropertyNames(t.headers).forEach(function(l){a.setRequestHeader(l,r7(t.headers[l]))}):i.headers.forEach(function(l,u){a.setRequestHeader(u,l)}),i.signal&&(i.signal.addEventListener("abort",o),a.onreadystatechange=function(){a.readyState===4&&i.signal.removeEventListener("abort",o)}),a.send(typeof i._bodyInit=="undefined"?null:i._bodyInit)})}id.polyfill=!0;hn.fetch||(hn.fetch=id,hn.Headers=Vr,hn.Request=Lo,hn.Response=Yi);pt();(function(e){typeof define=="function"&&define.amd?define(e):e()})(function(){"use strict";function e(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function t(g,v){for(var x=0;x<v.length;x++){var _=v[x];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}function r(g,v,x){return v&&t(g.prototype,v),x&&t(g,x),g}function n(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),v&&a(g,v)}function i(g){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},i(g)}function a(g,v){return a=Object.setPrototypeOf||function(_,y){return _.__proto__=y,_},a(g,v)}function o(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(g){return!1}}function s(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function l(g,v){return v&&(Se(v)==="object"||typeof v=="function")?v:s(g)}function u(g){var v=o();return function(){var _=i(g),y;if(v){var E=i(this).constructor;y=Reflect.construct(_,arguments,E)}else y=_.apply(this,arguments);return l(this,y)}}function c(g,v){for(;!Object.prototype.hasOwnProperty.call(g,v)&&(g=i(g),g!==null););return g}function d(g,v,x){return typeof Reflect!="undefined"&&Reflect.get?d=Reflect.get:d=function(y,E,k){var A=c(y,E);if(!!A){var C=Object.getOwnPropertyDescriptor(A,E);return C.get?C.get.call(k):C.value}},d(g,v,x||g)}var p=function(){function g(){e(this,g),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(g,[{key:"addEventListener",value:function(x,_,y){x in this.listeners||(this.listeners[x]=[]),this.listeners[x].push({callback:_,options:y})}},{key:"removeEventListener",value:function(x,_){if(x in this.listeners){for(var y=this.listeners[x],E=0,k=y.length;E<k;E++)if(y[E].callback===_){y.splice(E,1);return}}}},{key:"dispatchEvent",value:function(x){if(x.type in this.listeners){for(var _=this.listeners[x.type],y=_.slice(),E=0,k=y.length;E<k;E++){var A=y[E];try{A.callback.call(this,x)}catch(C){Promise.resolve().then(function(){throw C})}A.options&&A.options.once&&this.removeEventListener(x.type,A.callback)}return!x.defaultPrevented}}}]),g}(),m=function(g){n(x,g);var v=u(x);function x(){var _;return e(this,x),_=v.call(this),_.listeners||p.call(s(_)),Object.defineProperty(s(_),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(s(_),"onabort",{value:null,writable:!0,configurable:!0}),_}return r(x,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(y){y.type==="abort"&&(this.aborted=!0,typeof this.onabort=="function"&&this.onabort.call(this,y)),d(i(x.prototype),"dispatchEvent",this).call(this,y)}}]),x}(p),w=function(){function g(){e(this,g),Object.defineProperty(this,"signal",{value:new m,writable:!0,configurable:!0})}return r(g,[{key:"abort",value:function(){var x;try{x=new Event("abort")}catch(_){typeof document!="undefined"?document.createEvent?(x=document.createEvent("Event"),x.initEvent("abort",!1,!1)):(x=document.createEventObject(),x.type="abort"):x={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(x)}},{key:"toString",value:function(){return"[object AbortController]"}}]),g}();typeof Symbol!="undefined"&&Symbol.toStringTag&&(w.prototype[Symbol.toStringTag]="AbortController",m.prototype[Symbol.toStringTag]="AbortSignal");function b(g){return g.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):typeof g.Request=="function"&&!g.Request.prototype.hasOwnProperty("signal")||!g.AbortController}function h(g){typeof g=="function"&&(g={fetch:g});var v=g,x=v.fetch,_=v.Request,y=_===void 0?x.Request:_,E=v.AbortController,k=v.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,A=k===void 0?!1:k;if(!b({fetch:x,Request:y,AbortController:E,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:A}))return{fetch:x,Request:C};var C=y;(C&&!C.prototype.hasOwnProperty("signal")||A)&&(C=function(R,P){var L;P&&P.signal&&(L=P.signal,delete P.signal);var B=new y(R,P);return L&&Object.defineProperty(B,"signal",{writable:!1,enumerable:!1,configurable:!0,value:L}),B},C.prototype=y.prototype);var D=x,S=function(R,P){var L=C&&C.prototype.isPrototypeOf(R)?R.signal:P?P.signal:void 0;if(L){var B;try{B=new DOMException("Aborted","AbortError")}catch(U){B=new Error("Aborted"),B.name="AbortError"}if(L.aborted)return Promise.reject(B);var O=new Promise(function(U,T){L.addEventListener("abort",function(){return T(B)},{once:!0})});return P&&P.signal&&delete P.signal,Promise.race([O,D(R,P)])}return D(R,P)};return{fetch:S,Request:C}}(function(g){if(!!b(g)){if(!g.fetch){console.warn("fetch() is not available, cannot install abortcontroller-polyfill");return}var v=h(g),x=v.fetch,_=v.Request;g.fetch=x,g.Request=_,Object.defineProperty(g,"AbortController",{writable:!0,enumerable:!1,configurable:!0,value:w}),Object.defineProperty(g,"AbortSignal",{writable:!0,enumerable:!1,configurable:!0,value:m})}})(typeof self!="undefined"?self:global)});var $f={};t7($f,{QAItem:function(){return lr},actionAddEntity:function(){return $r},actionAddMember:function(){return n1},actionAddMidpoint:function(){return Sr},actionAddVertex:function(){return gi},actionChangeMember:function(){return ho},actionChangePreset:function(){return go},actionChangeTags:function(){return Qt},actionCircularize:function(){return ku},actionConnect:function(){return vo},actionCopyEntities:function(){return xs},actionDeleteMember:function(){return yo},actionDeleteMultiple:function(){return Ia},actionDeleteNode:function(){return yi},actionDeleteRelation:function(){return Rr},actionDeleteWay:function(){return vi},actionDiscardTags:function(){return Na},actionDisconnect:function(){return r0},actionExtract:function(){return _s},actionJoin:function(){return Eu},actionMerge:function(){return Au},actionMergeNodes:function(){return ti},actionMergePolygon:function(){return Du},actionMergeRemoteChanges:function(){return As},actionMove:function(){return oa},actionMoveMember:function(){return Tu},actionMoveNode:function(){return wo},actionNoop:function(){return Fr},actionOrthogonalize:function(){return xo},actionRapidAcceptFeature:function(){return Lu},actionReflect:function(){return Pu},actionRestrictTurn:function(){return Ds},actionReverse:function(){return ui},actionRevert:function(){return n0},actionRotate:function(){return Mu},actionScale:function(){return Iu},actionSplit:function(){return Oa},actionStraightenNodes:function(){return Nu},actionStraightenWay:function(){return Ou},actionUnrestrictTurn:function(){return i0},actionUpgradeTags:function(){return Bu},behaviorAddWay:function(){return g4},behaviorBreathe:function(){return qn},behaviorDrag:function(){return Ms},behaviorDraw:function(){return sa},behaviorDrawWay:function(){return Os},behaviorEdit:function(){return _i},behaviorHash:function(){return F6},behaviorHover:function(){return rn},behaviorLasso:function(){return Vn},behaviorOperation:function(){return Wt},behaviorPaste:function(){return Ts},behaviorSelect:function(){return Wn},coreContext:function(){return Gw},coreDifference:function(){return ua},coreFileFetcher:function(){return z9},coreGraph:function(){return dr},coreHistory:function(){return Yu},coreLocalizer:function(){return lc},coreLocations:function(){return sc},coreRapidContext:function(){return Ku},coreTree:function(){return zi},coreUploader:function(){return e3},coreValidator:function(){return $u},d3:function(){return yL},debug:function(){return Wl},fileFetcher:function(){return Je},geoChooseEdge:function(){return Zr},geoHasLineIntersections:function(){return Su},geoHasSelfIntersections:function(){return wi},geoOrthoCalcScore:function(){return Fu},geoOrthoCanOrthogonalize:function(){return Cs},geoOrthoMaxOffsetAngle:function(){return Lg},geoOrthoNormalizedDotProduct:function(){return i1},geoRawMercator:function(){return xi},localizer:function(){return _e},locationManager:function(){return tn},modeAddArea:function(){return t5},modeAddLine:function(){return r5},modeAddNote:function(){return s5},modeAddPoint:function(){return n5},modeBrowse:function(){return De},modeDragNode:function(){return Qn},modeDragNote:function(){return Hn},modeDrawArea:function(){return h4},modeDrawLine:function(){return ki},modeMove:function(){return Fs},modeRapidSelectFeatures:function(){return S4},modeRotate:function(){return Gu},modeSave:function(){return x5},modeSelect:function(){return Le},modeSelectData:function(){return o6},modeSelectError:function(){return F5},modeSelectNote:function(){return To},operationCircularize:function(){return o1},operationContinue:function(){return Xc},operationCopy:function(){return Zu},operationCycleHighwayTag:function(){return $c},operationDelete:function(){return nn},operationDisconnect:function(){return Jc},operationDowngrade:function(){return Xu},operationExtract:function(){return e8},operationMerge:function(){return t8},operationMove:function(){return c1},operationOrthogonalize:function(){return s1},operationPaste:function(){return f0},operationReflectLong:function(){return u1},operationReflectShort:function(){return l1},operationReverse:function(){return r8},operationRotate:function(){return l0},operationSplit:function(){return n8},operationStraighten:function(){return i8},osmAreaKeys:function(){return _a},osmChangeset:function(){return Nn},osmEntity:function(){return Me},osmFlowingWaterwayTagValues:function(){return L1},osmInferRestriction:function(){return ks},osmIntersection:function(){return Cu},osmIsInterestingTag:function(){return _n},osmIsOldMultipolygonOuterMember:function(){return mo},osmJoinWays:function(){return gn},osmLanes:function(){return uu},osmNode:function(){return ut},osmNodeGeometriesForTags:function(){return Xa},osmNote:function(){return or},osmOldMultipolygonOuterMember:function(){return _u},osmOldMultipolygonOuterMemberOfRelation:function(){return ws},osmOneWayTags:function(){return Ti},osmPavedTags:function(){return Z4},osmPointTags:function(){return B1},osmRailwayTrackTagValues:function(){return J0},osmRelation:function(){return br},osmRoutableHighwayTagValues:function(){return ci},osmSetAreaKeys:function(){return Z0},osmSetPointTags:function(){return X0},osmSetVertexTags:function(){return $0},osmTagSuggestingArea:function(){return Za},osmTurn:function(){return bo},osmVertexTags:function(){return R1},osmWay:function(){return Pt},prefs:function(){return pe},presetCategory:function(){return uc},presetCollection:function(){return cn},presetField:function(){return cc},presetIndex:function(){return Mg},presetManager:function(){return Ie},presetPreset:function(){return t1},rendererBackground:function(){return t3},rendererBackgroundSource:function(){return vn},rendererFeatures:function(){return r3},rendererMap:function(){return H3},rendererPhotos:function(){return W3},rendererTileLayer:function(){return Eo},sdk:function(){return bL},serviceEsriData:function(){return q8},serviceFbAIFeatures:function(){return Q8},serviceImproveOSM:function(){return K8},serviceKeepRight:function(){return W8},serviceMapRules:function(){return df},serviceMapillary:function(){return ff},serviceNominatim:function(){return mf},serviceNsi:function(){return yf},serviceOpenstreetcam:function(){return bf},serviceOsm:function(){return T4},serviceOsmWikibase:function(){return Rf},serviceOsmose:function(){return Z8},serviceStreetside:function(){return Lf},serviceTaginfo:function(){return Uf},serviceVectorTile:function(){return Hf},serviceWikidata:function(){return Kf},serviceWikipedia:function(){return Zf},services:function(){return ue},svgAreas:function(){return o3},svgData:function(){return Bs},svgDebug:function(){return Rs},svgDefs:function(){return l3},svgGeolocate:function(){return Ui},svgIcon:function(){return ce},svgKeepRight:function(){return u3},svgLabels:function(){return c3},svgLayers:function(){return Ws},svgLines:function(){return c4},svgMapillaryImages:function(){return Qi},svgMapillarySigns:function(){return Gi},svgMarkerSegments:function(){return m0},svgMidpoints:function(){return q3},svgNotes:function(){return p3},svgOpenstreetcamImages:function(){return Hi},svgOsm:function(){return d3},svgPassiveVertex:function(){return p0},svgPath:function(){return Lr},svgPointTransform:function(){return Gt},svgPoints:function(){return Q3},svgRapidFeatures:function(){return v3},svgRelationMemberTags:function(){return n3},svgSegmentWay:function(){return Ps},svgStreetside:function(){return qi},svgTagClasses:function(){return Pn},svgTagPattern:function(){return a3},svgTouch:function(){return m3},svgTurns:function(){return G3},svgVertices:function(){return f4},t:function(){return F},uiAccount:function(){return V3},uiAttribution:function(){return K3},uiChangesetEditor:function(){return g5},uiCmd:function(){return qe},uiCombobox:function(){return Ft},uiCommit:function(){return b5},uiCommitWarnings:function(){return y5},uiConfirm:function(){return Mo},uiConflicts:function(){return l5},uiContributors:function(){return Y3},uiCurtain:function(){return T5},uiDataEditor:function(){return E4},uiDataHeader:function(){return M5},uiDisclosure:function(){return y1},uiEditMenu:function(){return X3},uiEntityEditor:function(){return L5},uiFeatureInfo:function(){return $3},uiFeatureList:function(){return j5},uiField:function(){return ii},uiFieldAccess:function(){return D8},uiFieldAddress:function(){return S8},uiFieldCheck:function(){return v1},uiFieldCombo:function(){return ni},uiFieldCycleway:function(){return F8},uiFieldDefaultCheck:function(){return v1},uiFieldEmail:function(){return Kn},uiFieldHelp:function(){return f5},uiFieldIdentifier:function(){return Kn},uiFieldLanes:function(){return d5},uiFieldLocalized:function(){return T8},uiFieldManyCombo:function(){return ni},uiFieldMultiCombo:function(){return ni},uiFieldNetworkCombo:function(){return ni},uiFieldNumber:function(){return Kn},uiFieldOnewayCheck:function(){return v1},uiFieldRadio:function(){return k0},uiFieldRestrictions:function(){return p5},uiFieldRoadspeed:function(){return M8},uiFieldSemiCombo:function(){return ni},uiFieldStructureRadio:function(){return k0},uiFieldTel:function(){return Kn},uiFieldText:function(){return Kn},uiFieldTextarea:function(){return I8},uiFieldTypeCombo:function(){return ni},uiFieldUrl:function(){return Kn},uiFieldWikidata:function(){return N8},uiFieldWikipedia:function(){return m5},uiFields:function(){return h5},uiFlash:function(){return p4},uiFormFields:function(){return w4},uiFullScreen:function(){return J3},uiGeolocate:function(){return e5},uiImproveOsmComments:function(){return _5},uiImproveOsmDetails:function(){return k5},uiImproveOsmEditor:function(){return _4},uiImproveOsmHeader:function(){return E5},uiInfo:function(){return i6},uiInfoPanels:function(){return u6},uiInit:function(){return a6},uiInspector:function(){return U5},uiIntro:function(){return No},uiIssuesInfo:function(){return q5},uiKeepRightDetails:function(){return A5},uiKeepRightEditor:function(){return k4},uiKeepRightHeader:function(){return C5},uiLasso:function(){return Q5},uiLoading:function(){return Pa},uiMapInMap:function(){return w1},uiModal:function(){return wr},uiNoteComments:function(){return i5},uiNoteEditor:function(){return y4},uiNoteHeader:function(){return a5},uiNoteReport:function(){return o5},uiNotice:function(){return G5},uiPaneBackground:function(){return h6},uiPaneHelp:function(){return g6},uiPaneIssues:function(){return w6},uiPaneMapData:function(){return C6},uiPanePreferences:function(){return S6},uiPanelBackground:function(){return w8},uiPanelHistory:function(){return x8},uiPanelLocation:function(){return _8},uiPanelMeasurement:function(){return k8},uiPopover:function(){return Z3},uiPresetIcon:function(){return b1},uiPresetList:function(){return z5},uiRapidColorpicker:function(){return J5},uiRapidFeatureInspector:function(){return C4},uiRapidFeatureToggleDialog:function(){return t6},uiRapidFirstEditDialog:function(){return xw},uiRapidPowerUserFeaturesDialog:function(){return r6},uiRapidServiceLicense:function(){return n6},uiRapidSplash:function(){return D4},uiRapidViewManageDatasets:function(){return e6},uiRapidWhatsNew:function(){return Aw},uiRestore:function(){return H5},uiScale:function(){return W5},uiSectionBackgroundDisplayOptions:function(){return c6},uiSectionBackgroundList:function(){return d6},uiSectionBackgroundOffset:function(){return p6},uiSectionChanges:function(){return v5},uiSectionDataLayers:function(){return _6},uiSectionEntityIssues:function(){return I5},uiSectionFeatureType:function(){return N5},uiSectionMapFeatures:function(){return k6},uiSectionMapStyleOptions:function(){return E6},uiSectionOverlayList:function(){return m6},uiSectionPhotoOverlays:function(){return A6},uiSectionPresetFields:function(){return O5},uiSectionPrivacy:function(){return D6},uiSectionRawMemberEditor:function(){return P5},uiSectionRawMembershipEditor:function(){return B5},uiSectionRawTagEditor:function(){return Io},uiSectionSelectionList:function(){return R5},uiSectionValidationIssues:function(){return A0},uiSectionValidationOptions:function(){return v6},uiSectionValidationRules:function(){return y6},uiSectionValidationStatus:function(){return b6},uiSettingsCustomBackground:function(){return f6},uiSettingsCustomData:function(){return x6},uiSidebar:function(){return V5},uiSourceSwitch:function(){return K5},uiSpinner:function(){return Y5},uiSplash:function(){return yw},uiStatus:function(){return Z5},uiSuccess:function(){return w5},uiTagReference:function(){return pa},uiToggle:function(){return ma},uiTooltip:function(){return Pe},uiVersion:function(){return X5},uiViewOnKeepRight:function(){return D5},uiViewOnOSM:function(){return v4},uiZoom:function(){return $5},utilAsyncMap:function(){return Ng},utilDetect:function(){return qt},utilDisplayLabel:function(){return lt},utilDisplayName:function(){return nr},utilDisplayNameForPath:function(){return t0},utilDisplayType:function(){return Un},utilFastMouse:function(){return Dr},utilFunctor:function(){return _t},utilGetSetValue:function(){return Qe},utilHighlightEntities:function(){return ot},utilKeybinding:function(){return Re},utilNoAuto:function(){return et},utilPrefixCSSProperty:function(){return r1},utilPrefixDOMProperty:function(){return xu},utilRebind:function(){return ke},utilSetTransform:function(){return ei},utilTotalExtent:function(){return St},utilTriggerEvent:function(){return ys},utilWrap:function(){return vs},validationAlmostJunction:function(){return Bc},validationCloseNodes:function(){return Rc},validationCrossingWays:function(){return Lc},validationDisconnectedWay:function(){return jc},validationDuplicateWaySegments:function(){return zc},validationFormatting:function(){return Uc},validationHelpRequest:function(){return qc},validationImpossibleOneway:function(){return Qc},validationIncompatibleSource:function(){return Gc},validationMaprules:function(){return Hc},validationMismatchedGeometry:function(){return Wc},validationMissingRole:function(){return Vc},validationMissingTag:function(){return Kc},validationOutdatedTags:function(){return Yc},validationPrivateData:function(){return Zc},validationSuspiciousName:function(){return s8},validationUnsquareWay:function(){return l8},validationYShapedConnection:function(){return o8}});function $r(e){return function(t){return t.replace(e)}}var W0=Xe(od()),u7=Xe(H0()),Fk=[250,157,60,79,142,134,229,129,138,126,210,129,29,71,160,208];function sd(e,t){t=t||Fk;var r=W0.default.utils.hex.toBytes(e),n=new W0.default.ModeOfOperation.ctr(t),i=n.decrypt(r),a=W0.default.utils.utf8.fromBytes(i);return a}function Jr(e,t){if(e===t)return!0;var r=e.length;if(r!==t.length)return!1;for(;r--;)if(e[r]!==t[r])return!1;return!0}function vr(e,t){var r=new Set(t);return Array.from(new Set(e)).filter(function(n){return!r.has(n)})}function Ar(e,t){var r=new Set(t);return Array.from(new Set(e)).filter(function(n){return r.has(n)})}function Yt(e,t){var r=new Set(e);return t.forEach(function(n){return r.add(n)}),Array.from(r)}function Ve(e){return Array.from(new Set(e))}function zo(e,t){if(!t||t<0)return[e.slice()];var r=new Array(Math.ceil(e.length/t));return Array.from(r,function(n,i){return e.slice(i*t,i*t+t)})}function N1(e){return e.reduce(function(t,r){return t.concat(r)},[])}function ar(e,t){return e.reduce(function(r,n){var i=typeof t=="function"?t(n):n[t];return(r[i]=r[i]||[]).push(n),r},{})}function O1(e,t){var r=new Set;return e.reduce(function(n,i){var a=typeof t=="function"?t(i):i[t];return a&&!r.has(a)&&(r.add(a),n.push(i)),n},[])}function Ln(e,t){return Object.keys(e).reduce(function(r,n){return t.indexOf(n)===-1&&(r[n]=e[n]),r},{})}function l7(e){var t={};for(var r in e)if(!!r){var n=e[r];n!==void 0&&(t[r]=i(r,n))}return t;function i(a,o){function s(c){return/_hours|_times|:conditional$/.test(c)}function l(c){return/^(description|note|fixme)$/.test(c)}if(l(a))return o;var u=o.split(";").map(function(c){return c.trim()}).join(s(a)?"; ":";");return(a.indexOf("website")!==-1||a.indexOf("email")!==-1||u.indexOf("http")===0)&&(u=u.replace(/[\u200B-\u200F\uFEFF]/g,"")),u}}function ld(e,t,r){var n=new Set(e),i=new Set,a=new Set;return e.forEach(o),Fi(Array.from(a));function o(s){if(!i.has(s)){i.add(s),n.has(s)||a.add(s);var l=t.hasEntity(s);!l||l.type!=="relation"||r&&l.isMultipolygon()||(l.members||[]).forEach(function(u){return o(u.id)})}}}function K4(e,t){var r=new Set;return e.forEach(n),Array.from(r);function n(i){if(!r.has(i)){r.add(i);var a=t.hasEntity(i);!a||a.type!=="relation"||(a.members||[]).forEach(function(o){return n(o.id)})}}}function Uo(e,t){var r=new Set(e);return e.forEach(n),Fi(Array.from(r));function n(i){var a=t.hasEntity(i);!a||a.type!=="relation"||(a.members||[]).forEach(function(o){return r.add(o.id)})}}function V0(e,t){return Fi(K4(e,t))}function Fi(e){return e.length?"."+e.join(",."):"nothing"}function Xt(e,t){var r=new Set,n=new Set;return e.forEach(i),Array.from(n);function i(a){if(!r.has(a)){r.add(a);var o=t.hasEntity(a);!o||(o.type==="node"?n.add(o):o.type==="way"?(o.nodes||[]).forEach(i):(o.members||[]).forEach(function(s){return i(s.id)}))}}}function P1(e,t){var r=[],n=Yt(Object.keys(e),Object.keys(t)).sort();return n.forEach(function(i){var a=e[i],o=t[i];(a||a==="")&&(o===void 0||o!==a)&&r.push({type:"-",key:i,oldVal:a,newVal:o,display:"- ".concat(i,"=").concat(a)}),(o||o==="")&&(a===void 0||o!==a)&&r.push({type:"+",key:i,oldVal:a,newVal:o,display:"+ ".concat(i,"=").concat(o)})}),r}function ud(e){var t=e&&e.tags||{};return Object.keys(t).map(function(r){return"".concat(r,"=").concat(t[r])}).join(", ")}function cd(e){var t;function r(){var i=new Date;i.setSeconds(i.getSeconds()+5),document.cookie=e+"=1; expires="+i.toUTCString()+"; sameSite=strict"}var n={lock:function(){if(t)return!0;var a=document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+e+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1");return a?!1:(r(),t=window.setInterval(r,4e3),!0)},unlock:function(){!t||(document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; sameSite=strict",clearInterval(t),t=null)},locked:function(){return!!t}};return n}function K0(e,t){if(e=(0,u7.remove)(e.toLowerCase()),t=(0,u7.remove)(t.toLowerCase()),e.length===0)return t.length;if(t.length===0)return e.length;for(var r=[],n=0;n<=t.length;n++)r[n]=[n];for(var i=0;i<=e.length;i++)r[0][i]=i;for(var a=1;a<=t.length;a++)for(var o=1;o<=e.length;o++)t.charAt(a-1)===e.charAt(o-1)?r[a][o]=r[a-1][o-1]:r[a][o]=Math.min(r[a-1][o-1]+1,Math.min(r[a][o-1]+1,r[a-1][o]+1));return r[t.length][e.length]}function qo(e){var t=0;if(e.length===0)return t;for(var r=0;r<e.length;r++){var n=e.charCodeAt(r);t=(t<<5)-t+n,t=t&t}return t}function at(e,t){function r(n){return encodeURIComponent(n).replace(/(%2F|%3A|%2C|%7B|%7D)/g,decodeURIComponent)}return Object.keys(e).sort().map(function(n){return encodeURIComponent(n)+"="+(t?r(e[n]):encodeURIComponent(e[n]))}).join("&")}function Bt(e){for(var t=0;t<e.length&&(e[t]==="?"||e[t]==="#");)t++;return e=e.slice(t),e.split("&").reduce(function(r,n){var i=n.split("=");return i.length===2&&(r[i[0]]=decodeURIComponent(i[1])),r},{})}function c7(e){return Array.from(e).length}function Y0(e,t){return Array.from(e).slice(0,t).join("")}function Y4(e){return e.toLowerCase().replace(/[^a-z0-9]+/g,"_")}function li(e){return"ideditor-"+Y4(e.toString())+"-"+new Date().getTime().toString()}function ui(e,t){var r=/^.*(_|:)?(description|name|note|website|ref|source|comment|watch|attribution)(_|:)?/,n=/^([+\-]?)(?=[\d.])/,i=/direction$/,a=/^turn:lanes:?/,o=[[/:right$/,":left"],[/:left$/,":right"],[/:forward$/,":backward"],[/:backward$/,":forward"],[/:right:/,":left:"],[/:left:/,":right:"],[/:forward:/,":backward:"],[/:backward:/,":forward:"]],s={left:"right",right:"left",up:"down",down:"up",forward:"backward",backward:"forward",forwards:"backward",backwards:"forward"},l={forward:"backward",backward:"forward",forwards:"backward",backwards:"forward"},u={yes:"-1","1":"-1","-1":"yes"},c={N:"S",NNE:"SSW",NE:"SW",ENE:"WSW",E:"W",ESE:"WNW",SE:"NW",SSE:"NNW",S:"N",SSW:"NNE",SW:"NE",WSW:"ENE",W:"E",WNW:"ESE",NW:"SE",NNW:"SSE"};function d(h){for(var g=0;g<o.length;++g){var v=o[g];if(v[0].test(h))return h.replace(v[0],v[1])}return h}function p(h,g,v){if(r.test(h)||a.test(h))return g;if(h==="incline"&&n.test(g))return g.replace(n,function(_,y){return y==="-"?"":"-"});if(t&&t.reverseOneway&&h==="oneway")return u[g]||g;if(v&&i.test(h)){if(c[g])return c[g];var x=parseFloat(g);if(typeof x=="number"&&!isNaN(x))return x<180?x+=180:x-=180,x.toString()}return s[g]||g}function m(h,g){for(var v=0;v<g.length;v++){var x=h.hasEntity(g[v]);if(!(!x||!Object.keys(x.tags).length)){var _={};for(var y in x.tags)_[d(y)]=p(y,x.tags[y],x.id===e);h=h.replace(x.update({tags:_}))}}return h}function w(h,g){var v=g.nodes.slice().reverse(),x={},_;for(var y in g.tags)x[d(y)]=p(y,g.tags[y]);return h.parentRelations(g).forEach(function(E){E.members.forEach(function(k,A){k.id===g.id&&(_=l[k.role])&&(E=E.updateMember({role:_},A),h=h.replace(E))})}),m(h,v).replace(g.update({nodes:v,tags:x}))}var b=function(g){var v=g.entity(e);return v.type==="way"?w(g,v):m(g,[e])};return b.disabled=function(h){var g=h.hasEntity(e);if(!g||g.type==="way")return!1;for(var v in g.tags){var x=g.tags[v];if(d(v)!==v||p(v,x,!0)!==x)return!1}return"nondirectional_node"},b.entityID=function(){return e},b}function _n(e){return e!=="attribution"&&e!=="created_by"&&e!=="source"&&e!=="odbl"&&e.indexOf("source:")!==0&&e.indexOf("source_ref")!==0&&!e.startsWith("ref:")&&e.indexOf("tiger:")!==0}var _a={};function Z0(e){_a=e}function Za(e){if(e.area==="yes")return{area:"yes"};if(e.area==="no")return null;if(e.__action==="edit"||e.__action==="delete")return!0;var t={highway:{rest_area:!0,services:!0},railway:{roundhouse:!0,station:!0,traverser:!0,turntable:!0,wash:!0}},r={};for(var n in e)if(n in _a&&!(e[n]in _a[n])||n in t&&e[n]in t[n])return r[n]=e[n],r;return null}var B1={};function X0(e){B1=e}var R1={};function $0(e){R1=e}function Xa(e){var t={};for(var r in e)if(B1[r]&&(B1[r]["*"]||B1[r][e[r]])&&(t.point=!0),R1[r]&&(R1[r]["*"]||R1[r][e[r]])&&(t.vertex=!0),t.point&&t.vertex)break;return t}var Ti={aerialway:{chair_lift:!0,drag_lift:!0,"j-bar":!0,magic_carpet:!0,mixed_lift:!0,platter:!0,rope_tow:!0,"t-bar":!0,zip_line:!0},highway:{motorway:!0},junction:{circular:!0,roundabout:!0},man_made:{goods_conveyor:!0,"piste:halfpipe":!0},"piste:type":{downhill:!0,sled:!0,yes:!0},waterway:{canal:!0,ditch:!0,drain:!0,fish_pass:!0,river:!0,stream:!0,tidal_channel:!0},"seamark:type":{separation_lane:!0}},Z4={surface:{paved:!0,asphalt:!0,concrete:!0,"concrete:lanes":!0,"concrete:plates":!0},tracktype:{grade1:!0}},f7={surface:{cobblestone:!0,"cobblestone:flattened":!0,unhewn_cobblestone:!0,sett:!0,paving_stones:!0,metal:!0,wood:!0}},X4={natural:{cliff:!0,coastline:"coastline"},barrier:{retaining_wall:!0,kerb:!0,guard_rail:!0,city_wall:!0},man_made:{video_wall:!0,embankment:!0},waterway:{weir:!0}},ci={motorway:!0,trunk:!0,primary:!0,secondary:!0,tertiary:!0,residential:!0,motorway_link:!0,trunk_link:!0,primary_link:!0,secondary_link:!0,tertiary_link:!0,unclassified:!0,road:!0,service:!0,track:!0,living_street:!0,bus_guideway:!0,path:!0,footway:!0,cycleway:!0,bridleway:!0,pedestrian:!0,corridor:!0,steps:!0},ka={path:!0,footway:!0,cycleway:!0,bridleway:!0,pedestrian:!0,corridor:!0,steps:!0},J0={rail:!0,light_rail:!0,tram:!0,subway:!0,monorail:!0,funicular:!0,miniature:!0,narrow_gauge:!0,disused:!0,preserved:!0},L1={canal:!0,ditch:!0,drain:!0,fish_pass:!0,river:!0,stream:!0,tidal_channel:!0};function jn(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Qo(e){var t=e,r=e,n=e;e.length!==2&&(t=function(l,u){return e(l)-u},r=jn,n=function(l,u){return jn(e(l),u)});function i(s,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:s.length;if(u<c){if(r(l,l)!==0)return c;do{var d=u+c>>>1;n(s[d],l)<0?u=d+1:c=d}while(u<c)}return u}function a(s,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:s.length;if(u<c){if(r(l,l)!==0)return c;do{var d=u+c>>>1;n(s[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function o(s,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:s.length,d=i(s,l,u,c-1);return d>u&&t(s[d-1],l)>-t(s[d],l)?d-1:d}return{left:i,center:o,right:a}}var p7=Xe($4()),Tk=p7.default.mark(m7);function pd(e,t){var r=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Mk(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(e)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function Mk(e,t){if(!!e){if(typeof e=="string")return md(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return md(e,t)}}function md(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function t2(e){return e===null?NaN:+e}function m7(e,t){var r,n,i,a,o,s,l;return p7.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(t!==void 0){c.next=21;break}r=pd(e),c.prev=2,r.s();case 4:if((n=r.n()).done){c.next=11;break}if(i=n.value,!(i!=null&&(i=+i)>=i)){c.next=9;break}return c.next=9,i;case 9:c.next=4;break;case 11:c.next=16;break;case 13:c.prev=13,c.t0=c.catch(2),r.e(c.t0);case 16:return c.prev=16,r.f(),c.finish(16);case 19:c.next=40;break;case 21:a=-1,o=pd(e),c.prev=23,o.s();case 25:if((s=o.n()).done){c.next=32;break}if(l=s.value,!((l=t(l,++a,e))!=null&&(l=+l)>=l)){c.next=30;break}return c.next=30,l;case 30:c.next=25;break;case 32:c.next=37;break;case 34:c.prev=34,c.t1=c.catch(23),o.e(c.t1);case 37:return c.prev=37,o.f(),c.finish(37);case 40:case"end":return c.stop()}},Tk,null,[[2,13,16,19],[23,34,37,40]])}var hd=Qo(jn),gd=hd.right,Ik=hd.left,Nk=Qo(t2).center,J4=gd;h7();function g7(e){if(Array.isArray(e))return j1(e)}function v7(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}y7();function b7(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function $t(e){return g7(e)||v7(e)||el(e)||b7()}function z1(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function kn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function En(e,t,r){return t&&vd(e.prototype,t),r&&vd(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var qr=function(){function e(){kn(this,e),this._partials=new Float64Array(32),this._n=0}return En(e,[{key:"add",value:function(r){for(var n=this._partials,i=0,a=0;a<this._n&&a<32;a++){var o=n[a],s=r+o,l=Math.abs(r)<Math.abs(o)?r-(s-o):o-(s-r);l&&(n[i++]=l),r=s}return n[i]=r,this._n=i+1,this}},{key:"valueOf",value:function(){var r=this._partials,n=this._n,i,a,o,s=0;if(n>0){for(s=r[--n];n>0&&(i=s,a=r[--n],s=i+a,o=a-(s-i),!o););n>0&&(o<0&&r[n-1]<0||o>0&&r[n-1]>0)&&(a=o*2,i=s+a,a==i-s&&(s=i))}return s}}]),e}();An();function xd(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:jn;if(e===jn)return k7;if(typeof e!="function")throw new TypeError("compare is not a function");return function(t,r){var n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function k7(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}var E7=Math.sqrt(50),A7=Math.sqrt(10),C7=Math.sqrt(2);function r2(e,t,r){var n,i=-1,a,o,s;if(t=+t,e=+e,r=+r,e===t&&r>0)return[e];if((n=t<e)&&(a=e,e=t,t=a),(s=n2(e,t,r))===0||!isFinite(s))return[];if(s>0){var l=Math.round(e/s),u=Math.round(t/s);for(l*s<e&&++l,u*s>t&&--u,o=new Array(a=u-l+1);++i<a;)o[i]=(l+i)*s}else{s=-s;var c=Math.round(e*s),d=Math.round(t*s);for(c/s<e&&++c,d/s>t&&--d,o=new Array(a=d-c+1);++i<a;)o[i]=(c+i)/s}return n&&o.reverse(),o}function n2(e,t,r){var n=(t-e)/Math.max(0,r),i=Math.floor(Math.log(n)/Math.LN10),a=n/Math.pow(10,i);return i>=0?(a>=E7?10:a>=A7?5:a>=C7?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=E7?10:a>=A7?5:a>=C7?2:1)}function D7(e,t,r){var n=Math.abs(t-e)/Math.max(0,r),i=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),a=n/i;return a>=E7?i*=10:a>=A7?i*=5:a>=C7&&(i*=2),t<e?-i:i}function _d(e,t){var r=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Ok(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(e)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function Ok(e,t){if(!!e){if(typeof e=="string")return kd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kd(e,t)}}function kd(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i2(e,t){var r;if(t===void 0){var n=_d(e),i;try{for(n.s();!(i=n.n()).done;){var a=i.value;a!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}}catch(c){n.e(c)}finally{n.f()}}else{var o=-1,s=_d(e),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;(u=t(u,++o,e))!=null&&(r<u||r===void 0&&u>=u)&&(r=u)}}catch(c){s.e(c)}finally{s.f()}}return r}function Ed(e,t){var r=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Pk(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(e)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function Pk(e,t){if(!!e){if(typeof e=="string")return Ad(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ad(e,t)}}function Ad(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a2(e,t){var r;if(t===void 0){var n=Ed(e),i;try{for(n.s();!(i=n.n()).done;){var a=i.value;a!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}}catch(c){n.e(c)}finally{n.f()}}else{var o=-1,s=Ed(e),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;(u=t(u,++o,e))!=null&&(r>u||r===void 0&&u>=u)&&(r=u)}}catch(c){s.e(c)}finally{s.f()}}return r}function o2(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e.length-1,i=arguments.length>4?arguments[4]:void 0;for(i=i===void 0?k7:xd(i);n>r;){if(n-r>600){var a=n-r+1,o=t-r+1,s=Math.log(a),l=.5*Math.exp(2*s/3),u=.5*Math.sqrt(s*l*(a-l)/a)*(o-a/2<0?-1:1),c=Math.max(r,Math.floor(t-o*l/a+u)),d=Math.min(n,Math.floor(t+(a-o)*l/a+u));o2(e,t,c,d,i)}var p=e[t],m=r,w=n;for(tl(e,r,t),i(e[n],p)>0&&tl(e,r,n);m<w;){for(tl(e,m,w),++m,--w;i(e[m],p)<0;)++m;for(;i(e[w],p)>0;)--w}i(e[r],p)===0?tl(e,r,w):(++w,tl(e,w,n)),w<=t&&(r=w+1),t<=w&&(n=w-1)}return e}function tl(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function S7(e,t,r){if(e=Float64Array.from(m7(e,r)),!!(n=e.length)){if((t=+t)<=0||n<2)return a2(e);if(t>=1)return i2(e);var n,i=(n-1)*t,a=Math.floor(i),o=i2(o2(e,a).subarray(0,a+1)),s=a2(e.subarray(a+1));return o+(s-o)*(i-a)}}function s2(e,t){return S7(e,.5,t)}var F7=Xe($4()),Bk=F7.default.mark(Dd);function Rk(e,t){var r=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Lk(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(e)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function Lk(e,t){if(!!e){if(typeof e=="string")return Cd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cd(e,t)}}function Cd(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Dd(e){var t,r,n;return F7.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t=Rk(e),a.prev=1,t.s();case 3:if((r=t.n()).done){a.next=8;break}return n=r.value,a.delegateYield(n,"t0",6);case 6:a.next=3;break;case 8:a.next=13;break;case 10:a.prev=10,a.t1=a.catch(1),t.e(a.t1);case 13:return a.prev=13,t.f(),a.finish(13);case 16:case"end":return a.stop()}},Bk,null,[[1,10,13,16]])}function U1(e){return Array.from(Dd(e))}function rl(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}var Mt=1e-6,Sd=1e-12,Ct=Math.PI,en=Ct/2,q1=Ct/4,Br=Ct*2,Tr=180/Ct,Dt=Ct/180,Ut=Math.abs,l2=Math.atan,Zn=Math.atan2,It=Math.cos;var Fd=Math.exp;var Td=Math.log;var Rt=Math.sin,Md=Math.sign||function(e){return e>0?1:e<0?-1:0},Cn=Math.sqrt,Id=Math.tan;function Nd(e){return e>1?0:e<-1?Ct:Math.acos(e)}function Ea(e){return e>1?en:e<-1?-en:Math.asin(e)}function rr(){}function u2(e,t){e&&Pd.hasOwnProperty(e.type)&&Pd[e.type](e,t)}var Od={Feature:function(t,r){u2(t.geometry,r)},FeatureCollection:function(t,r){for(var n=t.features,i=-1,a=n.length;++i<a;)u2(n[i].geometry,r)}},Pd={Sphere:function(t,r){r.sphere()},Point:function(t,r){t=t.coordinates,r.point(t[0],t[1],t[2])},MultiPoint:function(t,r){for(var n=t.coordinates,i=-1,a=n.length;++i<a;)t=n[i],r.point(t[0],t[1],t[2])},LineString:function(t,r){T7(t.coordinates,r,0)},MultiLineString:function(t,r){for(var n=t.coordinates,i=-1,a=n.length;++i<a;)T7(n[i],r,0)},Polygon:function(t,r){Bd(t.coordinates,r)},MultiPolygon:function(t,r){for(var n=t.coordinates,i=-1,a=n.length;++i<a;)Bd(n[i],r)},GeometryCollection:function(t,r){for(var n=t.geometries,i=-1,a=n.length;++i<a;)u2(n[i],r)}};function T7(e,t,r){var n=-1,i=e.length-r,a;for(t.lineStart();++n<i;)a=e[n],t.point(a[0],a[1],a[2]);t.lineEnd()}function Bd(e,t){var r=-1,n=e.length;for(t.polygonStart();++r<n;)T7(e[r],t,1);t.polygonEnd()}function sn(e,t){e&&Od.hasOwnProperty(e.type)?Od[e.type](e,t):u2(e,t)}var nl=new qr,c2=new qr,Rd,Ld,M7,I7,N7,Mi={point:rr,lineStart:rr,lineEnd:rr,polygonStart:function(){nl=new qr,Mi.lineStart=jk,Mi.lineEnd=zk},polygonEnd:function(){var t=+nl;c2.add(t<0?Br+t:t),this.lineStart=this.lineEnd=this.point=rr},sphere:function(){c2.add(Br)}};function jk(){Mi.point=Uk}function zk(){jd(Rd,Ld)}function Uk(e,t){Mi.point=jd,Rd=e,Ld=t,e*=Dt,t*=Dt,M7=e,I7=It(t=t/2+q1),N7=Rt(t)}function jd(e,t){e*=Dt,t*=Dt,t=t/2+q1;var r=e-M7,n=r>=0?1:-1,i=n*r,a=It(t),o=Rt(t),s=N7*o,l=I7*a+s*It(i),u=s*n*Rt(i);nl.add(Zn(u,l)),M7=e,I7=a,N7=o}function Zi(e){return c2=new qr,sn(e,Mi),c2*2}function Go(e){return[Zn(e[1],e[0]),Ea(e[2])]}function fi(e){var t=e[0],r=e[1],n=It(r);return[n*It(t),n*Rt(t),Rt(r)]}function il(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Aa(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function f2(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function al(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Ho(e){var t=Cn(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var Cr,zn,Mr,Xn,Wo,zd,Ud,Q1,ol,$a,Ca,Da={point:O7,lineStart:Qd,lineEnd:Gd,polygonStart:function(){Da.point=Hd,Da.lineStart=qk,Da.lineEnd=Qk,ol=new qr,Mi.polygonStart()},polygonEnd:function(){Mi.polygonEnd(),Da.point=O7,Da.lineStart=Qd,Da.lineEnd=Gd,nl<0?(Cr=-(Mr=180),zn=-(Xn=90)):ol>Mt?Xn=90:ol<-Mt&&(zn=-90),Ca[0]=Cr,Ca[1]=Mr},sphere:function(){Cr=-(Mr=180),zn=-(Xn=90)}};function O7(e,t){$a.push(Ca=[Cr=e,Mr=e]),t<zn&&(zn=t),t>Xn&&(Xn=t)}function qd(e,t){var r=fi([e*Dt,t*Dt]);if(Q1){var n=Aa(Q1,r),i=[n[1],-n[0],0],a=Aa(i,n);Ho(a),a=Go(a);var o=e-Wo,s=o>0?1:-1,l=a[0]*Tr*s,u,c=Ut(o)>180;c^(s*Wo<l&&l<s*e)?(u=a[1]*Tr,u>Xn&&(Xn=u)):(l=(l+360)%360-180,c^(s*Wo<l&&l<s*e)?(u=-a[1]*Tr,u<zn&&(zn=u)):(t<zn&&(zn=t),t>Xn&&(Xn=t))),c?e<Wo?$n(Cr,e)>$n(Cr,Mr)&&(Mr=e):$n(e,Mr)>$n(Cr,Mr)&&(Cr=e):Mr>=Cr?(e<Cr&&(Cr=e),e>Mr&&(Mr=e)):e>Wo?$n(Cr,e)>$n(Cr,Mr)&&(Mr=e):$n(e,Mr)>$n(Cr,Mr)&&(Cr=e)}else $a.push(Ca=[Cr=e,Mr=e]);t<zn&&(zn=t),t>Xn&&(Xn=t),Q1=r,Wo=e}function Qd(){Da.point=qd}function Gd(){Ca[0]=Cr,Ca[1]=Mr,Da.point=O7,Q1=null}function Hd(e,t){if(Q1){var r=e-Wo;ol.add(Ut(r)>180?r+(r>0?360:-360):r)}else zd=e,Ud=t;Mi.point(e,t),qd(e,t)}function qk(){Mi.lineStart()}function Qk(){Hd(zd,Ud),Mi.lineEnd(),Ut(ol)>Mt&&(Cr=-(Mr=180)),Ca[0]=Cr,Ca[1]=Mr,Q1=null}function $n(e,t){return(t-=e)<0?t+360:t}function Gk(e,t){return e[0]-t[0]}function Wd(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function G1(e){var t,r,n,i,a,o,s;if(Xn=Mr=-(Cr=zn=1/0),$a=[],sn(e,Da),r=$a.length){for($a.sort(Gk),t=1,n=$a[0],a=[n];t<r;++t)i=$a[t],Wd(n,i[0])||Wd(n,i[1])?($n(n[0],i[1])>$n(n[0],n[1])&&(n[1]=i[1]),$n(i[0],n[1])>$n(n[0],n[1])&&(n[0]=i[0])):a.push(n=i);for(o=-1/0,r=a.length-1,t=0,n=a[r];t<=r;n=i,++t)i=a[t],(s=$n(n[1],i[0]))>o&&(o=s,Cr=i[0],Mr=n[1])}return $a=Ca=null,Cr===1/0||zn===1/0?[[NaN,NaN],[NaN,NaN]]:[[Cr,zn],[Mr,Xn]]}function sl(e,t){function r(n,i){return n=e(n,i),t(n[0],n[1])}return e.invert&&t.invert&&(r.invert=function(n,i){return n=t.invert(n,i),n&&e.invert(n[0],n[1])}),r}function P7(e,t){return[Ut(e)>Ct?e+Math.round(-e/Br)*Br:e,t]}P7.invert=P7;function B7(e,t,r){return(e%=Br)?t||r?sl(Kd(e),Yd(t,r)):Kd(e):t||r?Yd(t,r):P7}function Vd(e){return function(t,r){return t+=e,[t>Ct?t-Br:t<-Ct?t+Br:t,r]}}function Kd(e){var t=Vd(e);return t.invert=Vd(-e),t}function Yd(e,t){var r=It(e),n=Rt(e),i=It(t),a=Rt(t);function o(s,l){var u=It(l),c=It(s)*u,d=Rt(s)*u,p=Rt(l),m=p*r+c*n;return[Zn(d*i-m*a,c*r-p*n),Ea(m*i+d*a)]}return o.invert=function(s,l){var u=It(l),c=It(s)*u,d=Rt(s)*u,p=Rt(l),m=p*i-d*a;return[Zn(d*i+p*a,c*r+m*n),Ea(m*r-c*n)]},o}function Zd(e){e=B7(e[0]*Dt,e[1]*Dt,e.length>2?e[2]*Dt:0);function t(r){return r=e(r[0]*Dt,r[1]*Dt),r[0]*=Tr,r[1]*=Tr,r}return t.invert=function(r){return r=e.invert(r[0]*Dt,r[1]*Dt),r[0]*=Tr,r[1]*=Tr,r},t}function Xd(e,t,r,n,i,a){if(!!r){var o=It(t),s=Rt(t),l=n*r;i==null?(i=t+n*Br,a=t-l/2):(i=$d(o,i),a=$d(o,a),(n>0?i<a:i>a)&&(i+=n*Br));for(var u,c=i;n>0?c>a:c<a;c-=l)u=Go([o,-s*It(c),-s*Rt(c)]),e.point(u[0],u[1])}}function $d(e,t){t=fi(t),t[0]-=e,Ho(t);var r=Nd(-t[1]);return((-t[2]<0?-r:r)+Br-Mt)%Br}function d2(){var e=[],t;return{point:function(n,i,a){t.push([n,i,a])},lineStart:function(){e.push(t=[])},lineEnd:rr,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function H1(e,t){return Ut(e[0]-t[0])<Mt&&Ut(e[1]-t[1])<Mt}function p2(e,t,r,n){this.x=e,this.z=t,this.o=r,this.e=n,this.v=!1,this.n=this.p=null}function m2(e,t,r,n,i){var a=[],o=[],s,l;if(e.forEach(function(w){if(!((b=w.length-1)<=0)){var b,h=w[0],g=w[b],v;if(H1(h,g)){if(!h[2]&&!g[2]){for(i.lineStart(),s=0;s<b;++s)i.point((h=w[s])[0],h[1]);i.lineEnd();return}g[0]+=2*Mt}a.push(v=new p2(h,w,null,!0)),o.push(v.o=new p2(h,null,v,!1)),a.push(v=new p2(g,w,null,!1)),o.push(v.o=new p2(g,null,v,!0))}}),!!a.length){for(o.sort(t),Jd(a),Jd(o),s=0,l=o.length;s<l;++s)o[s].e=r=!r;for(var u=a[0],c,d;;){for(var p=u,m=!0;p.v;)if((p=p.n)===u)return;c=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(m)for(s=0,l=c.length;s<l;++s)i.point((d=c[s])[0],d[1]);else n(p.x,p.n.x,1,i);p=p.n}else{if(m)for(c=p.p.z,s=c.length-1;s>=0;--s)i.point((d=c[s])[0],d[1]);else n(p.x,p.p.x,-1,i);p=p.p}p=p.o,c=p.z,m=!m}while(!p.v);i.lineEnd()}}}function Jd(e){if(!!(t=e.length)){for(var t,r=0,n=e[0],i;++r<t;)n.n=i=e[r],i.p=n,n=i;n.n=i=e[0],i.p=n}}function R7(e){return Ut(e[0])<=Ct?e[0]:Md(e[0])*((Ut(e[0])+Ct)%Br-Ct)}function ep(e,t){var r=R7(t),n=t[1],i=Rt(n),a=[Rt(r),-It(r),0],o=0,s=0,l=new qr;i===1?n=en+Mt:i===-1&&(n=-en-Mt);for(var u=0,c=e.length;u<c;++u)if(!!(p=(d=e[u]).length))for(var d,p,m=d[p-1],w=R7(m),b=m[1]/2+q1,h=Rt(b),g=It(b),v=0;v<p;++v,w=_,h=E,g=k,m=x){var x=d[v],_=R7(x),y=x[1]/2+q1,E=Rt(y),k=It(y),A=_-w,C=A>=0?1:-1,D=C*A,S=D>Ct,N=h*E;if(l.add(Zn(N*C*Rt(D),g*k+N*It(D))),o+=S?A+C*Br:A,S^w>=r^_>=r){var R=Aa(fi(m),fi(x));Ho(R);var P=Aa(a,R);Ho(P);var L=(S^A>=0?-1:1)*Ea(P[2]);(n>L||n===L&&(R[0]||R[1]))&&(s+=S^A>=0?1:-1)}}return(o<-Mt||o<Mt&&l<-Sd)^s&1}function h2(e,t,r,n){return function(i){var a=t(i),o=d2(),s=t(o),l=!1,u,c,d,p={point:m,lineStart:b,lineEnd:h,polygonStart:function(){p.point=g,p.lineStart=v,p.lineEnd=x,c=[],u=[]},polygonEnd:function(){p.point=m,p.lineStart=b,p.lineEnd=h,c=U1(c);var y=ep(u,n);c.length?(l||(i.polygonStart(),l=!0),m2(c,Wk,y,r,i)):y&&(l||(i.polygonStart(),l=!0),i.lineStart(),r(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),c=u=null},sphere:function(){i.polygonStart(),i.lineStart(),r(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function m(_,y){e(_,y)&&i.point(_,y)}function w(_,y){a.point(_,y)}function b(){p.point=w,a.lineStart()}function h(){p.point=m,a.lineEnd()}function g(_,y){d.push([_,y]),s.point(_,y)}function v(){s.lineStart(),d=[]}function x(){g(d[0][0],d[0][1]),s.lineEnd();var _=s.clean(),y=o.result(),E,k=y.length,A,C,D;if(d.pop(),u.push(d),d=null,!!k){if(_&1){if(C=y[0],(A=C.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),E=0;E<A;++E)i.point((D=C[E])[0],D[1]);i.lineEnd()}return}k>1&&_&2&&y.push(y.pop().concat(y.shift())),c.push(y.filter(Hk))}}return p}}function Hk(e){return e.length>1}function Wk(e,t){return((e=e.x)[0]<0?e[1]-en-Mt:en-e[1])-((t=t.x)[0]<0?t[1]-en-Mt:en-t[1])}var L7=h2(function(){return!0},Vk,Yk,[-Ct,-en]);function Vk(e){var t=NaN,r=NaN,n=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(o,s){var l=o>0?Ct:-Ct,u=Ut(o-t);Ut(u-Ct)<Mt?(e.point(t,r=(r+s)/2>0?en:-en),e.point(n,r),e.lineEnd(),e.lineStart(),e.point(l,r),e.point(o,r),i=0):n!==l&&u>=Ct&&(Ut(t-n)<Mt&&(t-=n*Mt),Ut(o-l)<Mt&&(o-=l*Mt),r=Kk(t,r,o,s),e.point(n,r),e.lineEnd(),e.lineStart(),e.point(l,r),i=0),e.point(t=o,r=s),n=l},lineEnd:function(){e.lineEnd(),t=r=NaN},clean:function(){return 2-i}}}function Kk(e,t,r,n){var i,a,o=Rt(e-r);return Ut(o)>Mt?l2((Rt(t)*(a=It(n))*Rt(r)-Rt(n)*(i=It(t))*Rt(e))/(i*a*o)):(t+n)/2}function Yk(e,t,r,n){var i;if(e==null)i=r*en,n.point(-Ct,i),n.point(0,i),n.point(Ct,i),n.point(Ct,0),n.point(Ct,-i),n.point(0,-i),n.point(-Ct,-i),n.point(-Ct,0),n.point(-Ct,i);else if(Ut(e[0]-t[0])>Mt){var a=e[0]<t[0]?Ct:-Ct;i=r*a/2,n.point(-a,i),n.point(0,i),n.point(a,i)}else n.point(t[0],t[1])}function tp(e){var t=It(e),r=6*Dt,n=t>0,i=Ut(t)>Mt;function a(c,d,p,m){Xd(m,e,r,p,c,d)}function o(c,d){return It(c)*It(d)>t}function s(c){var d,p,m,w,b;return{lineStart:function(){w=m=!1,b=1},point:function(g,v){var x=[g,v],_,y=o(g,v),E=n?y?0:u(g,v):y?u(g+(g<0?Ct:-Ct),v):0;if(!d&&(w=m=y)&&c.lineStart(),y!==m&&(_=l(d,x),(!_||H1(d,_)||H1(x,_))&&(x[2]=1)),y!==m)b=0,y?(c.lineStart(),_=l(x,d),c.point(_[0],_[1])):(_=l(d,x),c.point(_[0],_[1],2),c.lineEnd()),d=_;else if(i&&d&&n^y){var k;!(E&p)&&(k=l(x,d,!0))&&(b=0,n?(c.lineStart(),c.point(k[0][0],k[0][1]),c.point(k[1][0],k[1][1]),c.lineEnd()):(c.point(k[1][0],k[1][1]),c.lineEnd(),c.lineStart(),c.point(k[0][0],k[0][1],3)))}y&&(!d||!H1(d,x))&&c.point(x[0],x[1]),d=x,m=y,p=E},lineEnd:function(){m&&c.lineEnd(),d=null},clean:function(){return b|(w&&m)<<1}}}function l(c,d,p){var m=fi(c),w=fi(d),b=[1,0,0],h=Aa(m,w),g=il(h,h),v=h[0],x=g-v*v;if(!x)return!p&&c;var _=t*g/x,y=-t*v/x,E=Aa(b,h),k=al(b,_),A=al(h,y);f2(k,A);var C=E,D=il(k,C),S=il(C,C),N=D*D-S*(il(k,k)-1);if(!(N<0)){var R=Cn(N),P=al(C,(-D-R)/S);if(f2(P,k),P=Go(P),!p)return P;var L=c[0],B=d[0],O=c[1],U=d[1],T;B<L&&(T=L,L=B,B=T);var M=B-L,I=Ut(M-Ct)<Mt,z=I||M<Mt;if(!I&&U<O&&(T=O,O=U,U=T),z?I?O+U>0^P[1]<(Ut(P[0]-L)<Mt?O:U):O<=P[1]&&P[1]<=U:M>Ct^(L<=P[0]&&P[0]<=B)){var q=al(C,(-D+R)/S);return f2(q,k),[P,Go(q)]}}}function u(c,d){var p=n?e:Ct-e,m=0;return c<-p?m|=1:c>p&&(m|=2),d<-p?m|=4:d>p&&(m|=8),m}return h2(o,s,a,n?[0,-e]:[-Ct,e-Ct])}function rp(e,t,r,n,i,a){var o=e[0],s=e[1],l=t[0],u=t[1],c=0,d=1,p=l-o,m=u-s,w;if(w=r-o,!(!p&&w>0)){if(w/=p,p<0){if(w<c)return;w<d&&(d=w)}else if(p>0){if(w>d)return;w>c&&(c=w)}if(w=i-o,!(!p&&w<0)){if(w/=p,p<0){if(w>d)return;w>c&&(c=w)}else if(p>0){if(w<c)return;w<d&&(d=w)}if(w=n-s,!(!m&&w>0)){if(w/=m,m<0){if(w<c)return;w<d&&(d=w)}else if(m>0){if(w>d)return;w>c&&(c=w)}if(w=a-s,!(!m&&w<0)){if(w/=m,m<0){if(w>d)return;w>c&&(c=w)}else if(m>0){if(w<c)return;w<d&&(d=w)}return c>0&&(e[0]=o+c*p,e[1]=s+c*m),d<1&&(t[0]=o+d*p,t[1]=s+d*m),!0}}}}}var ll=1e9,g2=-ll;function ul(e,t,r,n){function i(u,c){return e<=u&&u<=r&&t<=c&&c<=n}function a(u,c,d,p){var m=0,w=0;if(u==null||(m=o(u,d))!==(w=o(c,d))||l(u,c)<0^d>0)do p.point(m===0||m===3?e:r,m>1?n:t);while((m=(m+d+4)%4)!==w);else p.point(c[0],c[1])}function o(u,c){return Ut(u[0]-e)<Mt?c>0?0:3:Ut(u[0]-r)<Mt?c>0?2:1:Ut(u[1]-t)<Mt?c>0?1:0:c>0?3:2}function s(u,c){return l(u.x,c.x)}function l(u,c){var d=o(u,1),p=o(c,1);return d!==p?d-p:d===0?c[1]-u[1]:d===1?u[0]-c[0]:d===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,d=d2(),p,m,w,b,h,g,v,x,_,y,E,k={point:A,lineStart:N,lineEnd:R,polygonStart:D,polygonEnd:S};function A(L,B){i(L,B)&&c.point(L,B)}function C(){for(var L=0,B=0,O=m.length;B<O;++B)for(var U=m[B],T=1,M=U.length,I=U[0],z,q,V=I[0],Y=I[1];T<M;++T)z=V,q=Y,I=U[T],V=I[0],Y=I[1],q<=n?Y>n&&(V-z)*(n-q)>(Y-q)*(e-z)&&++L:Y<=n&&(V-z)*(n-q)<(Y-q)*(e-z)&&--L;return L}function D(){c=d,p=[],m=[],E=!0}function S(){var L=C(),B=E&&L,O=(p=U1(p)).length;(B||O)&&(u.polygonStart(),B&&(u.lineStart(),a(null,null,1,u),u.lineEnd()),O&&m2(p,s,L,a,u),u.polygonEnd()),c=u,p=m=w=null}function N(){k.point=P,m&&m.push(w=[]),y=!0,_=!1,v=x=NaN}function R(){p&&(P(b,h),g&&_&&d.rejoin(),p.push(d.result())),k.point=A,_&&c.lineEnd()}function P(L,B){var O=i(L,B);if(m&&w.push([L,B]),y)b=L,h=B,g=O,y=!1,O&&(c.lineStart(),c.point(L,B));else if(O&&_)c.point(L,B);else{var U=[v=Math.max(g2,Math.min(ll,v)),x=Math.max(g2,Math.min(ll,x))],T=[L=Math.max(g2,Math.min(ll,L)),B=Math.max(g2,Math.min(ll,B))];rp(U,T,e,t,r,n)?(_||(c.lineStart(),c.point(U[0],U[1])),c.point(T[0],T[1]),O||c.lineEnd(),E=!1):O&&(c.lineStart(),c.point(L,B),E=!1)}v=L,x=B,_=O}return k}}var j7,z7,v2,y2,W1={sphere:rr,point:rr,lineStart:Zk,lineEnd:rr,polygonStart:rr,polygonEnd:rr};function Zk(){W1.point=$k,W1.lineEnd=Xk}function Xk(){W1.point=W1.lineEnd=rr}function $k(e,t){e*=Dt,t*=Dt,z7=e,v2=Rt(t),y2=It(t),W1.point=Jk}function Jk(e,t){e*=Dt,t*=Dt;var r=Rt(t),n=It(t),i=Ut(e-z7),a=It(i),o=Rt(i),s=n*o,l=y2*r-v2*n*a,u=v2*r+y2*n*a;j7.add(Zn(Cn(s*s+l*l),u)),z7=e,v2=r,y2=n}function U7(e){return j7=new qr,sn(e,W1),+j7}var Ja=function(e){return e};var q7=new qr,Q7=new qr,np,ip,G7,H7,eo={point:rr,lineStart:rr,lineEnd:rr,polygonStart:function(){eo.lineStart=eE,eo.lineEnd=rE},polygonEnd:function(){eo.lineStart=eo.lineEnd=eo.point=rr,q7.add(Ut(Q7)),Q7=new qr},result:function(){var t=q7/2;return q7=new qr,t}};function eE(){eo.point=tE}function tE(e,t){eo.point=ap,np=G7=e,ip=H7=t}function ap(e,t){Q7.add(H7*e-G7*t),G7=e,H7=t}function rE(){ap(np,ip)}var W7=eo;var V1=1/0,b2=V1,cl=-V1,w2=cl,nE={point:iE,lineStart:rr,lineEnd:rr,polygonStart:rr,polygonEnd:rr,result:function(){var t=[[V1,b2],[cl,w2]];return cl=w2=-(b2=V1=1/0),t}};function iE(e,t){e<V1&&(V1=e),e>cl&&(cl=e),t<b2&&(b2=t),t>w2&&(w2=t)}var K1=nE;var V7=0,K7=0,fl=0,x2=0,_2=0,Y1=0,Y7=0,Z7=0,dl=0,op,sp,Xi,$i,Ii={point:Vo,lineStart:lp,lineEnd:up,polygonStart:function(){Ii.lineStart=sE,Ii.lineEnd=lE},polygonEnd:function(){Ii.point=Vo,Ii.lineStart=lp,Ii.lineEnd=up},result:function(){var t=dl?[Y7/dl,Z7/dl]:Y1?[x2/Y1,_2/Y1]:fl?[V7/fl,K7/fl]:[NaN,NaN];return V7=K7=fl=x2=_2=Y1=Y7=Z7=dl=0,t}};function Vo(e,t){V7+=e,K7+=t,++fl}function lp(){Ii.point=aE}function aE(e,t){Ii.point=oE,Vo(Xi=e,$i=t)}function oE(e,t){var r=e-Xi,n=t-$i,i=Cn(r*r+n*n);x2+=i*(Xi+e)/2,_2+=i*($i+t)/2,Y1+=i,Vo(Xi=e,$i=t)}function up(){Ii.point=Vo}function sE(){Ii.point=uE}function lE(){cp(op,sp)}function uE(e,t){Ii.point=cp,Vo(op=Xi=e,sp=$i=t)}function cp(e,t){var r=e-Xi,n=t-$i,i=Cn(r*r+n*n);x2+=i*(Xi+e)/2,_2+=i*($i+t)/2,Y1+=i,i=$i*e-Xi*t,Y7+=i*(Xi+e),Z7+=i*($i+t),dl+=i*3,Vo(Xi=e,$i=t)}var X7=Ii;function k2(e){this._context=e}k2.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,r){switch(this._point){case 0:{this._context.moveTo(t,r),this._point=1;break}case 1:{this._context.lineTo(t,r);break}default:{this._context.moveTo(t+this._radius,r),this._context.arc(t,r,this._radius,0,Br);break}}},result:rr};var $7=new qr,J7,fp,dp,pl,ml,E2={point:rr,lineStart:function(){E2.point=cE},lineEnd:function(){J7&&pp(fp,dp),E2.point=rr},polygonStart:function(){J7=!0},polygonEnd:function(){J7=null},result:function(){var t=+$7;return $7=new qr,t}};function cE(e,t){E2.point=pp,fp=pl=e,dp=ml=t}function pp(e,t){pl-=e,ml-=t,$7.add(Cn(pl*pl+ml*ml)),pl=e,ml=t}var e9=E2;function A2(){this._string=[]}A2.prototype={_radius:4.5,_circle:mp(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(t,r){switch(this._point){case 0:{this._string.push("M",t,",",r),this._point=1;break}case 1:{this._string.push("L",t,",",r);break}default:{this._circle==null&&(this._circle=mp(this._radius)),this._string.push("M",t,",",r,this._circle);break}}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}else return null}};function mp(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function Dn(e,t){var r=4.5,n,i;function a(o){return o&&(typeof r=="function"&&i.pointRadius(+r.apply(this,arguments)),sn(o,n(i))),i.result()}return a.area=function(o){return sn(o,n(W7)),W7.result()},a.measure=function(o){return sn(o,n(e9)),e9.result()},a.bounds=function(o){return sn(o,n(K1)),K1.result()},a.centroid=function(o){return sn(o,n(X7)),X7.result()},a.projection=function(o){return arguments.length?(n=o==null?(e=null,Ja):(e=o).stream,a):e},a.context=function(o){return arguments.length?(i=o==null?(t=null,new A2):new k2(t=o),typeof r!="function"&&i.pointRadius(r),a):t},a.pointRadius=function(o){return arguments.length?(r=typeof o=="function"?o:(i.pointRadius(+o),+o),a):r},a.projection(e).context(t)}function hl(e){return{stream:to(e)}}function to(e){return function(t){var r=new t9;for(var n in e)r[n]=e[n];return r.stream=t,r}}function t9(){}t9.prototype={constructor:t9,point:function(t,r){this.stream.point(t,r)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function r9(e,t,r){var n=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),n!=null&&e.clipExtent(null),sn(r,e.stream(K1)),t(K1.result()),n!=null&&e.clipExtent(n),e}function gl(e,t,r){return r9(e,function(n){var i=t[1][0]-t[0][0],a=t[1][1]-t[0][1],o=Math.min(i/(n[1][0]-n[0][0]),a/(n[1][1]-n[0][1])),s=+t[0][0]+(i-o*(n[1][0]+n[0][0]))/2,l=+t[0][1]+(a-o*(n[1][1]+n[0][1]))/2;e.scale(150*o).translate([s,l])},r)}function C2(e,t,r){return gl(e,[[0,0],t],r)}function D2(e,t,r){return r9(e,function(n){var i=+t,a=i/(n[1][0]-n[0][0]),o=(i-a*(n[1][0]+n[0][0]))/2,s=-a*n[0][1];e.scale(150*a).translate([o,s])},r)}function S2(e,t,r){return r9(e,function(n){var i=+t,a=i/(n[1][1]-n[0][1]),o=-a*n[0][0],s=(i-a*(n[1][1]+n[0][1]))/2;e.scale(150*a).translate([o,s])},r)}var hp=16,fE=It(30*Dt);function n9(e,t){return+t?pE(e,t):dE(e)}function dE(e){return to({point:function(r,n){r=e(r,n),this.stream.point(r[0],r[1])}})}function pE(e,t){function r(n,i,a,o,s,l,u,c,d,p,m,w,b,h){var g=u-n,v=c-i,x=g*g+v*v;if(x>4*t&&b--){var _=o+p,y=s+m,E=l+w,k=Cn(_*_+y*y+E*E),A=Ea(E/=k),C=Ut(Ut(E)-1)<Mt||Ut(a-d)<Mt?(a+d)/2:Zn(y,_),D=e(C,A),S=D[0],N=D[1],R=S-n,P=N-i,L=v*R-g*P;(L*L/x>t||Ut((g*R+v*P)/x-.5)>.3||o*p+s*m+l*w<fE)&&(r(n,i,a,o,s,l,S,N,C,_/=k,y/=k,E,b,h),h.point(S,N),r(S,N,C,_,y,E,u,c,d,p,m,w,b,h))}}return function(n){var i,a,o,s,l,u,c,d,p,m,w,b,h={point:g,lineStart:v,lineEnd:_,polygonStart:function(){n.polygonStart(),h.lineStart=y},polygonEnd:function(){n.polygonEnd(),h.lineStart=v}};function g(A,C){A=e(A,C),n.point(A[0],A[1])}function v(){d=NaN,h.point=x,n.lineStart()}function x(A,C){var D=fi([A,C]),S=e(A,C);r(d,p,c,m,w,b,d=S[0],p=S[1],c=A,m=D[0],w=D[1],b=D[2],hp,n),n.point(d,p)}function _(){h.point=g,n.lineEnd()}function y(){v(),h.point=E,h.lineEnd=k}function E(A,C){x(i=A,C),a=d,o=p,s=m,l=w,u=b,h.point=x}function k(){r(d,p,c,m,w,b,a,o,i,s,l,u,hp,n),h.lineEnd=_,_()}return h}}var mE=to({point:function(t,r){this.stream.point(t*Dt,r*Dt)}});function hE(e){return to({point:function(r,n){var i=e(r,n);return this.stream.point(i[0],i[1])}})}function gE(e,t,r,n,i){function a(o,s){return o*=n,s*=i,[t+e*o,r-e*s]}return a.invert=function(o,s){return[(o-t)/e*n,(r-s)/e*i]},a}function gp(e,t,r,n,i,a){if(!a)return gE(e,t,r,n,i);var o=It(a),s=Rt(a),l=o*e,u=s*e,c=o/e,d=s/e,p=(s*r-o*t)/e,m=(s*t+o*r)/e;function w(b,h){return b*=n,h*=i,[l*b-u*h+t,r-u*b-l*h]}return w.invert=function(b,h){return[n*(c*b-d*h+p),i*(m-d*b-c*h)]},w}function Z1(e){return vp(function(){return e})()}function vp(e){var t,r=150,n=480,i=250,a=0,o=0,s=0,l=0,u=0,c,d=0,p=1,m=1,w=null,b=L7,h=null,g,v,x,_=Ja,y=.5,E,k,A,C,D;function S(L){return A(L[0]*Dt,L[1]*Dt)}function N(L){return L=A.invert(L[0],L[1]),L&&[L[0]*Tr,L[1]*Tr]}S.stream=function(L){return C&&D===L?C:C=mE(hE(c)(b(E(_(D=L)))))},S.preclip=function(L){return arguments.length?(b=L,w=void 0,P()):b},S.postclip=function(L){return arguments.length?(_=L,h=g=v=x=null,P()):_},S.clipAngle=function(L){return arguments.length?(b=+L?tp(w=L*Dt):(w=null,L7),P()):w*Tr},S.clipExtent=function(L){return arguments.length?(_=L==null?(h=g=v=x=null,Ja):ul(h=+L[0][0],g=+L[0][1],v=+L[1][0],x=+L[1][1]),P()):h==null?null:[[h,g],[v,x]]},S.scale=function(L){return arguments.length?(r=+L,R()):r},S.translate=function(L){return arguments.length?(n=+L[0],i=+L[1],R()):[n,i]},S.center=function(L){return arguments.length?(a=L[0]%360*Dt,o=L[1]%360*Dt,R()):[a*Tr,o*Tr]},S.rotate=function(L){return arguments.length?(s=L[0]%360*Dt,l=L[1]%360*Dt,u=L.length>2?L[2]%360*Dt:0,R()):[s*Tr,l*Tr,u*Tr]},S.angle=function(L){return arguments.length?(d=L%360*Dt,R()):d*Tr},S.reflectX=function(L){return arguments.length?(p=L?-1:1,R()):p<0},S.reflectY=function(L){return arguments.length?(m=L?-1:1,R()):m<0},S.precision=function(L){return arguments.length?(E=n9(k,y=L*L),P()):Cn(y)},S.fitExtent=function(L,B){return gl(S,L,B)},S.fitSize=function(L,B){return C2(S,L,B)},S.fitWidth=function(L,B){return D2(S,L,B)},S.fitHeight=function(L,B){return S2(S,L,B)};function R(){var L=gp(r,0,0,p,m,d).apply(null,t(a,o)),B=gp(r,n-L[0],i-L[1],p,m,d);return c=B7(s,l,u),k=sl(t,B),A=sl(c,k),E=n9(k,y),P()}function P(){return C=D=null,S}return function(){return t=e.apply(this,arguments),S.invert=t.invert&&N,R()}}function Ji(e,t){return[e,Td(Id((en+t)/2))]}Ji.invert=function(e,t){return[e,2*l2(Fd(t))-en]};function i9(){return vE(Ji).scale(961/Br)}function vE(e){var t=Z1(e),r=t.center,n=t.scale,i=t.translate,a=t.clipExtent,o=null,s,l,u;t.scale=function(d){return arguments.length?(n(d),c()):n()},t.translate=function(d){return arguments.length?(i(d),c()):i()},t.center=function(d){return arguments.length?(r(d),c()):r()},t.clipExtent=function(d){return arguments.length?(d==null?o=s=l=u=null:(o=+d[0][0],s=+d[0][1],l=+d[1][0],u=+d[1][1]),c()):o==null?null:[[o,s],[l,u]]};function c(){var d=Ct*n(),p=t(Zd(t.rotate()).invert([0,0]));return a(o==null?[[p[0]-d,p[1]-d],[p[0]+d,p[1]+d]]:e===Ji?[[Math.max(p[0]-d,o),s],[Math.min(p[0]+d,l),u]]:[[o,Math.max(p[1]-d,s)],[l,Math.min(p[1]+d,u)]])}return c()}function F2(){var e=1,t=0,r=0,n=1,i=1,a=0,o,s,l=null,u,c,d,p=1,m=1,w=to({point:function(y,E){var k=x([y,E]);this.stream.point(k[0],k[1])}}),b=Ja,h,g;function v(){return p=e*n,m=e*i,h=g=null,x}function x(_){var y=_[0]*p,E=_[1]*m;if(a){var k=E*o-y*s;y=y*o+E*s,E=k}return[y+t,E+r]}return x.invert=function(_){var y=_[0]-t,E=_[1]-r;if(a){var k=E*o+y*s;y=y*o-E*s,E=k}return[y/p,E/m]},x.stream=function(_){return h&&g===_?h:h=w(b(g=_))},x.postclip=function(_){return arguments.length?(b=_,l=u=c=d=null,v()):b},x.clipExtent=function(_){return arguments.length?(b=_==null?(l=u=c=d=null,Ja):ul(l=+_[0][0],u=+_[0][1],c=+_[1][0],d=+_[1][1]),v()):l==null?null:[[l,u],[c,d]]},x.scale=function(_){return arguments.length?(e=+_,v()):e},x.translate=function(_){return arguments.length?(t=+_[0],r=+_[1],v()):[t,r]},x.angle=function(_){return arguments.length?(a=_%360*Dt,s=Rt(a),o=It(a),v()):a*Tr},x.reflectX=function(_){return arguments.length?(n=_?-1:1,v()):n<0},x.reflectY=function(_){return arguments.length?(i=_?-1:1,v()):i<0},x.fitExtent=function(_,y){return gl(x,_,y)},x.fitSize=function(_,y){return C2(x,_,y)},x.fitWidth=function(_,y){return D2(x,_,y)},x.fitHeight=function(_,y){return S2(x,_,y)},x}var ea=2*Math.PI,T2=6356752314245179e-9,M2=6378137;function a9(e){return e*(ea*M2/360)}function vl(e,t){return Math.abs(t)>=90?0:e*(ea*T2/360)*Math.abs(Math.cos(t*(Math.PI/180)))}function Sn(e){return e/(ea*M2/360)}function ln(e,t){return Math.abs(t)>=90?0:e/(ea*T2/360)/Math.abs(Math.cos(t*(Math.PI/180)))}function I2(e,t){return t=t||256,[e[0]*t/(ea*T2),-e[1]*t/(ea*M2)]}function N2(e,t){return t=t||256,[e[0]*ea*T2/t,-e[1]*ea*M2/t]}function bt(e,t){var r=vl(e[0]-t[0],(e[1]+t[1])/2),n=a9(e[1]-t[1]);return Math.sqrt(r*r+n*n)}function Jt(e,t){t=t||256;var r=Math.log(t)*Math.LOG2E;return Math.log(e*ea)/Math.LN2-r}function Qr(e,t){return t=t||256,t*Math.pow(2,e)/ea}function O2(e,t){for(var r=1/0,n,i=0;i<e.length;i++){var a=bt(e[i],t);a<r&&(r=a,n=i)}return n!==void 0?{index:n,distance:r,point:e[n]}:null}var Ne=function(){function e(t,r){kn(this,e),this.min=[1/0,1/0],this.max=[-1/0,-1/0];var n;t instanceof e?(n=t.min,r=t.max):n=t,n&&n.length===2&&(this.min[0]=n[0],this.min[1]=n[1],r||(r=n)),r&&r.length===2&&(this.max[0]=r[0],this.max[1]=r[1])}return En(e,[{key:"equals",value:function(r){return this.min[0]===r.min[0]&&this.min[1]===r.min[1]&&this.max[0]===r.max[0]&&this.max[1]===r.max[1]}},{key:"area",value:function(){return Math.abs((this.max[0]-this.min[0])*(this.max[1]-this.min[1]))}},{key:"center",value:function(){return[(this.min[0]+this.max[0])/2,(this.min[1]+this.max[1])/2]}},{key:"rectangle",value:function(){return[this.min[0],this.min[1],this.max[0],this.max[1]]}},{key:"toParam",value:function(){return this.rectangle().join(",")}},{key:"bbox",value:function(){return{minX:this.min[0],minY:this.min[1],maxX:this.max[0],maxY:this.max[1]}}},{key:"polygon",value:function(){return[[this.min[0],this.min[1]],[this.min[0],this.max[1]],[this.max[0],this.max[1]],[this.max[0],this.min[1]],[this.min[0],this.min[1]]]}},{key:"contains",value:function(r){return r.min[0]>=this.min[0]&&r.min[1]>=this.min[1]&&r.max[0]<=this.max[0]&&r.max[1]<=this.max[1]}},{key:"intersects",value:function(r){return r.min[0]<=this.max[0]&&r.min[1]<=this.max[1]&&r.max[0]>=this.min[0]&&r.max[1]>=this.min[1]}},{key:"intersection",value:function(r){return this.intersects(r)?new e([Math.max(r.min[0],this.min[0]),Math.max(r.min[1],this.min[1])],[Math.min(r.max[0],this.max[0]),Math.min(r.max[1],this.max[1])]):new e}},{key:"percentContainedIn",value:function(r){var n=this.intersection(r).area(),i=this.area();return n===1/0||i===1/0?0:n===0||i===0?r.contains(this)?1:0:n/i}},{key:"extend",value:function(r){return new e([Math.min(r.min[0],this.min[0]),Math.min(r.min[1],this.min[1])],[Math.max(r.max[0],this.max[0]),Math.max(r.max[1],this.max[1])])}},{key:"padByMeters",value:function(r){var n=Sn(r),i=ln(r,this.center()[1]);return new e([this.min[0]-i,this.min[1]-n],[this.max[0]+i,this.max[1]+n])}}]),e}();function X1(e){for(var t=-1,r=e.length,n,i=e[r-1],a=0;++t<r;)n=i,i=e[t],a+=n[1]*i[0]-n[0]*i[1];return a/2}function ta(e){for(var t=-1,r=e.length,n=0,i=0,a,o=e[r-1],s,l=0;++t<r;)a=o,o=e[t],l+=s=a[0]*o[1]-o[0]*a[1],n+=(a[0]+o[0])*s,i+=(a[1]+o[1])*s;return l*=3,[n/l,i/l]}function yp(e,t,r){return(t[0]-e[0])*(r[1]-e[1])-(t[1]-e[1])*(r[0]-e[0])}function yE(e,t){return e[0]-t[0]||e[1]-t[1]}function bp(e){var t=e.length,r=[0,1],n=2,i;for(i=2;i<t;++i){for(;n>1&&yp(e[r[n-2]],e[r[n-1]],e[i])<=0;)--n;r[n++]=i}return r.slice(0,n)}function Sa(e){if((r=e.length)<3)return null;var t,r,n=new Array(r),i=new Array(r);for(t=0;t<r;++t)n[t]=[+e[t][0],+e[t][1],t];for(n.sort(yE),t=0;t<r;++t)i[t]=[n[t][0],-n[t][1]];var a=bp(n),o=bp(i),s=o[0]===a[0],l=o[o.length-1]===a[a.length-1],u=[];for(t=a.length-1;t>=0;--t)u.push(e[n[a[t]][2]]);for(t=+s;t<o.length-l;++t)u.push(e[n[o[t]][2]]);return u}function Kr(e,t,r){return r?Math.abs(e[0]-t[0])<=r&&Math.abs(e[1]-t[1])<=r:e[0]===t[0]&&e[1]===t[1]}function kr(e,t){return[e[0]+t[0],e[1]+t[1]]}function Lt(e,t){return[e[0]-t[0],e[1]-t[1]]}function Ni(e,t){return[e[0]*t,e[1]*t]}function jt(e,t,r){return[e[0]+(t[0]-e[0])*r,e[1]+(t[1]-e[1])*r]}function it(e,t){t=t||[0,0];var r=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(r*r+n*n)}function o9(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0];return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function $1(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]);return t!==0?Ni(e,1/t):[0,0]}function pr(e,t){return Math.atan2(t[1]-e[1],t[0]-e[0])}function di(e,t,r){r=r||[0,0];var n=Lt(e,r),i=Lt(t,r);return n[0]*i[0]+n[1]*i[1]}function P2(e,t,r){r=r||[0,0];var n=$1(Lt(e,r)),i=$1(Lt(t,r));return di(n,i)}function J1(e,t,r){r=r||[0,0];var n=Lt(e,r),i=Lt(t,r);return n[0]*i[1]-n[1]*i[0]}function wp(e,t){for(var r=1/0,n,i,a=0;a<t.length-1;a++){var o=t[a],s=Lt(t[a+1],o),l=Lt(e,o),u=di(l,s)/di(s,s),c=void 0;u<0?c=o:u>1?c=t[a+1]:c=[o[0]+u*s[0],o[1]+u*s[1]];var d=it(c,e);d<r&&(r=d,n=a+1,i=c)}return n!==void 0&&i!==void 0?{index:n,distance:r,target:i}:null}function xp(e,t){return e[0]===t[0]&&e[1]===t[1]||e[0]===t[1]&&e[1]===t[0]}function es(e,t,r){return e.map(function(n){var i=Lt(n,r);return[i[0]*Math.cos(t)-i[1]*Math.sin(t)+r[0],i[0]*Math.sin(t)+i[1]*Math.cos(t)+r[1]]})}function Oi(e,t){if(e.length!==2||t.length!==2)return null;var r=[e[0][0],e[0][1]],n=[e[1][0],e[1][1]],i=[t[0][0],t[0][1]],a=[t[1][0],t[1][1]],o=Lt(n,r),s=Lt(a,i),l=J1(Lt(i,r),o),u=J1(o,s);if(l&&u){var c=l/u,d=J1(Lt(i,r),s)/u;if(d>=0&&d<=1&&c>=0&&c<=1)return jt(r,n,d)}return null}function B2(e,t){for(var r=[],n=0;n<e.length-1;n++)for(var i=0;i<t.length-1;i++){var a=[e[n],e[n+1]],o=[t[i],t[i+1]],s=Oi(a,o);s&&r.push(s)}return r}function bE(e,t){for(var r=0;r<e.length-1;r++)for(var n=0;n<t.length-1;n++){var i=[e[r],e[r+1]],a=[t[n],t[n+1]],o=Oi(i,a);if(o)return!0}return!1}function ro(e,t){for(var r=e[0],n=e[1],i=!1,a=0,o=t.length-1;a<t.length;o=a++){var s=t[a][0],l=t[a][1],u=t[o][0],c=t[o][1],d=l>n!=c>n&&r<(u-s)*(n-l)/(c-l)+s;d&&(i=!i)}return i}function R2(e,t){return t.every(function(r){return ro(r,e)})}function ts(e,t,r){function n(i,a){return a.some(function(o){return ro(o,i)})}return n(e,t)||!!r&&bE(e,t)}function L2(e){var t=Sa(e);if(!t)return null;for(var r=ta(t),n=1/0,i=new Ne,a=0,o=t[0],s=0;s<=t.length-1;s++){var l=s===t.length-1?t[0]:t[s+1],u=Math.atan2(l[1]-o[1],l[0]-o[0]),c=es(t,-u,r),d=c.reduce(function(m,w){return m.min[0]=Math.min(m.min[0],w[0]),m.min[1]=Math.min(m.min[1],w[1]),m.max[0]=Math.max(m.max[0],w[0]),m.max[1]=Math.max(m.max[1],w[1]),m},new Ne),p=d.area();p<n&&(n=p,i=d,a=u),o=l}return{poly:es(i.polygon(),a,r),angle:a}}function Ko(e){for(var t=0,r=0;r<e.length-1;r++)t+=it(e[r],e[r+1]);return t}function rs(e,t){var r=[80,20,50,20],n=0,i=0;return e[0]>t[0]-r[1]&&(n=-10),e[0]<r[3]&&(n=10),e[1]>t[1]-r[2]&&(i=-10),e[1]<r[0]&&(i=10),n||i?[n,i]:null}var wE={value:function(){}};function _p(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new j2(r)}function j2(e){this._=e}function xE(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}j2.prototype=_p.prototype={constructor:j2,on:function(t,r){var n=this._,i=xE(t+"",n),a,o=-1,s=i.length;if(arguments.length<2){for(;++o<s;)if((a=(t=i[o]).type)&&(a=_E(n[a],t.name)))return a;return}if(r!=null&&typeof r!="function")throw new Error("invalid callback: "+r);for(;++o<s;)if(a=(t=i[o]).type)n[a]=kp(n[a],t.name,r);else if(r==null)for(a in n)n[a]=kp(n[a],t.name,null);return this},copy:function(){var t={},r=this._;for(var n in r)t[n]=r[n].slice();return new j2(t)},call:function(t,r){if((a=arguments.length-2)>0)for(var n=new Array(a),i=0,a,o;i<a;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],i=0,a=o.length;i<a;++i)o[i].value.apply(r,n)},apply:function(t,r,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],a=0,o=i.length;a<o;++a)i[a].value.apply(r,n)}};function _E(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function kp(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=wE,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var be=_p;var z2="http://www.w3.org/1999/xhtml",s9={svg:"http://www.w3.org/2000/svg",xhtml:z2,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Fa(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),s9.hasOwnProperty(t)?{space:s9[t],local:e}:e}function kE(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===z2&&t.documentElement.namespaceURI===z2?t.createElement(e):t.createElementNS(r,e)}}function EE(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function U2(e){var t=Fa(e);return(t.local?EE:kE)(t)}function yl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AE(){}function Yo(e){return e==null?AE:function(){return this.querySelector(e)}}function Ep(e){typeof e!="function"&&(e=Yo(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a=t[i],o=a.length,s=n[i]=new Array(o),l,u,c=0;c<o;++c)(l=a[c])&&(u=e.call(l,l.__data__,c,a))&&("__data__"in l&&(u.__data__=l.__data__),s[c]=u);return new yr(n,this._parents)}function bl(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function CE(){return[]}function wl(e){return e==null?CE:function(){return this.querySelectorAll(e)}}function DE(e){return function(){return bl(e.apply(this,arguments))}}function Ap(e){typeof e=="function"?e=DE(e):e=wl(e);for(var t=this._groups,r=t.length,n=[],i=[],a=0;a<r;++a)for(var o=t[a],s=o.length,l,u=0;u<s;++u)(l=o[u])&&(n.push(e.call(l,l.__data__,u,o)),i.push(l));return new yr(n,i)}function xl(e){return function(){return this.matches(e)}}function q2(e){return function(t){return t.matches(e)}}var SE=Array.prototype.find;function FE(e){return function(){return SE.call(this.children,e)}}function TE(){return this.firstElementChild}function Cp(e){return this.select(e==null?TE:FE(typeof e=="function"?e:q2(e)))}var ME=Array.prototype.filter;function IE(){return Array.from(this.children)}function NE(e){return function(){return ME.call(this.children,e)}}function Dp(e){return this.selectAll(e==null?IE:NE(typeof e=="function"?e:q2(e)))}function Sp(e){typeof e!="function"&&(e=xl(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a=t[i],o=a.length,s=n[i]=[],l,u=0;u<o;++u)(l=a[u])&&e.call(l,l.__data__,u,a)&&s.push(l);return new yr(n,this._parents)}pt();function Q2(e){return new Array(e.length)}function Fp(){return new yr(this._enter||this._groups.map(Q2),this._parents)}function _l(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}_l.prototype={constructor:_l,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,r){return this._parent.insertBefore(t,r)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Tp(e){return function(){return e}}function OE(e,t,r,n,i,a){for(var o=0,s,l=t.length,u=a.length;o<u;++o)(s=t[o])?(s.__data__=a[o],n[o]=s):r[o]=new _l(e,a[o]);for(;o<l;++o)(s=t[o])&&(i[o]=s)}function PE(e,t,r,n,i,a,o){var s,l,u=new Map,c=t.length,d=a.length,p=new Array(c),m;for(s=0;s<c;++s)(l=t[s])&&(p[s]=m=o.call(l,l.__data__,s,t)+"",u.has(m)?i[s]=l:u.set(m,l));for(s=0;s<d;++s)m=o.call(e,a[s],s,a)+"",(l=u.get(m))?(n[s]=l,l.__data__=a[s],u.delete(m)):r[s]=new _l(e,a[s]);for(s=0;s<c;++s)(l=t[s])&&u.get(p[s])===l&&(i[s]=l)}function BE(e){return e.__data__}function Mp(e,t){if(!arguments.length)return Array.from(this,BE);var r=t?PE:OE,n=this._parents,i=this._groups;typeof e!="function"&&(e=Tp(e));for(var a=i.length,o=new Array(a),s=new Array(a),l=new Array(a),u=0;u<a;++u){var c=n[u],d=i[u],p=d.length,m=RE(e.call(c,c&&c.__data__,u,n)),w=m.length,b=s[u]=new Array(w),h=o[u]=new Array(w),g=l[u]=new Array(p);r(c,d,b,h,g,m,t);for(var v=0,x=0,_,y;v<w;++v)if(_=b[v]){for(v>=x&&(x=v+1);!(y=h[x])&&++x<w;);_._next=y||null}}return o=new yr(o,n),o._enter=s,o._exit=l,o}function RE(e){return Se(e)==="object"&&"length"in e?e:Array.from(e)}function Ip(){return new yr(this._exit||this._groups.map(Q2),this._parents)}function Np(e,t,r){var n=this.enter(),i=this,a=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?a.remove():r(a),n&&i?n.merge(i).order():i}function Op(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,a=n.length,o=Math.min(i,a),s=new Array(i),l=0;l<o;++l)for(var u=r[l],c=n[l],d=u.length,p=s[l]=new Array(d),m,w=0;w<d;++w)(m=u[w]||c[w])&&(p[w]=m);for(;l<i;++l)s[l]=r[l];return new yr(s,this._parents)}function Pp(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,a=n[i],o;--i>=0;)(o=n[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function Bp(e){e||(e=LE);function t(d,p){return d&&p?e(d.__data__,p.__data__):!d-!p}for(var r=this._groups,n=r.length,i=new Array(n),a=0;a<n;++a){for(var o=r[a],s=o.length,l=i[a]=new Array(s),u,c=0;c<s;++c)(u=o[c])&&(l[c]=u);l.sort(t)}return new yr(i,this._parents).order()}function LE(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Rp(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Lp(){return Array.from(this)}function jp(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,a=n.length;i<a;++i){var o=n[i];if(o)return o}return null}function jE(e,t){var r=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=zE(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(e)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function zE(e,t){if(!!e){if(typeof e=="string")return zp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zp(e,t)}}function zp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Up(){var e=0,t=jE(this),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;++e}}catch(i){t.e(i)}finally{t.f()}return e}function qp(){return!this.node()}function Qp(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],a=0,o=i.length,s;a<o;++a)(s=i[a])&&e.call(s,s.__data__,a,i);return this}function UE(e){return function(){this.removeAttribute(e)}}function qE(e){return function(){this.removeAttributeNS(e.space,e.local)}}function QE(e,t){return function(){this.setAttribute(e,t)}}function GE(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function HE(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function WE(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function Gp(e,t){var r=Fa(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?qE:UE:typeof t=="function"?r.local?WE:HE:r.local?GE:QE)(r,t))}function G2(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function VE(e){return function(){this.style.removeProperty(e)}}function KE(e,t,r){return function(){this.style.setProperty(e,t,r)}}function YE(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function Hp(e,t,r){return arguments.length>1?this.each((t==null?VE:typeof t=="function"?YE:KE)(e,t,r==null?"":r)):no(this.node(),e)}function no(e,t){return e.style.getPropertyValue(t)||G2(e).getComputedStyle(e,null).getPropertyValue(t)}function ZE(e){return function(){delete this[e]}}function XE(e,t){return function(){this[e]=t}}function $E(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function Wp(e,t){return arguments.length>1?this.each((t==null?ZE:typeof t=="function"?$E:XE)(e,t)):this.node()[e]}function Vp(e){return e.trim().split(/^|\s+/)}function l9(e){return e.classList||new Kp(e)}function Kp(e){this._node=e,this._names=Vp(e.getAttribute("class")||"")}Kp.prototype={add:function(t){var r=this._names.indexOf(t);r<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var r=this._names.indexOf(t);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Yp(e,t){for(var r=l9(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function Zp(e,t){for(var r=l9(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function JE(e){return function(){Yp(this,e)}}function eA(e){return function(){Zp(this,e)}}function tA(e,t){return function(){(t.apply(this,arguments)?Yp:Zp)(this,e)}}function Xp(e,t){var r=Vp(e+"");if(arguments.length<2){for(var n=l9(this.node()),i=-1,a=r.length;++i<a;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?tA:t?JE:eA)(r,t))}function rA(){this.textContent=""}function nA(e){return function(){this.textContent=e}}function iA(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function $p(e){return arguments.length?this.each(e==null?rA:(typeof e=="function"?iA:nA)(e)):this.node().textContent}function aA(){this.innerHTML=""}function oA(e){return function(){this.innerHTML=e}}function sA(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function Jp(e){return arguments.length?this.each(e==null?aA:(typeof e=="function"?sA:oA)(e)):this.node().innerHTML}function lA(){this.nextSibling&&this.parentNode.appendChild(this)}function em(){return this.each(lA)}function uA(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function tm(){return this.each(uA)}function rm(e){var t=typeof e=="function"?e:U2(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function cA(){return null}function nm(e,t){var r=typeof e=="function"?e:U2(e),n=t==null?cA:typeof t=="function"?t:Yo(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function fA(){var e=this.parentNode;e&&e.removeChild(this)}function im(){return this.each(fA)}function dA(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function pA(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function am(e){return this.select(e?pA:dA)}function om(e){return arguments.length?this.property("__data__",e):this.node().__data__}function mA(e){return function(t){e.call(this,t,this.__data__)}}function hA(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function gA(e){return function(){var t=this.__on;if(!!t){for(var r=0,n=-1,i=t.length,a;r<i;++r)a=t[r],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++n]=a;++n?t.length=n:delete this.__on}}}function vA(e,t,r){return function(){var n=this.__on,i,a=mA(t);if(n){for(var o=0,s=n.length;o<s;++o)if((i=n[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=r),i.value=t;return}}this.addEventListener(e.type,a,r),i={type:e.type,name:e.name,value:t,listener:a,options:r},n?n.push(i):this.__on=[i]}}function sm(e,t,r){var n=hA(e+""),i,a=n.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,c;l<u;++l)for(i=0,c=s[l];i<a;++i)if((o=n[i]).type===c.type&&o.name===c.name)return c.value}return}for(s=t?vA:gA,i=0;i<a;++i)this.each(s(n[i],t,r));return this}function lm(e,t,r){var n=G2(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function yA(e,t){return function(){return lm(this,e,t)}}function bA(e,t){return function(){return lm(this,e,t.apply(this,arguments))}}function um(e,t){return this.each((typeof t=="function"?bA:yA)(e,t))}var u9=Xe($4()),wA=u9.default.mark(H2);function H2(){var e,t,r,n,i,a,o;return u9.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:e=this._groups,t=0,r=e.length;case 1:if(!(t<r)){l.next=13;break}n=e[t],i=0,a=n.length;case 3:if(!(i<a)){l.next=10;break}if(!(o=n[i])){l.next=7;break}return l.next=7,o;case 7:++i,l.next=3;break;case 10:++t,l.next=1;break;case 13:case"end":return l.stop()}},wA,this)}var kl=[null];function yr(e,t){this._groups=e,this._parents=t}function cm(){return new yr([[document.documentElement]],kl)}function xA(){return this}yr.prototype=cm.prototype=yl({constructor:yr,select:Ep,selectAll:Ap,selectChild:Cp,selectChildren:Dp,filter:Sp,data:Mp,enter:Fp,exit:Ip,join:Np,merge:Op,selection:xA,order:Pp,sort:Bp,call:Rp,nodes:Lp,node:jp,size:Up,empty:qp,each:Qp,attr:Gp,style:Hp,property:Wp,classed:Xp,text:$p,html:Jp,raise:em,lower:tm,append:rm,insert:nm,remove:im,clone:am,datum:om,on:sm,dispatch:um},Symbol.iterator,H2);var Pi=cm;function G(e){return typeof e=="string"?new yr([[document.querySelector(e)]],[document.documentElement]):new yr([[e]],kl)}function fm(e){for(var t;t=e.sourceEvent;)e=t;return e}function pi(e,t){if(e=fm(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function c9(e){return typeof e=="string"?new yr([document.querySelectorAll(e)],[document.documentElement]):new yr([bl(e)],kl)}var dm={passive:!1},Zo={capture:!0,passive:!1};function W2(e){e.stopImmediatePropagation()}function io(e){e.preventDefault(),e.stopImmediatePropagation()}function El(e){var t=e.document.documentElement,r=G(e).on("dragstart.drag",io,Zo);"onselectstart"in t?r.on("selectstart.drag",io,Zo):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Al(e,t){var r=e.document.documentElement,n=G(e).on("dragstart.drag",null);t&&(n.on("click.drag",io,Zo),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}var Cl=function(e){return function(){return e}};function Dl(e,t){var r=t.sourceEvent,n=t.subject,i=t.target,a=t.identifier,o=t.active,s=t.x,l=t.y,u=t.dx,c=t.dy,d=t.dispatch;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:d}})}Dl.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function _A(e){return!e.ctrlKey&&!e.button}function kA(){return this.parentNode}function EA(e,t){return t==null?{x:e.x,y:e.y}:t}function AA(){return navigator.maxTouchPoints||"ontouchstart"in this}function Sl(){var e=_A,t=kA,r=EA,n=AA,i={},a=be("start","drag","end"),o=0,s,l,u,c,d=0;function p(_){_.on("mousedown.drag",m).filter(n).on("touchstart.drag",h).on("touchmove.drag",g,dm).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(_,y){if(!(c||!e.call(this,_,y))){var E=x(this,t.call(this,_,y),_,y,"mouse");!E||(G(_.view).on("mousemove.drag",w,Zo).on("mouseup.drag",b,Zo),El(_.view),W2(_),u=!1,s=_.clientX,l=_.clientY,E("start",_))}}function w(_){if(io(_),!u){var y=_.clientX-s,E=_.clientY-l;u=y*y+E*E>d}i.mouse("drag",_)}function b(_){G(_.view).on("mousemove.drag mouseup.drag",null),Al(_.view,u),io(_),i.mouse("end",_)}function h(_,y){if(!!e.call(this,_,y)){var E=_.changedTouches,k=t.call(this,_,y),A=E.length,C,D;for(C=0;C<A;++C)(D=x(this,k,_,y,E[C].identifier,E[C]))&&(W2(_),D("start",_,E[C]))}}function g(_){var y=_.changedTouches,E=y.length,k,A;for(k=0;k<E;++k)(A=i[y[k].identifier])&&(io(_),A("drag",_,y[k]))}function v(_){var y=_.changedTouches,E=y.length,k,A;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),k=0;k<E;++k)(A=i[y[k].identifier])&&(W2(_),A("end",_,y[k]))}function x(_,y,E,k,A,C){var D=a.copy(),S=pi(C||E,y),N,R,P;if((P=r.call(_,new Dl("beforestart",{sourceEvent:E,target:p,identifier:A,active:o,x:S[0],y:S[1],dx:0,dy:0,dispatch:D}),k))!=null)return N=P.x-S[0]||0,R=P.y-S[1]||0,function L(B,O,U){var T=S,M;switch(B){case"start":i[A]=L,M=o++;break;case"end":delete i[A],--o;case"drag":S=pi(U||O,y),M=o;break}D.call(B,_,new Dl(B,{sourceEvent:O,subject:P,target:p,identifier:A,active:M,x:S[0]+N,y:S[1]+R,dx:S[0]-T[0],dy:S[1]-T[1],dispatch:D}),k)}}return p.filter=function(_){return arguments.length?(e=typeof _=="function"?_:Cl(!!_),p):e},p.container=function(_){return arguments.length?(t=typeof _=="function"?_:Cl(_),p):t},p.subject=function(_){return arguments.length?(r=typeof _=="function"?_:Cl(_),p):r},p.touchable=function(_){return arguments.length?(n=typeof _=="function"?_:Cl(!!_),p):n},p.on=function(){var _=a.on.apply(a,arguments);return _===a?p:_},p.clickDistance=function(_){return arguments.length?(d=(_=+_)*_,p):Math.sqrt(d)},p}pt();function V2(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function f9(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Fl(){}var Tl=.7;var K2=1/Tl;var ns="\\s*([+-]?\\d+)\\s*",Ml="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ra="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",CA=/^#([0-9a-f]{3,8})$/,DA=new RegExp("^rgb\\("+[ns,ns,ns]+"\\)$"),SA=new RegExp("^rgb\\("+[ra,ra,ra]+"\\)$"),FA=new RegExp("^rgba\\("+[ns,ns,ns,Ml]+"\\)$"),TA=new RegExp("^rgba\\("+[ra,ra,ra,Ml]+"\\)$"),MA=new RegExp("^hsl\\("+[Ml,ra,ra]+"\\)$"),IA=new RegExp("^hsla\\("+[Ml,ra,ra,Ml]+"\\)$"),pm={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};V2(Fl,Bi,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:mm,formatHex:mm,formatHsl:NA,formatRgb:hm,toString:hm});function mm(){return this.rgb().formatHex()}function NA(){return wm(this).formatHsl()}function hm(){return this.rgb().formatRgb()}function Bi(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=CA.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?gm(t):r===3?new Jn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Y2(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Y2(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=DA.exec(e))?new Jn(t[1],t[2],t[3],1):(t=SA.exec(e))?new Jn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=FA.exec(e))?Y2(t[1],t[2],t[3],t[4]):(t=TA.exec(e))?Y2(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=MA.exec(e))?bm(t[1],t[2]/100,t[3]/100,1):(t=IA.exec(e))?bm(t[1],t[2]/100,t[3]/100,t[4]):pm.hasOwnProperty(e)?gm(pm[e]):e==="transparent"?new Jn(NaN,NaN,NaN,0):null}function gm(e){return new Jn(e>>16&255,e>>8&255,e&255,1)}function Y2(e,t,r,n){return n<=0&&(e=t=r=NaN),new Jn(e,t,r,n)}function OA(e){return e instanceof Fl||(e=Bi(e)),e?(e=e.rgb(),new Jn(e.r,e.g,e.b,e.opacity)):new Jn}function is(e,t,r,n){return arguments.length===1?OA(e):new Jn(e,t,r,n==null?1:n)}function Jn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}V2(Jn,is,f9(Fl,{brighter:function(t){return t=t==null?K2:Math.pow(K2,t),new Jn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?Tl:Math.pow(Tl,t),new Jn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vm,formatHex:vm,formatRgb:ym,toString:ym}));function vm(){return"#"+d9(this.r)+d9(this.g)+d9(this.b)}function ym(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function d9(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function bm(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new na(e,t,r,n)}function wm(e){if(e instanceof na)return new na(e.h,e.s,e.l,e.opacity);if(e instanceof Fl||(e=Bi(e)),!e)return new na;if(e instanceof na)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(t===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-t)/s+2:o=(t-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new na(o,s,l,e.opacity)}function xm(e,t,r,n){return arguments.length===1?wm(e):new na(e,t,r,n==null?1:n)}function na(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}V2(na,xm,f9(Fl,{brighter:function(t){return t=t==null?K2:Math.pow(K2,t),new na(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?Tl:Math.pow(Tl,t),new na(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,r=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*r,a=2*n-i;return new Jn(p9(t>=240?t-240:t+120,a,i),p9(t,a,i),p9(t<120?t+240:t-120,a,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function p9(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}function m9(e,t,r,n,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*r+(1+3*e+3*a-3*o)*n+o*i)/6}function _m(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],a=e[n+1],o=n>0?e[n-1]:2*i-a,s=n<t-1?e[n+2]:2*a-i;return m9((r-n/t)*t,o,i,a,s)}}function km(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),i=e[(n+t-1)%t],a=e[n%t],o=e[(n+1)%t],s=e[(n+2)%t];return m9((r-n/t)*t,i,a,o,s)}}var Il=function(e){return function(){return e}};function PA(e,t){return function(r){return e+r*t}}function BA(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Em(e){return(e=+e)==1?Z2:function(t,r){return r-t?BA(t,r,e):Il(isNaN(t)?r:t)}}function Z2(e,t){var r=t-e;return r?PA(e,r):Il(isNaN(e)?t:e)}var ia=function e(t){var r=Em(t);function n(i,a){var o=r((i=is(i)).r,(a=is(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),u=Z2(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return n.gamma=e,n}(1);function Am(e){return function(t){var r=t.length,n=new Array(r),i=new Array(r),a=new Array(r),o,s;for(o=0;o<r;++o)s=is(t[o]),n[o]=s.r||0,i[o]=s.g||0,a[o]=s.b||0;return n=e(n),i=e(i),a=e(a),s.opacity=1,function(l){return s.r=n(l),s.g=i(l),s.b=a(l),s+""}}}var RA=Am(_m),LA=Am(km);function Cm(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function Dm(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Sm(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=mi(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function Fm(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function mr(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}pt();function Tm(e,t){var r={},n={},i;(e===null||Se(e)!=="object")&&(e={}),(t===null||Se(t)!=="object")&&(t={});for(i in t)i in e?r[i]=mi(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var h9=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,g9=new RegExp(h9.source,"g");function jA(e){return function(){return e}}function zA(e){return function(t){return e(t)+""}}function Nl(e,t){var r=h9.lastIndex=g9.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(e=e+"",t=t+"";(n=h9.exec(e))&&(i=g9.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:mr(n,i)})),r=g9.lastIndex;return r<t.length&&(a=t.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?zA(l[0].x):jA(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)s[(d=l[c]).i]=d.x(u);return s.join("")})}function mi(e,t){var r=Se(t),n;return t==null||r==="boolean"?Il(t):(r==="number"?mr:r==="string"?(n=Bi(t))?(t=n,ia):Nl:t instanceof Bi?ia:t instanceof Date?Fm:Dm(t)?Cm:Array.isArray(t)?Sm:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Tm:mr)(e,t)}function v9(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var Mm=180/Math.PI,X2={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function y9(e,t,r,n,i,a){var o,s,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(s=Math.sqrt(r*r+n*n))&&(r/=s,n/=s,l/=s),e*n<t*r&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*Mm,skewX:Math.atan(l)*Mm,scaleX:o,scaleY:s}}var $2;function Im(e){var t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?X2:y9(t.a,t.b,t.c,t.d,t.e,t.f)}function Nm(e){return e==null?X2:($2||($2=document.createElementNS("http://www.w3.org/2000/svg","g")),$2.setAttribute("transform",e),(e=$2.transform.baseVal.consolidate())?(e=e.matrix,y9(e.a,e.b,e.c,e.d,e.e,e.f)):X2)}function Om(e,t,r,n){function i(u){return u.length?u.pop()+" ":""}function a(u,c,d,p,m,w){if(u!==d||c!==p){var b=m.push("translate(",null,t,null,r);w.push({i:b-4,x:mr(u,d)},{i:b-2,x:mr(c,p)})}else(d||p)&&m.push("translate("+d+t+p+r)}function o(u,c,d,p){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),p.push({i:d.push(i(d)+"rotate(",null,n)-2,x:mr(u,c)})):c&&d.push(i(d)+"rotate("+c+n)}function s(u,c,d,p){u!==c?p.push({i:d.push(i(d)+"skewX(",null,n)-2,x:mr(u,c)}):c&&d.push(i(d)+"skewX("+c+n)}function l(u,c,d,p,m,w){if(u!==d||c!==p){var b=m.push(i(m)+"scale(",null,",",null,")");w.push({i:b-4,x:mr(u,d)},{i:b-2,x:mr(c,p)})}else(d!==1||p!==1)&&m.push(i(m)+"scale("+d+","+p+")")}return function(u,c){var d=[],p=[];return u=e(u),c=e(c),a(u.translateX,u.translateY,c.translateX,c.translateY,d,p),o(u.rotate,c.rotate,d,p),s(u.skewX,c.skewX,d,p),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,p),u=c=null,function(m){for(var w=-1,b=p.length,h;++w<b;)d[(h=p[w]).i]=h.x(m);return d.join("")}}}var b9=Om(Im,"px, ","px)","deg)"),w9=Om(Nm,", ",")",")");var UA=1e-12;function Pm(e){return((e=Math.exp(e))+1/e)/2}function qA(e){return((e=Math.exp(e))-1/e)/2}function QA(e){return((e=Math.exp(2*e))-1)/(e+1)}var Ol=function e(t,r,n){function i(a,o){var s=a[0],l=a[1],u=a[2],c=o[0],d=o[1],p=o[2],m=c-s,w=d-l,b=m*m+w*w,h,g;if(b<UA)g=Math.log(p/u)/t,h=function(A){return[s+A*m,l+A*w,u*Math.exp(t*A*g)]};else{var v=Math.sqrt(b),x=(p*p-u*u+n*b)/(2*u*r*v),_=(p*p-u*u-n*b)/(2*p*r*v),y=Math.log(Math.sqrt(x*x+1)-x),E=Math.log(Math.sqrt(_*_+1)-_);g=(E-y)/t,h=function(A){var C=A*g,D=Pm(y),S=u/(r*v)*(D*QA(t*C+y)-qA(y));return[s+S*m,l+S*w,u*D/Pm(t*C+y)]}}return h.duration=g*1e3*t/Math.SQRT2,h}return i.rho=function(a){var o=Math.max(.001,+a),s=o*o,l=s*s;return e(o,s,l)},i}(Math.SQRT2,2,4);function x9(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e(n/(t-1));return r}pt();var as=0,Pl=0,Bl=0,Bm=1e3,J2,Rl,eu=0,Xo=0,tu=0,Ll=(typeof performance=="undefined"?"undefined":Se(performance))==="object"&&performance.now?performance:Date,Rm=(typeof window=="undefined"?"undefined":Se(window))==="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function jl(){return Xo||(Rm(GA),Xo=Ll.now()+tu)}function GA(){Xo=0}function zl(){this._call=this._time=this._next=null}zl.prototype=ao.prototype={constructor:zl,restart:function(t,r,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?jl():+n)+(r==null?0:+r),!this._next&&Rl!==this&&(Rl?Rl._next=this:J2=this,Rl=this),this._call=t,this._time=n,_9()},stop:function(){this._call&&(this._call=null,this._time=1/0,_9())}};function ao(e,t,r){var n=new zl;return n.restart(e,t,r),n}function ru(){jl(),++as;for(var e=J2,t;e;)(t=Xo-e._time)>=0&&e._call.call(void 0,t),e=e._next;--as}function Lm(){Xo=(eu=Ll.now())+tu,as=Pl=0;try{ru()}finally{as=0,WA(),Xo=0}}function HA(){var e=Ll.now(),t=e-eu;t>Bm&&(tu-=t,eu=e)}function WA(){for(var e,t=J2,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:J2=r);Rl=e,_9(n)}function _9(e){if(!as){Pl&&(Pl=clearTimeout(Pl));var t=e-Xo;t>24?(e<1/0&&(Pl=setTimeout(Lm,e-Ll.now()-tu)),Bl&&(Bl=clearInterval(Bl))):(Bl||(eu=Ll.now(),Bl=setInterval(HA,Bm)),as=1,Rm(Lm))}}function os(e,t,r){var n=new zl;return t=t==null?0:+t,n.restart(function(i){n.stop(),e(i+t)},t,r),n}var VA=be("start","end","cancel","interrupt"),KA=[],jm=0,zm=1,nu=2,iu=3,Um=4,au=5,Ul=6;function oo(e,t,r,n,i,a){var o=e.__transition;if(!o)e.__transition={};else if(r in o)return;YA(e,r,{name:t,index:n,group:i,on:VA,tween:KA,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:jm})}function ql(e,t){var r=Yr(e,t);if(r.state>jm)throw new Error("too late; already scheduled");return r}function un(e,t){var r=Yr(e,t);if(r.state>iu)throw new Error("too late; already running");return r}function Yr(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function YA(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=ao(a,0,r.time);function a(u){r.state=zm,r.timer.restart(o,r.delay,r.time),r.delay<=u&&o(u-r.delay)}function o(u){var c,d,p,m;if(r.state!==zm)return l();for(c in n)if(m=n[c],m.name===r.name){if(m.state===iu)return os(o);m.state===Um?(m.state=Ul,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete n[c]):+c<t&&(m.state=Ul,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete n[c])}if(os(function(){r.state===iu&&(r.state=Um,r.timer.restart(s,r.delay,r.time),s(u))}),r.state=nu,r.on.call("start",e,e.__data__,r.index,r.group),r.state===nu){for(r.state=iu,i=new Array(p=r.tween.length),c=0,d=-1;c<p;++c)(m=r.tween[c].value.call(e,e.__data__,r.index,r.group))&&(i[++d]=m);i.length=d+1}}function s(u){for(var c=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(l),r.state=au,1),d=-1,p=i.length;++d<p;)i[d].call(e,c);r.state===au&&(r.on.call("end",e,e.__data__,r.index,r.group),l())}function l(){r.state=Ul,r.timer.stop(),delete n[t];for(var u in n)return;delete e.__transition}}function Ri(e,t){var r=e.__transition,n,i,a=!0,o;if(!!r){t=t==null?null:t+"";for(o in r){if((n=r[o]).name!==t){a=!1;continue}i=n.state>nu&&n.state<au,n.state=Ul,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[o]}a&&delete e.__transition}}function qm(e){return this.each(function(){Ri(this,e)})}function ZA(e,t){var r,n;return function(){var i=un(this,e),a=i.tween;if(a!==r){n=r=a;for(var o=0,s=n.length;o<s;++o)if(n[o].name===t){n=n.slice(),n.splice(o,1);break}}i.tween=n}}function XA(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var a=un(this,e),o=a.tween;if(o!==n){i=(n=o).slice();for(var s={name:t,value:r},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=s;break}l===u&&i.push(s)}a.tween=i}}function Qm(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=Yr(this.node(),r).tween,i=0,a=n.length,o;i<a;++i)if((o=n[i]).name===e)return o.value;return null}return this.each((t==null?ZA:XA)(r,e,t))}function ss(e,t,r){var n=e._id;return e.each(function(){var i=un(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return Yr(i,n).value[t]}}function ou(e,t){var r;return(typeof t=="number"?mr:t instanceof Bi?ia:(r=Bi(t))?(t=r,ia):Nl)(e,t)}function $A(e){return function(){this.removeAttribute(e)}}function JA(e){return function(){this.removeAttributeNS(e.space,e.local)}}function eC(e,t,r){var n,i=r+"",a;return function(){var o=this.getAttribute(e);return o===i?null:o===n?a:a=t(n=o,r)}}function tC(e,t,r){var n,i=r+"",a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===n?a:a=t(n=o,r)}}function rC(e,t,r){var n,i,a;return function(){var o,s=r(this),l;return s==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=s+"",o===l?null:o===n&&l===i?a:(i=l,a=t(n=o,s)))}}function nC(e,t,r){var n,i,a;return function(){var o,s=r(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=s+"",o===l?null:o===n&&l===i?a:(i=l,a=t(n=o,s)))}}function Gm(e,t){var r=Fa(e),n=r==="transform"?w9:ou;return this.attrTween(e,typeof t=="function"?(r.local?nC:rC)(r,n,ss(this,"attr."+e,t)):t==null?(r.local?JA:$A)(r):(r.local?tC:eC)(r,n,t))}function iC(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function aC(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function oC(e,t){var r,n;function i(){var a=t.apply(this,arguments);return a!==n&&(r=(n=a)&&aC(e,a)),r}return i._value=t,i}function sC(e,t){var r,n;function i(){var a=t.apply(this,arguments);return a!==n&&(r=(n=a)&&iC(e,a)),r}return i._value=t,i}function Hm(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=Fa(e);return this.tween(r,(n.local?oC:sC)(n,t))}function lC(e,t){return function(){ql(this,e).delay=+t.apply(this,arguments)}}function uC(e,t){return t=+t,function(){ql(this,e).delay=t}}function Wm(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?lC:uC)(t,e)):Yr(this.node(),t).delay}function cC(e,t){return function(){un(this,e).duration=+t.apply(this,arguments)}}function fC(e,t){return t=+t,function(){un(this,e).duration=t}}function Vm(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?cC:fC)(t,e)):Yr(this.node(),t).duration}function dC(e,t){if(typeof t!="function")throw new Error;return function(){un(this,e).ease=t}}function Km(e){var t=this._id;return arguments.length?this.each(dC(t,e)):Yr(this.node(),t).ease}function pC(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;un(this,e).ease=r}}function Ym(e){if(typeof e!="function")throw new Error;return this.each(pC(this._id,e))}function Zm(e){typeof e!="function"&&(e=xl(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a=t[i],o=a.length,s=n[i]=[],l,u=0;u<o;++u)(l=a[u])&&e.call(l,l.__data__,u,a)&&s.push(l);return new Fn(n,this._parents,this._name,this._id)}function Xm(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,a=Math.min(n,i),o=new Array(n),s=0;s<a;++s)for(var l=t[s],u=r[s],c=l.length,d=o[s]=new Array(c),p,m=0;m<c;++m)(p=l[m]||u[m])&&(d[m]=p);for(;s<n;++s)o[s]=t[s];return new Fn(o,this._parents,this._name,this._id)}function mC(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function hC(e,t,r){var n,i,a=mC(t)?ql:un;return function(){var o=a(this,e),s=o.on;s!==n&&(i=(n=s).copy()).on(t,r),o.on=i}}function $m(e,t){var r=this._id;return arguments.length<2?Yr(this.node(),r).on.on(e):this.each(hC(r,e,t))}function gC(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function Jm(){return this.on("end.remove",gC(this._id))}function eh(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Yo(e));for(var n=this._groups,i=n.length,a=new Array(i),o=0;o<i;++o)for(var s=n[o],l=s.length,u=a[o]=new Array(l),c,d,p=0;p<l;++p)(c=s[p])&&(d=e.call(c,c.__data__,p,s))&&("__data__"in c&&(d.__data__=c.__data__),u[p]=d,oo(u[p],t,r,p,u,Yr(c,r)));return new Fn(a,this._parents,t,r)}function th(e){var t=this._name,r=this._id;typeof e!="function"&&(e=wl(e));for(var n=this._groups,i=n.length,a=[],o=[],s=0;s<i;++s)for(var l=n[s],u=l.length,c,d=0;d<u;++d)if(c=l[d]){for(var p=e.call(c,c.__data__,d,l),m,w=Yr(c,r),b=0,h=p.length;b<h;++b)(m=p[b])&&oo(m,t,r,b,p,w);a.push(p),o.push(c)}return new Fn(a,o,t,r)}var vC=Pi.prototype.constructor;function rh(){return new vC(this._groups,this._parents)}function yC(e,t){var r,n,i;return function(){var a=no(this,e),o=(this.style.removeProperty(e),no(this,e));return a===o?null:a===r&&o===n?i:i=t(r=a,n=o)}}function nh(e){return function(){this.style.removeProperty(e)}}function bC(e,t,r){var n,i=r+"",a;return function(){var o=no(this,e);return o===i?null:o===n?a:a=t(n=o,r)}}function wC(e,t,r){var n,i,a;return function(){var o=no(this,e),s=r(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),no(this,e))),o===l?null:o===n&&l===i?a:(i=l,a=t(n=o,s))}}function xC(e,t){var r,n,i,a="style."+t,o="end."+a,s;return function(){var l=un(this,e),u=l.on,c=l.value[a]==null?s||(s=nh(t)):void 0;(u!==r||i!==c)&&(n=(r=u).copy()).on(o,i=c),l.on=n}}function ih(e,t,r){var n=(e+="")==="transform"?b9:ou;return t==null?this.styleTween(e,yC(e,n)).on("end.style."+e,nh(e)):typeof t=="function"?this.styleTween(e,wC(e,n,ss(this,"style."+e,t))).each(xC(this._id,e)):this.styleTween(e,bC(e,n,t),r).on("end.style."+e,null)}function _C(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function kC(e,t,r){var n,i;function a(){var o=t.apply(this,arguments);return o!==i&&(n=(i=o)&&_C(e,o,r)),n}return a._value=t,a}function ah(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,kC(e,t,r==null?"":r))}function EC(e){return function(){this.textContent=e}}function AC(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function oh(e){return this.tween("text",typeof e=="function"?AC(ss(this,"text",e)):EC(e==null?"":e+""))}function CC(e){return function(t){this.textContent=e.call(this,t)}}function DC(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&CC(i)),t}return n._value=e,n}function sh(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,DC(e))}function lh(){for(var e=this._name,t=this._id,r=su(),n=this._groups,i=n.length,a=0;a<i;++a)for(var o=n[a],s=o.length,l,u=0;u<s;++u)if(l=o[u]){var c=Yr(l,t);oo(l,e,r,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Fn(n,this._parents,e,r)}function uh(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(a,o){var s={value:o},l={value:function(){--i==0&&a()}};r.each(function(){var u=un(this,n),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),u.on=t}),i===0&&a()})}var SC=0;function Fn(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function ch(e){return Pi().transition(e)}function su(){return++SC}var Ta=Pi.prototype;Fn.prototype=ch.prototype=yl({constructor:Fn,select:eh,selectAll:th,selectChild:Ta.selectChild,selectChildren:Ta.selectChildren,filter:Zm,merge:Xm,selection:rh,transition:lh,call:Ta.call,nodes:Ta.nodes,node:Ta.node,size:Ta.size,empty:Ta.empty,each:Ta.each,on:$m,attr:Gm,attrTween:Hm,style:ih,styleTween:ah,text:oh,textTween:sh,remove:Jm,tween:Qm,delay:Wm,duration:Vm,ease:Km,easeVarying:Ym,end:uh},Symbol.iterator,Ta[Symbol.iterator]);var Ql=function(t){return+t};function $o(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var FC={time:null,delay:0,duration:250,ease:$o};function TC(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error("transition ".concat(t," not found"));return r}function fh(e){var t,r;e instanceof Fn?(t=e._id,e=e._name):(t=su(),(r=FC).time=jl(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,a=0;a<i;++a)for(var o=n[a],s=o.length,l,u=0;u<s;++u)(l=o[u])&&oo(l,e,t,u,o,r||TC(l,t));return new Fn(n,this._parents,e,t)}Pi.prototype.interrupt=qm;Pi.prototype.transition=fh;var Gl=function(e){return function(){return e}};function k9(e,t){var r=t.sourceEvent,n=t.target,i=t.transform,a=t.dispatch;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function Tn(e,t,r){this.k=e,this.x=t,this.y=r}Tn.prototype={constructor:Tn,scale:function(t){return t===1?this:new Tn(this.k*t,this.x,this.y)},translate:function(t,r){return t===0&r===0?this:new Tn(this.k,this.x+this.k*t,this.y+this.k*r)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ir=new Tn(1,0,0);E9.prototype=Tn.prototype;function E9(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Ir;return e.__zoom}function lu(e){e.stopImmediatePropagation()}function ls(e){e.preventDefault(),e.stopImmediatePropagation()}function MC(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function IC(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function dh(){return this.__zoom||Ir}function NC(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function OC(){return navigator.maxTouchPoints||"ontouchstart"in this}function PC(e,t,r){var n=e.invertX(t[0][0])-r[0][0],i=e.invertX(t[1][0])-r[1][0],a=e.invertY(t[0][1])-r[0][1],o=e.invertY(t[1][1])-r[1][1];return e.translate(i>n?(n+i)/2:Math.min(0,n)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function so(){var e=MC,t=IC,r=PC,n=NC,i=OC,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],s=250,l=Ol,u=be("start","zoom","end"),c,d,p,m=500,w=150,b=0,h=10;function g(P){P.property("__zoom",dh).on("wheel.zoom",A,{passive:!1}).on("mousedown.zoom",C).on("dblclick.zoom",D).filter(i).on("touchstart.zoom",S).on("touchmove.zoom",N).on("touchend.zoom touchcancel.zoom",R).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(P,L,B,O){var U=P.selection?P.selection():P;U.property("__zoom",dh),P!==U?y(P,L,B,O):U.interrupt().each(function(){E(this,arguments).event(O).start().zoom(null,typeof L=="function"?L.apply(this,arguments):L).end()})},g.scaleBy=function(P,L,B,O){g.scaleTo(P,function(){var U=this.__zoom.k,T=typeof L=="function"?L.apply(this,arguments):L;return U*T},B,O)},g.scaleTo=function(P,L,B,O){g.transform(P,function(){var U=t.apply(this,arguments),T=this.__zoom,M=B==null?_(U):typeof B=="function"?B.apply(this,arguments):B,I=T.invert(M),z=typeof L=="function"?L.apply(this,arguments):L;return r(x(v(T,z),M,I),U,o)},B,O)},g.translateBy=function(P,L,B,O){g.transform(P,function(){return r(this.__zoom.translate(typeof L=="function"?L.apply(this,arguments):L,typeof B=="function"?B.apply(this,arguments):B),t.apply(this,arguments),o)},null,O)},g.translateTo=function(P,L,B,O,U){g.transform(P,function(){var T=t.apply(this,arguments),M=this.__zoom,I=O==null?_(T):typeof O=="function"?O.apply(this,arguments):O;return r(Ir.translate(I[0],I[1]).scale(M.k).translate(typeof L=="function"?-L.apply(this,arguments):-L,typeof B=="function"?-B.apply(this,arguments):-B),T,o)},O,U)};function v(P,L){return L=Math.max(a[0],Math.min(a[1],L)),L===P.k?P:new Tn(L,P.x,P.y)}function x(P,L,B){var O=L[0]-B[0]*P.k,U=L[1]-B[1]*P.k;return O===P.x&&U===P.y?P:new Tn(P.k,O,U)}function _(P){return[(+P[0][0]+ +P[1][0])/2,(+P[0][1]+ +P[1][1])/2]}function y(P,L,B,O){P.on("start.zoom",function(){E(this,arguments).event(O).start()}).on("interrupt.zoom end.zoom",function(){E(this,arguments).event(O).end()}).tween("zoom",function(){var U=this,T=arguments,M=E(U,T).event(O),I=t.apply(U,T),z=B==null?_(I):typeof B=="function"?B.apply(U,T):B,q=Math.max(I[1][0]-I[0][0],I[1][1]-I[0][1]),V=U.__zoom,Y=typeof L=="function"?L.apply(U,T):L,ee=l(V.invert(z).concat(q/V.k),Y.invert(z).concat(q/Y.k));return function(ie){if(ie===1)ie=Y;else{var se=ee(ie),ve=q/se[2];ie=new Tn(ve,z[0]-se[0]*ve,z[1]-se[1]*ve)}M.zoom(null,ie)}})}function E(P,L,B){return!B&&P.__zooming||new k(P,L)}function k(P,L){this.that=P,this.args=L,this.active=0,this.sourceEvent=null,this.extent=t.apply(P,L),this.taps=0}k.prototype={event:function(L){return L&&(this.sourceEvent=L),this},start:function(){return++this.active==1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(L,B){return this.mouse&&L!=="mouse"&&(this.mouse[1]=B.invert(this.mouse[0])),this.touch0&&L!=="touch"&&(this.touch0[1]=B.invert(this.touch0[0])),this.touch1&&L!=="touch"&&(this.touch1[1]=B.invert(this.touch1[0])),this.that.__zoom=B,this.emit("zoom"),this},end:function(){return--this.active==0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(L){var B=G(this.that).datum();u.call(L,this.that,new k9(L,{sourceEvent:this.sourceEvent,target:g,type:L,transform:this.that.__zoom,dispatch:u}),B)}};function A(P){for(var L=arguments.length,B=new Array(L>1?L-1:0),O=1;O<L;O++)B[O-1]=arguments[O];if(!e.apply(this,arguments))return;var U=E(this,B).event(P),T=this.__zoom,M=Math.max(a[0],Math.min(a[1],T.k*Math.pow(2,n.apply(this,arguments)))),I=pi(P);if(U.wheel)(U.mouse[0][0]!==I[0]||U.mouse[0][1]!==I[1])&&(U.mouse[1]=T.invert(U.mouse[0]=I)),clearTimeout(U.wheel);else{if(T.k===M)return;U.mouse=[I,T.invert(I)],Ri(this),U.start()}ls(P),U.wheel=setTimeout(z,w),U.zoom("mouse",r(x(v(T,M),U.mouse[0],U.mouse[1]),U.extent,o));function z(){U.wheel=null,U.end()}}function C(P){for(var L=arguments.length,B=new Array(L>1?L-1:0),O=1;O<L;O++)B[O-1]=arguments[O];if(p||!e.apply(this,arguments))return;var U=P.currentTarget,T=E(this,B,!0).event(P),M=G(P.view).on("mousemove.zoom",V,!0).on("mouseup.zoom",Y,!0),I=pi(P,U),z=P.clientX,q=P.clientY;El(P.view),lu(P),T.mouse=[I,this.__zoom.invert(I)],Ri(this),T.start();function V(ee){if(ls(ee),!T.moved){var ie=ee.clientX-z,se=ee.clientY-q;T.moved=ie*ie+se*se>b}T.event(ee).zoom("mouse",r(x(T.that.__zoom,T.mouse[0]=pi(ee,U),T.mouse[1]),T.extent,o))}function Y(ee){M.on("mousemove.zoom mouseup.zoom",null),Al(ee.view,T.moved),ls(ee),T.event(ee).end()}}function D(P){for(var L=arguments.length,B=new Array(L>1?L-1:0),O=1;O<L;O++)B[O-1]=arguments[O];if(!!e.apply(this,arguments)){var U=this.__zoom,T=pi(P.changedTouches?P.changedTouches[0]:P,this),M=U.invert(T),I=U.k*(P.shiftKey?.5:2),z=r(x(v(U,I),T,M),t.apply(this,B),o);ls(P),s>0?G(this).transition().duration(s).call(y,z,T,P):G(this).call(g.transform,z,T,P)}}function S(P){for(var L=arguments.length,B=new Array(L>1?L-1:0),O=1;O<L;O++)B[O-1]=arguments[O];if(!!e.apply(this,arguments)){var U=P.touches,T=U.length,M=E(this,B,P.changedTouches.length===T).event(P),I,z,q,V;for(lu(P),z=0;z<T;++z)q=U[z],V=pi(q,this),V=[V,this.__zoom.invert(V),q.identifier],M.touch0?!M.touch1&&M.touch0[2]!==V[2]&&(M.touch1=V,M.taps=0):(M.touch0=V,I=!0,M.taps=1+!!c);c&&(c=clearTimeout(c)),I&&(M.taps<2&&(d=V[0],c=setTimeout(function(){c=null},m)),Ri(this),M.start())}}function N(P){if(!!this.__zooming){for(var L=arguments.length,B=new Array(L>1?L-1:0),O=1;O<L;O++)B[O-1]=arguments[O];var U=E(this,B).event(P),T=P.changedTouches,M=T.length,I,z,q,V;for(ls(P),I=0;I<M;++I)z=T[I],q=pi(z,this),U.touch0&&U.touch0[2]===z.identifier?U.touch0[0]=q:U.touch1&&U.touch1[2]===z.identifier&&(U.touch1[0]=q);if(z=U.that.__zoom,U.touch1){var Y=U.touch0[0],ee=U.touch0[1],ie=U.touch1[0],se=U.touch1[1],ve=(ve=ie[0]-Y[0])*ve+(ve=ie[1]-Y[1])*ve,le=(le=se[0]-ee[0])*le+(le=se[1]-ee[1])*le;z=v(z,Math.sqrt(ve/le)),q=[(Y[0]+ie[0])/2,(Y[1]+ie[1])/2],V=[(ee[0]+se[0])/2,(ee[1]+se[1])/2]}else if(U.touch0)q=U.touch0[0],V=U.touch0[1];else return;U.zoom("touch",r(x(z,q,V),U.extent,o))}}function R(P){for(var L=arguments.length,B=new Array(L>1?L-1:0),O=1;O<L;O++)B[O-1]=arguments[O];if(!!this.__zooming){var U=E(this,B).event(P),T=P.changedTouches,M=T.length,I,z;for(lu(P),p&&clearTimeout(p),p=setTimeout(function(){p=null},m),I=0;I<M;++I)z=T[I],U.touch0&&U.touch0[2]===z.identifier?delete U.touch0:U.touch1&&U.touch1[2]===z.identifier&&delete U.touch1;if(U.touch1&&!U.touch0&&(U.touch0=U.touch1,delete U.touch1),U.touch0)U.touch0[1]=this.__zoom.invert(U.touch0[0]);else if(U.end(),U.taps===2&&(z=pi(z,this),Math.hypot(d[0]-z[0],d[1]-z[1])<h)){var q=G(this).on("dblclick.zoom");q&&q.apply(this,arguments)}}}return g.wheelDelta=function(P){return arguments.length?(n=typeof P=="function"?P:Gl(+P),g):n},g.filter=function(P){return arguments.length?(e=typeof P=="function"?P:Gl(!!P),g):e},g.touchable=function(P){return arguments.length?(i=typeof P=="function"?P:Gl(!!P),g):i},g.extent=function(P){return arguments.length?(t=typeof P=="function"?P:Gl([[+P[0][0],+P[0][1]],[+P[1][0],+P[1][1]]]),g):t},g.scaleExtent=function(P){return arguments.length?(a[0]=+P[0],a[1]=+P[1],g):[a[0],a[1]]},g.translateExtent=function(P){return arguments.length?(o[0][0]=+P[0][0],o[1][0]=+P[1][0],o[0][1]=+P[0][1],o[1][1]=+P[1][1],g):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},g.constrain=function(P){return arguments.length?(r=P,g):r},g.duration=function(P){return arguments.length?(s=+P,g):s},g.interpolate=function(P){return arguments.length?(l=P,g):l},g.on=function(){var P=u.on.apply(u,arguments);return P===u?g:P},g.clickDistance=function(P){return arguments.length?(b=(P=+P)*P,g):Math.sqrt(b)},g.tapDistance=function(P){return arguments.length?(h=+P,g):h},g}var er=function(){function e(t,r,n){kn(this,e),this._proj=Ji,this._dimensions=[[0,0],[0,0]],this._x=t||0,this._y=r||0,this._k=n||256/Math.PI}return En(e,[{key:"project",value:function(r){return r=this._proj(r[0]*Math.PI/180,r[1]*Math.PI/180),[r[0]*this._k+this._x,this._y-r[1]*this._k]}},{key:"invert",value:function(r){return r=this._proj.invert((r[0]-this._x)/this._k,(this._y-r[1])/this._k),[r[0]*180/Math.PI,r[1]*180/Math.PI]}},{key:"scale",value:function(r){return r===void 0?this._k:(this._k=+r,this)}},{key:"translate",value:function(r){return r===void 0?[this._x,this._y]:(this._x=+r[0],this._y=+r[1],this)}},{key:"dimensions",value:function(r){return r===void 0?this._dimensions:(this._dimensions=r,this)}},{key:"transform",value:function(r){return r===void 0?Ir.translate(this._x,this._y).scale(this._k):(this._x=+r.x,this._y=+r.y,this._k=+r.k,this)}},{key:"getStream",value:function(){var r=this;return hl({point:function(i,a){var o=r.project([i,a]);this.stream.point(o[0],o[1])}}).stream}}]),e}();function Hl(e,t,r){return Math.max(t,Math.min(e,r))}function ph(e,t){return Array.from(Array(1+t-e).keys()).map(function(r){return e+r})}var Nr=function(){function e(){kn(this,e),this._tileSize=256,this._zoomRange=[0,24],this._margin=0,this._skipNullIsland=!1}return En(e,[{key:"getTiles",value:function(r){for(var n=r.dimensions(),i=r.translate(),a=r.scale(),o=Jt(a,this._tileSize),s=Hl(Math.round(o),this._zoomRange[0],this._zoomRange[1]),l=0,u=Math.pow(2,s)-1,c=Math.log(this._tileSize)*Math.LOG2E,d=Math.pow(2,o-s+c),p=[a*Math.PI-i[0],a*Math.PI-i[1]],m=[p[0]+n[0][0],p[1]+n[0][1]],w=[p[0]+n[1][0],p[1]+n[1][1]],b=new Ne(m,w),h=Math.pow(2,s)/2*this._tileSize,g=Qr(s,this._tileSize),v=new er(h,h,g),x=ph(Hl(Math.floor(m[0]/d)-this._margin,l,u),Hl(Math.floor(w[0]/d)+this._margin,l,u)),_=ph(Hl(Math.floor(m[1]/d)-this._margin,l,u),Hl(Math.floor(w[1]/d)+this._margin,l,u)),y=[],E=0;E<_.length;E++)for(var k=_[E],A=0;A<x.length;A++){var C=x[A],D=[C,k,s];if(!(this._skipNullIsland&&e.isNearNullIsland(C,k,s))){var S=[C*this._tileSize,k*this._tileSize],N=[(C+1)*this._tileSize,(k+1)*this._tileSize],R=new Ne(S,N),P=b.intersects(R),L=v.invert([S[0],N[1]]),B=v.invert([N[0],S[1]]),O={id:D.toString(),xyz:D,pxExtent:new Ne(S,N),wgs84Extent:new Ne(L,B),isVisible:P};P?y.unshift(O):y.push(O)}}return{tiles:y}}},{key:"getGeoJSON",value:function(r){var n=r.tiles.map(function(i){return{type:"Feature",properties:{id:i.id,name:i.id},geometry:{type:"Polygon",coordinates:[i.wgs84Extent.polygon()]}}});return{type:"FeatureCollection",features:n}}},{key:"tileSize",value:function(r){return r===void 0?this._tileSize:(this._tileSize=r,this)}},{key:"zoomRange",value:function(r,n){return r===void 0?this._zoomRange:(n===void 0&&(n=r),this._zoomRange=[r,n],this)}},{key:"margin",value:function(r){return r===void 0?this._margin:(this._margin=+r,this)}},{key:"skipNullIsland",value:function(r){return r===void 0?this._skipNullIsland:(this._skipNullIsland=r,this)}}],[{key:"isNearNullIsland",value:function(r,n,i){if(i>=7){var a=Math.pow(2,i-1),o=Math.pow(2,i-6),s=a-o/2,l=a+o/2-1;return r>=s&&r<=l&&n>=s&&n<=l}return!1}}]),e}();function Me(e){if(!(this instanceof Me))return e&&e.type?Me[e.type].apply(this,arguments):e&&e.id?Me[Me.id.type(e.id)].apply(this,arguments):new Me().initialize(arguments)}Me.id=function(e){return Me.id.fromOSM(e,Me.id.next[e]--)};Me.id.next={changeset:-1,node:-1,way:-1,relation:-1};Me.id.fromOSM=function(e,t){return e[0]+t};Me.id.toOSM=function(e){return e.slice(1)};Me.id.type=function(e){return{c:"changeset",n:"node",w:"way",r:"relation"}[e[0]]};Me.key=function(e){return e.id+"v"+(e.v||0)};var us;Me.deprecatedTagValuesByKey=function(e){return us||(us={},e.forEach(function(t){var r=Object.keys(t.old);if(r.length===1){var n=r[0],i=t.old[n];i!=="*"&&(us[n]?us[n].push(i):us[n]=[i])}})),us};Me.prototype={tags:{},initialize:function(t){for(var r=0;r<t.length;++r){var n=t[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(n[i]===void 0?delete this[i]:this[i]=n[i])}return!this.id&&this.type&&(this.id=Me.id(this.type)),this.hasOwnProperty("visible")||(this.visible=!0),Wl&&(Object.freeze(this),Object.freeze(this.tags),this.loc&&Object.freeze(this.loc),this.nodes&&Object.freeze(this.nodes),this.members&&Object.freeze(this.members)),this},copy:function(t,r){if(r[this.id])return r[this.id];var n=Me(this,{id:void 0,user:void 0,version:void 0});return r[this.id]=n,n},osmId:function(){return Me.id.toOSM(this.id)},isNew:function(){return this.osmId()<0},update:function(t){return Me(this,t,{v:1+(this.v||0)})},mergeTags:function(t){var r=Object.assign({},this.tags),n=!1;for(var i in t){var a=r[i],o=t[i];if(!a)n=!0,r[i]=o;else if(i==="building"){if(o==="yes")continue;a==="yes"&&(n=!0,r[i]=o)}else a!==o&&(n=!0,a==="yes"||o==="yes"?r[i]=a==="yes"?o:a:i==="seamark:type"?(o&&(a==="topmark"||a==="light_minor")&&(r[i]=o),a&&(o==="topmark"||o==="light_minor")&&(r[i]=a)):i==="man_made"&&[a,o].sort().join("-")==="mast-tower"?r.man_made="tower":r[i]=Y0(Yt(a.split(/;\s*/),o.split(/;\s*/)).join(";"),255))}return n?this.update({tags:r}):this},intersects:function(t,r){return this.extent(r).intersects(t)},hasNonGeometryTags:function(){return Object.keys(this.tags).some(function(t){return t!=="area"})},hasParentRelations:function(t){return t.parentRelations(this).length>0},hasInterestingTags:function(){return Object.keys(this.tags).some(_n)},isHighwayIntersection:function(){return!1},isDegenerate:function(){return!0},deprecatedTags:function(t){var r=this.tags;if(Object.keys(r).length===0)return[];var n=[];return t.forEach(function(i){var a=Object.keys(i.old);if(i.replace){var o=Object.keys(i.replace).some(function(l){if(!r[l]||i.old[l])return!1;var u=i.replace[l];return!(u==="*"||u===r[l])});if(o)return}var s=a.every(function(l){if(!r[l])return!1;if(i.old[l]==="*"||i.old[l]===r[l])return!0;var u=r[l].split(";").filter(Boolean);if(u.length===0)return!1;if(u.length>1)return u.indexOf(i.old[l])!==-1;if(r[l]===i.old[l])if(i.replace&&i.old[l]===i.replace[l]){var c=Object.keys(i.replace);return!c.every(function(d){return r[d]===i.replace[d]})}else return!0;return!1});s&&n.push(i)}),n}};function uu(e){if(e.type!=="way"||!e.tags.highway)return null;var t=e.tags,r=e.isOneWay(),n=BC(t,r),i=RC(t),a=LC(t,r,n),o=a.forward,s=a.backward,l=a.bothways,u={};u.unspecified=A9(t["turn:lanes"]),u.forward=A9(t["turn:lanes:forward"]),u.backward=A9(t["turn:lanes:backward"]);var c={};c.unspecified=C9(t["maxspeed:lanes"],i),c.forward=C9(t["maxspeed:lanes:forward"],i),c.backward=C9(t["maxspeed:lanes:backward"],i);var d={};d.unspecified=Mn(t["psv:lanes"]),d.forward=Mn(t["psv:lanes:forward"]),d.backward=Mn(t["psv:lanes:backward"]);var p={};p.unspecified=Mn(t["bus:lanes"]),p.forward=Mn(t["bus:lanes:forward"]),p.backward=Mn(t["bus:lanes:backward"]);var m={};m.unspecified=Mn(t["taxi:lanes"]),m.forward=Mn(t["taxi:lanes:forward"]),m.backward=Mn(t["taxi:lanes:backward"]);var w={};w.unspecified=Mn(t["hov:lanes"]),w.forward=Mn(t["hov:lanes:forward"]),w.backward=Mn(t["hov:lanes:backward"]);var b={};b.unspecified=Mn(t["hgv:lanes"]),b.forward=Mn(t["hgv:lanes:forward"]),b.backward=Mn(t["hgv:lanes:backward"]);var h={};h.unspecified=D9(t["bicycleway:lanes"]),h.forward=D9(t["bicycleway:lanes:forward"]),h.backward=D9(t["bicycleway:lanes:backward"]);var g={forward:[],backward:[],unspecified:[]};return lo(g,u,"turnLane"),lo(g,c,"maxspeed"),lo(g,d,"psv"),lo(g,p,"bus"),lo(g,m,"taxi"),lo(g,w,"hov"),lo(g,b,"hgv"),lo(g,h,"bicycleway"),{metadata:{count:n,oneway:r,forward:o,backward:s,bothways:l,turnLanes:u,maxspeed:i,maxspeedLanes:c,psvLanes:d,busLanes:p,taxiLanes:m,hovLanes:w,hgvLanes:b,bicyclewayLanes:h},lanes:g}}function BC(e,t){var r;if(e.lanes&&(r=parseInt(e.lanes,10),r>0))return r;switch(e.highway){case"trunk":case"motorway":r=t?2:4;break;default:r=t?1:2;break}return r}function RC(e){var t=e.maxspeed;if(!!t){var r=/^([0-9][\.0-9]+?)(?:[ ]?(?:km\/h|kmh|kph|mph|knots))?$/;if(!!r.test(t))return parseInt(t,10)}}function LC(e,t,r){var n=parseInt(e["lanes:forward"],10),i=parseInt(e["lanes:backward"],10),a=parseInt(e["lanes:both_ways"],10)>0?1:0;return parseInt(e.oneway,10)===-1?(n=0,a=0,i=r):t?(n=r,a=0,i=0):isNaN(n)&&isNaN(i)?(i=Math.floor((r-a)/2),n=r-a-i):isNaN(n)?(i>r-a&&(i=r-a),n=r-a-i):isNaN(i)&&(n>r-a&&(n=r-a),i=r-a-n),{forward:n,backward:i,bothways:a}}function A9(e){if(!!e){var t=["left","slight_left","sharp_left","through","right","slight_right","sharp_right","reverse","merge_to_left","merge_to_right","none"];return e.split("|").map(function(r){return r===""&&(r="none"),r.split(";").map(function(n){return t.indexOf(n)===-1?"unknown":n})})}}function C9(e,t){if(!!e)return e.split("|").map(function(r){if(r==="none")return r;var n=parseInt(r,10);return r===""||n===t?null:isNaN(n)?"unknown":n})}function Mn(e){if(!!e){var t=["yes","no","designated"];return e.split("|").map(function(r){return r===""&&(r="no"),t.indexOf(r)===-1?"unknown":r})}}function D9(e){if(!!e){var t=["yes","no","designated","lane"];return e.split("|").map(function(r){return r===""&&(r="no"),t.indexOf(r)===-1?"unknown":r})}}function lo(e,t,r){t.forward&&t.forward.forEach(function(n,i){e.forward[i]||(e.forward[i]={}),e.forward[i][r]=n}),t.backward&&t.backward.forEach(function(n,i){e.backward[i]||(e.backward[i]={}),e.backward[i][r]=n}),t.unspecified&&t.unspecified.forEach(function(n,i){e.unspecified[i]||(e.unspecified[i]={}),e.unspecified[i][r]=n})}var Th=Xe(Fh()),j9=/[\u0590-\u05FF\u0600-\u06FF\u0750-\u07BF\u08A0–\u08BF]/;function Mh(e){var t="",r=[],n=/[\u0600-\u06FF]/g,i=/[\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06ED]/g,a=/[\u0660-\u066C\u06F0-\u06F9]+/g,o=/[\u07A6-\u07B0]/,s=/[\u0591-\u05bd\u05bf\u05c1-\u05c5\u05c7]/;n.test(e)&&(e=(0,Th.WordShaper)(e));for(var l=0;l<e.length;l++){var u=e[l];a.test(u)?(t+=r.reverse().join(""),r=[u]):(r.length&&a.test(r[r.length-1])&&(t+=r.reverse().join(""),r=[]),(o.test(u)||s.test(u)||i.test(u))&&r.length?r[r.length-1]+=u:j9.test(u)||u.charCodeAt(0)>=64336&&u.charCodeAt(0)<=65023||u.charCodeAt(0)>=65136&&u.charCodeAt(0)<=65279?r.push(u):u===" "&&r.length?r=[r.reverse().join("")+" "]:(t+=r.reverse().join("")+u,r=[]))}return t+=r.reverse().join(""),t}var ds;try{ds=localStorage}catch(e){}ds=ds||function(){var e={};return{getItem:function(r){return e[r]},setItem:function(r,n){return e[r]=n},removeItem:function(r){return delete e[r]}}}();function pe(e,t){try{return arguments.length===1?ds.getItem(e):(t===null?ds.removeItem(e):ds.setItem(e,t),!0)}catch(r){return typeof console!="undefined"&&console.error("localStorage quota exceeded"),!1}}var mD=[{old:{man_made:"dolphin"},replace:{man_made:"dolphin","seamark:type":"mooring","seamark:mooring:category":"dolphin"}},{old:{emergency:"lifeboat_station"},replace:{emergency:"lifeboat_station","seamark:type":"rescue_station"}},{old:{landuse:"aquaculture"},replace:{landuse:"aquaculture","seamark:type":"marine_farm"}}],hD={"linz2osm:objectid":!0,"LINZ2OSM:dataset":!0,"LINZ2OSM:source_version":!0,"LINZ2OSM:layer":!0,"LINZ:layer":!0,"LINZ:source_version":!0,"LINZ:dataset":!0,"linz:garmin_type":!0,"linz:garmin_road_class":!0,"linz:sufi":!0,"linz:RoadID":!0},gD={"amenity/marae":{icon:"maki-town-hall",fields:["name","operator","address","website"],moreFields:["email","phone","wheelchair"],geometry:["point","area"],tags:{amenity:"marae"},name:"Marae"},"natural/fumarole":{icon:"maki-water",fields:["name"],geometry:["point"],tags:{natural:"fumarole"},terms:["fumarole","erupting spring","geiser","gieser","guyser","hot water","hydrogeology","hydrothermal explosion","steam"],name:"Fumarole"},"natural/sinkhole":{icon:"temaki-trench",fields:["name"],geometry:["point","vertex"],tags:{natural:"sinkhole"},terms:["sinkhole","hole"],name:"Sinkhole"},"man_made/offshore_platform":{icon:"temaki-oil_well",fields:["name","seamark/platform/category","seamark/platform/product"],moreFields:[],geometry:["point","vertex","area"],tags:{"seamark:type":"platform"},addTags:{"seamark:type":"platform",man_made:"offshore_platform"},terms:["oil rig","offshore platform","platform","drilling rig","bore","drilling rig","oil derrick","oil drill","oil horse","oil rig","oil pump","petroleum well","pumpjack"],name:"Offshore Platform"},"emergency/lifeboat_station":{icon:"temaki-boat_tour",fields:["name","operator","seamark/rescue_station/category","address","building_area","phone","website"],moreFields:["email","fax","gnis/feature_id","wheelchair"],geometry:["point","area"],terms:["boat rescue","lifeboat","rescue","search and rescue","life saving"],tags:{emergency:"lifeboat_station","seamark:type":"rescue_station"},name:"Lifeboat Station"},"waterway/soakhole":{icon:"maki-circle-stroked",fields:["name"],geometry:["point","vertex"],tags:{waterway:"soakhole"},terms:["soakhole","hole"],name:"Soakhole"},"waterway/sluice_gate":{icon:"maki-dam",fields:["name"],geometry:["point","vertex"],tags:{waterway:"sluice_gate"},terms:["sluice gate","gate","floodgate","flood gate"],name:"Sluice Gate"},"seamark/ski_access_lane_marker":{icon:"temaki-silo",geometry:["point","vertex"],terms:["ski lane","Ski Access Lane","access lane","speed","jetski"],fields:["seamark/beacon_special_purpose/category","seamark/beacon_special_purpose/colour","seamark/beacon_special_purpose/colour_pattern","seamark/beacon_special_purpose/shape","seamark/topmark/shape","seamark/topmark/colour"],tags:{"seamark:type":"beacon_special_purpose","seamark:beacon_special_purpose:category":"recreation_zone","seamark:beacon_special_purpose:colour_pattern":"horizontal","seamark:beacon_special_purpose:shape":"pile"},addTags:{"seamark:beacon_special_purpose:colour":"black;orange;black;orange"},name:"Ski Access Lane Marker"},"seamark/ski_access_lane":{icon:"temaki-boat",geometry:["area"],terms:["ski lane","Ski Access Lane","access lane","speed","jetski"],tags:{"seamark:restricted_area:category":"water_skiing","seamark:type":"restricted_area"},name:"Ski Access Lane"},"seamark/seaplane_landing_area":{icon:"maki-airport",fields:["ref","operator"],geometry:["point","area"],terms:["seaplane","seaplane landing","seaport","airport","water runway"],tags:{"seamark:type":"seaplane_landing_area"},name:"Seaplane Landing Area"},"seamark/rocks":{icon:"temaki-boulder2",fields:["name","seamark/rock/water_level"],geometry:["point","area"],terms:["boulder","stone","rock"],tags:{"seamark:type":"rock"},name:"Marine Rock"},"seamark/recommended_track":{icon:"temaki-ferry",fields:["seamark/recommended_track/category","seamark/recommended_track/traffic_flow"],geometry:["line"],terms:["navigation line","line","marine","route","boat"],tags:{"seamark:type":"recommended_track"},name:"Recommended Maritime Track"},"seamark/pile":{icon:"temaki-silo",fields:["seamark/pile/category"],geometry:["point","vertex"],terms:["pile"],tags:{"seamark:type":"pile"},name:"Pile"},"seamark/obstruction":{icon:"maki-roadblock",fields:["seamark/obstruction/category","seamark/obstruction/water_level"],moreFields:["seamark/obstruction/surface","depth","depth/exposition","depth/source_quality","depth/technique","depth/accuracy"],geometry:["point","area"],terms:["obstruction","obstacle","hazard","block","barrier"],tags:{"seamark:type":"obstruction"},name:"Marine Obstruction"},"seamark/navigation_line":{icon:"maki-lighthouse",fields:["seamark/navigation_line/category"],geometry:["line"],terms:["navigation line","line","marine","route","boat"],tags:{"seamark:type":"navigation_line"},name:"Maritime Navigation Line"},"seamark/mooring_dolphin":{icon:"temaki-horn_cleat",fields:["ref","operator","seamark/mooring/category"],moreFields:["seamark/mooring/shape","seamark/mooring/colour"],geometry:["point","vertex"],terms:["dolphin","pile","bollard","buoy","post"],tags:{"seamark:type":"mooring","seamark:mooring:category":"dolphin"},addTags:{man_made:"dolphin"},name:"Mooring Dolphin"},"seamark/buoy_special_purpose":{icon:"temaki-buoy",fields:["seamark/buoy_special_purpose/category","seamark/buoy_special_purpose/colour","seamark/buoy_special_purpose/colour_pattern","seamark/buoy_special_purpose/shape","seamark/topmark/shape","seamark/topmark/colour"],geometry:["point","vertex"],terms:["buoy","special buoy","danger buoy"],tags:{"seamark:type":"buoy_special_purpose"},name:"Special Purpose Buoy"},"seamark/buoy_isolated_danger":{icon:"temaki-buoy",fields:["seamark/buoy_isolated_danger/colour","seamark/buoy_isolated_danger/colour_pattern","seamark/buoy_isolated_danger/shape","seamark/topmark/shape","seamark/topmark/colour"],geometry:["point","vertex"],terms:["buoy","danger buoy"],tags:{"seamark:type":"buoy_isolated_danger"},name:"Danger Buoy"},"seamark/beacon_special_purpose":{icon:"maki-communications-tower",fields:["seamark/beacon_special_purpose/category","seamark/beacon_special_purpose/colour","seamark/beacon_special_purpose/colour_pattern","seamark/beacon_special_purpose/shape","seamark/topmark/shape","seamark/topmark/colour"],geometry:["point","vertex"],terms:["beacon","special beacon","danger beacon","channel marker"],tags:{"seamark:type":"beacon_special_purpose"},name:"Generic Nautical Marker"},"seamark/anchorage":{icon:"maki-harbor",fields:["seamark/anchorage/category","seamark/anchorage/status"],moreFields:["seamark/anchorage/period_start","seamark/anchorage/period_end"],geometry:["point","area"],terms:["dolphin","pile","bollard","buoy","post"],tags:{"seamark:type":"anchorage"},name:"Anchorage Area"}},vD={"seamark/topmark/colour":{key:"seamark:topmark:colour",type:"combo",label:"Topmark Colour",strings:{options:{white:"White",black:"Black",red:"Red",green:"Green",blue:"Blue",yellow:"Yellow",grey:"Grey",brown:"Brown",amber:"Amber",violet:"Violet",orange:"Orange",magenta:"Magenta",pink:"Pink"}}},"seamark/topmark/shape":{key:"seamark:topmark:shape",type:"combo",label:"Topmark Shape",strings:{options:{"cone, point up":"Cone, point up","cone, point down":"Cone, point down",sphere:"Sphere","2 spheres":"2 spheres",cylinder:"Cylinder (can)",board:"Board","x-shape":"X-shape (St. Andrew's cross)",cross:"Upright cross (St George's cross)","cube, point up":"Cube, point up","2 cones point together":"2 cones, point to point","2 cones base together":"2 cones, base to base",rhombus:"Rhombus (diamond)","2 cones up":"2 cones (points upward)","2 cones down":"2 cones (points downward)","besom, point up":"Besom, point up (broom or perch)","besom, point down":"Besom, point down (broom or perch)",flag:"Flag","sphere over rhombus":"Sphere over rhombus",square:"Square","rectangle, horizontal":"Rectangle, horizontal","rectangle, vertical":"Rectangle, vertical","trapezium, up":"Trapezium, up","trapezium, down":"Trapezium, down","triangle, point up":"Triangle, point up","triangle, point down":"Triangle, point down",circle:"Circle","2 upright crosses":"Two upright crosses (one over the other)","t-shape":"T-shape","triangle, point up over circle":"Triangle pointing up over a circle","upright cross over circle":"Upright cross over a circle","rhombus over circle":"Rhombus over a circle","circle over triangle, point up	":"Circle over a triangle pointing up",other:"Other shape (see INFORM)"}}},"historic/wreck/type":{key:"wreck:type",type:"combo",label:"Wreck Type"},"seamark/anchorage/category":{key:"seamark:anchorage:category",type:"combo",label:"Category",strings:{options:{unrestricted:"Unrestricted anchorage",deep_water:"Deep water anchorage",tanker:"Tanker anchorage",explosives:"Explosives anchorage",quarantine:"Quarantine anchorage",seaplane:"Sea-plane anchorage",small_craft:"Small craft anchorage",small_craft_mooring:"Small craft mooring area","24_hour":"Anchorage for periods up to 24 hours",limited_period:"Anchorage for a limited period of time",pushing:"Anchorage for pushing-navigation vessels",non_pushing:"Anchorage for other vessels than pushing-navigation vessels",dry_cargo:"Anchorage for dry cargo vessels",raft:"Anchorage for rafts"}}},"seamark/anchorage/period_end":{key:"seamark:anchorage:period_end",type:"text",label:"Active Period End",placeholder:"YYYY-MM-DD"},"seamark/anchorage/period_start":{key:"seamark:anchorage:period_start",type:"text",label:"Active Period Start",placeholder:"YYYY-MM-DD"},"seamark/anchorage/status":{key:"seamark:anchorage:status",type:"combo",label:"Status",strings:{options:{permanent:"Permanent",occasional:"Occasional",recommended:"Recommended",not_in_use:"Not in use",intermittent:"Periodic/intermittent",reserved:"Reserved",temporary:"Temporary",private:"Private",mandatory:"Mandatory",destroyed:"Destroyed/ruined",extinguished:"Extinguished",illuminated:"Illuminated",historic:"Historic",public:"Public",synchronized:"Synchronized",watched:"Watched",unwatched:"Un-watched",existence_doubtful:"Existence doubtful",on_request:" on request",drop_away:"Drop away",rising:"Rising",increasing:"Increasing",decreasing:"Decreasing",strong:"Strong",good:"Good",moderate:"Moderate",poor:"Poor"}}},"depth/accuracy":{key:"depth:accuracy",type:"number",label:"Depth Accuracy (Meters)"},"depth/exposition":{key:"depth:exposition",type:"combo",label:"Depth Exposition",strings:{options:{within_range:"Within the range of depth of the surrounding depth area",shoaler:"Shoaler than the range of depth of the surrounding depth area",deeper:"Deeper than the range of depth of the surrounding depth area"}}},"depth/source_quality":{key:"depth:source_quality",type:"combo",label:"Depth Quality",strings:{options:{known:"Depth known",unknown:"Depth unknown",doubtful:"Doubtful sounding",unreliable:"Unreliable sounding",no_bottom:"No bottom found at value shown",least_depth_known:"Least depth known",least_depth_unknown:"Least depth unknown, safe clearance at value shown",not_surveyed:"Value reported (not surveyed)",not_confirmed:"Value reported (not confirmed)",maintained:"Maintained depth",not_maintained:"Not regularly maintained"}}},"depth/technique":{key:"depth:technique",type:"combo",label:"Depth Sounding Technique",strings:{options:{echo:"Found by echo- sounder",sonar:"Swept by side-scan sonar","multi-beam":"Found by multi-beam",diver:"Found by diver","lead-line":"Found by lead-line","wire-drag":"Swept by wire-drag",laser:"Found by laser",acoustic:"Swept by vertical acoustic system",electromagnetic:"Found by electromagnetic sensor",photogrammetry:"Photogrammetry",satellite_imagery:"Satellite imagery",levelling:"Found by levelling",computer_generated:"Computer generated"}}},"seamark/beacon_special_purpose/category":{key:"seamark:beacon_special_purpose:category",type:"combo",label:"Mark Category",strings:{options:{firing_danger_area:"Firing danger mark",target:"Target mark",marker_ship:"Marker ship mark",degaussing_range:"Degaussing range mark",barge:"Barge mark",cable:"Cable mark",spoil_ground:"Spoil ground mark",outfall:"Outfall mark",odas:"ODAS",recording:"Recording mark",seaplane_anchorage:"Seaplane anchorage mark",recreation_zone:"Recreation zone mark",private:"Private mark",mooring:"Mooring mark",lanby:"LANBY",leading:"Leading mark",measured_distance:"Measured distance mark",notice:"Notice mark",tss:"TSS mark",no_anchoring:"Anchoring prohibited mark",no_berthing:"Berthing prohibited mark",no_overtaking:"Overtaking prohibited mark","no_two-way_traffic":"Two-way traffic prohibited mark",reduced_wake:"Reduced wake mark",speed_limit:"Speed limit mark",stop:"Stop mark",warning:"General warning mark",sound_ship_siren:"Sound ships siren mark",restricted_vertical_clearance:"Restricted vertical clearance mark",maximum_vessel_draught:"Maximum vessel's draught mark",restricted_horizontal_clearance:"Restricted horizontal clearance mark",strong_current:"Strong current warning mark",berthing:"Berthing permitted mark",overhead_power_cable:"Overhead power cable mark",channel_edge_gradient:"Channel edge gradient mark",telephone:"Telephone mark",ferry_crossing:"Ferry crossing mark",marine_traffic_lights:"Marine traffic lights",pipeline:"Pipeline mark",anchorage:"Anchorage mark",clearing:"Clearing mark",control:"Control mark",diving:"Diving mark",refuge_beacon:"Refuge beacon",foul_ground:"Foul ground mark",yachting:"Yachting mark",heliport:"Heliport mark",gps:"GPS mark",seaplane_landing:"Seaplane landing mark",no_entry:"Entry prohibited mark",work_in_progress:"Work in progress mark",unknown_purpose:"Mark with unknown purpose",wellhead:"Wellhead mark",channel_separation:"Channel separation mark",marine_farm:"Marine farm mark",artificial_reef:"Artificial reef mark",ice:"Ice Mark",nature_reserve:"Nature Reserve Mark",fish_aggregator:"Fish Aggregating Device",wreck:"Wreck mark",customs:"Customs Mark",causeway:"Causeway Mark",wave_recorder:"Wave Recorder",no_jetski:"Jetski Prohibited"}}},"seamark/beacon_special_purpose/colour_pattern":{key:"seamark:beacon_special_purpose:colour_pattern",type:"combo",label:"Marker Colour Pattern",strings:{options:{horizontal:"Horizontal stripes",vertical:"Vertical stripes",diagonal:"Diagonal stripes",squared:"Squared",stripes:"Stripes (direction unknown)",border:"Border stripe",cross:"Vertical cross",saltire:"Diagonal cross"}}},"seamark/beacon_special_purpose/colour":{key:"seamark:beacon_special_purpose:colour",type:"semiCombo",label:"Marker Colour",strings:{options:{white:"White",black:"Black",red:"Red",green:"Green",blue:"Blue",yellow:"Yellow",grey:"Grey",brown:"Brown",amber:"Amber",violet:"Violet",orange:"Orange",magenta:"Magenta",pink:"Pink"}}},"seamark/beacon_special_purpose/shape":{key:"seamark:beacon_special_purpose:shape",type:"combo",label:"Structure",strings:{options:{pole:"Pole",withy:"Withy",tower:"Beacon tower",lattice:"Lattice beacon",pile:"Pile beacon",cairn:"Cairn",buoyant:"Buoyant beacon"}}},"seamark/buoy_isolated_danger/colour_pattern":{key:"seamark:buoy_isolated_danger:colour_pattern",type:"combo",label:"Buoy Colour Pattern",strings:{options:{horizontal:"Horizontal stripes",vertical:"Vertical stripes",diagonal:"Diagonal stripes",squared:"Squared",stripes:"Stripes (direction unknown)",border:"Border stripe",cross:"Vertical cross",saltire:"Diagonal cross"}}},"seamark/buoy_isolated_danger/colour":{key:"seamark:buoy_isolated_danger:colour",type:"semiCombo",label:"Buoy Colour",strings:{options:{white:"White",black:"Black",red:"Red",green:"Green",blue:"Blue",yellow:"Yellow",grey:"Grey",brown:"Brown",amber:"Amber",violet:"Violet",orange:"Orange",magenta:"Magenta",pink:"Pink"}}},"seamark/buoy_isolated_danger/shape":{key:"seamark:buoy_isolated_danger:shape",type:"combo",label:"Buoy Shape",strings:{options:{conical:"Conical (nun, ogival)",can:"Can (cylindrical)",spherical:"Spherical",pillar:"Pillar",spar:"Spar (spindle)",barrel:"Barrel (tun)","super-buoy":"Super-buoy",ice_buoy:"Ice buoy"}}},"seamark/buoy_special_purpose/category":{key:"seamark:buoy_special_purpose:category",type:"combo",label:"Buoy Category",strings:{options:{firing_danger_area:"Firing danger mark",target:"Target mark",marker_ship:"Marker ship mark",degaussing_range:"Degaussing range mark",barge:"Barge mark",cable:"Cable mark",spoil_ground:"Spoil ground mark",outfall:"Outfall mark",odas:"ODAS",recording:"Recording mark",seaplane_anchorage:"Seaplane anchorage mark",recreation_zone:"Recreation zone mark",private:"Private mark",mooring:"Mooring mark",lanby:"LANBY",leading:"Leading mark",measured_distance:"Measured distance mark",notice:"Notice mark",tss:"TSS mark",no_anchoring:"Anchoring prohibited mark",no_berthing:"Berthing prohibited mark",no_overtaking:"Overtaking prohibited mark","no_two-way_traffic":"Two-way traffic prohibited mark",reduced_wake:"Reduced wake mark",speed_limit:"Speed limit mark",stop:"Stop mark",warning:"General warning mark",sound_ship_siren:"Sound ships siren mark",restricted_vertical_clearance:"Restricted vertical clearance mark",maximum_vessel_draught:"Maximum vessel's draught mark",restricted_horizontal_clearance:"Restricted horizontal clearance mark",strong_current:"Strong current warning mark",berthing:"Berthing permitted mark",overhead_power_cable:"Overhead power cable mark",channel_edge_gradient:"Channel edge gradient mark",telephone:"Telephone mark",ferry_crossing:"Ferry crossing mark",marine_traffic_lights:"Marine traffic lights",pipeline:"Pipeline mark",anchorage:"Anchorage mark",clearing:"Clearing mark",control:"Control mark",diving:"Diving mark",refuge_beacon:"Refuge beacon",foul_ground:"Foul ground mark",yachting:"Yachting mark",heliport:"Heliport mark",gps:"GPS mark",seaplane_landing:"Seaplane landing mark",no_entry:"Entry prohibited mark",work_in_progress:"Work in progress mark",unknown_purpose:"Mark with unknown purpose",wellhead:"Wellhead mark",channel_separation:"Channel separation mark",marine_farm:"Marine farm mark",artificial_reef:"Artificial reef mark",ice:"Ice Mark",nature_reserve:"Nature Reserve Mark",fish_aggregator:"Fish Aggregating Device",wreck:"Wreck mark",customs:"Customs Mark",causeway:"Causeway Mark",wave_recorder:"Wave Recorder",no_jetski:"Jetski Prohibited"}}},"seamark/buoy_special_purpose/colour_pattern":{key:"seamark:buoy_special_purpose:colour_pattern",type:"combo",label:"Buoy Colour Pattern",strings:{options:{horizontal:"Horizontal stripes",vertical:"Vertical stripes",diagonal:"Diagonal stripes",squared:"Squared",stripes:"Stripes (direction unknown)",border:"Border stripe",cross:"Vertical cross",saltire:"Diagonal cross"}}},"seamark/buoy_special_purpose/colour":{key:"seamark:buoy_special_purpose:colour",type:"semiCombo",label:"Buoy Colour",strings:{options:{white:"White",black:"Black",red:"Red",green:"Green",blue:"Blue",yellow:"Yellow",grey:"Grey",brown:"Brown",amber:"Amber",violet:"Violet",orange:"Orange",magenta:"Magenta",pink:"Pink"}}},"seamark/buoy_special_purpose/shape":{key:"seamark:buoy_special_purpose:shape",type:"combo",label:"Buoy Shape",strings:{options:{conical:"Conical (nun, ogival)",can:"Can (cylindrical)",spherical:"Spherical",pillar:"Pillar",spar:"Spar (spindle)",barrel:"Barrel (tun)","super-buoy":"Super-buoy",ice_buoy:"Ice buoy"}}},"seamark/mooring/colour":{key:"seamark:mooring:colour",type:"combo",label:"Colour",strings:{options:{white:"White",black:"Black",red:"Red",green:"Green",blue:"Blue",yellow:"Yellow",grey:"Grey",brown:"Brown",amber:"Amber",violet:"Violet",orange:"Orange",magenta:"Magenta",pink:"Pink"}}},"seamark/mooring/shape":{key:"seamark:mooring:shape",type:"combo",label:"Shape",strings:{options:{conical:"Conical (nun, ogival)",can:"Can (cylindrical)",spherical:"Spherical",pillar:"Pillar",spar:"Spar (spindle)",barrel:"Barrel (tun)","super-buoy":"Super-buoy",ice_buoy:"Ice buoy"}}},"seamark/navigation_line/category":{key:"seamark:navigation_line:category",type:"combo",label:"Category",strings:{options:{clearing:"Clearing line",transit:"Transit line",leading:"Leading line bearing a recommended track"}}},"seamark/obstruction/category":{key:"seamark:obstruction:category",type:"combo",label:"Category",strings:{options:{stump:"Snag/stump",wellhead:"Wellhead",diffuser:"Diffuser",crib:"Crib",fish_haven:"Fish haven",foul_area:"Foul area",foul_ground:"Foul ground",ice_boom:"Ice boom",ground_tackle:"Ground tackle",boom:"Boom"}}},"seamark/obstruction/surface":{key:"seamark:obstruction:surface",type:"combo",label:"Obstruction Surface",strings:{options:{mud:"Mud",clay:"Clay",silt:"Silt",sand:"Sand",stone:"Stone",gravel:"Gravel",pebbles:"Pebbles",cobbles:"Cobbles",rock:"Rock",marsh:"Marsh",lava:"Lava",snow:"Snow",ice:"Ice",coral:"Coral",swamp:"Swamp",bog:"Bog/moor",shells:"Shells",boulder:"Boulder"}}},"seamark/obstruction/water_level":{key:"seamark:obstruction:water_level",type:"combo",label:"Water Level",strings:{options:{"part-submerged":"Partly submerged at high water",dry:"Always dry",submerged:"Always under water/submerged",covers:"Covers and uncovers",awash:"Awash",floods:"Subject to inundation or flooding",floating:"Floating",above_mwl:"Above mean water level",below_mwl:"Below mean water level"}}},"seamark/pile/category":{key:"seamark:pile:category",type:"combo",label:"Category",strings:{options:{stake:"Stake",snag:"Snag",post:"Post",tripodal:"Tripodal"}}},"seamark/platform/category":{key:"seamark:platform:category",type:"combo",label:"Category",strings:{options:{oil:"Oil derrick/rig",production:"Production platform",observation:"Observation/research platform",alp:"Articulated loading platform (alp)",salm:"Single anchor leg mooring (salm)",mooring:"Mooring tower",artificial_island:"Artificial island",fpso:"FPSO: floating production, storage and off-loading vessel",accommodation:"Accommodation platform",nccb:"NCCB: navigation, communication and control buoy"}}},"seamark/platform/product":{key:"seamark:platform:product",type:"semiCombo",label:"Product",strings:{options:{oil:"Oil",gas:"Gas",water:"Water",stone:"Stone",coal:"Coal",ore:"Ore",chemicals:"Chemicals",drinking_water:"Drinking water",milk:"Milk",bauxite:"Bauxite",coke:"Coke",iron_ingots:"Iron ingots",salt:"Salt",sand:"Sand",timber:"Timber",sawdust:"Sawdust/wood chips","scrap metal":"Scrap metal",lng:"Liquified natural gas (LNG)",lpg:"Liquified petroleum gas (LPG)",wine:"Wine",cement:"Cement",grain:"Grain"}}},"seamark/recommended_track/category":{key:"seamark:recommended_track:category",type:"combo",label:"Category",strings:{options:{fixed_marks:"Based on a system of fixed marks",no_fixed_marks:"Not based on a system of fixed marks"}}},"seamark/recommended_track/traffic_flow":{key:"seamark:recommended_track:traffic_flow",type:"combo",label:"Traffic Flow",strings:{options:{inbound:"Inbound",outbound:"Outbound","one-way":"One-way","two-way":"Two-way"}}},"seamark/rescue_station/category":{key:"seamark:rescue_station:category",type:"semiCombo",label:"Amenities",strings:{options:{lifeboat:"Lifeboat (on Land)",lifeboat_on_mooring:"Lifeboat (at a Mooring)",radio:"Radio",first_aid:"First aid",seaplane:"Seaplane",aircraft:"Aircraft",hovercraft:"Hovercraft",refuge_shipwrecked:"Shipwreck Refuge",refuge_intertidal:" Intertidal Refuge",tug:"Salvage tug"}}},"seamark/rock/water_level":{key:"seamark:rock:water_level",type:"combo",label:"Water Level",strings:{options:{"part-submerged":"Partly submerged at high water",dry:"Always dry",submerged:"Always under water/submerged",covers:"Covers and uncovers",awash:"Awash",floods:"Subject to inundation or flooding",floating:"Floating",above_mwl:"Above mean water level",below_mwl:"Below mean water level"}}}},Ih={deprecated:mD,discarded:hD,preset_presets:gD,preset_fields:vD};var Je=z9();function z9(){var e={},t={},r={address_formats:"data/address_formats.min.json",deprecated:"https://cdn.jsdelivr.net/npm/@openstreetmap/id-tagging-schema@3/dist/deprecated.min.json",discarded:"https://cdn.jsdelivr.net/npm/@openstreetmap/id-tagging-schema@3/dist/discarded.min.json",imagery:"data/imagery.min.json",intro_graph:"data/intro_graph.min.json",intro_rapid_graph:"data/intro_rapid_graph.min.json",keepRight:"data/keepRight.min.json",languages:"data/languages.min.json",locales:"locales/index.min.json",oci_defaults:"https://cdn.jsdelivr.net/npm/osm-community-index@5.1/dist/defaults.min.json",oci_features:"https://cdn.jsdelivr.net/npm/osm-community-index@5.1/dist/featureCollection.min.json",oci_resources:"https://cdn.jsdelivr.net/npm/osm-community-index@5.1/dist/resources.min.json",preset_categories:"https://cdn.jsdelivr.net/npm/@openstreetmap/id-tagging-schema@3/dist/preset_categories.min.json",preset_defaults:"https://cdn.jsdelivr.net/npm/@openstreetmap/id-tagging-schema@3/dist/preset_defaults.min.json",preset_fields:"https://cdn.jsdelivr.net/npm/@openstreetmap/id-tagging-schema@3/dist/fields.min.json",preset_presets:"https://cdn.jsdelivr.net/npm/@openstreetmap/id-tagging-schema@3/dist/presets.min.json",phone_formats:"data/phone_formats.min.json",qa_data:"data/qa_data.min.json",shortcuts:"data/shortcuts.min.json",territory_languages:"data/territory_languages.min.json",wmf_sitematrix:"https://cdn.jsdelivr.net/npm/wmf-sitematrix@0.1/wikipedia.min.json"},n={};e.cache=function(){return n},e.get=function(o){if(n[o])return Promise.resolve(n[o]);var s=r[o],l=s&&e.asset(s);if(!l)return Promise.reject('Unknown data file for "'.concat(o,'"'));var u=t[l];return u||(t[l]=u=fetch(l).then(function(c){if(!c.ok&&c.status!==0||!c.json)throw new Error(c.status+" "+c.statusText);if(!(c.status===204||c.status===205))return c.json()}).then(function(c){var d=Ih[o];return d?Array.isArray(c)?[].concat($t(c),$t(d)):Object.assign({},c,d):c}).then(function(c){if(delete t[l],!c)throw new Error('No data loaded for "'.concat(o,'"'));return n[o]=c,c}).catch(function(c){throw delete t[l],c})),u},e.fileMap=function(o){return arguments.length?(r=o,e):r};var i="";e.assetPath=function(o){return arguments.length?(i=o,e):i};var a={};return e.assetMap=function(o){return arguments.length?(a=o,e):a},e.asset=function(o){if(/^http(s)?:\/\//i.test(o))return o;var s=i+o;return a[s]||s},e}pt();var Qh=Xe($l()),SD="FeatureCollection",FD=[{type:"Feature",properties:{wikidata:"Q21",nameEn:"England",aliases:["GB-ENG"],country:"GB",groups:["Q23666","Q3336843","154","150","UN"],driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["44"]},geometry:{type:"MultiPolygon",coordinates:[[[[-6.03913,51.13217],[-7.74976,48.64773],[1.17405,50.74239],[2.18458,51.52087],[2.56575,51.85301],[.792,57.56437],[-2.30613,55.62698],[-2.17058,55.45916],[-2.6095,55.28488],[-2.63532,55.19452],[-3.02906,55.04606],[-3.09361,54.94924],[-3.38407,54.94278],[-4.1819,54.57861],[-3.5082,53.54318],[-3.08228,53.25526],[-3.03675,53.25092],[-2.92329,53.19383],[-2.92022,53.17685],[-2.98598,53.15589],[-2.90649,53.10964],[-2.87469,53.12337],[-2.89131,53.09374],[-2.83133,52.99184],[-2.7251,52.98389],[-2.72221,52.92969],[-2.80549,52.89428],[-2.85897,52.94487],[-2.92401,52.93836],[-2.97243,52.9651],[-3.13576,52.895],[-3.15744,52.84947],[-3.16105,52.79599],[-3.08734,52.77504],[-3.01001,52.76636],[-2.95581,52.71794],[-3.01724,52.72083],[-3.04398,52.65435],[-3.13648,52.58208],[-3.12926,52.5286],[-3.09746,52.53077],[-3.08662,52.54811],[-3.00929,52.57774],[-2.99701,52.551],[-3.03603,52.49969],[-3.13359,52.49174],[-3.22971,52.45344],[-3.22754,52.42526],[-3.04687,52.34504],[-2.95364,52.3501],[-2.99701,52.323],[-3.00785,52.2753],[-3.09289,52.20546],[-3.12638,52.08114],[-2.97111,51.90456],[-2.8818,51.93196],[-2.78742,51.88833],[-2.74277,51.84367],[-2.66234,51.83555],[-2.66336,51.59504],[-3.20563,51.31615],[-6.03913,51.13217]]]]}},{type:"Feature",properties:{wikidata:"Q22",nameEn:"Scotland",aliases:["GB-SCT"],country:"GB",groups:["Q23666","Q3336843","154","150","UN"],driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["44"]},geometry:{type:"MultiPolygon",coordinates:[[[[.792,57.56437],[-.3751,61.32236],[-14.78497,57.60709],[-6.82333,55.83103],[-4.69044,54.3629],[-3.38407,54.94278],[-3.09361,54.94924],[-3.02906,55.04606],[-2.63532,55.19452],[-2.6095,55.28488],[-2.17058,55.45916],[-2.30613,55.62698],[.792,57.56437]]]]}},{type:"Feature",properties:{wikidata:"Q25",nameEn:"Wales",aliases:["GB-WLS"],country:"GB",groups:["Q23666","Q3336843","154","150","UN"],driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["44"]},geometry:{type:"MultiPolygon",coordinates:[[[[-3.5082,53.54318],[-5.37267,53.63269],[-6.03913,51.13217],[-3.20563,51.31615],[-2.66336,51.59504],[-2.66234,51.83555],[-2.74277,51.84367],[-2.78742,51.88833],[-2.8818,51.93196],[-2.97111,51.90456],[-3.12638,52.08114],[-3.09289,52.20546],[-3.00785,52.2753],[-2.99701,52.323],[-2.95364,52.3501],[-3.04687,52.34504],[-3.22754,52.42526],[-3.22971,52.45344],[-3.13359,52.49174],[-3.03603,52.49969],[-2.99701,52.551],[-3.00929,52.57774],[-3.08662,52.54811],[-3.09746,52.53077],[-3.12926,52.5286],[-3.13648,52.58208],[-3.04398,52.65435],[-3.01724,52.72083],[-2.95581,52.71794],[-3.01001,52.76636],[-3.08734,52.77504],[-3.16105,52.79599],[-3.15744,52.84947],[-3.13576,52.895],[-2.97243,52.9651],[-2.92401,52.93836],[-2.85897,52.94487],[-2.80549,52.89428],[-2.72221,52.92969],[-2.7251,52.98389],[-2.83133,52.99184],[-2.89131,53.09374],[-2.87469,53.12337],[-2.90649,53.10964],[-2.98598,53.15589],[-2.92022,53.17685],[-2.92329,53.19383],[-3.03675,53.25092],[-3.08228,53.25526],[-3.5082,53.54318]]]]}},{type:"Feature",properties:{wikidata:"Q26",nameEn:"Northern Ireland",aliases:["GB-NIR"],country:"GB",groups:["Q22890","Q3336843","154","150","UN"],driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["44"]},geometry:{type:"MultiPolygon",coordinates:[[[[-6.34755,55.49206],[-7.2471,55.06933],[-7.34464,55.04688],[-7.4033,55.00391],[-7.40004,54.94498],[-7.44404,54.9403],[-7.4473,54.87003],[-7.47626,54.83084],[-7.54508,54.79401],[-7.54671,54.74606],[-7.64449,54.75265],[-7.75041,54.7103],[-7.83352,54.73854],[-7.93293,54.66603],[-7.70315,54.62077],[-7.8596,54.53671],[-7.99812,54.54427],[-8.04538,54.48941],[-8.179,54.46763],[-8.04555,54.36292],[-7.87101,54.29299],[-7.8596,54.21779],[-7.81397,54.20159],[-7.69501,54.20731],[-7.55812,54.12239],[-7.4799,54.12239],[-7.44567,54.1539],[-7.32834,54.11475],[-7.30553,54.11869],[-7.34005,54.14698],[-7.29157,54.17191],[-7.28017,54.16714],[-7.29687,54.1354],[-7.29493,54.12013],[-7.26316,54.13863],[-7.25012,54.20063],[-7.14908,54.22732],[-7.19145,54.31296],[-7.02034,54.4212],[-6.87775,54.34682],[-6.85179,54.29176],[-6.81583,54.22791],[-6.74575,54.18788],[-6.70175,54.20218],[-6.6382,54.17071],[-6.66264,54.0666],[-6.62842,54.03503],[-6.47849,54.06947],[-6.36605,54.07234],[-6.36279,54.11248],[-6.32694,54.09337],[-6.29003,54.11278],[-6.26218,54.09785],[-5.83481,53.87749],[-4.69044,54.3629],[-6.34755,55.49206]]]]}},{type:"Feature",properties:{wikidata:"Q35",nameEn:"Denmark",country:"DK",groups:["EU","154","150","UN"],callingCodes:["45"]},geometry:{type:"MultiPolygon",coordinates:[[[[12.16597,56.60205],[10.40861,58.38489],[7.28637,57.35913],[8.02459,55.09613],[8.45719,55.06747],[8.55769,54.91837],[8.63979,54.91069],[8.76387,54.8948],[8.81178,54.90518],[8.92795,54.90452],[9.04629,54.87249],[9.14275,54.87421],[9.20571,54.85841],[9.24631,54.84726],[9.23445,54.83432],[9.2474,54.8112],[9.32771,54.80602],[9.33849,54.80233],[9.36496,54.81749],[9.38532,54.83968],[9.41213,54.84254],[9.43155,54.82586],[9.4659,54.83131],[9.58937,54.88785],[9.62734,54.88057],[9.61187,54.85548],[9.73563,54.8247],[9.89314,54.84171],[10.16755,54.73883],[10.31111,54.65968],[11.00303,54.63689],[11.90309,54.38543],[12.85844,54.82438],[13.93395,54.84044],[15.36991,54.73263],[15.79951,55.54655],[14.89259,55.5623],[14.28399,55.1553],[12.84405,55.13257],[12.60345,55.42675],[12.88472,55.63369],[12.6372,55.91371],[12.65312,56.04345],[12.07466,56.29488],[12.16597,56.60205]]]]}},{type:"Feature",properties:{wikidata:"Q55",nameEn:"Netherlands",country:"NL",groups:["EU","155","150","UN"],callingCodes:["31"]},geometry:{type:"MultiPolygon",coordinates:[[[[5.45168,54.20039],[2.56575,51.85301],[3.36263,51.37112],[3.38696,51.33436],[3.35847,51.31572],[3.38289,51.27331],[3.41704,51.25933],[3.43488,51.24135],[3.52698,51.2458],[3.51502,51.28697],[3.58939,51.30064],[3.78999,51.25766],[3.78783,51.2151],[3.90125,51.20371],[3.97889,51.22537],[4.01957,51.24504],[4.05165,51.24171],[4.16721,51.29348],[4.24024,51.35371],[4.21923,51.37443],[4.33265,51.37687],[4.34086,51.35738],[4.39292,51.35547],[4.43777,51.36989],[4.38064,51.41965],[4.39747,51.43316],[4.38122,51.44905],[4.47736,51.4778],[4.5388,51.48184],[4.54675,51.47265],[4.52846,51.45002],[4.53521,51.4243],[4.57489,51.4324],[4.65442,51.42352],[4.72935,51.48424],[4.74578,51.48937],[4.77321,51.50529],[4.78803,51.50284],[4.84139,51.4799],[4.82409,51.44736],[4.82946,51.4213],[4.78314,51.43319],[4.76577,51.43046],[4.77229,51.41337],[4.78941,51.41102],[4.84988,51.41502],[4.90016,51.41404],[4.92152,51.39487],[5.00393,51.44406],[5.0106,51.47167],[5.03281,51.48679],[5.04774,51.47022],[5.07891,51.4715],[5.10456,51.43163],[5.07102,51.39469],[5.13105,51.34791],[5.13377,51.31592],[5.16222,51.31035],[5.2002,51.32243],[5.24244,51.30495],[5.22542,51.26888],[5.23814,51.26064],[5.26461,51.26693],[5.29716,51.26104],[5.33886,51.26314],[5.347,51.27502],[5.41672,51.26248],[5.4407,51.28169],[5.46519,51.2849],[5.48476,51.30053],[5.515,51.29462],[5.5569,51.26544],[5.5603,51.22249],[5.65145,51.19788],[5.65528,51.18736],[5.70344,51.1829],[5.74617,51.18928],[5.77735,51.17845],[5.77697,51.1522],[5.82564,51.16753],[5.85508,51.14445],[5.80798,51.11661],[5.8109,51.10861],[5.83226,51.10585],[5.82921,51.09328],[5.79903,51.09371],[5.79835,51.05834],[5.77258,51.06196],[5.75961,51.03113],[5.77688,51.02483],[5.76242,50.99703],[5.71864,50.96092],[5.72875,50.95428],[5.74752,50.96202],[5.75927,50.95601],[5.74644,50.94723],[5.72545,50.92312],[5.72644,50.91167],[5.71626,50.90796],[5.69858,50.91046],[5.67886,50.88142],[5.64504,50.87107],[5.64009,50.84742],[5.65259,50.82309],[5.70118,50.80764],[5.68995,50.79641],[5.70107,50.7827],[5.68091,50.75804],[5.69469,50.75529],[5.72216,50.76398],[5.73904,50.75674],[5.74356,50.7691],[5.76533,50.78159],[5.77513,50.78308],[5.80673,50.7558],[5.84548,50.76542],[5.84888,50.75448],[5.88734,50.77092],[5.89129,50.75125],[5.89132,50.75124],[5.95942,50.7622],[5.97545,50.75441],[6.01976,50.75398],[6.02624,50.77453],[5.97497,50.79992],[5.98404,50.80988],[6.00462,50.80065],[6.02328,50.81694],[6.01921,50.84435],[6.05623,50.8572],[6.05702,50.85179],[6.07431,50.84674],[6.07693,50.86025],[6.08805,50.87223],[6.07486,50.89307],[6.09297,50.92066],[6.01615,50.93367],[6.02697,50.98303],[5.95282,50.98728],[5.90296,50.97356],[5.90493,51.00198],[5.87849,51.01969],[5.86735,51.05182],[5.9134,51.06736],[5.9541,51.03496],[5.98292,51.07469],[6.16706,51.15677],[6.17384,51.19589],[6.07889,51.17038],[6.07889,51.24432],[6.16977,51.33169],[6.22674,51.36135],[6.22641,51.39948],[6.20654,51.40049],[6.21724,51.48568],[6.18017,51.54096],[6.09055,51.60564],[6.11759,51.65609],[6.02767,51.6742],[6.04091,51.71821],[5.95003,51.7493],[5.98665,51.76944],[5.94568,51.82786],[5.99848,51.83195],[6.06705,51.86136],[6.10337,51.84829],[6.16902,51.84094],[6.11551,51.89769],[6.15349,51.90439],[6.21443,51.86801],[6.29872,51.86801],[6.30593,51.84998],[6.40704,51.82771],[6.38815,51.87257],[6.47179,51.85395],[6.50231,51.86313],[6.58556,51.89386],[6.68386,51.91861],[6.72319,51.89518],[6.82357,51.96711],[6.83035,51.9905],[6.68128,52.05052],[6.76117,52.11895],[6.83984,52.11728],[6.97189,52.20329],[6.9897,52.2271],[7.03729,52.22695],[7.06365,52.23789],[7.02703,52.27941],[7.07044,52.37805],[7.03417,52.40237],[6.99041,52.47235],[6.94293,52.43597],[6.69507,52.488],[6.71641,52.62905],[6.77307,52.65375],[7.04557,52.63318],[7.07253,52.81083],[7.21694,53.00742],[7.17898,53.13817],[7.22681,53.18165],[7.21679,53.20058],[7.19052,53.31866],[7.00198,53.32672],[6.91025,53.44221],[5.45168,54.20039]],[[4.93295,51.44945],[4.95244,51.45207],[4.9524,51.45014],[4.93909,51.44632],[4.93295,51.44945]],[[4.91493,51.4353],[4.91935,51.43634],[4.92227,51.44252],[4.91811,51.44621],[4.92287,51.44741],[4.92811,51.4437],[4.92566,51.44273],[4.92815,51.43856],[4.92879,51.44161],[4.93544,51.44634],[4.94025,51.44193],[4.93416,51.44185],[4.93471,51.43861],[4.94265,51.44003],[4.93986,51.43064],[4.92952,51.42984],[4.92652,51.43329],[4.91493,51.4353]]]]}},{type:"Feature",properties:{wikidata:"Q782",nameEn:"Hawaii",aliases:["US-HI"],country:"US",groups:["Q35657","061","009","UN"],roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["1"]},geometry:{type:"MultiPolygon",coordinates:[[[[-177.8563,29.18961],[-179.49839,27.86265],[-151.6784,9.55515],[-154.05867,45.51124],[-177.5224,27.7635],[-177.8563,29.18961]]]]}},{type:"Feature",properties:{wikidata:"Q797",nameEn:"Alaska",aliases:["US-AK"],country:"US",groups:["Q35657","021","003","019","UN"],roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["1"]},geometry:{type:"MultiPolygon",coordinates:[[[[169.34848,52.47228],[180,51.0171],[179.84401,55.10087],[169.34848,52.47228]]],[[[-168.95635,65.98512],[-169.03888,65.48473],[-172.76104,63.77445],[-179.55295,57.62081],[-179.55295,50.81807],[-133.92876,54.62289],[-130.61931,54.70835],[-130.64499,54.76912],[-130.44184,54.85377],[-130.27203,54.97174],[-130.18765,55.07744],[-130.08035,55.21556],[-129.97513,55.28029],[-130.15373,55.74895],[-130.00857,55.91344],[-130.00093,56.00325],[-130.10173,56.12178],[-130.33965,56.10849],[-130.77769,56.36185],[-131.8271,56.62247],[-133.38523,58.42773],[-133.84645,58.73543],[-134.27175,58.8634],[-134.48059,59.13231],[-134.55699,59.1297],[-134.7047,59.2458],[-135.00267,59.28745],[-135.03069,59.56208],[-135.48007,59.79937],[-136.31566,59.59083],[-136.22381,59.55526],[-136.33727,59.44466],[-136.47323,59.46617],[-136.52365,59.16752],[-136.82619,59.16198],[-137.4925,58.89415],[-137.60623,59.24465],[-138.62145,59.76431],[-138.71149,59.90728],[-139.05365,59.99655],[-139.20603,60.08896],[-139.05831,60.35205],[-139.68991,60.33693],[-139.98024,60.18027],[-140.45648,60.30919],[-140.5227,60.22077],[-141.00116,60.30648],[-140.97446,84.39275],[-168.25765,71.99091],[-168.95635,65.98512]]]]}},{type:"Feature",properties:{wikidata:"Q3492",nameEn:"Sumatra",aliases:["ID-SM"],country:"ID",groups:["035","142","UN"],driveSide:"left",callingCodes:["62"]},geometry:{type:"MultiPolygon",coordinates:[[[[109.82788,2.86812],[110.90339,7.52694],[105.01437,3.24936],[104.56723,1.44271],[104.34728,1.33529],[104.12282,1.27714],[104.03085,1.26954],[103.74084,1.12902],[103.66049,1.18825],[103.56591,1.19719],[103.03657,1.30383],[96.11174,6.69841],[74.28481,-3.17525],[102.92489,-8.17146],[106.32259,-5.50116],[106.38511,-5.16715],[109.17017,-4.07401],[109.3962,-2.07276],[108.50935,-2.01066],[107.94791,1.06924],[109.82788,2.86812]]]]}},{type:"Feature",properties:{wikidata:"Q3757",nameEn:"Java",aliases:["ID-JW"],country:"ID",groups:["035","142","UN"],driveSide:"left",callingCodes:["62"]},geometry:{type:"MultiPolygon",coordinates:[[[[109.17017,-4.07401],[106.38511,-5.16715],[106.32259,-5.50116],[102.92489,-8.17146],[116.22542,-10.49172],[114.39575,-8.2889],[114.42235,-8.09762],[114.92859,-7.49253],[116.33992,-7.56171],[116.58433,-5.30385],[109.17017,-4.07401]]]]}},{type:"Feature",properties:{wikidata:"Q3795",nameEn:"Kalimantan",aliases:["ID-KA"],country:"ID",groups:["Q36117","035","142","UN"],driveSide:"left",callingCodes:["62"]},geometry:{type:"MultiPolygon",coordinates:[[[[120.02464,2.83703],[118.06469,4.16638],[117.67641,4.16535],[117.47313,4.18857],[117.25801,4.35108],[115.90217,4.37708],[115.58276,3.93499],[115.53713,3.14776],[115.11343,2.82879],[115.1721,2.49671],[114.80706,2.21665],[114.80706,1.92351],[114.57892,1.5],[114.03788,1.44787],[113.64677,1.23933],[113.01448,1.42832],[113.021,1.57819],[112.48648,1.56516],[112.2127,1.44135],[112.15679,1.17004],[111.94553,1.12016],[111.82846,.99349],[111.55434,.97864],[111.22979,1.08326],[110.62374,.873],[110.49182,.88088],[110.35354,.98869],[109.66397,1.60425],[109.66397,1.79972],[109.57923,1.80624],[109.53794,1.91771],[109.62558,1.99182],[109.82788,2.86812],[107.94791,1.06924],[108.50935,-2.01066],[109.3962,-2.07276],[109.17017,-4.07401],[116.58433,-5.30385],[120.02464,2.83703]]]]}},{type:"Feature",properties:{wikidata:"Q3803",nameEn:"Lesser Sunda Islands",aliases:["ID-NU"],country:"ID",groups:["035","142","UN"],driveSide:"left",callingCodes:["62"]},geometry:{type:"MultiPolygon",coordinates:[[[[116.96967,-8.01483],[114.92859,-7.49253],[114.42235,-8.09762],[114.39575,-8.2889],[116.22542,-10.49172],[122.14954,-11.52517],[125.68138,-9.85176],[125.09025,-9.46406],[124.97892,-9.19281],[125.04044,-9.17093],[125.09434,-9.19669],[125.18907,-9.16434],[125.18632,-9.03142],[125.11764,-8.96359],[124.97742,-9.08128],[124.94011,-8.85617],[124.46701,-9.13002],[124.45971,-9.30263],[124.38554,-9.3582],[124.35258,-9.43002],[124.3535,-9.48493],[124.28115,-9.50453],[124.28115,-9.42189],[124.21247,-9.36904],[124.14517,-9.42324],[124.10539,-9.41206],[124.04286,-9.34243],[124.04628,-9.22671],[124.33472,-9.11416],[124.92337,-8.75859],[125.87688,-7.49892],[116.96967,-8.01483]]]]}},{type:"Feature",properties:{wikidata:"Q3812",nameEn:"Sulawesi",aliases:["ID-SL"],country:"ID",groups:["035","142","UN"],driveSide:"left",callingCodes:["62"]},geometry:{type:"MultiPolygon",coordinates:[[[[128.34321,3.90322],[126.69413,6.02692],[119.56457,.90759],[116.58433,-5.30385],[116.33992,-7.56171],[116.96967,-8.01483],[125.87688,-7.49892],[123.78965,-.86805],[128.34321,3.90322]]]]}},{type:"Feature",properties:{wikidata:"Q3827",nameEn:"Maluku Islands",aliases:["ID-ML"],country:"ID",groups:["035","142","UN"],driveSide:"left",callingCodes:["62"]},geometry:{type:"MultiPolygon",coordinates:[[[[129.63187,2.21409],[128.34321,3.90322],[123.78965,-.86805],[125.87688,-7.49892],[125.58506,-7.95311],[125.87691,-8.31789],[127.42116,-8.22471],[127.55165,-9.05052],[135.49042,-9.2276],[135.35517,-5.01442],[132.8312,-4.70282],[130.8468,-2.61103],[128.40647,-2.30349],[129.71519,-.24692],[129.63187,2.21409]]]]}},{type:"Feature",properties:{wikidata:"Q3845",nameEn:"Western New Guinea",aliases:["ID-PP"],country:"ID",groups:["035","142","UN"],driveSide:"left",callingCodes:["62"]},geometry:{type:"MultiPolygon",coordinates:[[[[135.49042,-9.2276],[141.01842,-9.35091],[141.01763,-6.90181],[140.90448,-6.85033],[140.85295,-6.72996],[140.99813,-6.3233],[141.02352,.08993],[129.63187,2.21409],[129.71519,-.24692],[128.40647,-2.30349],[130.8468,-2.61103],[132.8312,-4.70282],[135.35517,-5.01442],[135.49042,-9.2276]]]]}},{type:"Feature",properties:{wikidata:"Q5765",nameEn:"Balearic Islands",aliases:["ES-IB"],country:"ES",groups:["EU","039","150","UN"],callingCodes:["34 971"]},geometry:{type:"MultiPolygon",coordinates:[[[[-2.27707,35.35051],[5.10072,39.89531],[3.75438,42.33445],[-2.27707,35.35051]]]]}},{type:"Feature",properties:{wikidata:"Q5823",nameEn:"Ceuta",aliases:["ES-CE"],country:"ES",groups:["EA","EU","015","002","UN"],level:"subterritory",callingCodes:["34"]},geometry:{type:"MultiPolygon",coordinates:[[[[-5.38491,35.92591],[-5.37338,35.88417],[-5.35844,35.87375],[-5.34379,35.8711],[-5.21179,35.90091],[-5.38491,35.92591]]]]}},{type:"Feature",properties:{wikidata:"Q5831",nameEn:"Melilla",aliases:["ES-ML"],country:"ES",groups:["EA","EU","015","002","UN"],level:"subterritory",callingCodes:["34"]},geometry:{type:"MultiPolygon",coordinates:[[[[-2.91909,35.33927],[-2.96038,35.31609],[-2.96648,35.30475],[-2.96978,35.29459],[-2.97035,35.28852],[-2.96507,35.28801],[-2.96826,35.28296],[-2.96516,35.27967],[-2.95431,35.2728],[-2.95065,35.26576],[-2.93893,35.26737],[-2.92272,35.27509],[-2.91909,35.33927]]]]}},{type:"Feature",properties:{wikidata:"Q7835",nameEn:"Crimea",country:"RU",groups:["151","150","UN"],level:"subterritory",callingCodes:["7"]},geometry:{type:"MultiPolygon",coordinates:[[[[33.5,44],[36.4883,45.0488],[36.475,45.2411],[36.5049,45.3136],[36.6545,45.3417],[36.6645,45.4514],[35.0498,45.7683],[34.9601,45.7563],[34.7991,45.8101],[34.8015,45.9005],[34.7548,45.907],[34.6668,45.9714],[34.6086,45.9935],[34.5589,45.9935],[34.5201,45.951],[34.4873,45.9427],[34.4415,45.9599],[34.4122,46.0025],[34.3391,46.0611],[34.2511,46.0532],[34.181,46.068],[34.1293,46.1049],[34.0731,46.1177],[34.0527,46.1084],[33.9155,46.1594],[33.8523,46.1986],[33.7972,46.2048],[33.7405,46.1855],[33.646,46.2303],[33.6152,46.2261],[33.6385,46.1415],[33.6147,46.1356],[33.5732,46.1032],[33.5909,46.0601],[33.5597,46.0307],[31.5,45.5],[33.5,44]]]]}},{type:"Feature",properties:{wikidata:"Q12837",nameEn:"Iberia",level:"sharedLandform"},geometry:null},{type:"Feature",properties:{wikidata:"Q14056",nameEn:"Jan Mayen",aliases:["NO-22"],country:"NO",groups:["SJ","154","150","UN"],level:"subterritory"},geometry:{type:"MultiPolygon",coordinates:[[[[-9.18243,72.23144],[-10.71459,70.09565],[-5.93364,70.76368],[-9.18243,72.23144]]]]}},{type:"Feature",properties:{wikidata:"Q19188",nameEn:"Mainland China",country:"CN",groups:["030","142","UN"],callingCodes:["86"]},geometry:{type:"MultiPolygon",coordinates:[[[[125.6131,53.07229],[125.17522,53.20225],[124.46078,53.21881],[123.86158,53.49391],[123.26989,53.54843],[122.85966,53.47395],[122.35063,53.49565],[121.39213,53.31888],[120.85633,53.28499],[120.0451,52.7359],[120.04049,52.58773],[120.46454,52.63811],[120.71673,52.54099],[120.61346,52.32447],[120.77337,52.20805],[120.65907,51.93544],[120.10963,51.671],[119.13553,50.37412],[119.38598,50.35162],[119.27996,50.13348],[119.11003,50.00276],[118.61623,49.93809],[117.82343,49.52696],[117.48208,49.62324],[117.27597,49.62544],[116.71193,49.83813],[116.03781,48.87014],[116.06565,48.81716],[115.78876,48.51781],[115.811,48.25699],[115.52082,48.15367],[115.57128,47.91988],[115.94296,47.67741],[116.21879,47.88505],[116.4465,47.83662],[116.67405,47.89039],[116.9723,47.87285],[117.37875,47.63627],[117.50181,47.77216],[117.80196,48.01661],[118.03676,48.00982],[118.11009,48.04],[118.22677,48.03853],[118.29654,48.00246],[118.55766,47.99277],[118.7564,47.76947],[119.12343,47.66458],[119.13995,47.53997],[119.35892,47.48104],[119.31964,47.42617],[119.54918,47.29505],[119.56019,47.24874],[119.62403,47.24575],[119.71209,47.19192],[119.85518,46.92196],[119.91242,46.90091],[119.89261,46.66423],[119.80455,46.67631],[119.77373,46.62947],[119.68127,46.59015],[119.65265,46.62342],[119.42827,46.63783],[119.32827,46.61433],[119.24978,46.64761],[119.10448,46.65516],[119.00541,46.74273],[118.92616,46.72765],[118.89974,46.77139],[118.8337,46.77742],[118.78747,46.68689],[118.30534,46.73519],[117.69554,46.50991],[117.60748,46.59771],[117.41782,46.57862],[117.36609,46.36335],[116.83166,46.38637],[116.75551,46.33083],[116.58612,46.30211],[116.26678,45.96479],[116.24012,45.8778],[116.27366,45.78637],[116.16989,45.68603],[115.60329,45.44717],[114.94546,45.37377],[114.74612,45.43585],[114.54801,45.38337],[114.5166,45.27189],[113.70918,44.72891],[112.74662,44.86297],[112.4164,45.06858],[111.98695,45.09074],[111.76275,44.98032],[111.40498,44.3461],[111.96289,43.81596],[111.93776,43.68709],[111.79758,43.6637],[111.59087,43.51207],[111.0149,43.3289],[110.4327,42.78293],[110.08401,42.6411],[109.89402,42.63111],[109.452,42.44842],[109.00679,42.45302],[108.84489,42.40246],[107.57258,42.40898],[107.49681,42.46221],[107.29755,42.41395],[107.24774,42.36107],[106.76517,42.28741],[105.0123,41.63188],[104.51667,41.66113],[104.52258,41.8706],[103.92804,41.78246],[102.72403,42.14675],[102.07645,42.22519],[101.80515,42.50074],[100.84979,42.67087],[100.33297,42.68231],[99.50671,42.56535],[97.1777,42.7964],[96.37926,42.72055],[96.35658,42.90363],[95.89543,43.2528],[95.52594,43.99353],[95.32891,44.02407],[95.39772,44.2805],[95.01191,44.25274],[94.71959,44.35284],[94.10003,44.71016],[93.51161,44.95964],[91.64048,45.07408],[90.89169,45.19667],[90.65114,45.49314],[90.70907,45.73437],[91.03026,46.04194],[90.99672,46.14207],[90.89639,46.30711],[91.07696,46.57315],[91.0147,46.58171],[91.03649,46.72916],[90.84035,46.99525],[90.76108,46.99399],[90.48542,47.30438],[90.48854,47.41826],[90.33598,47.68303],[90.10871,47.7375],[90.06512,47.88177],[89.76624,47.82745],[89.55453,48.0423],[89.0711,47.98528],[88.93186,48.10263],[88.8011,48.11302],[88.58316,48.21893],[88.58939,48.34531],[87.96361,48.58478],[88.0788,48.71436],[87.73822,48.89582],[87.88171,48.95853],[87.81333,49.17354],[87.48983,49.13794],[87.478,49.07403],[87.28386,49.11626],[86.87238,49.12432],[86.73568,48.99918],[86.75343,48.70331],[86.38069,48.46064],[85.73581,48.3939],[85.5169,48.05493],[85.61067,47.49753],[85.69696,47.2898],[85.54294,47.06171],[85.22443,47.04816],[84.93995,46.87399],[84.73077,47.01394],[83.92184,46.98912],[83.04622,47.19053],[82.21792,45.56619],[82.58474,45.40027],[82.51374,45.1755],[81.73278,45.3504],[80.11169,45.03352],[79.8987,44.89957],[80.38384,44.63073],[80.40229,44.23319],[80.40031,44.10986],[80.75156,43.44948],[80.69718,43.32589],[80.77771,43.30065],[80.78817,43.14235],[80.62913,43.141],[80.3735,43.01557],[80.58999,42.9011],[80.38169,42.83142],[80.26886,42.8366],[80.16892,42.61137],[80.26841,42.23797],[80.17807,42.21166],[80.17842,42.03211],[79.92977,42.04113],[78.3732,41.39603],[78.15757,41.38565],[78.12873,41.23091],[77.81287,41.14307],[77.76206,41.01574],[77.52723,41.00227],[77.3693,41.0375],[77.28004,41.0033],[76.99302,41.0696],[76.75681,40.95354],[76.5261,40.46114],[76.33659,40.3482],[75.96168,40.38064],[75.91361,40.2948],[75.69663,40.28642],[75.5854,40.66874],[75.22834,40.45382],[75.08243,40.43945],[74.82013,40.52197],[74.78168,40.44886],[74.85996,40.32857],[74.69875,40.34668],[74.35063,40.09742],[74.25533,40.13191],[73.97049,40.04378],[73.83006,39.76136],[73.9051,39.75073],[73.92354,39.69565],[73.94683,39.60733],[73.87018,39.47879],[73.59831,39.46425],[73.59241,39.40843],[73.5004,39.38402],[73.55396,39.3543],[73.54572,39.27567],[73.60638,39.24534],[73.75823,39.023],[73.81728,39.04007],[73.82964,38.91517],[73.7445,38.93867],[73.7033,38.84782],[73.80656,38.66449],[73.79806,38.61106],[73.97933,38.52945],[74.17022,38.65504],[74.51217,38.47034],[74.69619,38.42947],[74.69894,38.22155],[74.80331,38.19889],[74.82665,38.07359],[74.9063,38.03033],[74.92416,37.83428],[75.00935,37.77486],[74.8912,37.67576],[74.94338,37.55501],[75.06011,37.52779],[75.15899,37.41443],[75.09719,37.37297],[75.12328,37.31839],[74.88887,37.23275],[74.80605,37.21565],[74.49981,37.24518],[74.56453,37.03023],[75.13839,37.02622],[75.40481,36.95382],[75.45562,36.71971],[75.72737,36.7529],[75.92391,36.56986],[76.0324,36.41198],[76.00906,36.17511],[75.93028,36.13136],[76.15325,35.9264],[76.14913,35.82848],[76.33453,35.84296],[76.50961,35.8908],[76.77323,35.66062],[76.84539,35.67356],[76.96624,35.5932],[77.44277,35.46132],[77.70232,35.46244],[77.80532,35.52058],[78.11664,35.48022],[78.03466,35.3785],[78.00033,35.23954],[78.22692,34.88771],[78.18435,34.7998],[78.27781,34.61484],[78.54964,34.57283],[78.56475,34.50835],[78.74465,34.45174],[79.05364,34.32482],[78.99802,34.3027],[78.91769,34.15452],[78.66225,34.08858],[78.65657,34.03195],[78.73367,34.01121],[78.77349,33.73871],[78.67599,33.66445],[78.73636,33.56521],[79.15252,33.17156],[79.14016,33.02545],[79.46562,32.69668],[79.26768,32.53277],[79.13174,32.47766],[79.0979,32.38051],[78.99322,32.37948],[78.96713,32.33655],[78.7831,32.46873],[78.73916,32.69438],[78.38897,32.53938],[78.4645,32.45367],[78.49609,32.2762],[78.68754,32.10256],[78.74404,32.00384],[78.78036,31.99478],[78.69933,31.78723],[78.84516,31.60631],[78.71032,31.50197],[78.77898,31.31209],[78.89344,31.30481],[79.01931,31.42817],[79.14016,31.43403],[79.30694,31.17357],[79.59884,30.93943],[79.93255,30.88288],[80.20721,30.58541],[80.54504,30.44936],[80.83343,30.32023],[81.03953,30.20059],[81.12842,30.01395],[81.24362,30.0126],[81.29032,30.08806],[81.2623,30.14596],[81.33355,30.15303],[81.39928,30.21862],[81.41018,30.42153],[81.5459,30.37688],[81.62033,30.44703],[81.99082,30.33423],[82.10135,30.35439],[82.10757,30.23745],[82.19475,30.16884],[82.16984,30.0692],[82.38622,30.02608],[82.5341,29.9735],[82.73024,29.81695],[83.07116,29.61957],[83.28131,29.56813],[83.44787,29.30513],[83.63156,29.16249],[83.82303,29.30513],[83.97559,29.33091],[84.18107,29.23451],[84.24801,29.02783],[84.2231,28.89571],[84.47528,28.74023],[84.62317,28.73887],[84.85511,28.58041],[85.06059,28.68562],[85.19135,28.62825],[85.18668,28.54076],[85.10729,28.34092],[85.38127,28.28336],[85.4233,28.32996],[85.59765,28.30529],[85.60854,28.25045],[85.69105,28.38475],[85.71907,28.38064],[85.74864,28.23126],[85.84672,28.18187],[85.90743,28.05144],[85.97813,27.99023],[85.94946,27.9401],[86.06309,27.90021],[86.12069,27.93047],[86.08333,28.02121],[86.088,28.09264],[86.18607,28.17364],[86.22966,27.9786],[86.42736,27.91122],[86.51609,27.96623],[86.56265,28.09569],[86.74181,28.10638],[86.75582,28.04182],[87.03757,27.94835],[87.11696,27.84104],[87.56996,27.84517],[87.72718,27.80938],[87.82681,27.95248],[88.13378,27.88015],[88.1278,27.95417],[88.25332,27.9478],[88.54858,28.06057],[88.63235,28.12356],[88.83559,28.01936],[88.88091,27.85192],[88.77517,27.45415],[88.82981,27.38814],[88.91901,27.32483],[88.93678,27.33777],[88.96947,27.30319],[89.00216,27.32532],[88.95355,27.4106],[88.97213,27.51671],[89.0582,27.60985],[89.12825,27.62502],[89.59525,28.16433],[89.79762,28.23979],[90.13387,28.19178],[90.58842,28.02838],[90.69894,28.07784],[91.20019,27.98715],[91.25779,28.07509],[91.46327,28.0064],[91.48973,27.93903],[91.5629,27.84823],[91.6469,27.76358],[91.84722,27.76325],[91.87057,27.7195],[92.27432,27.89077],[92.32101,27.79363],[92.42538,27.80092],[92.7275,27.98662],[92.73025,28.05814],[92.65472,28.07632],[92.67486,28.15018],[92.93075,28.25671],[93.14635,28.37035],[93.18069,28.50319],[93.44621,28.67189],[93.72797,28.68821],[94.35897,29.01965],[94.2752,29.11687],[94.69318,29.31739],[94.81353,29.17804],[95.0978,29.14446],[95.11291,29.09527],[95.2214,29.10727],[95.26122,29.07727],[95.3038,29.13847],[95.41091,29.13007],[95.50842,29.13487],[95.72086,29.20797],[95.75149,29.32063],[95.84899,29.31464],[96.05361,29.38167],[96.31316,29.18643],[96.18682,29.11087],[96.20467,29.02325],[96.3626,29.10607],[96.61391,28.72742],[96.40929,28.51526],[96.48895,28.42955],[96.6455,28.61657],[96.85561,28.4875],[96.88445,28.39452],[96.98882,28.32564],[97.1289,28.3619],[97.34547,28.21385],[97.41729,28.29783],[97.47085,28.2688],[97.50518,28.49716],[97.56835,28.55628],[97.70705,28.5056],[97.79632,28.33168],[97.90069,28.3776],[98.15337,28.12114],[98.13964,27.9478],[98.32641,27.51385],[98.42529,27.55404],[98.43353,27.67086],[98.69582,27.56499],[98.7333,26.85615],[98.77547,26.61994],[98.72741,26.36183],[98.67797,26.24487],[98.7329,26.17218],[98.66884,26.09165],[98.63128,26.15492],[98.57085,26.11547],[98.60763,26.01512],[98.70818,25.86241],[98.63128,25.79937],[98.54064,25.85129],[98.40606,25.61129],[98.31268,25.55307],[98.25774,25.6051],[98.16848,25.62739],[98.18084,25.56298],[98.12591,25.50722],[98.14925,25.41547],[97.92541,25.20815],[97.83614,25.2715],[97.77023,25.11492],[97.72216,25.08508],[97.72903,24.91332],[97.79949,24.85655],[97.76481,24.8289],[97.73127,24.83015],[97.70181,24.84557],[97.64354,24.79171],[97.56648,24.76475],[97.56383,24.75535],[97.5542,24.74943],[97.54675,24.74202],[97.56525,24.72838],[97.56286,24.54535],[97.52757,24.43748],[97.60029,24.4401],[97.66998,24.45288],[97.7098,24.35658],[97.65624,24.33781],[97.66723,24.30027],[97.71941,24.29652],[97.76799,24.26365],[97.72998,24.2302],[97.72799,24.18883],[97.75305,24.16902],[97.72903,24.12606],[97.62363,24.00506],[97.5247,23.94032],[97.64667,23.84574],[97.72302,23.89288],[97.79456,23.94836],[97.79416,23.95663],[97.84328,23.97603],[97.86545,23.97723],[97.88811,23.97446],[97.8955,23.97758],[97.89676,23.97931],[97.89683,23.98389],[97.88814,23.98605],[97.88414,23.99405],[97.88616,24.00463],[97.90998,24.02094],[97.93951,24.01953],[97.98691,24.03897],[97.99583,24.04932],[98.04709,24.07616],[98.05302,24.07408],[98.05671,24.07961],[98.0607,24.07812],[98.06703,24.08028],[98.07806,24.07988],[98.20666,24.11406],[98.54476,24.13119],[98.59256,24.08371],[98.85319,24.13042],[98.87998,24.15624],[98.89632,24.10612],[98.67797,23.9644],[98.68209,23.80492],[98.79607,23.77947],[98.82933,23.72921],[98.81775,23.694],[98.88396,23.59555],[98.80294,23.5345],[98.82877,23.47908],[98.87683,23.48995],[98.92104,23.36946],[98.87573,23.33038],[98.93958,23.31414],[98.92515,23.29535],[98.88597,23.18656],[99.05975,23.16382],[99.04601,23.12215],[99.25741,23.09025],[99.34127,23.13099],[99.52214,23.08218],[99.54218,22.90014],[99.43537,22.94086],[99.45654,22.85726],[99.31243,22.73893],[99.38247,22.57544],[99.37972,22.50188],[99.28771,22.4105],[99.17318,22.18025],[99.19176,22.16983],[99.1552,22.15874],[99.33166,22.09656],[99.47585,22.13345],[99.85351,22.04183],[99.96612,22.05965],[99.99084,21.97053],[99.94003,21.82782],[99.98654,21.71064],[100.04956,21.66843],[100.12679,21.70539],[100.17486,21.65306],[100.10757,21.59945],[100.12542,21.50365],[100.1625,21.48704],[100.18447,21.51898],[100.25863,21.47043],[100.35201,21.53176],[100.42892,21.54325],[100.4811,21.46148],[100.57861,21.45637],[100.72143,21.51898],[100.87265,21.67396],[101.11744,21.77659],[101.15156,21.56129],[101.2124,21.56422],[101.19349,21.41959],[101.26912,21.36482],[101.2229,21.23271],[101.29326,21.17254],[101.54563,21.25668],[101.6068,21.23329],[101.59491,21.18621],[101.60886,21.17947],[101.66977,21.20004],[101.70548,21.14911],[101.7622,21.14813],[101.79266,21.19025],[101.76745,21.21571],[101.83887,21.20983],[101.84412,21.25291],[101.74014,21.30967],[101.74224,21.48276],[101.7727,21.51794],[101.7475,21.5873],[101.80001,21.57461],[101.83257,21.61562],[101.74555,21.72852],[101.7791,21.83019],[101.62566,21.96574],[101.57525,22.13026],[101.60675,22.13513],[101.53638,22.24794],[101.56789,22.28876],[101.61306,22.27515],[101.68973,22.46843],[101.7685,22.50337],[101.86828,22.38397],[101.90714,22.38688],[101.91344,22.44417],[101.98487,22.42766],[102.03633,22.46164],[102.1245,22.43372],[102.14099,22.40092],[102.16621,22.43336],[102.26428,22.41321],[102.25339,22.4607],[102.41061,22.64184],[102.38415,22.67919],[102.42618,22.69212],[102.46665,22.77108],[102.51802,22.77969],[102.57095,22.7036],[102.60675,22.73376],[102.8636,22.60735],[102.9321,22.48659],[103.0722,22.44775],[103.07843,22.50097],[103.17961,22.55705],[103.15782,22.59873],[103.18895,22.64471],[103.28079,22.68063],[103.32282,22.8127],[103.43179,22.75816],[103.43646,22.70648],[103.52675,22.59155],[103.57812,22.65764],[103.56255,22.69499],[103.64506,22.79979],[103.87904,22.56683],[103.93286,22.52703],[103.94513,22.52553],[103.95191,22.5134],[103.96352,22.50584],[103.96783,22.51173],[103.97384,22.50634],[103.99247,22.51958],[104.01088,22.51823],[104.03734,22.72945],[104.11384,22.80363],[104.27084,22.8457],[104.25683,22.76534],[104.35593,22.69353],[104.47225,22.75813],[104.58122,22.85571],[104.60457,22.81841],[104.65283,22.83419],[104.72755,22.81984],[104.77114,22.90017],[104.84942,22.93631],[104.86765,22.95178],[104.8334,23.01484],[104.79478,23.12934],[104.87382,23.12854],[104.87992,23.17141],[104.91435,23.18666],[104.9486,23.17235],[104.96532,23.20463],[104.98712,23.19176],[105.07002,23.26248],[105.11672,23.25247],[105.17276,23.28679],[105.22569,23.27249],[105.32376,23.39684],[105.40782,23.28107],[105.42805,23.30824],[105.49966,23.20669],[105.56037,23.16806],[105.57594,23.075],[105.72382,23.06641],[105.8726,22.92756],[105.90119,22.94168],[105.99568,22.94178],[106.00179,22.99049],[106.19705,22.98475],[106.27022,22.87722],[106.34961,22.86718],[106.49749,22.91164],[106.51306,22.94891],[106.55976,22.92311],[106.60179,22.92884],[106.6516,22.86862],[106.6734,22.89587],[106.71387,22.88296],[106.71128,22.85982],[106.78422,22.81532],[106.81271,22.8226],[106.83685,22.8098],[106.82404,22.7881],[106.76293,22.73491],[106.72321,22.63606],[106.71698,22.58432],[106.65316,22.5757],[106.61269,22.60301],[106.58395,22.474],[106.55665,22.46498],[106.57221,22.37],[106.55976,22.34841],[106.6516,22.33977],[106.69986,22.22309],[106.67495,22.1885],[106.6983,22.15102],[106.70142,22.02409],[106.68274,21.99811],[106.69276,21.96013],[106.72551,21.97923],[106.74345,22.00965],[106.81038,21.97934],[106.9178,21.97357],[106.92714,21.93459],[106.97228,21.92592],[106.99252,21.95191],[107.05634,21.92303],[107.06101,21.88982],[107.00964,21.85948],[107.02615,21.81981],[107.10771,21.79879],[107.20734,21.71493],[107.24625,21.7077],[107.29296,21.74674],[107.35834,21.6672],[107.35989,21.60063],[107.38636,21.59774],[107.41593,21.64839],[107.47197,21.6672],[107.49532,21.62958],[107.49065,21.59774],[107.54047,21.5934],[107.56537,21.61945],[107.66967,21.60787],[107.80355,21.66141],[107.86114,21.65128],[107.90006,21.5905],[107.92652,21.58906],[107.95232,21.5388],[107.96774,21.53601],[107.97074,21.54072],[107.97383,21.53961],[107.97932,21.54503],[108.02926,21.54997],[108.0569,21.53604],[108.10003,21.47338],[108.00365,17.98159],[111.60491,13.57105],[118.41371,24.06775],[118.11703,24.39734],[118.28244,24.51231],[118.35291,24.51645],[118.42453,24.54644],[118.56434,24.49266],[120.49232,25.22863],[121.03532,26.8787],[123.5458,31.01942],[122.29378,31.76513],[122.80525,33.30571],[123.85601,37.49093],[123.90497,38.79949],[124.17532,39.8232],[124.23201,39.9248],[124.35029,39.95639],[124.37089,40.03004],[124.3322,40.05573],[124.38556,40.11047],[124.40719,40.13655],[124.86913,40.45387],[125.71172,40.85223],[125.76869,40.87908],[126.00335,40.92835],[126.242,41.15454],[126.53189,41.35206],[126.60631,41.65565],[126.90729,41.79955],[127.17841,41.59714],[127.29712,41.49473],[127.92943,41.44291],[128.02633,41.42103],[128.03311,41.39232],[128.12967,41.37931],[128.18546,41.41279],[128.20061,41.40895],[128.30716,41.60322],[128.15119,41.74568],[128.04487,42.01769],[128.94007,42.03537],[128.96068,42.06657],[129.15178,42.17224],[129.22285,42.26491],[129.22423,42.3553],[129.28541,42.41574],[129.42882,42.44702],[129.54701,42.37254],[129.60482,42.44461],[129.72541,42.43739],[129.75294,42.59409],[129.77183,42.69435],[129.7835,42.76521],[129.80719,42.79218],[129.83277,42.86746],[129.85261,42.96494],[129.8865,43.00395],[129.95082,43.01051],[129.96409,42.97306],[130.12957,42.98361],[130.09764,42.91425],[130.26095,42.9027],[130.23068,42.80125],[130.2385,42.71127],[130.41826,42.6011],[130.44361,42.54849],[130.50123,42.61636],[130.55143,42.52158],[130.62107,42.58413],[130.56576,42.68925],[130.40213,42.70788],[130.44361,42.76205],[130.66524,42.84753],[131.02438,42.86518],[131.02668,42.91246],[131.135,42.94114],[131.10274,43.04734],[131.20414,43.13654],[131.19031,43.21385],[131.30324,43.39498],[131.29402,43.46695],[131.19492,43.53047],[131.21105,43.82383],[131.26176,43.94011],[131.23583,43.96085],[131.25484,44.03131],[131.30365,44.04262],[131.1108,44.70266],[130.95639,44.85154],[131.48415,44.99513],[131.68466,45.12374],[131.66852,45.2196],[131.76532,45.22609],[131.86903,45.33636],[131.99417,45.2567],[132.83978,45.05916],[132.96373,45.0212],[133.12293,45.1332],[133.09279,45.25693],[133.19419,45.51913],[133.41083,45.57723],[133.48457,45.86203],[133.60442,45.90053],[133.67569,45.9759],[133.72695,46.05576],[133.68047,46.14697],[133.88097,46.25066],[133.91496,46.4274],[133.84104,46.46681],[134.03538,46.75668],[134.20016,47.33458],[134.50898,47.4812],[134.7671,47.72051],[134.55508,47.98651],[134.67098,48.1564],[134.75328,48.36763],[134.49516,48.42884],[132.66989,47.96491],[132.57309,47.71741],[131.90448,47.68011],[131.2635,47.73325],[131.09871,47.6852],[130.95985,47.6957],[130.90915,47.90623],[130.65103,48.10052],[130.84462,48.30942],[130.52147,48.61745],[130.66946,48.88251],[130.43232,48.90844],[130.2355,48.86741],[129.85416,49.11067],[129.67598,49.29596],[129.50685,49.42398],[129.40398,49.44194],[129.35317,49.3481],[129.23232,49.40353],[129.11153,49.36813],[128.72896,49.58676],[127.83476,49.5748],[127.53516,49.84306],[127.49299,50.01251],[127.60515,50.23503],[127.37384,50.28393],[127.36009,50.43787],[127.28765,50.46585],[127.36335,50.58306],[127.28165,50.72075],[127.14586,50.91152],[126.93135,51.0841],[126.90369,51.3238],[126.68349,51.70607],[126.44606,51.98254],[126.558,52.13738],[125.6131,53.07229]],[[113.56865,22.20973],[113.57123,22.20416],[113.60504,22.20464],[113.63011,22.10782],[113.57191,22.07696],[113.54839,22.10909],[113.54942,22.14519],[113.54093,22.15497],[113.52659,22.18271],[113.53552,22.20607],[113.53301,22.21235],[113.53591,22.21369],[113.54093,22.21314],[113.54333,22.21688],[113.5508,22.21672],[113.56865,22.20973]],[[114.50148,22.15017],[113.92195,22.13873],[113.83338,22.1826],[113.81621,22.2163],[113.86771,22.42972],[114.03113,22.5065],[114.05438,22.5026],[114.05729,22.51104],[114.06272,22.51617],[114.07267,22.51855],[114.07817,22.52997],[114.08606,22.53276],[114.09048,22.53716],[114.09692,22.53435],[114.1034,22.5352],[114.11181,22.52878],[114.11656,22.53415],[114.12665,22.54003],[114.13823,22.54319],[114.1482,22.54091],[114.15123,22.55163],[114.1597,22.56041],[114.17247,22.55944],[114.18338,22.55444],[114.20655,22.55706],[114.22185,22.55343],[114.22888,22.5436],[114.25154,22.55977],[114.44998,22.55977],[114.50148,22.15017]]]]}},{type:"Feature",properties:{wikidata:"Q22890",nameEn:"Ireland",level:"sharedLandform"},geometry:null},{type:"Feature",properties:{wikidata:"Q23666",nameEn:"Great Britain",country:"GB",level:"sharedLandform"},geometry:null},{type:"Feature",properties:{wikidata:"Q23681",nameEn:"Northern Cyprus",groups:["Q644636","145","142"],driveSide:"left",callingCodes:["90 392"]},geometry:{type:"MultiPolygon",coordinates:[[[[33.67678,35.03866],[33.67742,35.05963],[33.68474,35.06602],[33.69095,35.06237],[33.70861,35.07644],[33.7161,35.07279],[33.70209,35.04882],[33.71482,35.03722],[33.73824,35.05321],[33.76106,35.04253],[33.78581,35.05104],[33.82067,35.07826],[33.84168,35.06823],[33.8541,35.07201],[33.87479,35.08881],[33.87097,35.09389],[33.87622,35.10457],[33.87224,35.12293],[33.88561,35.12449],[33.88943,35.12007],[33.88737,35.11408],[33.89853,35.11377],[33.91789,35.08688],[33.91299,35.07579],[33.90247,35.07686],[33.89485,35.06873],[33.88367,35.07877],[33.85261,35.0574],[33.8355,35.05777],[33.82051,35.0667],[33.8012,35.04786],[33.81524,35.04192],[33.83055,35.02865],[33.82875,35.01685],[33.84045,35.00616],[33.85216,35.00579],[33.85891,35.001],[33.85621,34.98956],[33.83505,34.98108],[33.84811,34.97075],[33.86432,34.97592],[33.90075,34.96623],[33.98684,34.76642],[35.48515,34.70851],[35.51152,36.10954],[32.82353,35.70297],[32.46489,35.48584],[32.60361,35.16647],[32.64864,35.19967],[32.70947,35.18328],[32.70779,35.14127],[32.85733,35.07742],[32.86406,35.1043],[32.94471,35.09422],[33.01192,35.15639],[33.08249,35.17319],[33.11105,35.15639],[33.15138,35.19504],[33.27068,35.16815],[33.3072,35.16816],[33.31955,35.18096],[33.35056,35.18328],[33.34964,35.17803],[33.35596,35.17942],[33.35612,35.17402],[33.36569,35.17479],[33.3717,35.1788],[33.37248,35.18698],[33.38575,35.2018],[33.4076,35.20062],[33.41675,35.16325],[33.46813,35.10564],[33.48136,35.0636],[33.47825,35.04103],[33.45178,35.02078],[33.45256,35.00288],[33.47666,35.00701],[33.48915,35.06594],[33.53975,35.08151],[33.57478,35.06049],[33.567,35.04803],[33.59658,35.03635],[33.61215,35.0527],[33.63765,35.03869],[33.67678,35.03866]]]]}},{type:"Feature",properties:{wikidata:"Q25231",nameEn:"Svalbard",aliases:["NO-21"],country:"NO",groups:["SJ","154","150","UN"],level:"subterritory",callingCodes:["47 79"]},geometry:{type:"MultiPolygon",coordinates:[[[[-7.49892,77.24208],[32.07813,72.01005],[36.85549,84.09565],[-7.49892,77.24208]]]]}},{type:"Feature",properties:{wikidata:"Q25263",nameEn:"Azores",aliases:["PT-20"],country:"PT",groups:["Q3320166","Q2914565","Q105472","EU","039","150","UN"],callingCodes:["351"]},geometry:{type:"MultiPolygon",coordinates:[[[[-23.12984,40.26428],[-36.43765,41.39418],[-22.54767,33.34416],[-23.12984,40.26428]]]]}},{type:"Feature",properties:{wikidata:"Q25359",nameEn:"Navassa Island",aliases:["UM-76"],country:"US",groups:["UM","Q1352230","029","003","419","019","UN"],level:"subterritory",roadSpeedUnit:"mph",roadHeightUnit:"ft"},geometry:{type:"MultiPolygon",coordinates:[[[[-74.7289,18.71009],[-75.71816,18.46438],[-74.76465,18.06252],[-74.7289,18.71009]]]]}},{type:"Feature",properties:{wikidata:"Q25396",nameEn:"Bonaire",aliases:["BQ-BO","NL-BQ1"],country:"NL",groups:["Q1451600","BQ","029","003","419","019","UN"],level:"subterritory",callingCodes:["599 7"]},geometry:{type:"MultiPolygon",coordinates:[[[[-67.89186,12.4116],[-68.90012,12.62309],[-68.33524,11.78151],[-68.01417,11.77722],[-67.89186,12.4116]]]]}},{type:"Feature",properties:{wikidata:"Q25528",nameEn:"Saba",aliases:["BQ-SA","NL-BQ2"],country:"NL",groups:["Q1451600","BQ","029","003","419","019","UN"],level:"subterritory",callingCodes:["599 4"]},geometry:{type:"MultiPolygon",coordinates:[[[[-63.07669,17.79659],[-63.81314,17.95045],[-63.22932,17.32592],[-63.07669,17.79659]]]]}},{type:"Feature",properties:{wikidata:"Q26180",nameEn:"Sint Eustatius",aliases:["BQ-SE","NL-BQ3"],country:"NL",groups:["Q1451600","BQ","029","003","419","019","UN"],level:"subterritory",callingCodes:["599 3"]},geometry:{type:"MultiPolygon",coordinates:[[[[-63.07669,17.79659],[-63.34999,16.94218],[-62.76692,17.64353],[-63.07669,17.79659]]]]}},{type:"Feature",properties:{wikidata:"Q26253",nameEn:"Madeira",aliases:["PT-30"],country:"PT",groups:["Q3320166","Q2914565","Q105472","EU","039","150","UN"],callingCodes:["351"]},geometry:{type:"MultiPolygon",coordinates:[[[[-19.30302,33.65304],[-16.04789,29.65076],[-11.68307,33.12333],[-19.30302,33.65304]]]]}},{type:"Feature",properties:{wikidata:"Q26927",nameEn:"Lakshadweep",aliases:["IN-LD"],country:"IN",groups:["034","142","UN"],driveSide:"left",callingCodes:["91"]},geometry:{type:"MultiPolygon",coordinates:[[[[67.64074,11.57295],[76.59015,5.591],[72.67494,13.58102],[67.64074,11.57295]]]]}},{type:"Feature",properties:{wikidata:"Q27329",nameEn:"Asian Russia",country:"RU",groups:["142","UN"],callingCodes:["7"]},geometry:{type:"MultiPolygon",coordinates:[[[[-179.99933,64.74703],[-172.76104,63.77445],[-169.03888,65.48473],[-168.95635,65.98512],[-168.25765,71.99091],[-179.9843,71.90735],[-179.99933,64.74703]]],[[[59.99809,51.98263],[60.19925,51.99173],[60.48915,52.15175],[60.72581,52.15538],[60.78201,52.22067],[61.05417,52.35096],[60.98021,52.50068],[60.84709,52.52228],[60.84118,52.63912],[60.71693,52.66245],[60.71989,52.75923],[61.05842,52.92217],[61.23462,53.03227],[62.0422,52.96105],[62.12799,52.99133],[62.14574,53.09626],[61.19024,53.30536],[61.14291,53.41481],[61.29082,53.50992],[61.37957,53.45887],[61.57185,53.50112],[61.55706,53.57144],[60.90626,53.62937],[61.22574,53.80268],[61.14283,53.90063],[60.99796,53.93699],[61.26863,53.92797],[61.3706,54.08464],[61.47603,54.08048],[61.56941,53.95703],[61.65318,54.02445],[62.03913,53.94768],[62.00966,54.04134],[62.38535,54.03961],[62.45931,53.90737],[62.56876,53.94047],[62.58651,54.05871],[63.80604,54.27079],[63.91224,54.20013],[64.02715,54.22679],[63.97686,54.29763],[64.97216,54.4212],[65.11033,54.33028],[65.24663,54.35721],[65.20174,54.55216],[68.21308,54.98645],[68.26661,55.09226],[68.19206,55.18823],[68.90865,55.38148],[69.34224,55.36344],[69.74917,55.35545],[70.19179,55.1476],[70.76493,55.3027],[70.96009,55.10558],[71.08288,54.71253],[71.24185,54.64965],[71.08706,54.33376],[71.10379,54.13326],[71.96141,54.17736],[72.17477,54.36303],[72.43415,53.92685],[72.71026,54.1161],[73.37963,53.96132],[73.74778,54.07194],[73.68921,53.86522],[73.25412,53.61532],[73.39218,53.44623],[75.07405,53.80831],[75.43398,53.98652],[75.3668,54.07439],[76.91052,54.4677],[76.82266,54.1798],[76.44076,54.16017],[76.54243,53.99329],[77.90383,53.29807],[79.11255,52.01171],[80.08138,50.77658],[80.4127,50.95581],[80.44819,51.20855],[80.80318,51.28262],[81.16999,51.15662],[81.06091,50.94833],[81.41248,50.97524],[81.46581,50.77658],[81.94999,50.79307],[82.55443,50.75412],[83.14607,51.00796],[83.8442,50.87375],[84.29385,50.27257],[84.99198,50.06793],[85.24047,49.60239],[86.18709,49.50259],[86.63674,49.80136],[86.79056,49.74787],[86.61307,49.60239],[86.82606,49.51796],[87.03071,49.25142],[87.31465,49.23603],[87.28386,49.11626],[87.478,49.07403],[87.48983,49.13794],[87.81333,49.17354],[87.98977,49.18147],[88.15543,49.30314],[88.17223,49.46934],[88.42449,49.48821],[88.82499,49.44808],[89.70687,49.72535],[89.59711,49.90851],[91.86048,50.73734],[92.07173,50.69585],[92.44714,50.78762],[93.01109,50.79001],[92.99595,50.63183],[94.30823,50.57498],[94.39258,50.22193],[94.49477,50.17832],[94.6121,50.04239],[94.97166,50.04725],[95.02465,49.96941],[95.74757,49.97915],[95.80056,50.04239],[96.97388,49.88413],[97.24639,49.74737],[97.56811,49.84265],[97.56432,49.92801],[97.76871,49.99861],[97.85197,49.91339],[98.29481,50.33561],[98.31373,50.4996],[98.06393,50.61262],[97.9693,50.78044],[98.01472,50.86652],[97.83305,51.00248],[98.05257,51.46696],[98.22053,51.46579],[98.33222,51.71832],[98.74142,51.8637],[98.87768,52.14563],[99.27888,51.96876],[99.75578,51.90108],[99.89203,51.74903],[100.61116,51.73028],[101.39085,51.45753],[101.5044,51.50467],[102.14032,51.35566],[102.32194,50.67982],[102.71178,50.38873],[103.70343,50.13952],[105.32528,50.4648],[106.05562,50.40582],[106.07865,50.33474],[106.47156,50.31909],[106.49628,50.32436],[106.51122,50.34408],[106.58373,50.34044],[106.80326,50.30177],[107.00007,50.1977],[107.1174,50.04239],[107.36407,49.97612],[107.96116,49.93191],[107.95387,49.66659],[108.27937,49.53167],[108.53969,49.32325],[109.18017,49.34709],[109.51325,49.22859],[110.24373,49.16676],[110.39891,49.25083],[110.64493,49.1816],[113.02647,49.60772],[113.20216,49.83356],[114.325,50.28098],[114.9703,50.19254],[115.26068,49.97367],[115.73602,49.87688],[116.22402,50.04477],[116.62502,49.92919],[116.71193,49.83813],[117.27597,49.62544],[117.48208,49.62324],[117.82343,49.52696],[118.61623,49.93809],[119.11003,50.00276],[119.27996,50.13348],[119.38598,50.35162],[119.13553,50.37412],[120.10963,51.671],[120.65907,51.93544],[120.77337,52.20805],[120.61346,52.32447],[120.71673,52.54099],[120.46454,52.63811],[120.04049,52.58773],[120.0451,52.7359],[120.85633,53.28499],[121.39213,53.31888],[122.35063,53.49565],[122.85966,53.47395],[123.26989,53.54843],[123.86158,53.49391],[124.46078,53.21881],[125.17522,53.20225],[125.6131,53.07229],[126.558,52.13738],[126.44606,51.98254],[126.68349,51.70607],[126.90369,51.3238],[126.93135,51.0841],[127.14586,50.91152],[127.28165,50.72075],[127.36335,50.58306],[127.28765,50.46585],[127.36009,50.43787],[127.37384,50.28393],[127.60515,50.23503],[127.49299,50.01251],[127.53516,49.84306],[127.83476,49.5748],[128.72896,49.58676],[129.11153,49.36813],[129.23232,49.40353],[129.35317,49.3481],[129.40398,49.44194],[129.50685,49.42398],[129.67598,49.29596],[129.85416,49.11067],[130.2355,48.86741],[130.43232,48.90844],[130.66946,48.88251],[130.52147,48.61745],[130.84462,48.30942],[130.65103,48.10052],[130.90915,47.90623],[130.95985,47.6957],[131.09871,47.6852],[131.2635,47.73325],[131.90448,47.68011],[132.57309,47.71741],[132.66989,47.96491],[134.49516,48.42884],[134.75328,48.36763],[134.67098,48.1564],[134.55508,47.98651],[134.7671,47.72051],[134.50898,47.4812],[134.20016,47.33458],[134.03538,46.75668],[133.84104,46.46681],[133.91496,46.4274],[133.88097,46.25066],[133.68047,46.14697],[133.72695,46.05576],[133.67569,45.9759],[133.60442,45.90053],[133.48457,45.86203],[133.41083,45.57723],[133.19419,45.51913],[133.09279,45.25693],[133.12293,45.1332],[132.96373,45.0212],[132.83978,45.05916],[131.99417,45.2567],[131.86903,45.33636],[131.76532,45.22609],[131.66852,45.2196],[131.68466,45.12374],[131.48415,44.99513],[130.95639,44.85154],[131.1108,44.70266],[131.30365,44.04262],[131.25484,44.03131],[131.23583,43.96085],[131.26176,43.94011],[131.21105,43.82383],[131.19492,43.53047],[131.29402,43.46695],[131.30324,43.39498],[131.19031,43.21385],[131.20414,43.13654],[131.10274,43.04734],[131.135,42.94114],[131.02668,42.91246],[131.02438,42.86518],[130.66524,42.84753],[130.44361,42.76205],[130.40213,42.70788],[130.56576,42.68925],[130.62107,42.58413],[130.55143,42.52158],[130.56835,42.43281],[130.60805,42.4317],[130.64181,42.41422],[130.66367,42.38024],[130.65022,42.32281],[131.95041,41.5445],[140.9182,45.92937],[145.82343,44.571],[145.23667,43.76813],[153.94307,38.42848],[180,62.52334],[180,71.53642],[155.31937,81.93282],[76.13964,83.37843],[64.18965,69.94255],[66.1708,67.61252],[61.98014,65.72191],[60.74386,64.95767],[59.63945,64.78384],[59.80579,64.13948],[59.24834,63.01859],[59.61398,62.44915],[59.36223,61.3882],[59.50685,60.91162],[58.3853,59.487],[59.15636,59.14682],[59.40376,58.45822],[58.71104,58.07475],[58.81412,57.71602],[58.13789,57.68097],[58.07604,57.08308],[57.28024,56.87898],[57.51527,56.08729],[59.28419,56.15739],[59.49035,55.60486],[58.81825,55.03378],[57.25137,55.26262],[57.14829,54.84204],[57.95234,54.39672],[59.95217,54.85853],[59.70487,54.14846],[58.94336,53.953],[58.79644,52.43392],[59.22409,52.28437],[59.25033,52.46803],[60.17516,52.39457],[60.17253,52.25814],[59.91279,52.06924],[59.99809,51.98263]]]]}},{type:"Feature",properties:{wikidata:"Q34366",nameEn:"Tasmania",aliases:["AU-TAS"],country:"AU",groups:["053","009","UN"],driveSide:"left",callingCodes:["61"]},geometry:{type:"MultiPolygon",coordinates:[[[[123.64533,-39.13605],[159.69067,-56.28945],[159.74028,-39.1978],[123.64533,-39.13605]]]]}},{type:"Feature",properties:{wikidata:"Q34497",nameEn:"Saint Helena",aliases:["SH-HL"],country:"GB",groups:["SH","BOTS","011","202","002","UN"],level:"subterritory",driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["290"]},geometry:{type:"MultiPolygon",coordinates:[[[[-8.3824,-13.9131],[-6.17428,-19.07236],[-3.29308,-15.22647],[-8.3824,-13.9131]]]]}},{type:"Feature",properties:{wikidata:"Q35657",nameEn:"US States",country:"US",level:"subcountryGroup"},geometry:null},{type:"Feature",properties:{wikidata:"Q36117",nameEn:"Borneo",level:"sharedLandform"},geometry:null},{type:"Feature",properties:{wikidata:"Q36678",nameEn:"West Bank",country:"PS",groups:["145","142"],callingCodes:["970"]},geometry:{type:"MultiPolygon",coordinates:[[[[35.47672,31.49578],[35.55941,31.76535],[35.52758,31.9131],[35.54375,31.96587],[35.52012,32.04076],[35.57111,32.21877],[35.55807,32.38674],[35.42078,32.41562],[35.41048,32.43706],[35.41598,32.45593],[35.42034,32.46009],[35.40224,32.50136],[35.35212,32.52047],[35.30685,32.51024],[35.29306,32.50947],[35.25049,32.52453],[35.2244,32.55289],[35.15937,32.50466],[35.10882,32.4757],[35.10024,32.47856],[35.09236,32.47614],[35.08564,32.46948],[35.07059,32.4585],[35.05423,32.41754],[35.05311,32.4024],[35.0421,32.38242],[35.05142,32.3667],[35.04243,32.35008],[35.01772,32.33863],[35.01119,32.28684],[35.02939,32.2671],[35.01841,32.23981],[34.98885,32.20758],[34.95703,32.19522],[34.96009,32.17503],[34.99039,32.14626],[34.98507,32.12606],[34.99437,32.10962],[34.9863,32.09551],[35.00261,32.027],[34.98682,31.96935],[35.00124,31.93264],[35.03489,31.92448],[35.03978,31.89276],[35.03489,31.85919],[34.99712,31.85569],[34.9724,31.83352],[35.01978,31.82944],[35.05617,31.85685],[35.07677,31.85627],[35.14174,31.81325],[35.18603,31.80901],[35.18169,31.82542],[35.19461,31.82687],[35.21469,31.81835],[35.216,31.83894],[35.21128,31.863],[35.20381,31.86716],[35.20673,31.88151],[35.20791,31.8821],[35.20945,31.8815],[35.21016,31.88237],[35.21276,31.88153],[35.2136,31.88241],[35.22014,31.88264],[35.22294,31.87889],[35.22567,31.86745],[35.22817,31.8638],[35.2249,31.85433],[35.2304,31.84222],[35.24816,31.8458],[35.25753,31.8387],[35.251,31.83085],[35.26404,31.82567],[35.25573,31.81362],[35.26058,31.79064],[35.25225,31.7678],[35.26319,31.74846],[35.25182,31.73945],[35.24981,31.72543],[35.2438,31.7201],[35.24315,31.71244],[35.23972,31.70896],[35.22392,31.71899],[35.21937,31.71578],[35.20538,31.72388],[35.18023,31.72067],[35.16478,31.73242],[35.15474,31.73352],[35.15119,31.73634],[35.13931,31.73012],[35.12933,31.7325],[35.11895,31.71454],[35.10782,31.71594],[35.08226,31.69107],[35.00879,31.65426],[34.95249,31.59813],[34.9415,31.55601],[34.94356,31.50743],[34.93258,31.47816],[34.89756,31.43891],[34.87833,31.39321],[34.88932,31.37093],[34.92571,31.34337],[35.02459,31.35979],[35.13033,31.3551],[35.22921,31.37445],[35.39675,31.49572],[35.47672,31.49578]]]]}},{type:"Feature",properties:{wikidata:"Q37362",nameEn:"Akrotiri and Dhekelia",aliases:["SBA"],country:"GB"},geometry:null},{type:"Feature",properties:{wikidata:"Q38095",nameEn:"Gal\xE1pagos Islands",aliases:["EC-W"],country:"EC",groups:["005","419","019","UN"],callingCodes:["593"]},geometry:{type:"MultiPolygon",coordinates:[[[[-93.12365,2.64343],[-92.46744,-2.52874],[-87.07749,-.8849],[-93.12365,2.64343]]]]}},{type:"Feature",properties:{wikidata:"Q39760",nameEn:"Gaza Strip",country:"PS",groups:["145","142"],callingCodes:["970"]},geometry:{type:"MultiPolygon",coordinates:[[[[34.052,31.46619],[34.21853,31.32363],[34.23572,31.2966],[34.24012,31.29591],[34.26742,31.21998],[34.29417,31.24194],[34.36523,31.28963],[34.37381,31.30598],[34.36505,31.36404],[34.40077,31.40926],[34.48892,31.48365],[34.56797,31.54197],[34.48681,31.59711],[34.29262,31.70393],[34.052,31.46619]]]]}},{type:"Feature",properties:{wikidata:"Q40888",nameEn:"Andaman and Nicobar Islands",aliases:["IN-AN"],country:"IN",groups:["034","142","UN"],driveSide:"left",callingCodes:["91"]},geometry:{type:"MultiPolygon",coordinates:[[[[94.42132,5.96581],[94.6371,13.81803],[86.7822,13.41052],[94.42132,5.96581]]]]}},{type:"Feature",properties:{wikidata:"Q41684",nameEn:"Stewart Island",country:"NZ",groups:["053","009","UN"],driveSide:"left",callingCodes:["64"]},geometry:{type:"MultiPolygon",coordinates:[[[[166.59185,-47.61313],[169.70504,-47.56021],[167.52103,-46.41337],[166.59185,-47.61313]]]]}},{type:"Feature",properties:{wikidata:"Q43296",nameEn:"Wake Island",aliases:["WK","WAK","WKUM","872","UM-79"],country:"US",groups:["UM","Q1352230","057","009","UN"],level:"subterritory",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["1"]},geometry:{type:"MultiPolygon",coordinates:[[[[167.34779,18.97692],[166.67967,20.14834],[165.82549,18.97692],[167.34779,18.97692]]]]}},{type:"Feature",properties:{wikidata:"Q46275",nameEn:"New Zealand Subantarctic Islands",country:"NZ",groups:["Q851132","053","009","UN"],driveSide:"left"},geometry:{type:"MultiPolygon",coordinates:[[[[164.30551,-47.88072],[161.96603,-56.07661],[179.49541,-50.04657],[179.49541,-47.2902],[169.91032,-47.66283],[164.30551,-47.88072]]]]}},{type:"Feature",properties:{wikidata:"Q46395",nameEn:"British Overseas Territories",aliases:["BOTS","UKOTS"],country:"GB",level:"subcountryGroup"},geometry:null},{type:"Feature",properties:{wikidata:"Q46772",nameEn:"Kerguelen Islands",country:"FR",groups:["TF","Q1451600","014","202","002","UN"],level:"subterritory"},geometry:{type:"MultiPolygon",coordinates:[[[[61.9216,-49.39746],[70.67507,-51.14192],[74.25129,-45.45074],[61.9216,-49.39746]]]]}},{type:"Feature",properties:{wikidata:"Q46879",nameEn:"Baker Island",aliases:["UM-81"],country:"US",groups:["UM","Q1352230","061","009","UN"],level:"subterritory",roadSpeedUnit:"mph",roadHeightUnit:"ft"},geometry:{type:"MultiPolygon",coordinates:[[[[-175.33482,-1.40631],[-175.31323,.5442],[-177.91421,.39582],[-175.33482,-1.40631]]]]}},{type:"Feature",properties:{wikidata:"Q47863",nameEn:"Midway Atoll",aliases:["MI","MID","MIUM","488","UM-71"],country:"US",groups:["UM","Q1352230","061","009","UN"],level:"subterritory",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["1"]},geometry:{type:"MultiPolygon",coordinates:[[[[-176.29741,29.09786],[-177.77531,29.29793],[-177.5224,27.7635],[-176.29741,29.09786]]]]}},{type:"Feature",properties:{wikidata:"Q62218",nameEn:"Jarvis Island",aliases:["UM-86"],country:"US",groups:["UM","Q1352230","061","009","UN"],level:"subterritory",roadSpeedUnit:"mph",roadHeightUnit:"ft"},geometry:{type:"MultiPolygon",coordinates:[[[[-160.42921,-1.4364],[-159.12443,.19975],[-160.38779,.30331],[-160.42921,-1.4364]]]]}},{type:"Feature",properties:{wikidata:"Q105472",nameEn:"Macaronesia",level:"sharedLandform"},geometry:null},{type:"Feature",properties:{wikidata:"Q114935",nameEn:"Kermadec Islands",country:"NZ",groups:["Q851132","053","009","UN"],driveSide:"left",callingCodes:["64"]},geometry:{type:"MultiPolygon",coordinates:[[[[-174.40891,-29.09438],[-180,-24.21376],[-179.96512,-35.00791],[-174.40891,-29.09438]]]]}},{type:"Feature",properties:{wikidata:"Q115459",nameEn:"Chatham Islands",aliases:["NZ-CIT"],country:"NZ",groups:["Q851132","053","009","UN"],driveSide:"left",callingCodes:["64"]},geometry:{type:"MultiPolygon",coordinates:[[[[-179.93224,-45.18423],[-172.47015,-45.17912],[-176.30998,-41.38382],[-179.93224,-45.18423]]]]}},{type:"Feature",properties:{wikidata:"Q118863",nameEn:"North Island",country:"NZ",groups:["053","009","UN"],driveSide:"left",callingCodes:["64"]},geometry:{type:"MultiPolygon",coordinates:[[[[179.49541,-47.2902],[179.49541,-36.79303],[174.17679,-32.62487],[170.27492,-36.38133],[174.58663,-40.80446],[174.46634,-41.55028],[179.49541,-47.2902]]]]}},{type:"Feature",properties:{wikidata:"Q120755",nameEn:"South Island",country:"NZ",groups:["053","009","UN"],driveSide:"left",callingCodes:["64"]},geometry:{type:"MultiPolygon",coordinates:[[[[169.70504,-47.56021],[179.49541,-47.2902],[174.46634,-41.55028],[174.58663,-40.80446],[170.27492,-36.38133],[166.56976,-39.94841],[164.8365,-46.0205],[167.52103,-46.41337],[169.70504,-47.56021]]]]}},{type:"Feature",properties:{wikidata:"Q123076",nameEn:"Palmyra Atoll",aliases:["UM-95"],country:"US",groups:["UM","Q1352230","061","009","UN"],level:"subterritory",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["1"]},geometry:{type:"MultiPolygon",coordinates:[[[[-161.06795,5.2462],[-161.0731,7.1291],[-163.24478,5.24198],[-161.06795,5.2462]]]]}},{type:"Feature",properties:{wikidata:"Q130574",nameEn:"Chafarinas Islands",country:"ES",groups:["EU","Q191011","015","002","UN"],level:"subterritory"},geometry:{type:"MultiPolygon",coordinates:[[[[-2.40316,35.16893],[-2.43262,35.20652],[-2.45965,35.16527],[-2.40316,35.16893]]]]}},{type:"Feature",properties:{wikidata:"Q130895",nameEn:"Kingman Reef",aliases:["UM-89"],country:"US",groups:["UM","Q1352230","061","009","UN"],level:"subterritory",roadSpeedUnit:"mph",roadHeightUnit:"ft"},geometry:{type:"MultiPolygon",coordinates:[[[[-161.0731,7.1291],[-163.16627,7.15036],[-163.24478,5.24198],[-161.0731,7.1291]]]]}},{type:"Feature",properties:{wikidata:"Q131008",nameEn:"Johnston Atoll",aliases:["JT","JTN","JTUM","396","UM-67"],country:"US",groups:["UM","Q1352230","061","009","UN"],level:"subterritory",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["1"]},geometry:{type:"MultiPolygon",coordinates:[[[[-170.65691,16.57199],[-168.87689,16.01159],[-169.2329,17.4933],[-170.65691,16.57199]]]]}},{type:"Feature",properties:{wikidata:"Q131305",nameEn:"Howland Island",aliases:["UM-84"],country:"US",groups:["UM","Q1352230","061","009","UN"],level:"subterritory",roadSpeedUnit:"mph",roadHeightUnit:"ft"},geometry:{type:"MultiPolygon",coordinates:[[[[-177.91421,.39582],[-175.31323,.5442],[-176.74464,2.28109],[-177.91421,.39582]]]]}},{type:"Feature",properties:{wikidata:"Q133888",nameEn:"Ashmore and Cartier Islands",country:"AU",groups:["053","009","UN"],driveSide:"left",callingCodes:["61"]},geometry:{type:"MultiPolygon",coordinates:[[[[123.7463,-11.1783],[120.6877,-13.59408],[125.29076,-12.33139],[123.7463,-11.1783]]]]}},{type:"Feature",properties:{wikidata:"Q153732",nameEn:"Mariana Islands",level:"sharedLandform"},geometry:null},{type:"Feature",properties:{wikidata:"Q172216",nameEn:"Coral Sea Islands",country:"AU",groups:["053","009","UN"],driveSide:"left",callingCodes:["61"]},geometry:{type:"MultiPolygon",coordinates:[[[[159.77159,-28.41151],[156.73836,-14.50464],[145.2855,-9.62524],[147.69992,-17.5933],[152.93188,-20.92631],[154.02855,-24.43238],[159.77159,-28.41151]]]]}},{type:"Feature",properties:{wikidata:"Q179313",nameEn:"Alderney",country:"GB",groups:["GG","830","Q185086","154","150","UN"],level:"subterritory",driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["44 01481"]},geometry:{type:"MultiPolygon",coordinates:[[[[-2.36485,49.48223],[-2.09454,49.46288],[-2.02963,49.91866],[-2.49556,49.79012],[-2.36485,49.48223]]]]}},{type:"Feature",properties:{wikidata:"Q185086",nameEn:"Crown Dependencies",country:"GB",level:"subcountryGroup"},geometry:null},{type:"Feature",properties:{wikidata:"Q190571",nameEn:"Scattered Islands",country:"FR",groups:["TF","Q1451600","014","202","002","UN"],level:"subterritory"},geometry:{type:"MultiPolygon",coordinates:[[[[53.53458,-16.36909],[54.96649,-16.28353],[54.61476,-15.02273],[53.53458,-16.36909]]],[[[38.55969,-20.75596],[40.68027,-23.38889],[43.52893,-15.62903],[38.55969,-20.75596]]],[[[47.03092,-11.05648],[47.11593,-12.08552],[47.96702,-11.46447],[47.03092,-11.05648]]]]}},{type:"Feature",properties:{wikidata:"Q191011",nameEn:"Plazas de soberan\xEDa",country:"ES"},geometry:null},{type:"Feature",properties:{wikidata:"Q191146",nameEn:"Pe\xF1\xF3n de V\xE9lez de la Gomera",country:"ES",groups:["EU","Q191011","015","002","UN"],level:"subterritory"},geometry:{type:"MultiPolygon",coordinates:[[[[-4.30191,35.17419],[-4.30112,35.17058],[-4.29436,35.17149],[-4.30191,35.17419]]]]}},{type:"Feature",properties:{wikidata:"Q201698",nameEn:"Crozet Islands",country:"FR",groups:["TF","Q1451600","014","202","002","UN"],level:"subterritory"},geometry:{type:"MultiPolygon",coordinates:[[[[55.03425,-43.65017],[46.31615,-46.28749],[54.5587,-47.93013],[55.03425,-43.65017]]]]}},{type:"Feature",properties:{wikidata:"Q578170",nameEn:"Contiguous United States",aliases:["CONUS"],country:"US",groups:["Q35657","021","003","019","UN"],roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["1"]},geometry:{type:"MultiPolygon",coordinates:[[[[-97.13927,25.96583],[-96.92418,25.97377],[-80.57035,24.0565],[-78.91214,27.76553],[-61.98255,37.34815],[-67.16117,44.20069],[-66.93432,44.82597],[-66.96824,44.83078],[-66.98249,44.87071],[-66.96824,44.90965],[-67.0216,44.95333],[-67.11316,45.11176],[-67.15965,45.16179],[-67.19603,45.16771],[-67.20349,45.1722],[-67.22751,45.16344],[-67.27039,45.1934],[-67.29748,45.18173],[-67.29754,45.14865],[-67.34927,45.122],[-67.48201,45.27351],[-67.42394,45.37969],[-67.50578,45.48971],[-67.42144,45.50584],[-67.43815,45.59162],[-67.6049,45.60725],[-67.80705,45.69528],[-67.80653,45.80022],[-67.75654,45.82324],[-67.80961,45.87531],[-67.75196,45.91814],[-67.78111,45.9392],[-67.78578,47.06473],[-67.87993,47.10377],[-67.94843,47.1925],[-68.23244,47.35712],[-68.37458,47.35851],[-68.38332,47.28723],[-68.57914,47.28431],[-68.60575,47.24659],[-68.70125,47.24399],[-68.89222,47.1807],[-69.05039,47.2456],[-69.05073,47.30076],[-69.05148,47.42012],[-69.22119,47.46461],[-69.99966,46.69543],[-70.05812,46.41768],[-70.18547,46.35357],[-70.29078,46.18832],[-70.23855,46.1453],[-70.31025,45.96424],[-70.24694,45.95138],[-70.25976,45.89675],[-70.41523,45.79497],[-70.38934,45.73215],[-70.54019,45.67291],[-70.68516,45.56964],[-70.72651,45.49771],[-70.62518,45.42286],[-70.65383,45.37592],[-70.78372,45.43269],[-70.82638,45.39828],[-70.80236,45.37444],[-70.84816,45.22698],[-70.89864,45.2398],[-70.91169,45.29849],[-70.95193,45.33895],[-71.0107,45.34819],[-71.01866,45.31573],[-71.08364,45.30623],[-71.14568,45.24128],[-71.19723,45.25438],[-71.22338,45.25184],[-71.29371,45.29996],[-71.37133,45.24624],[-71.44252,45.2361],[-71.40364,45.21382],[-71.42778,45.12624],[-71.48735,45.07784],[-71.50067,45.01357],[-73.35025,45.00942],[-74.32699,44.99029],[-74.66689,45.00646],[-74.8447,45.00606],[-74.99101,44.98051],[-75.01363,44.95608],[-75.2193,44.87821],[-75.41441,44.76614],[-75.76813,44.51537],[-75.8217,44.43176],[-75.95947,44.34463],[-76.00018,44.34896],[-76.16285,44.28262],[-76.1664,44.23051],[-76.244,44.19643],[-76.31222,44.19894],[-76.35324,44.13493],[-76.43859,44.09393],[-76.79706,43.63099],[-79.25796,43.54052],[-79.06921,43.26183],[-79.05512,43.25375],[-79.05544,43.21224],[-79.05002,43.20133],[-79.05384,43.17418],[-79.04652,43.16396],[-79.0427,43.13934],[-79.06881,43.12029],[-79.05671,43.10937],[-79.07486,43.07845],[-79.01055,43.06659],[-78.99941,43.05612],[-79.02424,43.01983],[-79.02074,42.98444],[-78.98126,42.97],[-78.96312,42.95509],[-78.93224,42.95229],[-78.90905,42.93022],[-78.90712,42.89733],[-78.93684,42.82887],[-82.67862,41.67615],[-83.11184,41.95671],[-83.14962,42.04089],[-83.12724,42.2376],[-83.09837,42.28877],[-83.07837,42.30978],[-83.02253,42.33045],[-82.82964,42.37355],[-82.64242,42.55594],[-82.58873,42.54984],[-82.57583,42.5718],[-82.51858,42.611],[-82.51063,42.66025],[-82.46613,42.76615],[-82.4826,42.8068],[-82.45331,42.93139],[-82.4253,42.95423],[-82.4146,42.97626],[-82.42469,42.992],[-82.48419,45.30225],[-83.59589,45.82131],[-83.43746,45.99749],[-83.57017,46.105],[-83.83329,46.12169],[-83.90453,46.05922],[-83.95399,46.05634],[-84.1096,46.23987],[-84.09756,46.25512],[-84.11615,46.2681],[-84.11254,46.32329],[-84.13451,46.39218],[-84.11196,46.50248],[-84.12885,46.53068],[-84.17723,46.52753],[-84.1945,46.54061],[-84.2264,46.53337],[-84.26351,46.49508],[-84.29893,46.49127],[-84.34174,46.50683],[-84.42101,46.49853],[-84.4481,46.48972],[-84.47607,46.45225],[-84.55635,46.45974],[-84.85871,46.88881],[-88.37033,48.30586],[-89.48837,48.01412],[-89.57972,48.00023],[-89.77248,48.02607],[-89.89974,47.98109],[-90.07418,48.11043],[-90.56312,48.09488],[-90.56444,48.12184],[-90.75045,48.09143],[-90.87588,48.2484],[-91.08016,48.18096],[-91.25025,48.08522],[-91.43248,48.04912],[-91.45829,48.07454],[-91.58025,48.04339],[-91.55649,48.10611],[-91.70451,48.11805],[-91.71231,48.19875],[-91.86125,48.21278],[-91.98929,48.25409],[-92.05339,48.35958],[-92.14732,48.36578],[-92.202,48.35252],[-92.26662,48.35651],[-92.30939,48.31251],[-92.27167,48.25046],[-92.37185,48.22259],[-92.48147,48.36609],[-92.45588,48.40624],[-92.50712,48.44921],[-92.65606,48.43471],[-92.71323,48.46081],[-92.69927,48.49573],[-92.62747,48.50278],[-92.6342,48.54133],[-92.7287,48.54005],[-92.94973,48.60866],[-93.25391,48.64266],[-93.33946,48.62787],[-93.3712,48.60599],[-93.39758,48.60364],[-93.40693,48.60948],[-93.44472,48.59147],[-93.47022,48.54357],[-93.66382,48.51845],[-93.79267,48.51631],[-93.80939,48.52439],[-93.80676,48.58232],[-93.83288,48.62745],[-93.85769,48.63284],[-94.23215,48.65202],[-94.25104,48.65729],[-94.25172,48.68404],[-94.27153,48.70232],[-94.4174,48.71049],[-94.44258,48.69223],[-94.53826,48.70216],[-94.54885,48.71543],[-94.58903,48.71803],[-94.69335,48.77883],[-94.69669,48.80918],[-94.70486,48.82365],[-94.70087,48.8339],[-94.687,48.84077],[-94.75017,49.09931],[-94.77355,49.11998],[-94.82487,49.29483],[-94.8159,49.32299],[-94.85381,49.32492],[-94.95681,49.37035],[-94.99532,49.36579],[-95.01419,49.35647],[-95.05825,49.35311],[-95.12903,49.37056],[-95.15357,49.384],[-95.15355,48.9996],[-123.32163,49.00419],[-123.0093,48.83186],[-123.0093,48.76586],[-123.26565,48.6959],[-123.15614,48.35395],[-123.50039,48.21223],[-125.03842,48.53282],[-133.98258,38.06389],[-118.48109,32.5991],[-117.1243,32.53427],[-115.88053,32.63624],[-114.71871,32.71894],[-114.76736,32.64094],[-114.80584,32.62028],[-114.81141,32.55543],[-114.79524,32.55731],[-114.82011,32.49609],[-111.07523,31.33232],[-108.20979,31.33316],[-108.20899,31.78534],[-106.529,31.784],[-106.52266,31.77509],[-106.51251,31.76922],[-106.50962,31.76155],[-106.50111,31.75714],[-106.48815,31.74769],[-106.47298,31.75054],[-106.46726,31.75998],[-106.45244,31.76523],[-106.43419,31.75478],[-106.41773,31.75196],[-106.38003,31.73151],[-106.3718,31.71165],[-106.34864,31.69663],[-106.33419,31.66303],[-106.30305,31.62154],[-106.28084,31.56173],[-106.24612,31.54193],[-106.23711,31.51262],[-106.20346,31.46305],[-106.09025,31.40569],[-106.00363,31.39181],[-104.77674,30.4236],[-104.5171,29.64671],[-104.3969,29.57105],[-104.39363,29.55396],[-104.37752,29.54255],[-103.15787,28.93865],[-102.60596,29.8192],[-101.47277,29.7744],[-101.05686,29.44738],[-101.01128,29.36947],[-100.96725,29.3477],[-100.94579,29.34523],[-100.94056,29.33371],[-100.87982,29.296],[-100.79696,29.24688],[-100.67294,29.09744],[-100.63689,28.90812],[-100.59809,28.88197],[-100.52313,28.75598],[-100.5075,28.74066],[-100.51222,28.70679],[-100.50029,28.66117],[-99.55409,27.61314],[-99.51478,27.55836],[-99.52955,27.49747],[-99.50208,27.50021],[-99.48045,27.49016],[-99.482,27.47128],[-99.49744,27.43746],[-99.53573,27.30926],[-99.08477,26.39849],[-99.03053,26.41249],[-99.00546,26.3925],[-98.35126,26.15129],[-98.30491,26.10475],[-98.27075,26.09457],[-98.24603,26.07191],[-97.97017,26.05232],[-97.95155,26.0625],[-97.66511,26.01708],[-97.52025,25.88518],[-97.49828,25.89877],[-97.45669,25.86874],[-97.42511,25.83969],[-97.37332,25.83854],[-97.35946,25.92189],[-97.13927,25.96583]]]]}},{type:"Feature",properties:{wikidata:"Q620634",nameEn:"Bir Tawil",groups:["015","002"],level:"territory"},geometry:{type:"MultiPolygon",coordinates:[[[[33.17563,22.00405],[33.57251,21.72406],[33.99686,21.76784],[34.0765,22.00501],[33.17563,22.00405]]]]}},{type:"Feature",properties:{wikidata:"Q639185",nameEn:"Peros Banhos",country:"GB",groups:["IO","BOTS","014","202","002","UN"],level:"subterritory"},geometry:{type:"MultiPolygon",coordinates:[[[[72.12587,-4.02588],[70.1848,-6.37445],[72.09518,-5.61768],[72.12587,-4.02588]]]]}},{type:"Feature",properties:{wikidata:"Q644636",nameEn:"Cyprus",level:"sharedLandform"},geometry:null},{type:"Feature",properties:{wikidata:"Q851132",nameEn:"New Zealand Outlying Islands",country:"NZ",level:"subcountryGroup"},geometry:null},{type:"Feature",properties:{wikidata:"Q875134",nameEn:"European Russia",country:"RU",groups:["151","150","UN"],callingCodes:["7"]},geometry:{type:"MultiPolygon",coordinates:[[[[18.57853,55.25302],[19.64312,54.45423],[19.8038,54.44203],[20.63871,54.3706],[21.41123,54.32395],[22.79705,54.36264],[22.7253,54.41732],[22.70208,54.45312],[22.67788,54.532],[22.71293,54.56454],[22.68021,54.58486],[22.7522,54.63525],[22.74225,54.64339],[22.75467,54.6483],[22.73397,54.66604],[22.73631,54.72952],[22.87317,54.79492],[22.85083,54.88711],[22.76422,54.92521],[22.68723,54.9811],[22.65451,54.97037],[22.60075,55.01863],[22.58907,55.07085],[22.47688,55.04408],[22.31562,55.0655],[22.14267,55.05345],[22.11697,55.02131],[22.06087,55.02935],[22.02582,55.05078],[22.03984,55.07888],[21.99543,55.08691],[21.96505,55.07353],[21.85521,55.09493],[21.64954,55.1791],[21.55605,55.20311],[21.51095,55.18507],[21.46766,55.21115],[21.38446,55.29348],[21.35465,55.28427],[21.26425,55.24456],[20.95181,55.27994],[20.60454,55.40986],[18.57853,55.25302]]],[[[26.32936,60.00121],[26.90044,59.63819],[27.85643,59.58538],[28.04187,59.47017],[28.19061,59.39962],[28.21137,59.38058],[28.20537,59.36491],[28.19284,59.35791],[28.14215,59.28934],[28.00689,59.28351],[27.90911,59.24353],[27.87978,59.18097],[27.80482,59.1116],[27.74429,58.98351],[27.36366,58.78381],[27.55489,58.39525],[27.48541,58.22615],[27.62393,58.09462],[27.67282,57.92627],[27.81841,57.89244],[27.78526,57.83963],[27.56689,57.83356],[27.50171,57.78842],[27.52615,57.72843],[27.3746,57.66834],[27.40393,57.62125],[27.31919,57.57672],[27.34698,57.52242],[27.56832,57.53728],[27.52453,57.42826],[27.86101,57.29402],[27.66511,56.83921],[27.86101,56.88204],[28.04768,56.59004],[28.13526,56.57989],[28.10069,56.524],[28.19057,56.44637],[28.16599,56.37806],[28.23716,56.27588],[28.15217,56.16964],[28.30571,56.06035],[28.36888,56.05805],[28.37987,56.11399],[28.43068,56.09407],[28.5529,56.11705],[28.68337,56.10173],[28.63668,56.07262],[28.73418,55.97131],[29.08299,56.03427],[29.21717,55.98971],[29.44692,55.95978],[29.3604,55.75862],[29.51283,55.70294],[29.61446,55.77716],[29.80672,55.79569],[29.97975,55.87281],[30.12136,55.8358],[30.27776,55.86819],[30.30987,55.83592],[30.48257,55.81066],[30.51346,55.78982],[30.51037,55.76568],[30.63344,55.73079],[30.67464,55.64176],[30.72957,55.66268],[30.7845,55.58514],[30.86003,55.63169],[30.93419,55.6185],[30.95204,55.50667],[30.90123,55.46621],[30.93144,55.3914],[30.8257,55.3313],[30.81946,55.27931],[30.87944,55.28223],[30.97369,55.17134],[31.02071,55.06167],[31.00972,55.02783],[30.94243,55.03964],[30.9081,55.02232],[30.95754,54.98609],[30.93144,54.9585],[30.81759,54.94064],[30.8264,54.90062],[30.75165,54.80699],[30.95479,54.74346],[30.97127,54.71967],[31.0262,54.70698],[30.98226,54.68872],[30.99187,54.67046],[31.19339,54.66947],[31.21399,54.63113],[31.08543,54.50361],[31.22945,54.46585],[31.3177,54.34067],[31.30791,54.25315],[31.57002,54.14535],[31.89599,54.0837],[31.88744,54.03653],[31.85019,53.91801],[31.77028,53.80015],[31.89137,53.78099],[32.12621,53.81586],[32.36663,53.7166],[32.45717,53.74039],[32.50112,53.68594],[32.40499,53.6656],[32.47777,53.5548],[32.74968,53.45597],[32.73257,53.33494],[32.51725,53.28431],[32.40773,53.18856],[32.15368,53.07594],[31.82373,53.10042],[31.787,53.18033],[31.62496,53.22886],[31.56316,53.19432],[31.40523,53.21406],[31.36403,53.13504],[31.3915,53.09712],[31.33519,53.08805],[31.32283,53.04101],[31.24147,53.031],[31.35667,52.97854],[31.592,52.79011],[31.57277,52.71613],[31.50406,52.69707],[31.63869,52.55361],[31.56316,52.51518],[31.61397,52.48843],[31.62084,52.33849],[31.57971,52.32146],[31.70735,52.26711],[31.6895,52.1973],[31.77877,52.18636],[31.7822,52.11406],[31.81722,52.09955],[31.85018,52.11305],[31.96141,52.08015],[31.92159,52.05144],[32.08813,52.03319],[32.23331,52.08085],[32.2777,52.10266],[32.34044,52.1434],[32.33083,52.23685],[32.38988,52.24946],[32.3528,52.32842],[32.54781,52.32423],[32.69475,52.25535],[32.85405,52.27888],[32.89937,52.2461],[33.18913,52.3754],[33.51323,52.35779],[33.48027,52.31499],[33.55718,52.30324],[33.78789,52.37204],[34.05239,52.20132],[34.11199,52.14087],[34.09413,52.00835],[34.41136,51.82793],[34.42922,51.72852],[34.07765,51.67065],[34.17599,51.63253],[34.30562,51.5205],[34.22048,51.4187],[34.33446,51.363],[34.23009,51.26429],[34.31661,51.23936],[34.38802,51.2746],[34.6613,51.25053],[34.6874,51.18],[34.82472,51.17483],[34.97304,51.2342],[35.14058,51.23162],[35.12685,51.16191],[35.20375,51.04723],[35.31774,51.08434],[35.40837,51.04119],[35.32598,50.94524],[35.39307,50.92145],[35.41367,50.80227],[35.47704,50.77274],[35.48116,50.66405],[35.39464,50.64751],[35.47463,50.49247],[35.58003,50.45117],[35.61711,50.35707],[35.73659,50.35489],[35.80388,50.41356],[35.8926,50.43829],[36.06893,50.45205],[36.20763,50.3943],[36.30101,50.29088],[36.47817,50.31457],[36.58371,50.28563],[36.56655,50.2413],[36.64571,50.218],[36.69377,50.26982],[36.91762,50.34963],[37.08468,50.34935],[37.48204,50.46079],[37.47243,50.36277],[37.62486,50.29966],[37.62879,50.24481],[37.61113,50.21976],[37.75807,50.07896],[37.79515,50.08425],[37.90776,50.04194],[38.02999,49.94482],[38.02999,49.90592],[38.21675,49.98104],[38.18517,50.08161],[38.32524,50.08866],[38.35408,50.00664],[38.65688,49.97176],[38.68677,50.00904],[38.73311,49.90238],[38.90477,49.86787],[38.9391,49.79524],[39.1808,49.88911],[39.27968,49.75976],[39.44496,49.76067],[39.59142,49.73758],[39.65047,49.61761],[39.84548,49.56064],[40.13249,49.61672],[40.16683,49.56865],[40.03636,49.52321],[40.03087,49.45452],[40.1141,49.38798],[40.14912,49.37681],[40.18331,49.34996],[40.22176,49.25683],[40.01988,49.1761],[39.93437,49.05709],[39.6836,49.05121],[39.6683,48.99454],[39.71353,48.98959],[39.72649,48.9754],[39.74874,48.98675],[39.78368,48.91596],[39.98967,48.86901],[40.03636,48.91957],[40.08168,48.87443],[39.97182,48.79398],[39.79466,48.83739],[39.73104,48.7325],[39.71765,48.68673],[39.67226,48.59368],[39.79764,48.58668],[39.84548,48.57821],[39.86196,48.46633],[39.88794,48.44226],[39.94847,48.35055],[39.84136,48.33321],[39.84273,48.30947],[39.90041,48.3049],[39.91465,48.26743],[39.95248,48.29972],[39.9693,48.29904],[39.97325,48.31399],[39.99241,48.31768],[40.00752,48.22445],[39.94847,48.22811],[39.83724,48.06501],[39.88256,48.04482],[39.77544,48.04206],[39.82213,47.96396],[39.73935,47.82876],[38.87979,47.87719],[38.79628,47.81109],[38.76379,47.69346],[38.35062,47.61631],[38.28679,47.53552],[38.28954,47.39255],[38.22225,47.30788],[38.33074,47.30508],[38.32112,47.2585],[38.23049,47.2324],[38.22955,47.12069],[38.3384,46.98085],[38.12112,46.86078],[37.62608,46.82615],[35.23066,45.79231],[35.04991,45.76827],[36.6645,45.4514],[36.6545,45.3417],[36.5049,45.3136],[36.475,45.2411],[36.4883,45.0488],[33.5943,44.03313],[39.81147,43.06294],[40.0078,43.38551],[40.00853,43.40578],[40.01552,43.42025],[40.01007,43.42411],[40.03312,43.44262],[40.04445,43.47776],[40.10657,43.57344],[40.65957,43.56212],[41.64935,43.22331],[42.40563,43.23226],[42.66667,43.13917],[42.75889,43.19651],[43.03322,43.08883],[43.0419,43.02413],[43.81453,42.74297],[43.73119,42.62043],[43.95517,42.55396],[44.54202,42.75699],[44.70002,42.74679],[44.80941,42.61277],[44.88754,42.74934],[45.15318,42.70598],[45.36501,42.55268],[45.78692,42.48358],[45.61676,42.20768],[46.42738,41.91323],[46.5332,41.87389],[46.58924,41.80547],[46.75269,41.8623],[46.8134,41.76252],[47.00955,41.63583],[46.99554,41.59743],[47.03757,41.55434],[47.10762,41.59044],[47.34579,41.27884],[47.49004,41.26366],[47.54504,41.20275],[47.62288,41.22969],[47.75831,41.19455],[47.87973,41.21798],[48.07587,41.49957],[48.22064,41.51472],[48.2878,41.56221],[48.40277,41.60441],[48.42301,41.65444],[48.55078,41.77917],[48.5867,41.84306],[48.80971,41.95365],[49.2134,44.84989],[49.88945,46.04554],[49.32259,46.26944],[49.16518,46.38542],[48.54988,46.56267],[48.51142,46.69268],[49.01136,46.72716],[48.52326,47.4102],[48.45173,47.40818],[48.15348,47.74545],[47.64973,47.76559],[47.41689,47.83687],[47.38731,47.68176],[47.12107,47.83687],[47.11516,48.27188],[46.49011,48.43019],[46.78392,48.95352],[47.00857,49.04921],[47.04658,49.19834],[46.78398,49.34026],[46.9078,49.86707],[47.18319,49.93721],[47.34589,50.09308],[47.30448,50.30894],[47.58551,50.47867],[48.10044,50.09242],[48.24519,49.86099],[48.42564,49.82283],[48.68352,49.89546],[48.90782,50.02281],[48.57946,50.63278],[48.86936,50.61589],[49.12673,50.78639],[49.41959,50.85927],[49.39001,51.09396],[49.76866,51.11067],[49.97277,51.2405],[50.26859,51.28677],[50.59695,51.61859],[51.26254,51.68466],[51.301,51.48799],[51.77431,51.49536],[51.8246,51.67916],[52.36119,51.74161],[52.54329,51.48444],[53.46165,51.49445],[53.69299,51.23466],[54.12248,51.11542],[54.46331,50.85554],[54.41894,50.61214],[54.55797,50.52006],[54.71476,50.61214],[54.56685,51.01958],[54.72067,51.03261],[55.67774,50.54508],[56.11398,50.7471],[56.17906,50.93204],[57.17302,51.11253],[57.44221,50.88354],[57.74986,50.93017],[57.75578,51.13852],[58.3208,51.15151],[58.87974,50.70852],[59.48928,50.64216],[59.51886,50.49937],[59.81172,50.54451],[60.01288,50.8163],[60.17262,50.83312],[60.31914,50.67705],[60.81833,50.6629],[61.4431,50.80679],[61.56889,51.23679],[61.6813,51.25716],[61.55114,51.32746],[61.50677,51.40687],[60.95655,51.48615],[60.92401,51.61124],[60.5424,51.61675],[60.36787,51.66815],[60.50986,51.7964],[60.09867,51.87135],[59.99809,51.98263],[59.91279,52.06924],[60.17253,52.25814],[60.17516,52.39457],[59.25033,52.46803],[59.22409,52.28437],[58.79644,52.43392],[58.94336,53.953],[59.70487,54.14846],[59.95217,54.85853],[57.95234,54.39672],[57.14829,54.84204],[57.25137,55.26262],[58.81825,55.03378],[59.49035,55.60486],[59.28419,56.15739],[57.51527,56.08729],[57.28024,56.87898],[58.07604,57.08308],[58.13789,57.68097],[58.81412,57.71602],[58.71104,58.07475],[59.40376,58.45822],[59.15636,59.14682],[58.3853,59.487],[59.50685,60.91162],[59.36223,61.3882],[59.61398,62.44915],[59.24834,63.01859],[59.80579,64.13948],[59.63945,64.78384],[60.74386,64.95767],[61.98014,65.72191],[66.1708,67.61252],[64.18965,69.94255],[76.13964,83.37843],[36.85549,84.09565],[32.07813,72.01005],[31.59909,70.16571],[30.84095,69.80584],[30.95011,69.54699],[30.52662,69.54699],[30.16363,69.65244],[29.97205,69.41623],[29.27631,69.2811],[29.26623,69.13794],[29.0444,69.0119],[28.91738,69.04774],[28.45957,68.91417],[28.78224,68.86696],[28.43941,68.53366],[28.62982,68.19816],[29.34179,68.06655],[29.66955,67.79872],[30.02041,67.67523],[29.91155,67.51507],[28.9839,66.94139],[29.91155,66.13863],[30.16363,65.66935],[29.97205,65.70256],[29.74013,65.64025],[29.84096,65.56945],[29.68972,65.31803],[29.61914,65.23791],[29.8813,65.22101],[29.84096,65.1109],[29.61914,65.05993],[29.68972,64.80789],[30.05271,64.79072],[30.12329,64.64862],[30.01238,64.57513],[30.06279,64.35782],[30.4762,64.25728],[30.55687,64.09036],[30.25437,63.83364],[29.98213,63.75795],[30.49637,63.46666],[31.23244,63.22239],[31.29294,63.09035],[31.58535,62.91642],[31.38369,62.66284],[31.10136,62.43042],[29.01829,61.17448],[28.82816,61.1233],[28.47974,60.93365],[27.77352,60.52722],[27.71177,60.3893],[27.44953,60.22766],[26.32936,60.00121]]]]}},{type:"Feature",properties:{wikidata:"Q1083368",nameEn:"Mainland Finland",country:"FI",groups:["EU","154","150","UN"],callingCodes:["358"]},geometry:{type:"MultiPolygon",coordinates:[[[[29.12697,69.69193],[28.36883,69.81658],[28.32849,69.88605],[27.97558,69.99671],[27.95542,70.0965],[27.57226,70.06215],[27.05802,69.92069],[26.64461,69.96565],[26.40261,69.91377],[25.96904,69.68397],[25.69679,69.27039],[25.75729,68.99383],[25.61613,68.89602],[25.42455,68.90328],[25.12206,68.78684],[25.10189,68.63307],[24.93048,68.61102],[24.90023,68.55579],[24.74898,68.65143],[24.18432,68.73936],[24.02299,68.81601],[23.781,68.84514],[23.68017,68.70276],[23.13064,68.64684],[22.53321,68.74393],[22.38367,68.71561],[22.27276,68.89514],[21.63833,69.27485],[21.27827,69.31281],[21.00732,69.22755],[20.98641,69.18809],[21.11099,69.10291],[21.05775,69.0356],[20.72171,69.11874],[20.55258,69.06069],[20.78802,69.03087],[20.91658,68.96764],[20.85104,68.93142],[20.90649,68.89696],[21.03001,68.88969],[22.00429,68.50692],[22.73028,68.40881],[23.10336,68.26551],[23.15377,68.14759],[23.26469,68.15134],[23.40081,68.05545],[23.65793,67.9497],[23.45627,67.85297],[23.54701,67.59306],[23.39577,67.46974],[23.75372,67.43688],[23.75372,67.29914],[23.54701,67.25435],[23.58735,67.20752],[23.56214,67.17038],[23.98563,66.84149],[23.98059,66.79585],[23.89488,66.772],[23.85959,66.56434],[23.63776,66.43568],[23.67591,66.3862],[23.64982,66.30603],[23.71339,66.21299],[23.90497,66.15802],[24.15791,65.85385],[24.14798,65.83466],[24.15107,65.81427],[24.14112,65.39731],[20.15877,63.06556],[19.23413,60.61414],[20.96741,60.71528],[21.15143,60.54555],[21.08159,60.20167],[21.02509,60.12142],[21.35468,59.67511],[20.5104,59.15546],[26.32936,60.00121],[27.44953,60.22766],[27.71177,60.3893],[27.77352,60.52722],[28.47974,60.93365],[28.82816,61.1233],[29.01829,61.17448],[31.10136,62.43042],[31.38369,62.66284],[31.58535,62.91642],[31.29294,63.09035],[31.23244,63.22239],[30.49637,63.46666],[29.98213,63.75795],[30.25437,63.83364],[30.55687,64.09036],[30.4762,64.25728],[30.06279,64.35782],[30.01238,64.57513],[30.12329,64.64862],[30.05271,64.79072],[29.68972,64.80789],[29.61914,65.05993],[29.84096,65.1109],[29.8813,65.22101],[29.61914,65.23791],[29.68972,65.31803],[29.84096,65.56945],[29.74013,65.64025],[29.97205,65.70256],[30.16363,65.66935],[29.91155,66.13863],[28.9839,66.94139],[29.91155,67.51507],[30.02041,67.67523],[29.66955,67.79872],[29.34179,68.06655],[28.62982,68.19816],[28.43941,68.53366],[28.78224,68.86696],[28.45957,68.91417],[28.91738,69.04774],[28.81248,69.11997],[28.8629,69.22395],[29.31664,69.47994],[29.12697,69.69193]]]]}},{type:"Feature",properties:{wikidata:"Q1184963",nameEn:"Alhucemas Islands",country:"ES",groups:["EU","Q191011","015","002","UN"],level:"subterritory"},geometry:{type:"MultiPolygon",coordinates:[[[[-3.90602,35.21494],[-3.88372,35.20767],[-3.89343,35.22728],[-3.90602,35.21494]]]]}},{type:"Feature",properties:{wikidata:"Q1298289",nameEn:"Egmont Islands",country:"GB",groups:["IO","BOTS","014","202","002","UN"],level:"subterritory"},geometry:{type:"MultiPolygon",coordinates:[[[[70.1848,-6.37445],[70.67958,-8.2663],[72.17991,-6.68509],[70.1848,-6.37445]]]]}},{type:"Feature",properties:{wikidata:"Q1352230",nameEn:"US Territories",country:"US",level:"subcountryGroup"},geometry:null},{type:"Feature",properties:{wikidata:"Q1451600",nameEn:"Overseas Countries and Territories of the EU",aliases:["OCT"],level:"subunion"},geometry:null},{type:"Feature",properties:{wikidata:"Q1544253",nameEn:"Great Chagos Bank",country:"GB",groups:["IO","BOTS","014","202","002","UN"],level:"subterritory"},geometry:{type:"MultiPolygon",coordinates:[[[[70.1848,-6.37445],[72.17991,-6.68509],[73.20573,-5.20727],[70.1848,-6.37445]]]]}},{type:"Feature",properties:{wikidata:"Q1585511",nameEn:"Salomon Atoll",country:"GB",groups:["IO","BOTS","014","202","002","UN"],level:"subterritory"},geometry:{type:"MultiPolygon",coordinates:[[[[72.09518,-5.61768],[73.20573,-5.20727],[72.12587,-4.02588],[72.09518,-5.61768]]]]}},{type:"Feature",properties:{wikidata:"Q1681727",nameEn:"Saint-Paul and Amsterdam",country:"FR",groups:["TF","Q1451600","014","202","002","UN"],level:"subterritory"},geometry:{type:"MultiPolygon",coordinates:[[[[76.31747,-42.16264],[80.15867,-36.04977],[71.22311,-38.75287],[76.31747,-42.16264]]]]}},{type:"Feature",properties:{wikidata:"Q1901211",nameEn:"East Malaysia",country:"MY",groups:["Q36117","035","142","UN"],driveSide:"left",callingCodes:["60"]},geometry:{type:"MultiPolygon",coordinates:[[[[110.90339,7.52694],[109.82788,2.86812],[109.62558,1.99182],[109.53794,1.91771],[109.57923,1.80624],[109.66397,1.79972],[109.66397,1.60425],[110.35354,.98869],[110.49182,.88088],[110.62374,.873],[111.22979,1.08326],[111.55434,.97864],[111.82846,.99349],[111.94553,1.12016],[112.15679,1.17004],[112.2127,1.44135],[112.48648,1.56516],[113.021,1.57819],[113.01448,1.42832],[113.64677,1.23933],[114.03788,1.44787],[114.57892,1.5],[114.80706,1.92351],[114.80706,2.21665],[115.1721,2.49671],[115.11343,2.82879],[115.53713,3.14776],[115.58276,3.93499],[115.90217,4.37708],[117.25801,4.35108],[117.47313,4.18857],[117.67641,4.16535],[118.06469,4.16638],[118.93936,4.09009],[119.52945,5.35672],[117.98544,6.27477],[117.93857,6.89845],[117.17735,7.52841],[116.79524,7.43869],[115.02521,5.35005],[115.16236,5.01011],[115.15092,4.87604],[115.20737,4.8256],[115.27819,4.63661],[115.2851,4.42295],[115.36346,4.33563],[115.31275,4.30806],[115.09978,4.39123],[115.07737,4.53418],[115.04064,4.63706],[115.02278,4.74137],[115.02955,4.82087],[115.05038,4.90275],[114.99417,4.88201],[114.96982,4.81146],[114.88841,4.81905],[114.8266,4.75062],[114.77303,4.72871],[114.83189,4.42387],[114.88039,4.4257],[114.78539,4.12205],[114.64211,4.00694],[114.49922,4.13108],[114.4416,4.27588],[114.32176,4.2552],[114.32176,4.34942],[114.26876,4.49878],[114.15813,4.57],[114.07448,4.58441],[114.10166,4.76112],[110.90339,7.52694]]]]}},{type:"Feature",properties:{wikidata:"Q1973345",nameEn:"Peninsular Malaysia",country:"MY",groups:["035","142","UN"],driveSide:"left",callingCodes:["60"]},geometry:{type:"MultiPolygon",coordinates:[[[[102.46318,7.22462],[102.09086,6.23546],[102.08127,6.22679],[102.07732,6.193],[102.09182,6.14161],[102.01835,6.05407],[101.99209,6.04075],[101.97114,6.01992],[101.9714,6.00575],[101.94712,5.98421],[101.92819,5.85511],[101.91776,5.84269],[101.89188,5.8386],[101.80144,5.74505],[101.75074,5.79091],[101.69773,5.75881],[101.58019,5.93534],[101.25524,5.78633],[101.25755,5.71065],[101.14062,5.61613],[100.98815,5.79464],[101.02708,5.91013],[101.087,5.9193],[101.12388,6.11411],[101.06165,6.14161],[101.12618,6.19431],[101.10313,6.25617],[100.85884,6.24929],[100.81045,6.45086],[100.74822,6.46231],[100.74361,6.50811],[100.66986,6.45086],[100.43027,6.52389],[100.42351,6.51762],[100.41791,6.5189],[100.41152,6.52299],[100.35413,6.54932],[100.31929,6.65413],[100.32607,6.65933],[100.32671,6.66526],[100.31884,6.66423],[100.31618,6.66781],[100.30828,6.66462],[100.29651,6.68439],[100.19511,6.72559],[100.12,6.42105],[100.0756,6.4045],[99.91873,6.50233],[99.50117,6.44501],[99.31854,5.99868],[99.75778,3.86466],[103.03657,1.30383],[103.56591,1.19719],[103.62738,1.35255],[103.67468,1.43166],[103.7219,1.46108],[103.74161,1.4502],[103.76395,1.45183],[103.81181,1.47953],[103.86383,1.46288],[103.89565,1.42841],[103.93384,1.42926],[104.00131,1.42405],[104.02277,1.4438],[104.04622,1.44691],[104.07348,1.43322],[104.08871,1.42015],[104.09162,1.39694],[104.08072,1.35998],[104.12282,1.27714],[104.34728,1.33529],[104.56723,1.44271],[105.01437,3.24936],[102.46318,7.22462]]]]}},{type:"Feature",properties:{wikidata:"Q2093907",nameEn:"Three Kings Islands",country:"NZ",groups:["Q851132","053","009","UN"],driveSide:"left"},geometry:{type:"MultiPolygon",coordinates:[[[[174.17679,-32.62487],[170.93268,-32.97889],[171.97383,-34.64644],[174.17679,-32.62487]]]]}},{type:"Feature",properties:{wikidata:"Q2298216",nameEn:"Solander Islands",country:"NZ",groups:["Q851132","053","009","UN"],driveSide:"left"},geometry:{type:"MultiPolygon",coordinates:[[[[167.39068,-46.49187],[166.5534,-46.39484],[166.84561,-46.84889],[167.39068,-46.49187]]]]}},{type:"Feature",properties:{wikidata:"Q2872203",nameEn:"Mainland Australia",country:"AU",groups:["053","009","UN"],level:"subcountryGroup",driveSide:"left",callingCodes:["61"]},geometry:{type:"MultiPolygon",coordinates:[[[[88.16419,-23.49578],[123.64533,-39.13605],[159.74028,-39.1978],[159.76765,-29.76946],[154.02855,-24.43238],[152.93188,-20.92631],[147.69992,-17.5933],[145.2855,-9.62524],[143.87386,-9.02382],[143.29772,-9.33993],[142.48658,-9.36754],[142.19246,-9.15378],[141.88934,-9.36111],[141.01842,-9.35091],[135.49042,-9.2276],[127.55165,-9.05052],[125.29076,-12.33139],[88.16419,-23.49578]]]]}},{type:"Feature",properties:{wikidata:"Q2914565",nameEn:"Autonomous Regions of Portugal",country:"PT",level:"subcountryGroup"},geometry:null},{type:"Feature",properties:{wikidata:"Q2915956",nameEn:"Mainland Portugal",country:"PT",groups:["Q12837","EU","039","150","UN"],level:"subcountryGroup",callingCodes:["351"]},geometry:{type:"MultiPolygon",coordinates:[[[[-10.39881,36.12218],[-7.37282,36.96896],[-7.39769,37.16868],[-7.41133,37.20314],[-7.41854,37.23813],[-7.43227,37.25152],[-7.43974,37.38913],[-7.46878,37.47127],[-7.51759,37.56119],[-7.41981,37.75729],[-7.33441,37.81193],[-7.27314,37.90145],[-7.24544,37.98884],[-7.12648,38.00296],[-7.10366,38.04404],[-7.05966,38.01966],[-7.00375,38.01914],[-6.93418,38.21454],[-7.09389,38.17227],[-7.15581,38.27597],[-7.32529,38.44336],[-7.265,38.61674],[-7.26174,38.72107],[-7.03848,38.87221],[-7.051,38.907],[-6.95211,39.0243],[-6.97004,39.07619],[-7.04011,39.11919],[-7.10692,39.10275],[-7.14929,39.11287],[-7.12811,39.17101],[-7.23566,39.20132],[-7.23403,39.27579],[-7.3149,39.34857],[-7.2927,39.45847],[-7.49477,39.58794],[-7.54121,39.66717],[-7.33507,39.64569],[-7.24707,39.66576],[-7.01613,39.66877],[-6.97492,39.81488],[-6.91463,39.86618],[-6.86737,40.01986],[-6.94233,40.10716],[-7.00589,40.12087],[-7.02544,40.18564],[-7.00426,40.23169],[-6.86085,40.26776],[-6.86085,40.2976],[-6.80218,40.33239],[-6.78426,40.36468],[-6.84618,40.42177],[-6.84944,40.46394],[-6.7973,40.51723],[-6.80218,40.55067],[-6.84292,40.56801],[-6.79567,40.65955],[-6.82826,40.74603],[-6.82337,40.84472],[-6.79892,40.84842],[-6.80707,40.88047],[-6.84292,40.89771],[-6.8527,40.93958],[-6.9357,41.02888],[-6.913,41.03922],[-6.88843,41.03027],[-6.84781,41.02692],[-6.80942,41.03629],[-6.79241,41.05397],[-6.75655,41.10187],[-6.77319,41.13049],[-6.69711,41.1858],[-6.68286,41.21641],[-6.65046,41.24725],[-6.55937,41.24417],[-6.38551,41.35274],[-6.38553,41.38655],[-6.3306,41.37677],[-6.26777,41.48796],[-6.19128,41.57638],[-6.29863,41.66432],[-6.44204,41.68258],[-6.49907,41.65823],[-6.54633,41.68623],[-6.56426,41.74219],[-6.51374,41.8758],[-6.56752,41.88429],[-6.5447,41.94371],[-6.58544,41.96674],[-6.61967,41.94008],[-6.75004,41.94129],[-6.76959,41.98734],[-6.81196,41.99097],[-6.82174,41.94493],[-6.94396,41.94403],[-6.95537,41.96553],[-6.98144,41.9728],[-7.01078,41.94977],[-7.07596,41.94977],[-7.08574,41.97401],[-7.14115,41.98855],[-7.18549,41.97515],[-7.18677,41.88793],[-7.32366,41.8406],[-7.37092,41.85031],[-7.42864,41.80589],[-7.42854,41.83262],[-7.44759,41.84451],[-7.45566,41.86488],[-7.49803,41.87095],[-7.52737,41.83939],[-7.62188,41.83089],[-7.58603,41.87944],[-7.65774,41.88308],[-7.69848,41.90977],[-7.84188,41.88065],[-7.88055,41.84571],[-7.88751,41.92553],[-7.90707,41.92432],[-7.92336,41.8758],[-7.9804,41.87337],[-8.01136,41.83453],[-8.0961,41.81024],[-8.16455,41.81753],[-8.16944,41.87944],[-8.19551,41.87459],[-8.2185,41.91237],[-8.16232,41.9828],[-8.08796,42.01398],[-8.08847,42.05767],[-8.11729,42.08537],[-8.18178,42.06436],[-8.19406,42.12141],[-8.18947,42.13853],[-8.1986,42.15402],[-8.22406,42.1328],[-8.24681,42.13993],[-8.2732,42.12396],[-8.29809,42.106],[-8.32161,42.10218],[-8.33912,42.08358],[-8.36353,42.09065],[-8.38323,42.07683],[-8.40143,42.08052],[-8.42512,42.07199],[-8.44123,42.08218],[-8.48185,42.0811],[-8.52837,42.07658],[-8.5252,42.06264],[-8.54563,42.0537],[-8.58086,42.05147],[-8.59493,42.05708],[-8.63791,42.04691],[-8.64626,42.03668],[-8.65832,42.02972],[-8.6681,41.99703],[-8.69071,41.98862],[-8.7478,41.96282],[-8.74606,41.9469],[-8.75712,41.92833],[-8.81794,41.90375],[-8.87157,41.86488],[-11.19304,41.83075],[-10.39881,36.12218]]]]}},{type:"Feature",properties:{wikidata:"Q3311985",nameEn:"Guernsey",country:"GB",groups:["GG","830","Q185086","154","150","UN"],level:"subterritory",driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["44 01481"]},geometry:{type:"MultiPolygon",coordinates:[[[[-2.49556,49.79012],[-3.28154,49.57329],[-2.65349,49.15373],[-2.36485,49.48223],[-2.49556,49.79012]]]]}},{type:"Feature",properties:{wikidata:"Q3320166",nameEn:"Outermost Regions of the EU",aliases:["OMR"],level:"subunion"},geometry:null},{type:"Feature",properties:{wikidata:"Q3336843",nameEn:"Countries of the United Kingdom",country:"GB",level:"subcountryGroup"},geometry:null},{type:"Feature",properties:{wikidata:"Q6736667",nameEn:"Mainland India",country:"IN",groups:["034","142","UN"],driveSide:"left",callingCodes:["91"]},geometry:{type:"MultiPolygon",coordinates:[[[[89.08044,21.41871],[89.07114,22.15335],[88.9367,22.58527],[88.94614,22.66941],[88.9151,22.75228],[88.96713,22.83346],[88.87063,22.95235],[88.88327,23.03885],[88.86377,23.08759],[88.99148,23.21134],[88.71133,23.2492],[88.79254,23.46028],[88.79351,23.50535],[88.74841,23.47361],[88.56507,23.64044],[88.58087,23.87105],[88.66189,23.87607],[88.73743,23.91751],[88.6976,24.14703],[88.74841,24.1959],[88.68801,24.31464],[88.50934,24.32474],[88.12296,24.51301],[88.08786,24.63232],[88.00683,24.66477],[88.15515,24.85806],[88.14004,24.93529],[88.21832,24.96642],[88.27325,24.88796],[88.33917,24.86803],[88.46277,25.07468],[88.44766,25.20149],[88.94067,25.18534],[89.00463,25.26583],[89.01105,25.30303],[88.85278,25.34679],[88.81296,25.51546],[88.677,25.46959],[88.4559,25.59227],[88.45103,25.66245],[88.242,25.80811],[88.13138,25.78773],[88.08804,25.91334],[88.16581,26.0238],[88.1844,26.14417],[88.34757,26.22216],[88.35153,26.29123],[88.51649,26.35923],[88.48749,26.45855],[88.36938,26.48683],[88.35153,26.45241],[88.33093,26.48929],[88.41196,26.63837],[88.4298,26.54489],[88.62144,26.46783],[88.69485,26.38353],[88.67837,26.26291],[88.78961,26.31093],[88.85004,26.23211],[89.05328,26.2469],[88.91321,26.37984],[88.92357,26.40711],[88.95612,26.4564],[89.08899,26.38845],[89.15869,26.13708],[89.35953,26.0077],[89.53515,26.00382],[89.57101,25.9682],[89.63968,26.22595],[89.70201,26.15138],[89.73581,26.15818],[89.77865,26.08387],[89.77728,26.04254],[89.86592,25.93115],[89.80585,25.82489],[89.84388,25.70042],[89.86129,25.61714],[89.81208,25.37244],[89.84086,25.31854],[89.83371,25.29548],[89.87629,25.28337],[89.90478,25.31038],[90.1155,25.22686],[90.40034,25.1534],[90.65042,25.17788],[90.87427,25.15799],[91.25517,25.20677],[91.63648,25.12846],[92.0316,25.1834],[92.33957,25.07593],[92.39147,25.01471],[92.49887,24.88796],[92.38626,24.86055],[92.25854,24.9191],[92.15796,24.54435],[92.11662,24.38997],[91.96603,24.3799],[91.89258,24.14674],[91.82596,24.22345],[91.76004,24.23848],[91.73257,24.14703],[91.65292,24.22095],[91.63782,24.1132],[91.55542,24.08687],[91.37414,24.10693],[91.35741,23.99072],[91.29587,24.0041],[91.22308,23.89616],[91.25192,23.83463],[91.15579,23.6599],[91.28293,23.37538],[91.36453,23.06612],[91.40848,23.07117],[91.4035,23.27522],[91.46615,23.2328],[91.54993,23.01051],[91.61571,22.93929],[91.7324,23.00043],[91.81634,23.08001],[91.76417,23.26619],[91.84789,23.42235],[91.95642,23.47361],[91.95093,23.73284],[92.04706,23.64229],[92.15417,23.73409],[92.26541,23.70392],[92.38214,23.28705],[92.37665,22.9435],[92.5181,22.71441],[92.60029,22.1522],[92.56616,22.13554],[92.60949,21.97638],[92.67532,22.03547],[92.70416,22.16017],[92.86208,22.05456],[92.89504,21.95143],[92.93899,22.02656],[92.99804,21.98964],[92.99255,22.05965],[93.04885,22.20595],[93.15734,22.18687],[93.14224,22.24535],[93.19991,22.25425],[93.18206,22.43716],[93.13537,22.45873],[93.11477,22.54374],[93.134,22.59573],[93.09417,22.69459],[93.134,22.92498],[93.12988,23.05772],[93.2878,23.00464],[93.38478,23.13698],[93.36862,23.35426],[93.38781,23.36139],[93.39981,23.38828],[93.38805,23.4728],[93.43475,23.68299],[93.3908,23.7622],[93.3908,23.92925],[93.36059,23.93176],[93.32351,24.04468],[93.34735,24.10151],[93.41415,24.07854],[93.46633,23.97067],[93.50616,23.94432],[93.62871,24.00922],[93.75952,24.0003],[93.80279,23.92549],[93.92089,23.95812],[94.14081,23.83333],[94.30215,24.23752],[94.32362,24.27692],[94.45279,24.56656],[94.50729,24.59281],[94.5526,24.70764],[94.60204,24.70889],[94.73937,25.00545],[94.74212,25.13606],[94.57458,25.20318],[94.68032,25.47003],[94.80117,25.49359],[95.18556,26.07338],[95.11428,26.1019],[95.12801,26.38397],[95.05798,26.45408],[95.23513,26.68499],[95.30339,26.65372],[95.437,26.7083],[95.81603,27.01335],[95.93002,27.04149],[96.04949,27.19428],[96.15591,27.24572],[96.40779,27.29818],[96.55761,27.29928],[96.73888,27.36638],[96.88445,27.25046],[96.85287,27.2065],[96.89132,27.17474],[97.14675,27.09041],[97.17422,27.14052],[96.91431,27.45752],[96.90112,27.62149],[97.29919,27.92233],[97.35824,27.87256],[97.38845,28.01329],[97.35412,28.06663],[97.31292,28.06784],[97.34547,28.21385],[97.1289,28.3619],[96.98882,28.32564],[96.88445,28.39452],[96.85561,28.4875],[96.6455,28.61657],[96.48895,28.42955],[96.40929,28.51526],[96.61391,28.72742],[96.3626,29.10607],[96.20467,29.02325],[96.18682,29.11087],[96.31316,29.18643],[96.05361,29.38167],[95.84899,29.31464],[95.75149,29.32063],[95.72086,29.20797],[95.50842,29.13487],[95.41091,29.13007],[95.3038,29.13847],[95.26122,29.07727],[95.2214,29.10727],[95.11291,29.09527],[95.0978,29.14446],[94.81353,29.17804],[94.69318,29.31739],[94.2752,29.11687],[94.35897,29.01965],[93.72797,28.68821],[93.44621,28.67189],[93.18069,28.50319],[93.14635,28.37035],[92.93075,28.25671],[92.67486,28.15018],[92.65472,28.07632],[92.73025,28.05814],[92.7275,27.98662],[92.42538,27.80092],[92.32101,27.79363],[92.27432,27.89077],[91.87057,27.7195],[91.84722,27.76325],[91.6469,27.76358],[91.55819,27.6144],[91.65007,27.48287],[92.01132,27.47352],[92.12019,27.27829],[92.04702,27.26861],[92.03457,27.07334],[92.11863,26.893],[92.05523,26.8692],[91.83181,26.87318],[91.50067,26.79223],[90.67715,26.77215],[90.48504,26.8594],[90.39271,26.90704],[90.30402,26.85098],[90.04535,26.72422],[89.86124,26.73307],[89.63369,26.74402],[89.42349,26.83727],[89.3901,26.84225],[89.38319,26.85963],[89.37913,26.86224],[89.1926,26.81329],[89.12825,26.81661],[89.09554,26.89089],[88.95807,26.92668],[88.92301,26.99286],[88.8714,26.97488],[88.86984,27.10937],[88.74219,27.144],[88.91901,27.32483],[88.82981,27.38814],[88.77517,27.45415],[88.88091,27.85192],[88.83559,28.01936],[88.63235,28.12356],[88.54858,28.06057],[88.25332,27.9478],[88.1278,27.95417],[88.13378,27.88015],[88.1973,27.85067],[88.19107,27.79285],[88.04008,27.49223],[88.07277,27.43007],[88.01646,27.21612],[88.01587,27.21388],[87.9887,27.11045],[88.11719,26.98758],[88.13422,26.98705],[88.12302,26.95324],[88.19107,26.75516],[88.1659,26.68177],[88.16452,26.64111],[88.09963,26.54195],[88.09414,26.43732],[88.00895,26.36029],[87.90115,26.44923],[87.89085,26.48565],[87.84193,26.43663],[87.7918,26.46737],[87.76004,26.40711],[87.67893,26.43501],[87.66803,26.40294],[87.59175,26.38342],[87.55274,26.40596],[87.51571,26.43106],[87.46566,26.44058],[87.37314,26.40815],[87.34568,26.34787],[87.26568,26.37294],[87.26587,26.40592],[87.24682,26.4143],[87.18863,26.40558],[87.14751,26.40542],[87.09147,26.45039],[87.0707,26.58571],[87.04691,26.58685],[87.01559,26.53228],[86.95912,26.52076],[86.94543,26.52076],[86.82898,26.43919],[86.76797,26.45892],[86.74025,26.42386],[86.69124,26.45169],[86.62686,26.46891],[86.61313,26.48658],[86.57073,26.49825],[86.54258,26.53819],[86.49726,26.54218],[86.31564,26.61925],[86.26235,26.61886],[86.22513,26.58863],[86.13596,26.60651],[86.02729,26.66756],[85.8492,26.56667],[85.85126,26.60866],[85.83126,26.61134],[85.76907,26.63076],[85.72315,26.67471],[85.73483,26.79613],[85.66239,26.84822],[85.61621,26.86721],[85.59461,26.85161],[85.5757,26.85955],[85.56471,26.84133],[85.47752,26.79292],[85.34302,26.74954],[85.21159,26.75933],[85.18046,26.80519],[85.19291,26.86909],[85.15883,26.86966],[85.02635,26.85381],[85.05592,26.88991],[85.00536,26.89523],[84.97186,26.9149],[84.96687,26.95599],[84.85754,26.98984],[84.82913,27.01989],[84.793,26.9968],[84.64496,27.04669],[84.69166,27.21294],[84.62161,27.33885],[84.29315,27.39],[84.25735,27.44941],[84.21376,27.45218],[84.10791,27.52399],[84.02229,27.43836],[83.93306,27.44939],[83.86182,27.4241],[83.85595,27.35797],[83.61288,27.47013],[83.39495,27.4798],[83.38872,27.39276],[83.35136,27.33885],[83.29999,27.32778],[83.2673,27.36235],[83.27197,27.38309],[83.19413,27.45632],[82.94938,27.46036],[82.93261,27.50328],[82.74119,27.49838],[82.70378,27.72122],[82.46405,27.6716],[82.06554,27.92222],[81.97214,27.93322],[81.91223,27.84995],[81.47867,28.08303],[81.48179,28.12148],[81.38683,28.17638],[81.32923,28.13521],[81.19847,28.36284],[81.03471,28.40054],[80.55142,28.69182],[80.50575,28.6706],[80.52443,28.54897],[80.44504,28.63098],[80.37188,28.63371],[80.12125,28.82346],[80.06957,28.82763],[80.05743,28.91479],[80.18085,29.13649],[80.23178,29.11626],[80.26602,29.13938],[80.24112,29.21414],[80.28626,29.20327],[80.31428,29.30784],[80.24322,29.44299],[80.37939,29.57098],[80.41858,29.63581],[80.38428,29.68513],[80.36803,29.73865],[80.41554,29.79451],[80.43458,29.80466],[80.48997,29.79566],[80.56247,29.86661],[80.57179,29.91422],[80.60226,29.95732],[80.67076,29.95732],[80.8778,30.13384],[80.86673,30.17321],[80.91143,30.22173],[80.92547,30.17193],[81.03953,30.20059],[80.83343,30.32023],[80.54504,30.44936],[80.20721,30.58541],[79.93255,30.88288],[79.59884,30.93943],[79.30694,31.17357],[79.14016,31.43403],[79.01931,31.42817],[78.89344,31.30481],[78.77898,31.31209],[78.71032,31.50197],[78.84516,31.60631],[78.69933,31.78723],[78.78036,31.99478],[78.74404,32.00384],[78.68754,32.10256],[78.49609,32.2762],[78.4645,32.45367],[78.38897,32.53938],[78.73916,32.69438],[78.7831,32.46873],[78.96713,32.33655],[78.99322,32.37948],[79.0979,32.38051],[79.13174,32.47766],[79.26768,32.53277],[79.46562,32.69668],[79.14016,33.02545],[79.15252,33.17156],[78.73636,33.56521],[78.67599,33.66445],[78.77349,33.73871],[78.73367,34.01121],[78.65657,34.03195],[78.66225,34.08858],[78.91769,34.15452],[78.99802,34.3027],[79.05364,34.32482],[78.74465,34.45174],[78.56475,34.50835],[78.54964,34.57283],[78.27781,34.61484],[78.18435,34.7998],[78.22692,34.88771],[78.00033,35.23954],[78.03466,35.3785],[78.11664,35.48022],[77.80532,35.52058],[77.70232,35.46244],[77.44277,35.46132],[76.96624,35.5932],[76.84539,35.67356],[76.77323,35.66062],[76.75475,35.52617],[76.85088,35.39754],[76.93465,35.39866],[77.11796,35.05419],[76.99251,34.93349],[76.87193,34.96906],[76.74514,34.92488],[76.74377,34.84039],[76.67648,34.76371],[76.47186,34.78965],[76.15463,34.6429],[76.04614,34.67566],[75.75438,34.51827],[75.38009,34.55021],[75.01479,34.64629],[74.6663,34.703],[74.58083,34.77386],[74.31239,34.79626],[74.12897,34.70073],[73.96423,34.68244],[73.93401,34.63386],[73.93951,34.57169],[73.89419,34.54568],[73.88732,34.48911],[73.74999,34.3781],[73.74862,34.34183],[73.8475,34.32935],[73.90517,34.35317],[73.98208,34.2522],[73.90677,34.10504],[73.88732,34.05105],[73.91341,34.01235],[74.21554,34.03853],[74.25262,34.01577],[74.26086,33.92237],[74.14001,33.83002],[74.05898,33.82089],[74.00891,33.75437],[73.96423,33.73071],[73.98968,33.66155],[73.97367,33.64061],[74.03576,33.56718],[74.10115,33.56392],[74.18121,33.4745],[74.17983,33.3679],[74.08782,33.26232],[74.01366,33.25199],[74.02144,33.18908],[74.15374,33.13477],[74.17571,33.07495],[74.31854,33.02891],[74.34875,32.97823],[74.31227,32.92795],[74.41467,32.90563],[74.45312,32.77755],[74.6289,32.75561],[74.64675,32.82604],[74.7113,32.84219],[74.65345,32.71225],[74.69542,32.66792],[74.64424,32.60985],[74.65251,32.56416],[74.67431,32.56676],[74.68362,32.49298],[74.84725,32.49075],[74.97634,32.45367],[75.03265,32.49538],[75.28259,32.36556],[75.38046,32.26836],[75.25649,32.10187],[75.00793,32.03786],[74.9269,32.0658],[74.86236,32.04485],[74.79919,31.95983],[74.58907,31.87824],[74.47771,31.72227],[74.57498,31.60382],[74.61517,31.55698],[74.59319,31.50197],[74.64713,31.45605],[74.59773,31.4136],[74.53223,31.30321],[74.51629,31.13829],[74.56023,31.08303],[74.60281,31.10419],[74.60006,31.13711],[74.6852,31.12771],[74.67971,31.05479],[74.5616,31.04153],[73.88993,30.36305],[73.95736,30.28466],[73.97225,30.19829],[73.80299,30.06969],[73.58665,30.01848],[73.3962,29.94707],[73.28094,29.56646],[73.05886,29.1878],[73.01337,29.16422],[72.94272,29.02487],[72.40402,28.78283],[72.29495,28.66367],[72.20329,28.3869],[71.9244,28.11555],[71.89921,27.96035],[70.79054,27.68423],[70.60927,28.02178],[70.37307,28.01208],[70.12502,27.8057],[70.03136,27.56627],[69.58519,27.18109],[69.50904,26.74892],[69.88555,26.56836],[70.05584,26.60398],[70.17532,26.55362],[70.17532,26.24118],[70.08193,26.08094],[70.0985,25.93238],[70.2687,25.71156],[70.37444,25.67443],[70.53649,25.68928],[70.60378,25.71898],[70.67382,25.68186],[70.66695,25.39314],[70.89148,25.15064],[70.94002,24.92843],[71.09405,24.69017],[70.97594,24.60904],[71.00341,24.46038],[71.12838,24.42662],[71.04461,24.34657],[70.94985,24.3791],[70.85784,24.30903],[70.88393,24.27398],[70.71502,24.23517],[70.57906,24.27774],[70.5667,24.43787],[70.11712,24.30915],[70.03428,24.172],[69.73335,24.17007],[69.59579,24.29777],[69.29778,24.28712],[69.19341,24.25646],[69.07806,24.29777],[68.97781,24.26021],[68.90914,24.33156],[68.7416,24.31904],[68.74643,23.97027],[68.39339,23.96838],[68.20763,23.85849],[68.11329,23.53945],[76.59015,5.591],[79.50447,8.91876],[79.42124,9.80115],[80.48418,10.20786],[89.08044,21.41871]]]]}},{type:"Feature",properties:{wikidata:"Q9143535",nameEn:"Akrotiri",country:"GB",groups:["Q644636","Q37362","BOTS","145","142","UN"],level:"subterritory",driveSide:"left",callingCodes:["357"]},geometry:{type:"MultiPolygon",coordinates:[[[[32.86014,34.70585],[32.82717,34.70622],[32.79433,34.67883],[32.76136,34.68318],[32.75515,34.64985],[32.74412,34.43926],[33.26744,34.49942],[33.0138,34.64424],[32.96968,34.64046],[32.96718,34.63446],[32.95891,34.62919],[32.95323,34.64075],[32.95471,34.64528],[32.94976,34.65204],[32.94796,34.6587],[32.95325,34.66462],[32.97079,34.66112],[32.97736,34.65277],[32.99014,34.65518],[32.98668,34.67268],[32.99135,34.68061],[32.95539,34.68471],[32.94683,34.67907],[32.94379,34.67111],[32.93693,34.67027],[32.93449,34.66241],[32.92807,34.66736],[32.93043,34.67091],[32.91398,34.67343],[32.9068,34.66102],[32.86167,34.68734],[32.86014,34.70585]]]]}},{type:"Feature",properties:{wikidata:"Q9206745",nameEn:"Dhekelia",country:"GB",groups:["Q644636","Q37362","BOTS","145","142","UN"],level:"subterritory",driveSide:"left",callingCodes:["357"]},geometry:{type:"MultiPolygon",coordinates:[[[[33.70575,34.97947],[33.83531,34.73974],[33.98684,34.76642],[33.90075,34.96623],[33.86432,34.97592],[33.84811,34.97075],[33.83505,34.98108],[33.85621,34.98956],[33.85891,35.001],[33.85216,35.00579],[33.84045,35.00616],[33.82875,35.01685],[33.83055,35.02865],[33.81524,35.04192],[33.8012,35.04786],[33.82051,35.0667],[33.8355,35.05777],[33.85261,35.0574],[33.88367,35.07877],[33.89485,35.06873],[33.90247,35.07686],[33.91299,35.07579],[33.91789,35.08688],[33.89853,35.11377],[33.88737,35.11408],[33.88943,35.12007],[33.88561,35.12449],[33.87224,35.12293],[33.87622,35.10457],[33.87097,35.09389],[33.87479,35.08881],[33.8541,35.07201],[33.84168,35.06823],[33.82067,35.07826],[33.78581,35.05104],[33.76106,35.04253],[33.73824,35.05321],[33.71482,35.03722],[33.70209,35.04882],[33.7161,35.07279],[33.70861,35.07644],[33.69095,35.06237],[33.68474,35.06602],[33.67742,35.05963],[33.67678,35.03866],[33.69938,35.03123],[33.69731,35.01754],[33.71514,35.00294],[33.70639,34.99303],[33.70575,34.97947]],[[33.77312,34.9976],[33.77553,34.99518],[33.78516,34.99582],[33.79191,34.98914],[33.78917,34.98854],[33.78571,34.98951],[33.78318,34.98699],[33.78149,34.98854],[33.77843,34.988],[33.7778,34.98981],[33.76738,34.99188],[33.76605,34.99543],[33.75682,34.99916],[33.75994,35.00113],[33.77312,34.9976]],[[33.74144,35.01053],[33.7343,35.01178],[33.73781,35.02181],[33.74265,35.02329],[33.74983,35.02274],[33.7492,35.01319],[33.74144,35.01053]]]]}},{type:"Feature",properties:{wikidata:"Q16390686",nameEn:"Peninsular Spain",country:"ES",groups:["Q12837","EU","039","150","UN"],callingCodes:["34"]},geometry:{type:"MultiPolygon",coordinates:[[[[3.75438,42.33445],[3.17156,42.43545],[3.11379,42.43646],[3.10027,42.42621],[3.08167,42.42748],[3.03734,42.47363],[2.96518,42.46692],[2.94283,42.48174],[2.92107,42.4573],[2.88413,42.45938],[2.86983,42.46843],[2.85675,42.45444],[2.84335,42.45724],[2.77464,42.41046],[2.75497,42.42578],[2.72056,42.42298],[2.65311,42.38771],[2.6747,42.33974],[2.57934,42.35808],[2.55516,42.35351],[2.54382,42.33406],[2.48457,42.33933],[2.43508,42.37568],[2.43299,42.39423],[2.38504,42.39977],[2.25551,42.43757],[2.20578,42.41633],[2.16599,42.42314],[2.12789,42.41291],[2.11621,42.38393],[2.06241,42.35906],[2.00488,42.35399],[1.96482,42.37787],[1.9574,42.42401],[1.94084,42.43039],[1.94061,42.43333],[1.94292,42.44316],[1.93663,42.45439],[1.88853,42.4501],[1.83037,42.48395],[1.76335,42.48863],[1.72515,42.50338],[1.70571,42.48867],[1.66826,42.50779],[1.65674,42.47125],[1.58933,42.46275],[1.57953,42.44957],[1.55937,42.45808],[1.55073,42.43299],[1.5127,42.42959],[1.44529,42.43724],[1.43838,42.47848],[1.41648,42.48315],[1.46661,42.50949],[1.44759,42.54431],[1.41245,42.53539],[1.4234,42.55959],[1.44529,42.56722],[1.42512,42.58292],[1.44197,42.60217],[1.35562,42.71944],[1.15928,42.71407],[1.0804,42.78569],[.98292,42.78754],[.96166,42.80629],[.93089,42.79154],[.711,42.86372],[.66121,42.84021],[.65421,42.75872],[.67873,42.69458],[.40214,42.69779],[.36251,42.72282],[.29407,42.67431],[.25336,42.7174],[.17569,42.73424],[-.02468,42.68513],[-.10519,42.72761],[-.16141,42.79535],[-.17939,42.78974],[-.3122,42.84788],[-.38833,42.80132],[-.41319,42.80776],[-.44334,42.79939],[-.50863,42.82713],[-.55497,42.77846],[-.67637,42.88303],[-.69837,42.87945],[-.72608,42.89318],[-.73422,42.91228],[-.72037,42.92541],[-.75478,42.96916],[-.81652,42.95166],[-.97133,42.96239],[-1.00963,42.99279],[-1.10333,43.0059],[-1.22881,43.05534],[-1.25244,43.04164],[-1.30531,43.06859],[-1.30052,43.09581],[-1.27118,43.11961],[-1.32209,43.1127],[-1.34419,43.09665],[-1.35272,43.02658],[-1.44067,43.047],[-1.47555,43.08372],[-1.41562,43.12815],[-1.3758,43.24511],[-1.40942,43.27272],[-1.45289,43.27049],[-1.50992,43.29481],[-1.55963,43.28828],[-1.57674,43.25269],[-1.61341,43.25269],[-1.63052,43.28591],[-1.62481,43.30726],[-1.69407,43.31378],[-1.73074,43.29481],[-1.7397,43.32979],[-1.75079,43.3317],[-1.75334,43.34107],[-1.77068,43.34396],[-1.78714,43.35476],[-1.78332,43.36399],[-1.79319,43.37497],[-1.77289,43.38957],[-1.81005,43.59738],[-10.14298,44.17365],[-11.19304,41.83075],[-8.87157,41.86488],[-8.81794,41.90375],[-8.75712,41.92833],[-8.74606,41.9469],[-8.7478,41.96282],[-8.69071,41.98862],[-8.6681,41.99703],[-8.65832,42.02972],[-8.64626,42.03668],[-8.63791,42.04691],[-8.59493,42.05708],[-8.58086,42.05147],[-8.54563,42.0537],[-8.5252,42.06264],[-8.52837,42.07658],[-8.48185,42.0811],[-8.44123,42.08218],[-8.42512,42.07199],[-8.40143,42.08052],[-8.38323,42.07683],[-8.36353,42.09065],[-8.33912,42.08358],[-8.32161,42.10218],[-8.29809,42.106],[-8.2732,42.12396],[-8.24681,42.13993],[-8.22406,42.1328],[-8.1986,42.15402],[-8.18947,42.13853],[-8.19406,42.12141],[-8.18178,42.06436],[-8.11729,42.08537],[-8.08847,42.05767],[-8.08796,42.01398],[-8.16232,41.9828],[-8.2185,41.91237],[-8.19551,41.87459],[-8.16944,41.87944],[-8.16455,41.81753],[-8.0961,41.81024],[-8.01136,41.83453],[-7.9804,41.87337],[-7.92336,41.8758],[-7.90707,41.92432],[-7.88751,41.92553],[-7.88055,41.84571],[-7.84188,41.88065],[-7.69848,41.90977],[-7.65774,41.88308],[-7.58603,41.87944],[-7.62188,41.83089],[-7.52737,41.83939],[-7.49803,41.87095],[-7.45566,41.86488],[-7.44759,41.84451],[-7.42854,41.83262],[-7.42864,41.80589],[-7.37092,41.85031],[-7.32366,41.8406],[-7.18677,41.88793],[-7.18549,41.97515],[-7.14115,41.98855],[-7.08574,41.97401],[-7.07596,41.94977],[-7.01078,41.94977],[-6.98144,41.9728],[-6.95537,41.96553],[-6.94396,41.94403],[-6.82174,41.94493],[-6.81196,41.99097],[-6.76959,41.98734],[-6.75004,41.94129],[-6.61967,41.94008],[-6.58544,41.96674],[-6.5447,41.94371],[-6.56752,41.88429],[-6.51374,41.8758],[-6.56426,41.74219],[-6.54633,41.68623],[-6.49907,41.65823],[-6.44204,41.68258],[-6.29863,41.66432],[-6.19128,41.57638],[-6.26777,41.48796],[-6.3306,41.37677],[-6.38553,41.38655],[-6.38551,41.35274],[-6.55937,41.24417],[-6.65046,41.24725],[-6.68286,41.21641],[-6.69711,41.1858],[-6.77319,41.13049],[-6.75655,41.10187],[-6.79241,41.05397],[-6.80942,41.03629],[-6.84781,41.02692],[-6.88843,41.03027],[-6.913,41.03922],[-6.9357,41.02888],[-6.8527,40.93958],[-6.84292,40.89771],[-6.80707,40.88047],[-6.79892,40.84842],[-6.82337,40.84472],[-6.82826,40.74603],[-6.79567,40.65955],[-6.84292,40.56801],[-6.80218,40.55067],[-6.7973,40.51723],[-6.84944,40.46394],[-6.84618,40.42177],[-6.78426,40.36468],[-6.80218,40.33239],[-6.86085,40.2976],[-6.86085,40.26776],[-7.00426,40.23169],[-7.02544,40.18564],[-7.00589,40.12087],[-6.94233,40.10716],[-6.86737,40.01986],[-6.91463,39.86618],[-6.97492,39.81488],[-7.01613,39.66877],[-7.24707,39.66576],[-7.33507,39.64569],[-7.54121,39.66717],[-7.49477,39.58794],[-7.2927,39.45847],[-7.3149,39.34857],[-7.23403,39.27579],[-7.23566,39.20132],[-7.12811,39.17101],[-7.14929,39.11287],[-7.10692,39.10275],[-7.04011,39.11919],[-6.97004,39.07619],[-6.95211,39.0243],[-7.051,38.907],[-7.03848,38.87221],[-7.26174,38.72107],[-7.265,38.61674],[-7.32529,38.44336],[-7.15581,38.27597],[-7.09389,38.17227],[-6.93418,38.21454],[-7.00375,38.01914],[-7.05966,38.01966],[-7.10366,38.04404],[-7.12648,38.00296],[-7.24544,37.98884],[-7.27314,37.90145],[-7.33441,37.81193],[-7.41981,37.75729],[-7.51759,37.56119],[-7.46878,37.47127],[-7.43974,37.38913],[-7.43227,37.25152],[-7.41854,37.23813],[-7.41133,37.20314],[-7.39769,37.16868],[-7.37282,36.96896],[-7.2725,35.73269],[-5.10878,36.05227],[-2.27707,35.35051],[3.75438,42.33445]],[[-5.27801,36.14942],[-5.34064,36.03744],[-5.40526,36.15488],[-5.34536,36.15501],[-5.33822,36.15272],[-5.27801,36.14942]]],[[[1.99838,42.44682],[2.01564,42.45171],[1.99216,42.46208],[1.98579,42.47486],[1.99766,42.4858],[1.98916,42.49351],[1.98022,42.49569],[1.97697,42.48568],[1.97227,42.48487],[1.97003,42.48081],[1.96215,42.47854],[1.95606,42.45785],[1.96125,42.45364],[1.98378,42.44697],[1.99838,42.44682]]]]}},{type:"Feature",properties:{wikidata:"Q98059339",nameEn:"Mainland Norway",country:"NO",groups:["154","150","UN"],callingCodes:["47"]},geometry:{type:"MultiPolygon",coordinates:[[[[10.40861,58.38489],[10.64958,58.89391],[11.08911,58.98745],[11.15367,59.07862],[11.34459,59.11672],[11.4601,58.99022],[11.45199,58.89604],[11.65732,58.90177],[11.8213,59.24985],[11.69297,59.59442],[11.92112,59.69531],[11.87121,59.86039],[12.15641,59.8926],[12.36317,59.99259],[12.52003,60.13846],[12.59133,60.50559],[12.2277,61.02442],[12.69115,61.06584],[12.86939,61.35427],[12.57707,61.56547],[12.40595,61.57226],[12.14746,61.7147],[12.29187,62.25699],[12.07085,62.6297],[12.19919,63.00104],[11.98529,63.27487],[12.19919,63.47935],[12.14928,63.59373],[12.74105,64.02171],[13.23411,64.09087],[13.98222,64.00953],[14.16051,64.18725],[14.11117,64.46674],[13.64276,64.58402],[14.50926,65.31786],[14.53778,66.12399],[15.05113,66.15572],[15.49318,66.28509],[15.37197,66.48217],[16.35589,67.06419],[16.39154,67.21653],[16.09922,67.4364],[16.12774,67.52106],[16.38441,67.52923],[16.7409,67.91037],[17.30416,68.11591],[17.90787,67.96537],[18.13836,68.20874],[18.1241,68.53721],[18.39503,68.58672],[18.63032,68.50849],[18.97255,68.52416],[19.93508,68.35911],[20.22027,68.48759],[19.95647,68.55546],[20.22027,68.67246],[20.33435,68.80174],[20.28444,68.93283],[20.0695,69.04469],[20.55258,69.06069],[20.72171,69.11874],[21.05775,69.0356],[21.11099,69.10291],[20.98641,69.18809],[21.00732,69.22755],[21.27827,69.31281],[21.63833,69.27485],[22.27276,68.89514],[22.38367,68.71561],[22.53321,68.74393],[23.13064,68.64684],[23.68017,68.70276],[23.781,68.84514],[24.02299,68.81601],[24.18432,68.73936],[24.74898,68.65143],[24.90023,68.55579],[24.93048,68.61102],[25.10189,68.63307],[25.12206,68.78684],[25.42455,68.90328],[25.61613,68.89602],[25.75729,68.99383],[25.69679,69.27039],[25.96904,69.68397],[26.40261,69.91377],[26.64461,69.96565],[27.05802,69.92069],[27.57226,70.06215],[27.95542,70.0965],[27.97558,69.99671],[28.32849,69.88605],[28.36883,69.81658],[29.12697,69.69193],[29.31664,69.47994],[28.8629,69.22395],[28.81248,69.11997],[28.91738,69.04774],[29.0444,69.0119],[29.26623,69.13794],[29.27631,69.2811],[29.97205,69.41623],[30.16363,69.65244],[30.52662,69.54699],[30.95011,69.54699],[30.84095,69.80584],[31.59909,70.16571],[32.07813,72.01005],[-11.60274,67.73467],[7.28637,57.35913],[10.40861,58.38489]]]]}},{type:"Feature",properties:{wikidata:"Q98543636",nameEn:"Mainland Ecuador",country:"EC",groups:["005","419","019","UN"],callingCodes:["593"]},geometry:{type:"MultiPolygon",coordinates:[[[[-84.52388,-3.36941],[-80.30602,-3.39149],[-80.20647,-3.431],[-80.24123,-3.46124],[-80.24586,-3.48677],[-80.23651,-3.48652],[-80.22629,-3.501],[-80.20535,-3.51667],[-80.21642,-3.5888],[-80.19848,-3.59249],[-80.18741,-3.63994],[-80.19926,-3.68894],[-80.13232,-3.90317],[-80.46386,-4.01342],[-80.4822,-4.05477],[-80.45023,-4.20938],[-80.32114,-4.21323],[-80.46386,-4.41516],[-80.39256,-4.48269],[-80.13945,-4.29786],[-79.79722,-4.47558],[-79.59402,-4.46848],[-79.26248,-4.95167],[-79.1162,-4.97774],[-79.01659,-5.01481],[-78.85149,-4.66795],[-78.68394,-4.60754],[-78.34362,-3.38633],[-78.24589,-3.39907],[-78.22642,-3.51113],[-78.14324,-3.47653],[-78.19369,-3.36431],[-77.94147,-3.05454],[-76.6324,-2.58397],[-76.05203,-2.12179],[-75.57429,-1.55961],[-75.3872,-.9374],[-75.22862,-.95588],[-75.22862,-.60048],[-75.53615,-.19213],[-75.60169,-.18708],[-75.61997,-.10012],[-75.40192,-.17196],[-75.25764,-.11943],[-75.82927,.09578],[-76.23441,.42294],[-76.41215,.38228],[-76.4094,.24015],[-76.89177,.24736],[-77.52001,.40782],[-77.49984,.64476],[-77.67815,.73863],[-77.66416,.81604],[-77.68613,.83029],[-77.7148,.85003],[-77.85677,.80197],[-78.42749,1.15389],[-78.87137,1.47457],[-82.12561,4.00341],[-84.52388,-3.36941]]]]}},{type:"Feature",properties:{m49:"001",wikidata:"Q2",nameEn:"World",aliases:["Earth","Planet"],level:"world"},geometry:null},{type:"Feature",properties:{m49:"002",wikidata:"Q15",nameEn:"Africa",level:"region"},geometry:null},{type:"Feature",properties:{m49:"003",wikidata:"Q49",nameEn:"North America",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"005",wikidata:"Q18",nameEn:"South America",level:"intermediateRegion"},geometry:null},{type:"Feature",properties:{m49:"009",wikidata:"Q538",nameEn:"Oceania",level:"region"},geometry:null},{type:"Feature",properties:{m49:"011",wikidata:"Q4412",nameEn:"Western Africa",level:"intermediateRegion"},geometry:null},{type:"Feature",properties:{m49:"013",wikidata:"Q27611",nameEn:"Central America",level:"intermediateRegion"},geometry:null},{type:"Feature",properties:{m49:"014",wikidata:"Q27407",nameEn:"Eastern Africa",level:"intermediateRegion"},geometry:null},{type:"Feature",properties:{m49:"015",wikidata:"Q27381",nameEn:"Northern Africa",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"017",wikidata:"Q27433",nameEn:"Middle Africa",level:"intermediateRegion"},geometry:null},{type:"Feature",properties:{m49:"018",wikidata:"Q27394",nameEn:"Southern Africa",level:"intermediateRegion"},geometry:null},{type:"Feature",properties:{m49:"019",wikidata:"Q828",nameEn:"Americas",level:"region"},geometry:null},{type:"Feature",properties:{m49:"021",wikidata:"Q2017699",nameEn:"Northern America",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"029",wikidata:"Q664609",nameEn:"Caribbean",level:"intermediateRegion"},geometry:null},{type:"Feature",properties:{m49:"030",wikidata:"Q27231",nameEn:"Eastern Asia",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"034",wikidata:"Q771405",nameEn:"Southern Asia",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"035",wikidata:"Q11708",nameEn:"South-eastern Asia",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"039",wikidata:"Q27449",nameEn:"Southern Europe",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"053",wikidata:"Q45256",nameEn:"Australia and New Zealand",aliases:["Australasia"],level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"054",wikidata:"Q37394",nameEn:"Melanesia",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"057",wikidata:"Q3359409",nameEn:"Micronesia",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"061",wikidata:"Q35942",nameEn:"Polynesia",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"142",wikidata:"Q48",nameEn:"Asia",level:"region"},geometry:null},{type:"Feature",properties:{m49:"143",wikidata:"Q27275",nameEn:"Central Asia",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"145",wikidata:"Q27293",nameEn:"Western Asia",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"150",wikidata:"Q46",nameEn:"Europe",level:"region"},geometry:null},{type:"Feature",properties:{m49:"151",wikidata:"Q27468",nameEn:"Eastern Europe",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"154",wikidata:"Q27479",nameEn:"Northern Europe",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"155",wikidata:"Q27496",nameEn:"Western Europe",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"202",wikidata:"Q132959",nameEn:"Sub-Saharan Africa",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"419",wikidata:"Q72829598",nameEn:"Latin America and the Caribbean",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"680",wikidata:"Q3405693",nameEn:"Sark",country:"GB",groups:["GG","830","Q185086","154","150","UN"],level:"subterritory",driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["44 01481"]},geometry:{type:"MultiPolygon",coordinates:[[[[-2.36485,49.48223],[-2.65349,49.15373],[-2.09454,49.46288],[-2.36485,49.48223]]]]}},{type:"Feature",properties:{m49:"830",wikidata:"Q42314",nameEn:"Channel Islands",level:"intermediateRegion"},geometry:null},{type:"Feature",properties:{iso1A2:"AC",iso1A3:"ASC",wikidata:"Q46197",nameEn:"Ascension Island",aliases:["SH-AC"],country:"GB",groups:["SH","BOTS","011","202","002","UN"],isoStatus:"excRes",driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["247"]},geometry:{type:"MultiPolygon",coordinates:[[[[-14.82771,-8.70814],[-13.33271,-8.07391],[-14.91926,-6.63386],[-14.82771,-8.70814]]]]}},{type:"Feature",properties:{iso1A2:"AD",iso1A3:"AND",iso1N3:"020",wikidata:"Q228",nameEn:"Andorra",groups:["Q12837","039","150","UN"],callingCodes:["376"]},geometry:{type:"MultiPolygon",coordinates:[[[[1.72515,42.50338],[1.73683,42.55492],[1.7858,42.57698],[1.72588,42.59098],[1.73452,42.61515],[1.68267,42.62533],[1.6625,42.61982],[1.63485,42.62957],[1.60085,42.62703],[1.55418,42.65669],[1.50867,42.64483],[1.48043,42.65203],[1.46718,42.63296],[1.47986,42.61346],[1.44197,42.60217],[1.42512,42.58292],[1.44529,42.56722],[1.4234,42.55959],[1.41245,42.53539],[1.44759,42.54431],[1.46661,42.50949],[1.41648,42.48315],[1.43838,42.47848],[1.44529,42.43724],[1.5127,42.42959],[1.55073,42.43299],[1.55937,42.45808],[1.57953,42.44957],[1.58933,42.46275],[1.65674,42.47125],[1.66826,42.50779],[1.70571,42.48867],[1.72515,42.50338]]]]}},{type:"Feature",properties:{iso1A2:"AE",iso1A3:"ARE",iso1N3:"784",wikidata:"Q878",nameEn:"United Arab Emirates",groups:["145","142","UN"],callingCodes:["971"]},geometry:{type:"MultiPolygon",coordinates:[[[[56.26534,25.62825],[56.25341,25.61443],[56.26636,25.60643],[56.25365,25.60211],[56.20473,25.61119],[56.18363,25.65508],[56.14826,25.66351],[56.13579,25.73524],[56.17416,25.77239],[56.13963,25.82765],[56.19334,25.9795],[56.15498,26.06828],[56.08666,26.05038],[55.81777,26.18798],[55.14145,25.62624],[53.97892,24.64436],[52.82259,25.51697],[52.35509,25.00368],[52.02277,24.75635],[51.83108,24.71675],[51.58834,24.66608],[51.41644,24.39615],[51.58871,24.27256],[51.59617,24.12041],[52.56622,22.94341],[55.13599,22.63334],[55.2137,22.71065],[55.22634,23.10378],[55.57358,23.669],[55.48677,23.94946],[55.73301,24.05994],[55.8308,24.01633],[56.01799,24.07426],[55.95472,24.2172],[55.83367,24.20193],[55.77658,24.23476],[55.76558,24.23227],[55.75257,24.23466],[55.75382,24.2466],[55.75939,24.26114],[55.76781,24.26209],[55.79145,24.27914],[55.80747,24.31069],[55.83395,24.32776],[55.83271,24.41521],[55.76461,24.5287],[55.83271,24.68567],[55.83408,24.77858],[55.81348,24.80102],[55.81116,24.9116],[55.85094,24.96858],[55.90849,24.96771],[55.96316,25.00857],[56.05715,24.95727],[56.05106,24.87461],[55.97467,24.89639],[55.97836,24.87673],[56.03535,24.81161],[56.06128,24.74457],[56.13684,24.73699],[56.20062,24.78565],[56.20568,24.85063],[56.30269,24.88334],[56.34873,24.93205],[56.3227,24.97284],[56.86325,25.03856],[56.82555,25.7713],[56.26534,25.62825]],[[56.26062,25.33108],[56.3005,25.31815],[56.3111,25.30107],[56.35172,25.30681],[56.34438,25.26653],[56.27628,25.23404],[56.24341,25.22867],[56.20872,25.24104],[56.20838,25.25668],[56.24465,25.27505],[56.25008,25.28843],[56.23362,25.31253],[56.26062,25.33108]]],[[[56.28423,25.26344],[56.29379,25.2754],[56.28102,25.28486],[56.2716,25.27916],[56.27086,25.26128],[56.28423,25.26344]]]]}},{type:"Feature",properties:{iso1A2:"AF",iso1A3:"AFG",iso1N3:"004",wikidata:"Q889",nameEn:"Afghanistan",groups:["034","142","UN"],callingCodes:["93"]},geometry:{type:"MultiPolygon",coordinates:[[[[70.61526,38.34774],[70.60407,38.28046],[70.54673,38.24541],[70.4898,38.12546],[70.17206,37.93276],[70.1863,37.84296],[70.27694,37.81258],[70.28243,37.66706],[70.15015,37.52519],[69.95971,37.5659],[69.93362,37.61378],[69.84435,37.60616],[69.80041,37.5746],[69.51888,37.5844],[69.44954,37.4869],[69.36645,37.40462],[69.45022,37.23315],[69.39529,37.16752],[69.25152,37.09426],[69.03274,37.25174],[68.96407,37.32603],[68.88168,37.33368],[68.91189,37.26704],[68.80889,37.32494],[68.81438,37.23862],[68.6798,37.27906],[68.61851,37.19815],[68.41888,37.13906],[68.41201,37.10402],[68.29253,37.10621],[68.27605,37.00977],[68.18542,37.02074],[68.02194,36.91923],[67.87917,37.0591],[67.7803,37.08978],[67.78329,37.1834],[67.51868,37.26102],[67.2581,37.17216],[67.2224,37.24545],[67.13039,37.27168],[67.08232,37.35469],[66.95598,37.40162],[66.64699,37.32958],[66.55743,37.35409],[66.30993,37.32409],[65.72274,37.55438],[65.64137,37.45061],[65.64263,37.34388],[65.51778,37.23881],[64.97945,37.21913],[64.61141,36.6351],[64.62514,36.44311],[64.57295,36.34362],[64.43288,36.24401],[64.05385,36.10433],[63.98519,36.03773],[63.56496,35.95106],[63.53475,35.90881],[63.29579,35.85985],[63.12276,35.86208],[63.10318,35.81782],[63.23262,35.67487],[63.10079,35.63024],[63.12276,35.53196],[63.0898,35.43131],[62.90853,35.37086],[62.74098,35.25432],[62.62288,35.22067],[62.48006,35.28796],[62.29878,35.13312],[62.29191,35.25964],[62.15871,35.33278],[62.05709,35.43803],[61.97743,35.4604],[61.77693,35.41341],[61.58742,35.43803],[61.27371,35.61482],[61.18187,35.30249],[61.0991,35.27845],[61.12831,35.09938],[61.06926,34.82139],[61.00197,34.70631],[60.99922,34.63064],[60.72316,34.52857],[60.91321,34.30411],[60.66502,34.31539],[60.50209,34.13992],[60.5838,33.80793],[60.5485,33.73422],[60.57762,33.59772],[60.69573,33.56054],[60.91133,33.55596],[60.88908,33.50219],[60.56485,33.12944],[60.86191,32.22565],[60.84541,31.49561],[61.70929,31.37391],[61.80569,31.16167],[61.80957,31.12576],[61.83257,31.0452],[61.8335,30.97669],[61.78268,30.92724],[61.80829,30.84224],[60.87231,29.86514],[62.47751,29.40782],[63.5876,29.50456],[64.12966,29.39157],[64.19796,29.50407],[64.62116,29.58903],[65.04005,29.53957],[66.24175,29.85181],[66.36042,29.9583],[66.23609,30.06321],[66.34869,30.404],[66.28413,30.57001],[66.39194,30.9408],[66.42645,30.95309],[66.58175,30.97532],[66.68166,31.07597],[66.72561,31.20526],[66.83273,31.26867],[67.04147,31.31561],[67.03323,31.24519],[67.29964,31.19586],[67.78854,31.33203],[67.7748,31.4188],[67.62374,31.40473],[67.58323,31.52772],[67.72056,31.52304],[67.86887,31.63536],[68.00071,31.6564],[68.1655,31.82691],[68.25614,31.80357],[68.27605,31.75863],[68.44222,31.76446],[68.57475,31.83158],[68.6956,31.75687],[68.79997,31.61665],[68.91078,31.59687],[68.95995,31.64822],[69.00939,31.62249],[69.11514,31.70782],[69.20577,31.85957],[69.3225,31.93186],[69.27032,32.14141],[69.27932,32.29119],[69.23599,32.45946],[69.2868,32.53938],[69.38155,32.56601],[69.44747,32.6678],[69.43649,32.7302],[69.38018,32.76601],[69.47082,32.85834],[69.5436,32.8768],[69.49854,32.88843],[69.49004,33.01509],[69.57656,33.09911],[69.71526,33.09911],[69.79766,33.13247],[69.85259,33.09451],[70.02563,33.14282],[70.07369,33.22557],[70.13686,33.21064],[70.32775,33.34496],[70.17062,33.53535],[70.20141,33.64387],[70.14785,33.6553],[70.14236,33.71701],[70.00503,33.73528],[69.85671,33.93719],[69.87307,33.9689],[69.90203,34.04194],[70.54336,33.9463],[70.88119,33.97933],[71.07345,34.06242],[71.06933,34.10564],[71.09307,34.11961],[71.09453,34.13524],[71.13078,34.16503],[71.12815,34.26619],[71.17662,34.36769],[71.02401,34.44835],[71.0089,34.54568],[71.11602,34.63047],[71.08718,34.69034],[71.28356,34.80882],[71.29472,34.87728],[71.50329,34.97328],[71.49917,35.00478],[71.55273,35.02615],[71.52938,35.09023],[71.67495,35.21262],[71.5541,35.28776],[71.54294,35.31037],[71.65435,35.4479],[71.49917,35.6267],[71.55273,35.71483],[71.37969,35.95865],[71.19505,36.04134],[71.60491,36.39429],[71.80267,36.49924],[72.18135,36.71838],[72.6323,36.84601],[73.82685,36.91421],[74.04856,36.82648],[74.43389,37.00977],[74.53739,36.96224],[74.56453,37.03023],[74.49981,37.24518],[74.80605,37.21565],[74.88887,37.23275],[74.8294,37.3435],[74.68383,37.3948],[74.56161,37.37734],[74.41055,37.3948],[74.23339,37.41116],[74.20308,37.34208],[73.8564,37.26158],[73.82552,37.22659],[73.64974,37.23643],[73.61129,37.27469],[73.76647,37.33913],[73.77197,37.4417],[73.29633,37.46495],[73.06884,37.31729],[72.79693,37.22222],[72.66381,37.02014],[72.54095,37.00007],[72.31676,36.98115],[71.83229,36.68084],[71.67083,36.67346],[71.57195,36.74943],[71.51502,36.89128],[71.48481,36.93218],[71.46923,36.99925],[71.45578,37.03094],[71.43097,37.05855],[71.44127,37.11856],[71.4494,37.18137],[71.4555,37.21418],[71.47386,37.2269],[71.48339,37.23937],[71.4824,37.24921],[71.48536,37.26017],[71.50674,37.31502],[71.49821,37.31975],[71.4862,37.33405],[71.47685,37.40281],[71.49612,37.4279],[71.5256,37.47971],[71.50616,37.50733],[71.49693,37.53527],[71.5065,37.60912],[71.51972,37.61945],[71.54186,37.69691],[71.55234,37.73209],[71.53053,37.76534],[71.54324,37.77104],[71.55752,37.78677],[71.59255,37.79956],[71.58843,37.92425],[71.51565,37.95349],[71.32871,37.88564],[71.296,37.93403],[71.2809,37.91995],[71.24969,37.93031],[71.27278,37.96496],[71.27622,37.99946],[71.28922,38.01272],[71.29878,38.04429],[71.36444,38.15358],[71.37803,38.25641],[71.33869,38.27335],[71.33114,38.30339],[71.21291,38.32797],[71.1451,38.40106],[71.10957,38.40671],[71.10592,38.42077],[71.09542,38.42517],[71.0556,38.40176],[71.03545,38.44779],[70.98693,38.48862],[70.92728,38.43021],[70.88719,38.46826],[70.84376,38.44688],[70.82538,38.45394],[70.81697,38.44507],[70.80521,38.44447],[70.79766,38.44944],[70.78702,38.45031],[70.78581,38.45502],[70.77132,38.45548],[70.75455,38.4252],[70.72485,38.4131],[70.69807,38.41861],[70.67438,38.40597],[70.6761,38.39144],[70.69189,38.37031],[70.64966,38.34999],[70.61526,38.34774]]]]}},{type:"Feature",properties:{iso1A2:"AG",iso1A3:"ATG",iso1N3:"028",wikidata:"Q781",nameEn:"Antigua and Barbuda",groups:["029","003","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",callingCodes:["1 268"]},geometry:{type:"MultiPolygon",coordinates:[[[[-61.66959,18.6782],[-62.58307,16.68909],[-62.1023,16.97277],[-61.23098,16.62484],[-61.66959,18.6782]]]]}},{type:"Feature",properties:{iso1A2:"AI",iso1A3:"AIA",iso1N3:"660",wikidata:"Q25228",nameEn:"Anguilla",country:"GB",groups:["BOTS","029","003","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",callingCodes:["1 264"]},geometry:{type:"MultiPolygon",coordinates:[[[[-63.79029,19.11219],[-63.35989,18.06012],[-62.62718,18.26185],[-63.79029,19.11219]]]]}},{type:"Feature",properties:{iso1A2:"AL",iso1A3:"ALB",iso1N3:"008",wikidata:"Q222",nameEn:"Albania",groups:["039","150","UN"],callingCodes:["355"]},geometry:{type:"MultiPolygon",coordinates:[[[[20.07761,42.55582],[20.01834,42.54622],[20.00842,42.5109],[19.9324,42.51699],[19.82333,42.46581],[19.76549,42.50237],[19.74731,42.57422],[19.77375,42.58517],[19.73244,42.66299],[19.65972,42.62774],[19.4836,42.40831],[19.42352,42.36546],[19.42,42.33019],[19.28623,42.17745],[19.40687,42.10024],[19.37548,42.06835],[19.36867,42.02564],[19.37691,41.96977],[19.34601,41.95675],[19.33812,41.90669],[19.37451,41.8842],[19.37597,41.84849],[19.26406,41.74971],[19.0384,40.35325],[19.95905,39.82857],[19.97622,39.78684],[19.92466,39.69533],[19.98042,39.6504],[20.00957,39.69227],[20.05189,39.69112],[20.12956,39.65805],[20.15988,39.652],[20.22376,39.64532],[20.22707,39.67459],[20.27412,39.69884],[20.31961,39.72799],[20.29152,39.80421],[20.30804,39.81563],[20.38572,39.78516],[20.41475,39.81437],[20.41546,39.82832],[20.31135,39.99438],[20.37911,39.99058],[20.42373,40.06777],[20.48487,40.06271],[20.51297,40.08168],[20.55593,40.06524],[20.61081,40.07866],[20.62566,40.0897],[20.67162,40.09433],[20.71789,40.27739],[20.78234,40.35803],[20.7906,40.42726],[20.83688,40.47882],[20.94925,40.46625],[20.96908,40.51526],[21.03932,40.56299],[21.05833,40.66586],[20.98134,40.76046],[20.95752,40.76982],[20.98396,40.79109],[20.97887,40.85475],[20.97693,40.90103],[20.94305,40.92399],[20.83671,40.92752],[20.81567,40.89662],[20.73504,40.9081],[20.71634,40.91781],[20.65558,41.08009],[20.63454,41.0889],[20.59832,41.09066],[20.58546,41.11179],[20.59715,41.13644],[20.51068,41.2323],[20.49432,41.33679],[20.52119,41.34381],[20.55976,41.4087],[20.51301,41.442],[20.49039,41.49277],[20.45331,41.51436],[20.45809,41.5549],[20.52103,41.56473],[20.55508,41.58113],[20.51769,41.65975],[20.52937,41.69292],[20.51301,41.72433],[20.53405,41.78099],[20.57144,41.7897],[20.55976,41.87068],[20.59524,41.8818],[20.57946,41.91593],[20.63069,41.94913],[20.59434,42.03879],[20.55633,42.08173],[20.56955,42.12097],[20.48857,42.25444],[20.3819,42.3029],[20.34479,42.32656],[20.24399,42.32168],[20.21797,42.41237],[20.17127,42.50469],[20.07761,42.55582]]]]}},{type:"Feature",properties:{iso1A2:"AM",iso1A3:"ARM",iso1N3:"051",wikidata:"Q399",nameEn:"Armenia",groups:["145","142","UN"],callingCodes:["374"]},geometry:{type:"MultiPolygon",coordinates:[[[[45.0133,41.29747],[44.93493,41.25685],[44.81437,41.30371],[44.80053,41.25949],[44.81749,41.23488],[44.84358,41.23088],[44.89911,41.21366],[44.87887,41.20195],[44.82084,41.21513],[44.72814,41.20338],[44.61462,41.24018],[44.59322,41.1933],[44.46791,41.18204],[44.34417,41.2382],[44.34337,41.20312],[44.32139,41.2079],[44.18148,41.24644],[44.16591,41.19141],[43.84835,41.16329],[43.74717,41.1117],[43.67712,41.13398],[43.4717,41.12611],[43.44984,41.0988],[43.47319,41.02251],[43.58683,40.98961],[43.67712,40.93084],[43.67712,40.84846],[43.74872,40.7365],[43.7425,40.66805],[43.63664,40.54159],[43.54791,40.47413],[43.60862,40.43267],[43.59928,40.34019],[43.71136,40.16673],[43.65221,40.14889],[43.65688,40.11199],[43.92307,40.01787],[44.1057,40.03555],[44.1778,40.02845],[44.26973,40.04866],[44.46635,39.97733],[44.61845,39.8281],[44.75779,39.7148],[44.88354,39.74432],[44.92869,39.72157],[45.06604,39.79277],[45.18554,39.67846],[45.17464,39.58614],[45.21784,39.58074],[45.23535,39.61373],[45.30385,39.61373],[45.29606,39.57654],[45.46992,39.49888],[45.70547,39.60174],[45.80804,39.56716],[45.83,39.46487],[45.79225,39.3695],[45.99774,39.28931],[46.02303,39.09978],[46.06973,39.0744],[46.14785,38.84206],[46.20601,38.85262],[46.34059,38.92076],[46.53497,38.86548],[46.51805,38.94982],[46.54296,39.07078],[46.44022,39.19636],[46.52584,39.18912],[46.54141,39.15895],[46.58032,39.21204],[46.63481,39.23013],[46.56476,39.24942],[46.50093,39.33736],[46.43244,39.35181],[46.37795,39.42039],[46.4013,39.45405],[46.53051,39.47809],[46.51027,39.52373],[46.57721,39.54414],[46.57098,39.56694],[46.52117,39.58734],[46.42465,39.57534],[46.40286,39.63651],[46.18493,39.60533],[45.96543,39.78859],[45.82533,39.82925],[45.7833,39.9475],[45.60895,39.97733],[45.59806,40.0131],[45.78642,40.03218],[45.83779,39.98925],[45.97944,40.181],[45.95609,40.27846],[45.65098,40.37696],[45.42994,40.53804],[45.45484,40.57707],[45.35366,40.65979],[45.4206,40.7424],[45.55914,40.78366],[45.60584,40.87436],[45.40814,40.97904],[45.44083,41.01663],[45.39725,41.02603],[45.35677,40.99784],[45.28859,41.03757],[45.26162,41.0228],[45.25897,41.0027],[45.1994,41.04518],[45.16493,41.05068],[45.1634,41.08082],[45.1313,41.09369],[45.12923,41.06059],[45.06784,41.05379],[45.08028,41.10917],[45.19942,41.13299],[45.1969,41.168],[45.11811,41.19967],[45.05201,41.19211],[45.02932,41.2101],[45.05497,41.2464],[45.0133,41.29747]],[[45.21324,40.9817],[45.21219,40.99001],[45.20518,40.99348],[45.19312,40.98998],[45.18382,41.0066],[45.20625,41.01484],[45.23487,41.00226],[45.23095,40.97828],[45.21324,40.9817]],[[45.00864,41.03411],[44.9903,41.05657],[44.96031,41.06345],[44.95383,41.07553],[44.97169,41.09176],[45.00864,41.09407],[45.03406,41.07931],[45.04517,41.06653],[45.03792,41.03938],[45.00864,41.03411]]],[[[45.50279,40.58424],[45.56071,40.64765],[45.51825,40.67382],[45.47927,40.65023],[45.50279,40.58424]]]]}},{type:"Feature",properties:{iso1A2:"AO",iso1A3:"AGO",iso1N3:"024",wikidata:"Q916",nameEn:"Angola",groups:["017","202","002","UN"],callingCodes:["244"]},geometry:{type:"MultiPolygon",coordinates:[[[[16.55507,-5.85631],[13.04371,-5.87078],[12.42245,-6.07585],[11.95767,-5.94705],[12.20376,-5.76338],[12.26557,-5.74031],[12.52318,-5.74353],[12.52301,-5.17481],[12.53599,-5.1618],[12.53586,-5.14658],[12.51589,-5.1332],[12.49815,-5.14058],[12.46297,-5.09408],[12.60251,-5.01715],[12.63465,-4.94632],[12.70868,-4.95505],[12.8733,-4.74346],[13.11195,-4.67745],[13.09648,-4.63739],[12.91489,-4.47907],[12.87096,-4.40315],[12.76844,-4.38709],[12.64835,-4.55937],[12.40964,-4.60609],[12.32324,-4.78415],[12.25587,-4.79437],[12.20901,-4.75642],[12.16068,-4.90089],[12.00924,-5.02627],[11.50888,-5.33417],[10.5065,-17.25284],[11.75063,-17.25013],[12.07076,-17.15165],[12.52111,-17.24495],[12.97145,-16.98567],[13.36212,-16.98048],[13.95896,-17.43141],[14.28743,-17.38814],[18.39229,-17.38927],[18.84226,-17.80375],[21.14283,-17.94318],[21.42741,-18.02787],[23.47474,-17.62877],[23.20038,-17.47563],[22.17217,-16.50269],[22.00323,-16.18028],[21.97988,-13.00148],[24.03339,-12.99091],[23.90937,-12.844],[24.06672,-12.29058],[23.98804,-12.13149],[24.02603,-11.15368],[24.00027,-10.89356],[23.86868,-11.02856],[23.45631,-10.946],[23.16602,-11.10577],[22.54205,-11.05784],[22.25951,-11.24911],[22.17954,-10.85884],[22.32604,-10.76291],[22.19039,-9.94628],[21.84856,-9.59871],[21.79824,-7.29628],[20.56263,-7.28566],[20.61689,-6.90876],[20.31846,-6.91953],[20.30218,-6.98955],[19.5469,-7.00195],[19.33698,-7.99743],[18.33635,-8.00126],[17.5828,-8.13784],[16.96282,-7.21787],[16.55507,-5.85631]]]]}},{type:"Feature",properties:{iso1A2:"AQ",iso1A3:"ATA",iso1N3:"010",wikidata:"Q51",nameEn:"Antarctica",level:"region",callingCodes:["672"]},geometry:{type:"MultiPolygon",coordinates:[[[[180,-60],[-180,-60],[-180,-90],[180,-90],[180,-60]]]]}},{type:"Feature",properties:{iso1A2:"AR",iso1A3:"ARG",iso1N3:"032",wikidata:"Q414",nameEn:"Argentina",aliases:["RA"],groups:["005","419","019","UN"],callingCodes:["54"]},geometry:{type:"MultiPolygon",coordinates:[[[[-72.31343,-50.58411],[-72.33873,-51.59954],[-71.99889,-51.98018],[-69.97824,-52.00845],[-68.41683,-52.33516],[-68.60702,-52.65781],[-68.60733,-54.9125],[-68.01394,-54.8753],[-67.46182,-54.92205],[-67.11046,-54.94199],[-66.07313,-55.19618],[-63.67376,-55.11859],[-54.78916,-36.21945],[-57.83001,-34.69099],[-58.34425,-34.15035],[-58.44442,-33.84033],[-58.40475,-33.11777],[-58.1224,-32.98842],[-58.22362,-32.52416],[-58.10036,-32.25338],[-58.20252,-31.86966],[-58.00076,-31.65016],[-58.0023,-31.53084],[-58.07569,-31.44916],[-57.98127,-31.3872],[-57.9908,-31.34924],[-57.86729,-31.06352],[-57.89476,-30.95994],[-57.8024,-30.77193],[-57.89115,-30.49572],[-57.64859,-30.35095],[-57.61478,-30.25165],[-57.65132,-30.19229],[-57.09386,-29.74211],[-56.81251,-29.48154],[-56.62789,-29.18073],[-56.57295,-29.11357],[-56.54171,-29.11447],[-56.05265,-28.62651],[-56.00458,-28.60421],[-56.01729,-28.51223],[-55.65418,-28.18304],[-55.6262,-28.17124],[-55.33303,-27.94661],[-55.16872,-27.86224],[-55.1349,-27.89759],[-54.90805,-27.73149],[-54.90159,-27.63132],[-54.67657,-27.57214],[-54.50416,-27.48232],[-54.41888,-27.40882],[-54.19268,-27.30751],[-54.19062,-27.27639],[-54.15978,-27.2889],[-53.80144,-27.09844],[-53.73372,-26.6131],[-53.68269,-26.33359],[-53.64505,-26.28089],[-53.64186,-26.25976],[-53.64632,-26.24798],[-53.63881,-26.25075],[-53.63739,-26.2496],[-53.65237,-26.23289],[-53.65018,-26.19501],[-53.73968,-26.10012],[-53.73391,-26.07006],[-53.7264,-26.0664],[-53.73086,-26.05842],[-53.73511,-26.04211],[-53.83691,-25.94849],[-53.90831,-25.55513],[-54.52926,-25.62846],[-54.5502,-25.58915],[-54.59398,-25.59224],[-54.62063,-25.91213],[-54.60664,-25.9691],[-54.67359,-25.98607],[-54.69333,-26.37705],[-54.70732,-26.45099],[-54.80868,-26.55669],[-55.00584,-26.78754],[-55.06351,-26.80195],[-55.16948,-26.96068],[-55.25243,-26.93808],[-55.39611,-26.97679],[-55.62322,-27.1941],[-55.59094,-27.32444],[-55.74475,-27.44485],[-55.89195,-27.3467],[-56.18313,-27.29851],[-56.85337,-27.5165],[-58.04205,-27.2387],[-58.59549,-27.29973],[-58.65321,-27.14028],[-58.3198,-26.83443],[-58.1188,-26.16704],[-57.87176,-25.93604],[-57.57431,-25.47269],[-57.80821,-25.13863],[-58.25492,-24.92528],[-58.33055,-24.97099],[-59.33886,-24.49935],[-59.45482,-24.34787],[-60.03367,-24.00701],[-60.28163,-24.04436],[-60.99754,-23.80934],[-61.0782,-23.62932],[-61.9756,-23.0507],[-62.22768,-22.55807],[-62.51761,-22.37684],[-62.64455,-22.25091],[-62.8078,-22.12534],[-62.81124,-21.9987],[-63.66482,-21.99918],[-63.68113,-22.0544],[-63.70963,-21.99934],[-63.93287,-21.99934],[-64.22918,-22.55807],[-64.31489,-22.88824],[-64.35108,-22.73282],[-64.4176,-22.67692],[-64.58888,-22.25035],[-64.67174,-22.18957],[-64.90014,-22.12136],[-64.99524,-22.08255],[-65.47435,-22.08908],[-65.57743,-22.07675],[-65.58694,-22.09794],[-65.61166,-22.09504],[-65.7467,-22.10105],[-65.9261,-21.93335],[-66.04832,-21.9187],[-66.03836,-21.84829],[-66.24077,-21.77837],[-66.29714,-22.08741],[-66.7298,-22.23644],[-67.18382,-22.81525],[-66.99632,-22.99839],[-67.33563,-24.04237],[-68.24825,-24.42596],[-68.56909,-24.69831],[-68.38372,-25.08636],[-68.57622,-25.32505],[-68.38372,-26.15353],[-68.56909,-26.28146],[-68.59048,-26.49861],[-68.27677,-26.90626],[-68.43363,-27.08414],[-68.77586,-27.16029],[-69.22504,-27.95042],[-69.66709,-28.44055],[-69.80969,-29.07185],[-69.99507,-29.28351],[-69.8596,-30.26131],[-70.14479,-30.36595],[-70.55832,-31.51559],[-69.88099,-33.34489],[-69.87386,-34.13344],[-70.49416,-35.24145],[-70.38008,-36.02375],[-70.95047,-36.4321],[-71.24279,-37.20264],[-70.89532,-38.6923],[-71.37826,-38.91474],[-71.92726,-40.72714],[-71.74901,-42.11711],[-72.15541,-42.15941],[-72.14828,-42.85321],[-71.64206,-43.64774],[-71.81318,-44.38097],[-71.16436,-44.46244],[-71.26418,-44.75684],[-72.06985,-44.81756],[-71.35687,-45.22075],[-71.75614,-45.61611],[-71.68577,-46.55385],[-71.94152,-47.13595],[-72.50478,-47.80586],[-72.27662,-48.28727],[-72.54042,-48.52392],[-72.56894,-48.81116],[-73.09655,-49.14342],[-73.45156,-49.79461],[-73.55259,-49.92488],[-73.15765,-50.78337],[-72.31343,-50.58411]]]]}},{type:"Feature",properties:{iso1A2:"AS",iso1A3:"ASM",iso1N3:"016",wikidata:"Q16641",nameEn:"American Samoa",aliases:["US-AS"],country:"US",groups:["Q1352230","061","009","UN"],roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["1 684"]},geometry:{type:"MultiPolygon",coordinates:[[[[-171.39864,-10.21587],[-170.99605,-15.1275],[-166.32598,-15.26169],[-171.39864,-10.21587]]]]}},{type:"Feature",properties:{iso1A2:"AT",iso1A3:"AUT",iso1N3:"040",wikidata:"Q40",nameEn:"Austria",groups:["EU","155","150","UN"],callingCodes:["43"]},geometry:{type:"MultiPolygon",coordinates:[[[[15.34823,48.98444],[15.28305,48.98831],[15.26177,48.95766],[15.16358,48.94278],[15.15534,48.99056],[14.99878,49.01444],[14.97612,48.96983],[14.98917,48.90082],[14.95072,48.79101],[14.98032,48.77959],[14.9782,48.7766],[14.98112,48.77524],[14.9758,48.76857],[14.95641,48.75915],[14.94773,48.76268],[14.81545,48.7874],[14.80821,48.77711],[14.80584,48.73489],[14.72756,48.69502],[14.71794,48.59794],[14.66762,48.58215],[14.60808,48.62881],[14.56139,48.60429],[14.4587,48.64695],[14.43076,48.58855],[14.33909,48.55852],[14.20691,48.5898],[14.09104,48.5943],[14.01482,48.63788],[14.06151,48.66873],[13.84023,48.76988],[13.82266,48.75544],[13.81863,48.73257],[13.79337,48.71375],[13.81791,48.69832],[13.81283,48.68426],[13.81901,48.6761],[13.82609,48.62345],[13.80038,48.59487],[13.80519,48.58026],[13.76921,48.55324],[13.7513,48.5624],[13.74816,48.53058],[13.72802,48.51208],[13.66113,48.53558],[13.65186,48.55092],[13.62508,48.55501],[13.59705,48.57013],[13.57535,48.55912],[13.51291,48.59023],[13.50131,48.58091],[13.50663,48.57506],[13.46967,48.55157],[13.45214,48.56472],[13.43695,48.55776],[13.45727,48.51092],[13.42527,48.45711],[13.43929,48.43386],[13.40709,48.37292],[13.30897,48.31575],[13.26039,48.29422],[13.18093,48.29577],[13.126,48.27867],[13.0851,48.27711],[13.02083,48.25689],[12.95306,48.20629],[12.87126,48.20318],[12.84475,48.16556],[12.836,48.1647],[12.8362,48.15876],[12.82673,48.15245],[12.80676,48.14979],[12.78595,48.12445],[12.7617,48.12796],[12.74973,48.10885],[12.76141,48.07373],[12.8549,48.01122],[12.87476,47.96195],[12.91683,47.95647],[12.9211,47.95135],[12.91985,47.94069],[12.92668,47.93879],[12.93419,47.94063],[12.93642,47.94436],[12.93886,47.94046],[12.94163,47.92927],[13.00588,47.84374],[12.98543,47.82896],[12.96311,47.79957],[12.93202,47.77302],[12.94371,47.76281],[12.9353,47.74788],[12.91711,47.74026],[12.90274,47.72513],[12.91333,47.7178],[12.92969,47.71094],[12.98578,47.7078],[13.01382,47.72116],[13.07692,47.68814],[13.09562,47.63304],[13.06407,47.60075],[13.06641,47.58577],[13.04537,47.58183],[13.05355,47.56291],[13.03252,47.53373],[13.04537,47.49426],[12.9998,47.46267],[12.98344,47.48716],[12.9624,47.47452],[12.85256,47.52741],[12.84672,47.54556],[12.80699,47.54477],[12.77427,47.58025],[12.82101,47.61493],[12.76492,47.64485],[12.77777,47.66689],[12.7357,47.6787],[12.6071,47.6741],[12.57438,47.63238],[12.53816,47.63553],[12.50076,47.62293],[12.44117,47.6741],[12.43883,47.6977],[12.37222,47.68433],[12.336,47.69534],[12.27991,47.68827],[12.26004,47.67725],[12.24017,47.69534],[12.26238,47.73544],[12.2542,47.7433],[12.22571,47.71776],[12.18303,47.70065],[12.16217,47.70105],[12.16769,47.68167],[12.18347,47.66663],[12.18507,47.65984],[12.19895,47.64085],[12.20801,47.61082],[12.20398,47.60667],[12.18568,47.6049],[12.17737,47.60121],[12.18145,47.61019],[12.17824,47.61506],[12.13734,47.60639],[12.05788,47.61742],[12.02282,47.61033],[12.0088,47.62451],[11.85572,47.60166],[11.84052,47.58354],[11.63934,47.59202],[11.60681,47.57881],[11.58811,47.55515],[11.58578,47.52281],[11.52618,47.50939],[11.4362,47.51413],[11.38128,47.47465],[11.4175,47.44621],[11.33804,47.44937],[11.29597,47.42566],[11.27844,47.39956],[11.22002,47.3964],[11.25157,47.43277],[11.20482,47.43198],[11.12536,47.41222],[11.11835,47.39719],[10.97111,47.39561],[10.97111,47.41617],[10.98513,47.42882],[10.92437,47.46991],[10.93839,47.48018],[10.90918,47.48571],[10.87061,47.4786],[10.86945,47.5015],[10.91268,47.51334],[10.88814,47.53701],[10.77596,47.51729],[10.7596,47.53228],[10.6965,47.54253],[10.68832,47.55752],[10.63456,47.5591],[10.60337,47.56755],[10.56912,47.53584],[10.48849,47.54057],[10.47329,47.58552],[10.43473,47.58394],[10.44992,47.5524],[10.4324,47.50111],[10.44291,47.48453],[10.46278,47.47901],[10.47446,47.43318],[10.4359,47.41183],[10.4324,47.38494],[10.39851,47.37623],[10.33424,47.30813],[10.23257,47.27088],[10.17531,47.27167],[10.17648,47.29149],[10.2147,47.31014],[10.19998,47.32832],[10.23757,47.37609],[10.22774,47.38904],[10.2127,47.38019],[10.17648,47.38889],[10.16362,47.36674],[10.11805,47.37228],[10.09819,47.35724],[10.06897,47.40709],[10.1052,47.4316],[10.09001,47.46005],[10.07131,47.45531],[10.03859,47.48927],[10.00003,47.48216],[9.96029,47.53899],[9.92407,47.53111],[9.87733,47.54688],[9.87499,47.52953],[9.8189,47.54688],[9.82591,47.58158],[9.80254,47.59419],[9.76748,47.5934],[9.72736,47.53457],[9.55125,47.53629],[9.56312,47.49495],[9.58208,47.48344],[9.59482,47.46305],[9.60205,47.46165],[9.60484,47.46358],[9.60841,47.47178],[9.62158,47.45858],[9.62475,47.45685],[9.6423,47.45599],[9.65728,47.45383],[9.65863,47.44847],[9.64483,47.43842],[9.6446,47.43233],[9.65043,47.41937],[9.65136,47.40504],[9.6629,47.39591],[9.67334,47.39191],[9.67445,47.38429],[9.6711,47.37824],[9.66243,47.37136],[9.65427,47.36824],[9.62476,47.36639],[9.59978,47.34671],[9.58513,47.31334],[9.55857,47.29919],[9.54773,47.2809],[9.53116,47.27029],[9.56766,47.24281],[9.55176,47.22585],[9.56981,47.21926],[9.58264,47.20673],[9.56539,47.17124],[9.62623,47.14685],[9.63395,47.08443],[9.61216,47.07732],[9.60717,47.06091],[9.87935,47.01337],[9.88266,46.93343],[9.98058,46.91434],[10.10715,46.84296],[10.22675,46.86942],[10.24128,46.93147],[10.30031,46.92093],[10.36933,47.00212],[10.48376,46.93891],[10.47197,46.85698],[10.54783,46.84505],[10.66405,46.87614],[10.75753,46.82258],[10.72974,46.78972],[11.00764,46.76896],[11.10618,46.92966],[11.33355,46.99862],[11.50739,47.00644],[11.74789,46.98484],[12.19254,47.09331],[12.21781,47.03996],[12.11675,47.01241],[12.2006,46.88854],[12.27591,46.88651],[12.38708,46.71529],[12.59992,46.6595],[12.94445,46.60401],[13.27627,46.56059],[13.64088,46.53438],[13.7148,46.5222],[13.89837,46.52331],[14.00422,46.48474],[14.04002,46.49117],[14.12097,46.47724],[14.15989,46.43327],[14.28326,46.44315],[14.314,46.43327],[14.42608,46.44614],[14.45877,46.41717],[14.52176,46.42617],[14.56463,46.37208],[14.5942,46.43434],[14.66892,46.44936],[14.72185,46.49974],[14.81836,46.51046],[14.83549,46.56614],[14.86419,46.59411],[14.87129,46.61],[14.92283,46.60848],[14.96002,46.63459],[14.98024,46.6009],[15.01451,46.641],[15.14215,46.66131],[15.23711,46.63994],[15.41235,46.65556],[15.45514,46.63697],[15.46906,46.61321],[15.54431,46.6312],[15.55333,46.64988],[15.54533,46.66985],[15.59826,46.68908],[15.62317,46.67947],[15.63255,46.68069],[15.6365,46.6894],[15.6543,46.69228],[15.6543,46.70616],[15.67411,46.70735],[15.69523,46.69823],[15.72279,46.69548],[15.73823,46.70011],[15.76771,46.69863],[15.78518,46.70712],[15.8162,46.71897],[15.87691,46.7211],[15.94864,46.68769],[15.98512,46.68463],[15.99988,46.67947],[16.04036,46.6549],[16.04347,46.68694],[16.02808,46.71094],[15.99769,46.7266],[15.98432,46.74991],[15.99126,46.78199],[15.99054,46.82772],[16.05786,46.83927],[16.10983,46.867],[16.19904,46.94134],[16.22403,46.939],[16.27594,46.9643],[16.28202,47.00159],[16.51369,47.00084],[16.43936,47.03548],[16.52176,47.05747],[16.46134,47.09395],[16.52863,47.13974],[16.44932,47.14418],[16.46442,47.16845],[16.4523,47.18812],[16.42801,47.18422],[16.41739,47.20649],[16.43663,47.21127],[16.44142,47.25079],[16.47782,47.25918],[16.45104,47.41181],[16.49908,47.39416],[16.52414,47.41007],[16.57152,47.40868],[16.6718,47.46139],[16.64821,47.50155],[16.71059,47.52692],[16.64193,47.63114],[16.58699,47.61772],[16.4222,47.66537],[16.55129,47.72268],[16.53514,47.73837],[16.54779,47.75074],[16.61183,47.76171],[16.65679,47.74197],[16.72089,47.73469],[16.7511,47.67878],[16.82938,47.68432],[16.86509,47.72268],[16.87538,47.68895],[17.08893,47.70928],[17.05048,47.79377],[17.07039,47.81129],[17.00997,47.86245],[17.08275,47.87719],[17.11022,47.92461],[17.09786,47.97336],[17.16001,48.00636],[17.07039,48.0317],[17.09168,48.09366],[17.05735,48.14179],[17.02919,48.13996],[16.97701,48.17385],[16.89461,48.31332],[16.90903,48.32519],[16.84243,48.35258],[16.83317,48.38138],[16.83588,48.3844],[16.8497,48.38321],[16.85204,48.44968],[16.94611,48.53614],[16.93955,48.60371],[16.90354,48.71541],[16.79779,48.70998],[16.71883,48.73806],[16.68518,48.7281],[16.67008,48.77699],[16.46134,48.80865],[16.40915,48.74576],[16.37345,48.729],[16.06034,48.75436],[15.84404,48.86921],[15.78087,48.87644],[15.75341,48.8516],[15.6921,48.85973],[15.61622,48.89541],[15.51357,48.91549],[15.48027,48.94481],[15.34823,48.98444]]]]}},{type:"Feature",properties:{iso1A2:"AU",iso1A3:"AUS",iso1N3:"036",wikidata:"Q408",nameEn:"Australia"},geometry:null},{type:"Feature",properties:{iso1A2:"AW",iso1A3:"ABW",iso1N3:"533",wikidata:"Q21203",nameEn:"Aruba",aliases:["NL-AW"],country:"NL",groups:["Q1451600","029","003","419","019","UN"],callingCodes:["297"]},geometry:{type:"MultiPolygon",coordinates:[[[[-70.00823,12.98375],[-70.35625,12.58277],[-69.60231,12.17],[-70.00823,12.98375]]]]}},{type:"Feature",properties:{iso1A2:"AX",iso1A3:"ALA",iso1N3:"248",wikidata:"Q5689",nameEn:"\xC5land Islands",country:"FI",groups:["EU","154","150","UN"],callingCodes:["358 18","358 457"]},geometry:{type:"MultiPolygon",coordinates:[[[[19.08191,60.19152],[20.5104,59.15546],[21.35468,59.67511],[21.02509,60.12142],[21.08159,60.20167],[21.15143,60.54555],[20.96741,60.71528],[19.23413,60.61414],[19.08191,60.19152]]]]}},{type:"Feature",properties:{iso1A2:"AZ",iso1A3:"AZE",iso1N3:"031",wikidata:"Q227",nameEn:"Azerbaijan",groups:["145","142","UN"],callingCodes:["994"]},geometry:{type:"MultiPolygon",coordinates:[[[[46.42738,41.91323],[46.3984,41.84399],[46.30863,41.79133],[46.23962,41.75811],[46.20538,41.77205],[46.17891,41.72094],[46.19759,41.62327],[46.24429,41.59883],[46.26531,41.63339],[46.28182,41.60089],[46.3253,41.60912],[46.34039,41.5947],[46.34126,41.57454],[46.29794,41.5724],[46.33925,41.4963],[46.40307,41.48464],[46.4669,41.43331],[46.63658,41.37727],[46.72375,41.28609],[46.66148,41.20533],[46.63969,41.09515],[46.55096,41.1104],[46.48558,41.0576],[46.456,41.09984],[46.37661,41.10805],[46.27698,41.19011],[46.13221,41.19479],[45.95786,41.17956],[45.80842,41.2229],[45.69946,41.29545],[45.75705,41.35157],[45.71035,41.36208],[45.68389,41.3539],[45.45973,41.45898],[45.4006,41.42402],[45.31352,41.47168],[45.26285,41.46433],[45.1797,41.42231],[45.09867,41.34065],[45.0133,41.29747],[45.05497,41.2464],[45.02932,41.2101],[45.05201,41.19211],[45.11811,41.19967],[45.1969,41.168],[45.19942,41.13299],[45.08028,41.10917],[45.06784,41.05379],[45.12923,41.06059],[45.1313,41.09369],[45.1634,41.08082],[45.16493,41.05068],[45.1994,41.04518],[45.25897,41.0027],[45.26162,41.0228],[45.28859,41.03757],[45.35677,40.99784],[45.39725,41.02603],[45.44083,41.01663],[45.40814,40.97904],[45.60584,40.87436],[45.55914,40.78366],[45.4206,40.7424],[45.35366,40.65979],[45.45484,40.57707],[45.42994,40.53804],[45.65098,40.37696],[45.95609,40.27846],[45.97944,40.181],[45.83779,39.98925],[45.78642,40.03218],[45.59806,40.0131],[45.60895,39.97733],[45.7833,39.9475],[45.82533,39.82925],[45.96543,39.78859],[46.18493,39.60533],[46.40286,39.63651],[46.42465,39.57534],[46.52117,39.58734],[46.57098,39.56694],[46.57721,39.54414],[46.51027,39.52373],[46.53051,39.47809],[46.4013,39.45405],[46.37795,39.42039],[46.43244,39.35181],[46.50093,39.33736],[46.56476,39.24942],[46.63481,39.23013],[46.58032,39.21204],[46.54141,39.15895],[46.52584,39.18912],[46.44022,39.19636],[46.54296,39.07078],[46.51805,38.94982],[46.53497,38.86548],[46.75752,39.03231],[46.83822,39.13143],[46.92539,39.16644],[46.95341,39.13505],[47.05771,39.20143],[47.05927,39.24846],[47.31301,39.37492],[47.38978,39.45999],[47.50099,39.49615],[47.84774,39.66285],[47.98977,39.70999],[48.34264,39.42935],[48.37385,39.37584],[48.15984,39.30028],[48.12404,39.25208],[48.15361,39.19419],[48.31239,39.09278],[48.33884,39.03022],[48.28437,38.97186],[48.08627,38.94434],[48.07734,38.91616],[48.01409,38.90333],[48.02581,38.82705],[48.24773,38.71883],[48.3146,38.59958],[48.45084,38.61013],[48.58793,38.45076],[48.62217,38.40198],[48.70001,38.40564],[48.78979,38.45026],[48.81072,38.44853],[48.84969,38.45015],[48.88288,38.43975],[52.39847,39.43556],[48.80971,41.95365],[48.5867,41.84306],[48.55078,41.77917],[48.42301,41.65444],[48.40277,41.60441],[48.2878,41.56221],[48.22064,41.51472],[48.07587,41.49957],[47.87973,41.21798],[47.75831,41.19455],[47.62288,41.22969],[47.54504,41.20275],[47.49004,41.26366],[47.34579,41.27884],[47.10762,41.59044],[47.03757,41.55434],[46.99554,41.59743],[47.00955,41.63583],[46.8134,41.76252],[46.75269,41.8623],[46.58924,41.80547],[46.5332,41.87389],[46.42738,41.91323]],[[45.50279,40.58424],[45.47927,40.65023],[45.51825,40.67382],[45.56071,40.64765],[45.50279,40.58424]]],[[[45.00864,41.03411],[45.03792,41.03938],[45.04517,41.06653],[45.03406,41.07931],[45.00864,41.09407],[44.97169,41.09176],[44.95383,41.07553],[44.96031,41.06345],[44.9903,41.05657],[45.00864,41.03411]]],[[[45.21324,40.9817],[45.23095,40.97828],[45.23487,41.00226],[45.20625,41.01484],[45.18382,41.0066],[45.19312,40.98998],[45.20518,40.99348],[45.21219,40.99001],[45.21324,40.9817]]],[[[45.46992,39.49888],[45.29606,39.57654],[45.30385,39.61373],[45.23535,39.61373],[45.21784,39.58074],[45.17464,39.58614],[45.18554,39.67846],[45.06604,39.79277],[44.92869,39.72157],[44.88354,39.74432],[44.75779,39.7148],[44.80977,39.65768],[44.81043,39.62677],[44.88916,39.59653],[44.96746,39.42998],[45.05932,39.36435],[45.08751,39.35052],[45.16168,39.21952],[45.30489,39.18333],[45.40148,39.09007],[45.40452,39.07224],[45.44811,39.04927],[45.44966,38.99243],[45.6131,38.964],[45.6155,38.94304],[45.65172,38.95199],[45.83883,38.90768],[45.90266,38.87739],[45.94624,38.89072],[46.00228,38.87376],[46.06766,38.87861],[46.14785,38.84206],[46.06973,39.0744],[46.02303,39.09978],[45.99774,39.28931],[45.79225,39.3695],[45.83,39.46487],[45.80804,39.56716],[45.70547,39.60174],[45.46992,39.49888]]]]}},{type:"Feature",properties:{iso1A2:"BA",iso1A3:"BIH",iso1N3:"070",wikidata:"Q225",nameEn:"Bosnia and Herzegovina",groups:["039","150","UN"],callingCodes:["387"]},geometry:{type:"MultiPolygon",coordinates:[[[[17.84826,45.04489],[17.66571,45.13408],[17.59104,45.10816],[17.51469,45.10791],[17.47589,45.12656],[17.45615,45.12523],[17.4498,45.16119],[17.41229,45.13335],[17.33573,45.14521],[17.32092,45.16246],[17.26815,45.18444],[17.25131,45.14957],[17.24325,45.146],[17.18438,45.14764],[17.0415,45.20759],[16.9385,45.22742],[16.92405,45.27607],[16.83804,45.18951],[16.81137,45.18434],[16.78219,45.19002],[16.74845,45.20393],[16.64962,45.20714],[16.60194,45.23042],[16.56559,45.22307],[16.5501,45.2212],[16.52982,45.22713],[16.49155,45.21153],[16.4634,45.14522],[16.40023,45.1147],[16.38309,45.05955],[16.38219,45.05139],[16.3749,45.05206],[16.35863,45.03529],[16.35404,45.00241],[16.29036,44.99732],[16.12153,45.09616],[15.98412,45.23088],[15.83512,45.22459],[15.76371,45.16508],[15.78842,45.11519],[15.74585,45.0638],[15.78568,44.97401],[15.74723,44.96818],[15.76096,44.87045],[15.79472,44.8455],[15.72584,44.82334],[15.8255,44.71501],[15.89348,44.74964],[16.05828,44.61538],[16.00884,44.58605],[16.03012,44.55572],[16.10566,44.52586],[16.16814,44.40679],[16.12969,44.38275],[16.21346,44.35231],[16.18688,44.27012],[16.36864,44.08263],[16.43662,44.07523],[16.43629,44.02826],[16.50528,44.0244],[16.55472,43.95326],[16.70922,43.84887],[16.75316,43.77157],[16.80736,43.76011],[17.00585,43.58037],[17.15828,43.49376],[17.24411,43.49376],[17.29699,43.44542],[17.25579,43.40353],[17.286,43.33065],[17.46986,43.16559],[17.64268,43.08595],[17.70879,42.97223],[17.5392,42.92787],[17.6444,42.88641],[17.68151,42.92725],[17.7948,42.89556],[17.80854,42.9182],[17.88201,42.83668],[18.24318,42.6112],[18.36197,42.61423],[18.43735,42.55921],[18.49778,42.58409],[18.53751,42.57376],[18.55504,42.58409],[18.52232,42.62279],[18.57373,42.64429],[18.54841,42.68328],[18.54603,42.69171],[18.55221,42.69045],[18.56789,42.72074],[18.47324,42.74992],[18.45921,42.81682],[18.47633,42.85829],[18.4935,42.86433],[18.49661,42.89306],[18.49076,42.95553],[18.52232,43.01451],[18.66254,43.03928],[18.64735,43.14766],[18.66605,43.2056],[18.71747,43.2286],[18.6976,43.25243],[18.76538,43.29838],[18.85342,43.32426],[18.84794,43.33735],[18.83912,43.34795],[18.90911,43.36383],[18.95819,43.32899],[18.95001,43.29327],[19.00844,43.24988],[19.04233,43.30008],[19.08206,43.29668],[19.08673,43.31453],[19.04071,43.397],[19.01078,43.43854],[18.96053,43.45042],[18.95469,43.49367],[18.91379,43.50299],[19.01078,43.55806],[19.04934,43.50384],[19.13933,43.5282],[19.15685,43.53943],[19.22807,43.5264],[19.24774,43.53061],[19.2553,43.5938],[19.33426,43.58833],[19.36653,43.60921],[19.41941,43.54056],[19.42696,43.57987],[19.50455,43.58385],[19.5176,43.71403],[19.3986,43.79668],[19.23465,43.98764],[19.24363,44.01502],[19.38439,43.96611],[19.52515,43.95573],[19.56498,43.99922],[19.61836,44.01464],[19.61991,44.05254],[19.57467,44.04716],[19.55999,44.06894],[19.51167,44.08158],[19.47321,44.1193],[19.48386,44.14332],[19.47338,44.15034],[19.43905,44.13088],[19.40927,44.16722],[19.3588,44.18353],[19.34773,44.23244],[19.32464,44.27185],[19.26945,44.26957],[19.23306,44.26097],[19.20508,44.2917],[19.18328,44.28383],[19.16741,44.28648],[19.13332,44.31492],[19.13556,44.338],[19.11547,44.34218],[19.1083,44.3558],[19.11865,44.36712],[19.10298,44.36924],[19.10365,44.37795],[19.10704,44.38249],[19.10749,44.39421],[19.11785,44.40313],[19.14681,44.41463],[19.14837,44.45253],[19.12278,44.50132],[19.13369,44.52521],[19.16699,44.52197],[19.26388,44.65412],[19.32543,44.74058],[19.36722,44.88164],[19.18183,44.92055],[19.01994,44.85493],[18.8704,44.85097],[18.76347,44.90669],[18.76369,44.93707],[18.80661,44.93561],[18.78357,44.97741],[18.65723,45.07544],[18.47939,45.05871],[18.41896,45.11083],[18.32077,45.1021],[18.24387,45.13699],[18.1624,45.07654],[18.03121,45.12632],[18.01594,45.15163],[17.99479,45.14958],[17.97834,45.13831],[17.97336,45.12245],[17.93706,45.08016],[17.87148,45.04645],[17.84826,45.04489]]]]}},{type:"Feature",properties:{iso1A2:"BB",iso1A3:"BRB",iso1N3:"052",wikidata:"Q244",nameEn:"Barbados",groups:["029","003","419","019","UN"],driveSide:"left",callingCodes:["1 246"]},geometry:{type:"MultiPolygon",coordinates:[[[[-58.56442,13.24471],[-59.80731,13.87556],[-59.82929,12.70644],[-58.56442,13.24471]]]]}},{type:"Feature",properties:{iso1A2:"BD",iso1A3:"BGD",iso1N3:"050",wikidata:"Q902",nameEn:"Bangladesh",groups:["034","142","UN"],driveSide:"left",callingCodes:["880"]},geometry:{type:"MultiPolygon",coordinates:[[[[89.15869,26.13708],[89.08899,26.38845],[88.95612,26.4564],[88.92357,26.40711],[88.91321,26.37984],[89.05328,26.2469],[88.85004,26.23211],[88.78961,26.31093],[88.67837,26.26291],[88.69485,26.38353],[88.62144,26.46783],[88.4298,26.54489],[88.41196,26.63837],[88.33093,26.48929],[88.35153,26.45241],[88.36938,26.48683],[88.48749,26.45855],[88.51649,26.35923],[88.35153,26.29123],[88.34757,26.22216],[88.1844,26.14417],[88.16581,26.0238],[88.08804,25.91334],[88.13138,25.78773],[88.242,25.80811],[88.45103,25.66245],[88.4559,25.59227],[88.677,25.46959],[88.81296,25.51546],[88.85278,25.34679],[89.01105,25.30303],[89.00463,25.26583],[88.94067,25.18534],[88.44766,25.20149],[88.46277,25.07468],[88.33917,24.86803],[88.27325,24.88796],[88.21832,24.96642],[88.14004,24.93529],[88.15515,24.85806],[88.00683,24.66477],[88.08786,24.63232],[88.12296,24.51301],[88.50934,24.32474],[88.68801,24.31464],[88.74841,24.1959],[88.6976,24.14703],[88.73743,23.91751],[88.66189,23.87607],[88.58087,23.87105],[88.56507,23.64044],[88.74841,23.47361],[88.79351,23.50535],[88.79254,23.46028],[88.71133,23.2492],[88.99148,23.21134],[88.86377,23.08759],[88.88327,23.03885],[88.87063,22.95235],[88.96713,22.83346],[88.9151,22.75228],[88.94614,22.66941],[88.9367,22.58527],[89.07114,22.15335],[89.08044,21.41871],[92.47409,20.38654],[92.26071,21.05697],[92.17752,21.17445],[92.20087,21.337],[92.37939,21.47764],[92.43158,21.37025],[92.55105,21.3856],[92.60187,21.24615],[92.68152,21.28454],[92.59775,21.6092],[92.62187,21.87037],[92.60949,21.97638],[92.56616,22.13554],[92.60029,22.1522],[92.5181,22.71441],[92.37665,22.9435],[92.38214,23.28705],[92.26541,23.70392],[92.15417,23.73409],[92.04706,23.64229],[91.95093,23.73284],[91.95642,23.47361],[91.84789,23.42235],[91.76417,23.26619],[91.81634,23.08001],[91.7324,23.00043],[91.61571,22.93929],[91.54993,23.01051],[91.46615,23.2328],[91.4035,23.27522],[91.40848,23.07117],[91.36453,23.06612],[91.28293,23.37538],[91.15579,23.6599],[91.25192,23.83463],[91.22308,23.89616],[91.29587,24.0041],[91.35741,23.99072],[91.37414,24.10693],[91.55542,24.08687],[91.63782,24.1132],[91.65292,24.22095],[91.73257,24.14703],[91.76004,24.23848],[91.82596,24.22345],[91.89258,24.14674],[91.96603,24.3799],[92.11662,24.38997],[92.15796,24.54435],[92.25854,24.9191],[92.38626,24.86055],[92.49887,24.88796],[92.39147,25.01471],[92.33957,25.07593],[92.0316,25.1834],[91.63648,25.12846],[91.25517,25.20677],[90.87427,25.15799],[90.65042,25.17788],[90.40034,25.1534],[90.1155,25.22686],[89.90478,25.31038],[89.87629,25.28337],[89.83371,25.29548],[89.84086,25.31854],[89.81208,25.37244],[89.86129,25.61714],[89.84388,25.70042],[89.80585,25.82489],[89.86592,25.93115],[89.77728,26.04254],[89.77865,26.08387],[89.73581,26.15818],[89.70201,26.15138],[89.63968,26.22595],[89.57101,25.9682],[89.53515,26.00382],[89.35953,26.0077],[89.15869,26.13708]]]]}},{type:"Feature",properties:{iso1A2:"BE",iso1A3:"BEL",iso1N3:"056",wikidata:"Q31",nameEn:"Belgium",groups:["EU","155","150","UN"],callingCodes:["32"]},geometry:{type:"MultiPolygon",coordinates:[[[[4.93295,51.44945],[4.93909,51.44632],[4.9524,51.45014],[4.95244,51.45207],[4.93295,51.44945]]],[[[4.91493,51.4353],[4.92652,51.43329],[4.92952,51.42984],[4.93986,51.43064],[4.94265,51.44003],[4.93471,51.43861],[4.93416,51.44185],[4.94025,51.44193],[4.93544,51.44634],[4.92879,51.44161],[4.92815,51.43856],[4.92566,51.44273],[4.92811,51.4437],[4.92287,51.44741],[4.91811,51.44621],[4.92227,51.44252],[4.91935,51.43634],[4.91493,51.4353]]],[[[4.82946,51.4213],[4.82409,51.44736],[4.84139,51.4799],[4.78803,51.50284],[4.77321,51.50529],[4.74578,51.48937],[4.72935,51.48424],[4.65442,51.42352],[4.57489,51.4324],[4.53521,51.4243],[4.52846,51.45002],[4.54675,51.47265],[4.5388,51.48184],[4.47736,51.4778],[4.38122,51.44905],[4.39747,51.43316],[4.38064,51.41965],[4.43777,51.36989],[4.39292,51.35547],[4.34086,51.35738],[4.33265,51.37687],[4.21923,51.37443],[4.24024,51.35371],[4.16721,51.29348],[4.05165,51.24171],[4.01957,51.24504],[3.97889,51.22537],[3.90125,51.20371],[3.78783,51.2151],[3.78999,51.25766],[3.58939,51.30064],[3.51502,51.28697],[3.52698,51.2458],[3.43488,51.24135],[3.41704,51.25933],[3.38289,51.27331],[3.35847,51.31572],[3.38696,51.33436],[3.36263,51.37112],[2.56575,51.85301],[2.18458,51.52087],[2.55904,51.07014],[2.57551,51.00326],[2.63074,50.94746],[2.59093,50.91751],[2.63331,50.81457],[2.71165,50.81295],[2.81056,50.71773],[2.8483,50.72276],[2.86985,50.7033],[2.87937,50.70298],[2.88504,50.70656],[2.90069,50.69263],[2.91036,50.6939],[2.90873,50.702],[2.95019,50.75138],[2.96778,50.75242],[3.00537,50.76588],[3.04314,50.77674],[3.09163,50.77717],[3.10614,50.78303],[3.11206,50.79416],[3.11987,50.79188],[3.1257,50.78603],[3.15017,50.79031],[3.16476,50.76843],[3.18339,50.74981],[3.18811,50.74025],[3.20064,50.73547],[3.19017,50.72569],[3.20845,50.71662],[3.22042,50.71019],[3.24593,50.71389],[3.26063,50.70086],[3.26141,50.69151],[3.2536,50.68977],[3.264,50.67668],[3.23951,50.6585],[3.2729,50.60718],[3.28575,50.52724],[3.37693,50.49538],[3.44629,50.51009],[3.47385,50.53397],[3.51564,50.5256],[3.49509,50.48885],[3.5683,50.50192],[3.58361,50.49049],[3.61014,50.49568],[3.64426,50.46275],[3.66153,50.45165],[3.67494,50.40239],[3.67262,50.38663],[3.65709,50.36873],[3.66976,50.34563],[3.71009,50.30305],[3.70987,50.3191],[3.73911,50.34809],[3.84314,50.35219],[3.90781,50.32814],[3.96771,50.34989],[4.0268,50.35793],[4.0689,50.3254],[4.10237,50.31247],[4.10957,50.30234],[4.11954,50.30425],[4.13665,50.25609],[4.16808,50.25786],[4.15524,50.2833],[4.17347,50.28838],[4.17861,50.27443],[4.20651,50.27333],[4.21945,50.25539],[4.15524,50.21103],[4.16014,50.19239],[4.13561,50.13078],[4.20147,50.13535],[4.23101,50.06945],[4.16294,50.04719],[4.13508,50.01976],[4.14239,49.98034],[4.20532,49.95803],[4.31963,49.97043],[4.35051,49.95315],[4.43488,49.94122],[4.51098,49.94659],[4.5414,49.96911],[4.68695,49.99685],[4.70064,50.09384],[4.75237,50.11314],[4.82438,50.16878],[4.83279,50.15331],[4.88602,50.15182],[4.8382,50.06738],[4.78827,49.95609],[4.88529,49.9236],[4.85134,49.86457],[4.86965,49.82271],[4.85464,49.78995],[4.96714,49.79872],[5.09249,49.76193],[5.14545,49.70287],[5.26232,49.69456],[5.31465,49.66846],[5.33039,49.6555],[5.30214,49.63055],[5.3137,49.61225],[5.33851,49.61599],[5.34837,49.62889],[5.3974,49.61596],[5.43713,49.5707],[5.46734,49.52648],[5.46541,49.49825],[5.55001,49.52729],[5.60909,49.51228],[5.64505,49.55146],[5.75649,49.54321],[5.7577,49.55915],[5.77435,49.56298],[5.79195,49.55228],[5.81838,49.54777],[5.84143,49.5533],[5.84692,49.55663],[5.8424,49.56082],[5.87256,49.57539],[5.86986,49.58756],[5.84971,49.58674],[5.84826,49.5969],[5.8762,49.60898],[5.87609,49.62047],[5.88393,49.62802],[5.88552,49.63507],[5.90599,49.63853],[5.90164,49.6511],[5.9069,49.66377],[5.86175,49.67862],[5.86527,49.69291],[5.88677,49.70951],[5.86503,49.72739],[5.84193,49.72161],[5.82562,49.72395],[5.83149,49.74729],[5.82245,49.75048],[5.78871,49.7962],[5.75409,49.79239],[5.74953,49.81428],[5.74364,49.82058],[5.74844,49.82435],[5.7404,49.83452],[5.74076,49.83823],[5.74975,49.83933],[5.74953,49.84709],[5.75884,49.84811],[5.74567,49.85368],[5.75861,49.85631],[5.75269,49.8711],[5.78415,49.87922],[5.73621,49.89796],[5.77314,49.93646],[5.77291,49.96056],[5.80833,49.96451],[5.81163,49.97142],[5.83467,49.97823],[5.83968,49.9892],[5.82331,49.99662],[5.81866,50.01286],[5.8551,50.02683],[5.86904,50.04614],[5.85474,50.06342],[5.8857,50.07824],[5.89488,50.11476],[5.95929,50.13295],[5.96453,50.17259],[6.02488,50.18283],[6.03093,50.16362],[6.06406,50.15344],[6.08577,50.17246],[6.12028,50.16374],[6.1137,50.13668],[6.1379,50.12964],[6.15298,50.14126],[6.14132,50.14971],[6.14588,50.17106],[6.18739,50.1822],[6.18364,50.20815],[6.16853,50.2234],[6.208,50.25179],[6.28797,50.27458],[6.29949,50.30887],[6.32488,50.32333],[6.35701,50.31139],[6.40641,50.32425],[6.40785,50.33557],[6.3688,50.35898],[6.34406,50.37994],[6.36852,50.40776],[6.37219,50.45397],[6.34005,50.46083],[6.3465,50.48833],[6.30809,50.50058],[6.26637,50.50272],[6.22335,50.49578],[6.20599,50.52089],[6.19193,50.5212],[6.18716,50.52653],[6.19579,50.5313],[6.19735,50.53576],[6.17802,50.54179],[6.17739,50.55875],[6.20281,50.56952],[6.22581,50.5907],[6.24005,50.58732],[6.24888,50.59869],[6.2476,50.60392],[6.26957,50.62444],[6.17852,50.6245],[6.11707,50.72231],[6.04428,50.72861],[6.0406,50.71848],[6.0326,50.72647],[6.03889,50.74618],[6.01976,50.75398],[5.97545,50.75441],[5.95942,50.7622],[5.89132,50.75124],[5.89129,50.75125],[5.88734,50.77092],[5.84888,50.75448],[5.84548,50.76542],[5.80673,50.7558],[5.77513,50.78308],[5.76533,50.78159],[5.74356,50.7691],[5.73904,50.75674],[5.72216,50.76398],[5.69469,50.75529],[5.68091,50.75804],[5.70107,50.7827],[5.68995,50.79641],[5.70118,50.80764],[5.65259,50.82309],[5.64009,50.84742],[5.64504,50.87107],[5.67886,50.88142],[5.69858,50.91046],[5.71626,50.90796],[5.72644,50.91167],[5.72545,50.92312],[5.74644,50.94723],[5.75927,50.95601],[5.74752,50.96202],[5.72875,50.95428],[5.71864,50.96092],[5.76242,50.99703],[5.77688,51.02483],[5.75961,51.03113],[5.77258,51.06196],[5.79835,51.05834],[5.79903,51.09371],[5.82921,51.09328],[5.83226,51.10585],[5.8109,51.10861],[5.80798,51.11661],[5.85508,51.14445],[5.82564,51.16753],[5.77697,51.1522],[5.77735,51.17845],[5.74617,51.18928],[5.70344,51.1829],[5.65528,51.18736],[5.65145,51.19788],[5.5603,51.22249],[5.5569,51.26544],[5.515,51.29462],[5.48476,51.30053],[5.46519,51.2849],[5.4407,51.28169],[5.41672,51.26248],[5.347,51.27502],[5.33886,51.26314],[5.29716,51.26104],[5.26461,51.26693],[5.23814,51.26064],[5.22542,51.26888],[5.24244,51.30495],[5.2002,51.32243],[5.16222,51.31035],[5.13377,51.31592],[5.13105,51.34791],[5.07102,51.39469],[5.10456,51.43163],[5.07891,51.4715],[5.04774,51.47022],[5.03281,51.48679],[5.0106,51.47167],[5.00393,51.44406],[4.92152,51.39487],[4.90016,51.41404],[4.84988,51.41502],[4.78941,51.41102],[4.77229,51.41337],[4.76577,51.43046],[4.78314,51.43319],[4.82946,51.4213]]]]}},{type:"Feature",properties:{iso1A2:"BF",iso1A3:"BFA",iso1N3:"854",wikidata:"Q965",nameEn:"Burkina Faso",groups:["011","202","002","UN"],callingCodes:["226"]},geometry:{type:"MultiPolygon",coordinates:[[[[.23859,15.00135],[.06588,14.96961],[-.24673,15.07805],[-.72004,15.08655],[-1.05875,14.7921],[-1.32166,14.72774],[-1.68083,14.50023],[-1.97945,14.47709],[-1.9992,14.19011],[-2.10223,14.14878],[-2.47587,14.29671],[-2.66175,14.14713],[-2.84667,14.05532],[-2.90831,13.81174],[-2.88189,13.64921],[-3.26407,13.70699],[-3.28396,13.5422],[-3.23599,13.29035],[-3.43507,13.27272],[-3.4313,13.1588],[-3.54454,13.1781],[-3.7911,13.36665],[-3.96282,13.38164],[-3.90558,13.44375],[-3.96501,13.49778],[-4.34477,13.12927],[-4.21819,12.95722],[-4.238,12.71467],[-4.47356,12.71252],[-4.41412,12.31922],[-4.57703,12.19875],[-4.54841,12.1385],[-4.62546,12.13204],[-4.62987,12.06531],[-4.70692,12.06746],[-4.72893,12.01579],[-5.07897,11.97918],[-5.26389,11.84778],[-5.40258,11.8327],[-5.26389,11.75728],[-5.29251,11.61715],[-5.22867,11.60421],[-5.20665,11.43811],[-5.25509,11.36905],[-5.25949,11.24816],[-5.32553,11.21578],[-5.32994,11.13371],[-5.49284,11.07538],[-5.41579,10.84628],[-5.47083,10.75329],[-5.46643,10.56074],[-5.51058,10.43177],[-5.39602,10.2929],[-5.12465,10.29788],[-4.96453,9.99923],[-4.96621,9.89132],[-4.6426,9.70696],[-4.31392,9.60062],[-4.25999,9.76012],[-3.69703,9.94279],[-3.31779,9.91125],[-3.27228,9.84981],[-3.19306,9.93781],[-3.16609,9.85147],[-3.00765,9.74019],[-2.93012,9.57403],[-2.76494,9.40778],[-2.68802,9.49343],[-2.76534,9.56589],[-2.74174,9.83172],[-2.83108,10.40252],[-2.94232,10.64281],[-2.83373,11.0067],[-.67143,10.99811],[-.61937,10.91305],[-.44298,11.04292],[-.42391,11.11661],[-.38219,11.12596],[-.35955,11.07801],[-.28566,11.12713],[-.27374,11.17157],[-.13493,11.14075],[.50388,11.01011],[.48852,10.98561],[.50521,10.98035],[.4958,10.93269],[.66104,10.99964],[.91245,10.99597],[.9813,11.08876],[1.03409,11.04719],[1.42823,11.46822],[2.00988,11.42227],[2.29983,11.68254],[2.39723,11.89473],[2.05785,12.35539],[2.26349,12.41915],[.99167,13.10727],[.99253,13.37515],[1.18873,13.31771],[1.21217,13.37853],[1.24516,13.33968],[1.28509,13.35488],[1.24429,13.39373],[1.20088,13.38951],[1.02813,13.46635],[.99514,13.5668],[.77637,13.64442],[.77377,13.6866],[.61924,13.68491],[.38051,14.05575],[.16936,14.51654],[.23859,15.00135]]]]}},{type:"Feature",properties:{iso1A2:"BG",iso1A3:"BGR",iso1N3:"100",wikidata:"Q219",nameEn:"Bulgaria",groups:["EU","151","150","UN"],callingCodes:["359"]},geometry:{type:"MultiPolygon",coordinates:[[[[23.05288,43.79494],[22.85314,43.84452],[22.83753,43.88055],[22.87873,43.9844],[23.01674,44.01946],[23.04988,44.07694],[22.67173,44.21564],[22.61711,44.16938],[22.61688,44.06534],[22.41449,44.00514],[22.35558,43.81281],[22.41043,43.69566],[22.47582,43.6558],[22.53397,43.47225],[22.82036,43.33665],[22.89727,43.22417],[23.00806,43.19279],[22.98104,43.11199],[22.89521,43.03625],[22.78397,42.98253],[22.74826,42.88701],[22.54302,42.87774],[22.43309,42.82057],[22.4997,42.74144],[22.43983,42.56851],[22.55669,42.50144],[22.51961,42.3991],[22.47498,42.3915],[22.45919,42.33822],[22.34773,42.31725],[22.38136,42.30339],[22.47251,42.20393],[22.50289,42.19527],[22.51224,42.15457],[22.67701,42.06614],[22.86749,42.02275],[22.90254,41.87587],[22.96682,41.77137],[23.01239,41.76527],[23.03342,41.71034],[22.95513,41.63265],[22.96331,41.35782],[22.93334,41.34104],[23.1833,41.31755],[23.21953,41.33773],[23.22771,41.37106],[23.31301,41.40525],[23.33639,41.36317],[23.40416,41.39999],[23.52453,41.40262],[23.63203,41.37632],[23.67644,41.41139],[23.76525,41.40175],[23.80148,41.43943],[23.89613,41.45257],[23.91483,41.47971],[23.96975,41.44118],[24.06908,41.46132],[24.06323,41.53222],[24.10063,41.54796],[24.18126,41.51735],[24.27124,41.57682],[24.30513,41.51297],[24.52599,41.56808],[24.61129,41.42278],[24.71529,41.41928],[24.8041,41.34913],[24.82514,41.4035],[24.86136,41.39298],[24.90928,41.40876],[24.942,41.38685],[25.11611,41.34212],[25.28322,41.23411],[25.48187,41.28506],[25.52394,41.2798],[25.55082,41.31667],[25.61042,41.30614],[25.66183,41.31316],[25.70507,41.29209],[25.8266,41.34563],[25.87919,41.30526],[26.12926,41.35878],[26.16548,41.42278],[26.20288,41.43943],[26.14796,41.47533],[26.176,41.50072],[26.17951,41.55409],[26.14328,41.55496],[26.15146,41.60828],[26.07083,41.64584],[26.06148,41.70345],[26.16841,41.74858],[26.21325,41.73223],[26.22888,41.74139],[26.2654,41.71544],[26.30255,41.70925],[26.35957,41.71149],[26.32952,41.73637],[26.33589,41.76802],[26.36952,41.82265],[26.53968,41.82653],[26.57961,41.90024],[26.56051,41.92995],[26.62996,41.97644],[26.79143,41.97386],[26.95638,42.00741],[27.03277,42.0809],[27.08486,42.08735],[27.19251,42.06028],[27.22376,42.10152],[27.27411,42.10409],[27.45478,41.96591],[27.52379,41.93756],[27.55191,41.90928],[27.69949,41.97515],[27.81235,41.94803],[27.83492,41.99709],[27.91479,41.97902],[28.02971,41.98066],[28.32297,41.98371],[29.24336,43.70874],[28.23293,43.76],[27.99558,43.84193],[27.92008,44.00761],[27.73468,43.95326],[27.64542,44.04958],[27.60834,44.01206],[27.39757,44.0141],[27.26845,44.12602],[26.95141,44.13555],[26.62712,44.05698],[26.38764,44.04356],[26.10115,43.96908],[26.05584,43.90925],[25.94911,43.85745],[25.72792,43.69263],[25.39528,43.61866],[25.17144,43.70261],[25.10718,43.6831],[24.96682,43.72693],[24.73542,43.68523],[24.62281,43.74082],[24.50264,43.76314],[24.35364,43.70211],[24.18149,43.68218],[23.73978,43.80627],[23.61687,43.79289],[23.4507,43.84936],[23.26772,43.84843],[23.05288,43.79494]]]]}},{type:"Feature",properties:{iso1A2:"BH",iso1A3:"BHR",iso1N3:"048",wikidata:"Q398",nameEn:"Bahrain",groups:["145","142","UN"],callingCodes:["973"]},geometry:{type:"MultiPolygon",coordinates:[[[[50.93865,26.30758],[50.71771,26.73086],[50.38162,26.53976],[50.26923,26.08243],[50.302,25.87592],[50.57069,25.57887],[50.80824,25.54641],[50.7801,25.595],[50.86149,25.6965],[50.81266,25.88946],[50.93865,26.30758]]]]}},{type:"Feature",properties:{iso1A2:"BI",iso1A3:"BDI",iso1N3:"108",wikidata:"Q967",nameEn:"Burundi",groups:["014","202","002","UN"],callingCodes:["257"]},geometry:{type:"MultiPolygon",coordinates:[[[[30.54501,-2.41404],[30.42933,-2.31064],[30.14034,-2.43626],[29.95911,-2.33348],[29.88237,-2.75105],[29.36805,-2.82933],[29.32234,-2.6483],[29.0562,-2.58632],[29.04081,-2.7416],[29.00167,-2.78523],[29.00404,-2.81978],[29.0505,-2.81774],[29.09119,-2.87871],[29.09797,-2.91935],[29.16037,-2.95457],[29.17258,-2.99385],[29.25633,-3.05471],[29.21463,-3.3514],[29.23708,-3.75856],[29.43673,-4.44845],[29.63827,-4.44681],[29.75109,-4.45836],[29.77289,-4.41733],[29.82885,-4.36153],[29.88172,-4.35743],[30.03323,-4.26631],[30.22042,-4.01738],[30.45915,-3.56532],[30.84165,-3.25152],[30.83823,-2.97837],[30.6675,-2.98987],[30.57926,-2.89791],[30.4987,-2.9573],[30.40662,-2.86151],[30.52747,-2.65841],[30.41789,-2.66266],[30.54501,-2.41404]]]]}},{type:"Feature",properties:{iso1A2:"BJ",iso1A3:"BEN",iso1N3:"204",wikidata:"Q962",nameEn:"Benin",aliases:["DY"],groups:["011","202","002","UN"],callingCodes:["229"]},geometry:{type:"MultiPolygon",coordinates:[[[[3.59375,11.70269],[3.48187,11.86092],[3.31613,11.88495],[3.25352,12.01467],[2.83978,12.40585],[2.6593,12.30631],[2.37783,12.24804],[2.39657,12.10952],[2.45824,11.98672],[2.39723,11.89473],[2.29983,11.68254],[2.00988,11.42227],[1.42823,11.46822],[1.03409,11.04719],[.9813,11.08876],[.91245,10.99597],[.8804,10.803],[.80358,10.71459],[.77666,10.37665],[1.35507,9.99525],[1.36624,9.5951],[1.33675,9.54765],[1.41746,9.3226],[1.5649,9.16941],[1.61838,9.0527],[1.64249,6.99562],[1.55877,6.99737],[1.61812,6.74843],[1.58105,6.68619],[1.76906,6.43189],[1.79826,6.28221],[1.62913,6.24075],[1.67336,6.02702],[2.74181,6.13349],[2.70566,6.38038],[2.70464,6.50831],[2.74334,6.57291],[2.7325,6.64057],[2.78204,6.70514],[2.78823,6.76356],[2.73405,6.78508],[2.74024,6.92802],[2.71702,6.95722],[2.76965,7.13543],[2.74489,7.42565],[2.79442,7.43486],[2.78668,7.5116],[2.73405,7.5423],[2.73095,7.7755],[2.67523,7.87825],[2.77907,9.06924],[3.08017,9.10006],[3.14147,9.28375],[3.13928,9.47167],[3.25093,9.61632],[3.34726,9.70696],[3.32099,9.78032],[3.35383,9.83641],[3.54429,9.87739],[3.66908,10.18136],[3.57275,10.27185],[3.6844,10.46351],[3.78292,10.40538],[3.84243,10.59316],[3.71505,11.13015],[3.49175,11.29765],[3.59375,11.70269]]]]}},{type:"Feature",properties:{iso1A2:"BL",iso1A3:"BLM",iso1N3:"652",wikidata:"Q25362",nameEn:"Saint-Barth\xE9lemy",country:"FR",groups:["Q1451600","029","003","419","019","UN"],callingCodes:["590"]},geometry:{type:"MultiPolygon",coordinates:[[[[-62.62718,18.26185],[-63.1055,17.86651],[-62.34423,17.49165],[-62.62718,18.26185]]]]}},{type:"Feature",properties:{iso1A2:"BM",iso1A3:"BMU",iso1N3:"060",wikidata:"Q23635",nameEn:"Bermuda",country:"GB",groups:["BOTS","021","003","019","UN"],driveSide:"left",callingCodes:["1 441"]},geometry:{type:"MultiPolygon",coordinates:[[[[-63.20987,32.6953],[-65.31453,32.68437],[-65.63955,31.43417],[-63.20987,32.6953]]]]}},{type:"Feature",properties:{iso1A2:"BN",iso1A3:"BRN",iso1N3:"096",wikidata:"Q921",nameEn:"Brunei",groups:["Q36117","035","142","UN"],driveSide:"left",callingCodes:["673"]},geometry:{type:"MultiPolygon",coordinates:[[[[115.16236,5.01011],[115.02521,5.35005],[114.10166,4.76112],[114.07448,4.58441],[114.15813,4.57],[114.26876,4.49878],[114.32176,4.34942],[114.32176,4.2552],[114.4416,4.27588],[114.49922,4.13108],[114.64211,4.00694],[114.78539,4.12205],[114.88039,4.4257],[114.83189,4.42387],[114.77303,4.72871],[114.8266,4.75062],[114.88841,4.81905],[114.96982,4.81146],[114.99417,4.88201],[115.05038,4.90275],[115.02955,4.82087],[115.02278,4.74137],[115.04064,4.63706],[115.07737,4.53418],[115.09978,4.39123],[115.31275,4.30806],[115.36346,4.33563],[115.2851,4.42295],[115.27819,4.63661],[115.20737,4.8256],[115.15092,4.87604],[115.16236,5.01011]]]]}},{type:"Feature",properties:{iso1A2:"BO",iso1A3:"BOL",iso1N3:"068",wikidata:"Q750",nameEn:"Bolivia",groups:["005","419","019","UN"],callingCodes:["591"]},geometry:{type:"MultiPolygon",coordinates:[[[[-63.90248,-12.52544],[-64.22539,-12.45267],[-64.30708,-12.46398],[-64.99778,-11.98604],[-65.30027,-11.48749],[-65.28141,-10.86289],[-65.35402,-10.78685],[-65.37923,-10.35141],[-65.29019,-9.86253],[-65.40615,-9.63894],[-65.56244,-9.84266],[-65.68343,-9.75323],[-67.17784,-10.34016],[-68.71533,-11.14749],[-68.7651,-11.0496],[-68.75179,-11.03688],[-68.75265,-11.02383],[-68.74802,-11.00891],[-69.42792,-10.93451],[-69.47839,-10.95254],[-69.57156,-10.94555],[-68.98115,-11.8979],[-68.65044,-12.50689],[-68.85615,-12.87769],[-68.8864,-13.40792],[-69.05265,-13.68546],[-68.88135,-14.18639],[-69.36254,-14.94634],[-69.14856,-15.23478],[-69.40336,-15.61358],[-69.20291,-16.16668],[-69.09986,-16.22693],[-68.96238,-16.194],[-68.79464,-16.33272],[-68.98358,-16.42165],[-69.04027,-16.57214],[-69.00853,-16.66769],[-69.16896,-16.72233],[-69.62883,-17.28142],[-69.46863,-17.37466],[-69.46897,-17.4988],[-69.46623,-17.60518],[-69.34126,-17.72753],[-69.28671,-17.94844],[-69.07496,-18.03715],[-69.14807,-18.16893],[-69.07432,-18.28259],[-68.94987,-18.93302],[-68.87082,-19.06003],[-68.80602,-19.08355],[-68.61989,-19.27584],[-68.41218,-19.40499],[-68.66761,-19.72118],[-68.54611,-19.84651],[-68.57132,-20.03134],[-68.74273,-20.08817],[-68.7276,-20.46178],[-68.44023,-20.62701],[-68.55383,-20.7355],[-68.53957,-20.91542],[-68.40403,-20.94562],[-68.18816,-21.28614],[-67.85114,-22.87076],[-67.54284,-22.89771],[-67.18382,-22.81525],[-66.7298,-22.23644],[-66.29714,-22.08741],[-66.24077,-21.77837],[-66.03836,-21.84829],[-66.04832,-21.9187],[-65.9261,-21.93335],[-65.7467,-22.10105],[-65.61166,-22.09504],[-65.58694,-22.09794],[-65.57743,-22.07675],[-65.47435,-22.08908],[-64.99524,-22.08255],[-64.90014,-22.12136],[-64.67174,-22.18957],[-64.58888,-22.25035],[-64.4176,-22.67692],[-64.35108,-22.73282],[-64.31489,-22.88824],[-64.22918,-22.55807],[-63.93287,-21.99934],[-63.70963,-21.99934],[-63.68113,-22.0544],[-63.66482,-21.99918],[-62.81124,-21.9987],[-62.8078,-22.12534],[-62.64455,-22.25091],[-62.2757,-21.06657],[-62.26883,-20.55311],[-61.93912,-20.10053],[-61.73723,-19.63958],[-60.00638,-19.2981],[-59.06965,-19.29148],[-58.23216,-19.80058],[-58.16225,-20.16193],[-57.8496,-19.98346],[-58.14215,-19.76276],[-57.78463,-19.03259],[-57.71113,-19.03161],[-57.69134,-19.00544],[-57.71995,-18.97546],[-57.71995,-18.89573],[-57.76764,-18.90087],[-57.56807,-18.25655],[-57.48237,-18.24219],[-57.69877,-17.8431],[-57.73949,-17.56095],[-57.90082,-17.44555],[-57.99661,-17.5273],[-58.32935,-17.28195],[-58.5058,-16.80958],[-58.30918,-16.3699],[-58.32431,-16.25861],[-58.41506,-16.32636],[-60.16069,-16.26479],[-60.23797,-15.50267],[-60.58224,-15.09887],[-60.23968,-15.09515],[-60.27887,-14.63021],[-60.46037,-14.22496],[-60.48053,-13.77981],[-61.05527,-13.50054],[-61.81151,-13.49564],[-63.76259,-12.42952],[-63.90248,-12.52544]]]]}},{type:"Feature",properties:{iso1A2:"BQ",iso1A3:"BES",iso1N3:"535",wikidata:"Q27561",nameEn:"Caribbean Netherlands",country:"NL"},geometry:null},{type:"Feature",properties:{iso1A2:"BR",iso1A3:"BRA",iso1N3:"076",wikidata:"Q155",nameEn:"Brazil",groups:["005","419","019","UN"],callingCodes:["55"]},geometry:{type:"MultiPolygon",coordinates:[[[[-59.69361,4.34069],[-59.78878,4.45637],[-60.15953,4.53456],[-60.04189,4.69801],[-59.98129,5.07097],[-60.20944,5.28754],[-60.32352,5.21299],[-60.73204,5.20931],[-60.5802,4.94312],[-60.86539,4.70512],[-60.98303,4.54167],[-61.15703,4.49839],[-61.31457,4.54167],[-61.29675,4.44216],[-61.48569,4.43149],[-61.54629,4.2822],[-62.13094,4.08309],[-62.44822,4.18621],[-62.57656,4.04754],[-62.74411,4.03331],[-62.7655,3.73099],[-62.98296,3.59935],[-63.21111,3.96219],[-63.4464,3.9693],[-63.42233,3.89995],[-63.50611,3.83592],[-63.67099,4.01731],[-63.70218,3.91417],[-63.86082,3.94796],[-63.99183,3.90172],[-64.14512,4.12932],[-64.57648,4.12576],[-64.72977,4.28931],[-64.84028,4.24665],[-64.48379,3.7879],[-64.02908,2.79797],[-64.0257,2.48156],[-63.39114,2.4317],[-63.39827,2.16098],[-64.06135,1.94722],[-64.08274,1.64792],[-64.34654,1.35569],[-64.38932,1.5125],[-65.11657,1.12046],[-65.57288,.62856],[-65.50158,.92086],[-65.6727,1.01353],[-66.28507,.74585],[-66.85795,1.22998],[-67.08222,1.17441],[-67.15784,1.80439],[-67.299,1.87494],[-67.40488,2.22258],[-67.9292,1.82455],[-68.18632,2.00091],[-68.26699,1.83463],[-68.18128,1.72881],[-69.38621,1.70865],[-69.53746,1.76408],[-69.83491,1.69353],[-69.82987,1.07864],[-69.26017,1.06856],[-69.14422,.84172],[-69.20976,.57958],[-69.47696,.71065],[-70.04162,.55437],[-70.03658,-.19681],[-69.603,-.51947],[-69.59796,-.75136],[-69.4215,-1.01853],[-69.43395,-1.42219],[-69.94708,-4.2431],[-70.00888,-4.37833],[-70.11305,-4.27281],[-70.19582,-4.3607],[-70.33236,-4.15214],[-70.77601,-4.15717],[-70.96814,-4.36915],[-71.87003,-4.51661],[-72.64391,-5.0391],[-72.83973,-5.14765],[-73.24579,-6.05764],[-73.12983,-6.43852],[-73.73986,-6.87919],[-73.77011,-7.28944],[-73.96938,-7.58465],[-73.65485,-7.77897],[-73.76576,-7.89884],[-72.92886,-9.04074],[-73.21498,-9.40904],[-72.72216,-9.41397],[-72.31883,-9.5184],[-72.14742,-9.98049],[-71.23394,-9.9668],[-70.53373,-9.42628],[-70.58453,-9.58303],[-70.55429,-9.76692],[-70.62487,-9.80666],[-70.64134,-11.0108],[-70.51395,-10.92249],[-70.38791,-11.07096],[-69.90896,-10.92744],[-69.57835,-10.94051],[-69.57156,-10.94555],[-69.47839,-10.95254],[-69.42792,-10.93451],[-68.74802,-11.00891],[-68.75265,-11.02383],[-68.75179,-11.03688],[-68.7651,-11.0496],[-68.71533,-11.14749],[-67.17784,-10.34016],[-65.68343,-9.75323],[-65.56244,-9.84266],[-65.40615,-9.63894],[-65.29019,-9.86253],[-65.37923,-10.35141],[-65.35402,-10.78685],[-65.28141,-10.86289],[-65.30027,-11.48749],[-64.99778,-11.98604],[-64.30708,-12.46398],[-64.22539,-12.45267],[-63.90248,-12.52544],[-63.76259,-12.42952],[-61.81151,-13.49564],[-61.05527,-13.50054],[-60.48053,-13.77981],[-60.46037,-14.22496],[-60.27887,-14.63021],[-60.23968,-15.09515],[-60.58224,-15.09887],[-60.23797,-15.50267],[-60.16069,-16.26479],[-58.41506,-16.32636],[-58.32431,-16.25861],[-58.30918,-16.3699],[-58.5058,-16.80958],[-58.32935,-17.28195],[-57.99661,-17.5273],[-57.90082,-17.44555],[-57.73949,-17.56095],[-57.69877,-17.8431],[-57.48237,-18.24219],[-57.56807,-18.25655],[-57.76764,-18.90087],[-57.71995,-18.89573],[-57.71995,-18.97546],[-57.69134,-19.00544],[-57.71113,-19.03161],[-57.78463,-19.03259],[-58.14215,-19.76276],[-57.8496,-19.98346],[-58.16225,-20.16193],[-57.84536,-20.93155],[-57.93492,-21.65505],[-57.88239,-21.6868],[-57.94642,-21.73799],[-57.98625,-22.09157],[-56.6508,-22.28387],[-56.5212,-22.11556],[-56.45893,-22.08072],[-56.23206,-22.25347],[-55.8331,-22.29008],[-55.74941,-22.46436],[-55.741,-22.52018],[-55.72366,-22.5519],[-55.6986,-22.56268],[-55.68742,-22.58407],[-55.62493,-22.62765],[-55.63849,-22.95122],[-55.5446,-23.22811],[-55.52288,-23.2595],[-55.5555,-23.28237],[-55.43585,-23.87157],[-55.44117,-23.9185],[-55.41784,-23.9657],[-55.12292,-23.99669],[-55.0518,-23.98666],[-55.02691,-23.97317],[-54.6238,-23.83078],[-54.32807,-24.01865],[-54.28207,-24.07305],[-54.4423,-25.13381],[-54.62033,-25.46026],[-54.60196,-25.48397],[-54.59509,-25.53696],[-54.59398,-25.59224],[-54.5502,-25.58915],[-54.52926,-25.62846],[-53.90831,-25.55513],[-53.83691,-25.94849],[-53.73511,-26.04211],[-53.73086,-26.05842],[-53.7264,-26.0664],[-53.73391,-26.07006],[-53.73968,-26.10012],[-53.65018,-26.19501],[-53.65237,-26.23289],[-53.63739,-26.2496],[-53.63881,-26.25075],[-53.64632,-26.24798],[-53.64186,-26.25976],[-53.64505,-26.28089],[-53.68269,-26.33359],[-53.73372,-26.6131],[-53.80144,-27.09844],[-54.15978,-27.2889],[-54.19062,-27.27639],[-54.19268,-27.30751],[-54.41888,-27.40882],[-54.50416,-27.48232],[-54.67657,-27.57214],[-54.90159,-27.63132],[-54.90805,-27.73149],[-55.1349,-27.89759],[-55.16872,-27.86224],[-55.33303,-27.94661],[-55.6262,-28.17124],[-55.65418,-28.18304],[-56.01729,-28.51223],[-56.00458,-28.60421],[-56.05265,-28.62651],[-56.54171,-29.11447],[-56.57295,-29.11357],[-56.62789,-29.18073],[-56.81251,-29.48154],[-57.09386,-29.74211],[-57.65132,-30.19229],[-57.22502,-30.26121],[-56.90236,-30.02578],[-56.49267,-30.39471],[-56.4795,-30.3899],[-56.4619,-30.38457],[-55.87388,-31.05053],[-55.58866,-30.84117],[-55.5634,-30.8686],[-55.55373,-30.8732],[-55.55218,-30.88193],[-55.54572,-30.89051],[-55.53431,-30.89714],[-55.53276,-30.90218],[-55.52712,-30.89997],[-55.51862,-30.89828],[-55.50841,-30.9027],[-55.50821,-30.91349],[-54.17384,-31.86168],[-53.76024,-32.0751],[-53.39572,-32.58596],[-53.37671,-32.57005],[-53.1111,-32.71147],[-53.53459,-33.16843],[-53.52794,-33.68908],[-53.44031,-33.69344],[-53.39593,-33.75169],[-53.37138,-33.74313],[-52.83257,-34.01481],[-28.34015,-20.99094],[-28.99601,1.86593],[-51.35485,4.8383],[-51.63798,4.51394],[-51.61983,4.14596],[-51.79599,3.89336],[-51.82312,3.85825],[-51.85573,3.83427],[-52.31787,3.17896],[-52.6906,2.37298],[-52.96539,2.1881],[-53.78743,2.34412],[-54.16286,2.10779],[-54.6084,2.32856],[-55.01919,2.564],[-55.71493,2.40342],[-55.96292,2.53188],[-56.13054,2.27723],[-55.92159,2.05236],[-55.89863,1.89861],[-55.99278,1.83137],[-56.47045,1.95135],[-56.7659,1.89509],[-57.07092,1.95304],[-57.09109,2.01854],[-57.23981,1.95808],[-57.35073,1.98327],[-57.55743,1.69605],[-57.77281,1.73344],[-57.97336,1.64566],[-58.01873,1.51966],[-58.33887,1.58014],[-58.4858,1.48399],[-58.53571,1.29154],[-58.84229,1.17749],[-58.92072,1.31293],[-59.25583,1.40559],[-59.74066,1.87596],[-59.7264,2.27497],[-59.91177,2.36759],[-59.99733,2.92312],[-59.79769,3.37162],[-59.86899,3.57089],[-59.51963,3.91951],[-59.73353,4.20399],[-59.69361,4.34069]]]]}},{type:"Feature",properties:{iso1A2:"BS",iso1A3:"BHS",iso1N3:"044",wikidata:"Q778",nameEn:"The Bahamas",groups:["029","003","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",callingCodes:["1 242"]},geometry:{type:"MultiPolygon",coordinates:[[[[-72.98446,20.4801],[-71.70065,25.7637],[-78.91214,27.76553],[-80.65727,23.71953],[-72.98446,20.4801]]]]}},{type:"Feature",properties:{iso1A2:"BT",iso1A3:"BTN",iso1N3:"064",wikidata:"Q917",nameEn:"Bhutan",groups:["034","142","UN"],driveSide:"left",callingCodes:["975"]},geometry:{type:"MultiPolygon",coordinates:[[[[91.6469,27.76358],[91.5629,27.84823],[91.48973,27.93903],[91.46327,28.0064],[91.25779,28.07509],[91.20019,27.98715],[90.69894,28.07784],[90.58842,28.02838],[90.13387,28.19178],[89.79762,28.23979],[89.59525,28.16433],[89.12825,27.62502],[89.0582,27.60985],[88.97213,27.51671],[88.95355,27.4106],[89.00216,27.32532],[88.96947,27.30319],[88.93678,27.33777],[88.91901,27.32483],[88.74219,27.144],[88.86984,27.10937],[88.8714,26.97488],[88.92301,26.99286],[88.95807,26.92668],[89.09554,26.89089],[89.12825,26.81661],[89.1926,26.81329],[89.37913,26.86224],[89.38319,26.85963],[89.3901,26.84225],[89.42349,26.83727],[89.63369,26.74402],[89.86124,26.73307],[90.04535,26.72422],[90.30402,26.85098],[90.39271,26.90704],[90.48504,26.8594],[90.67715,26.77215],[91.50067,26.79223],[91.83181,26.87318],[92.05523,26.8692],[92.11863,26.893],[92.03457,27.07334],[92.04702,27.26861],[92.12019,27.27829],[92.01132,27.47352],[91.65007,27.48287],[91.55819,27.6144],[91.6469,27.76358]]]]}},{type:"Feature",properties:{iso1A2:"BV",iso1A3:"BVT",iso1N3:"074",wikidata:"Q23408",nameEn:"Bouvet Island",country:"NO",groups:["005","419","019","UN"]},geometry:{type:"MultiPolygon",coordinates:[[[[4.54042,-54.0949],[2.28941,-54.13089],[3.35353,-55.17558],[4.54042,-54.0949]]]]}},{type:"Feature",properties:{iso1A2:"BW",iso1A3:"BWA",iso1N3:"072",wikidata:"Q963",nameEn:"Botswana",groups:["018","202","002","UN"],driveSide:"left",callingCodes:["267"]},geometry:{type:"MultiPolygon",coordinates:[[[[25.26433,-17.79571],[25.16882,-17.78253],[25.05895,-17.84452],[24.95586,-17.79674],[24.73364,-17.89338],[24.71887,-17.9218],[24.6303,-17.9863],[24.57485,-18.07151],[24.40577,-17.95726],[24.19416,-18.01919],[23.61088,-18.4881],[23.29618,-17.99855],[23.0996,-18.00075],[21.45556,-18.31795],[20.99904,-18.31743],[20.99751,-22.00026],[19.99912,-21.99991],[19.99817,-24.76768],[20.02809,-24.78725],[20.03678,-24.81004],[20.29826,-24.94869],[20.64795,-25.47827],[20.86081,-26.14892],[20.61754,-26.4692],[20.63275,-26.78181],[20.68596,-26.9039],[20.87031,-26.80047],[21.13353,-26.86661],[21.37869,-26.82083],[21.69322,-26.86152],[21.7854,-26.79199],[21.77114,-26.69015],[21.83291,-26.65959],[21.90703,-26.66808],[22.06192,-26.61882],[22.21206,-26.3773],[22.41921,-26.23078],[22.56365,-26.19668],[22.70808,-25.99186],[22.86012,-25.50572],[23.03497,-25.29971],[23.47588,-25.29971],[23.9244,-25.64286],[24.18287,-25.62916],[24.36531,-25.773],[24.44703,-25.73021],[24.67319,-25.81749],[24.8946,-25.80723],[25.01718,-25.72507],[25.12266,-25.75931],[25.33076,-25.76616],[25.58543,-25.6343],[25.6643,-25.4491],[25.69661,-25.29284],[25.72702,-25.25503],[25.88571,-24.87802],[25.84295,-24.78661],[25.8515,-24.75727],[26.39409,-24.63468],[26.46346,-24.60358],[26.51667,-24.47219],[26.84165,-24.24885],[26.99749,-23.65486],[27.33768,-23.40917],[27.52393,-23.37952],[27.6066,-23.21894],[27.74154,-23.2137],[27.93539,-23.04941],[27.93729,-22.96194],[28.04752,-22.90243],[28.04562,-22.8394],[28.34874,-22.5694],[28.63287,-22.55887],[28.91889,-22.44299],[29.0151,-22.22907],[29.10881,-22.21202],[29.15268,-22.21399],[29.18974,-22.18599],[29.21955,-22.17771],[29.37703,-22.19581],[29.3533,-22.18363],[29.24648,-22.05967],[29.1974,-22.07472],[29.14501,-22.07275],[29.08495,-22.04867],[29.04108,-22.00563],[29.02191,-21.95665],[29.02191,-21.90647],[29.04023,-21.85864],[29.07763,-21.81877],[28.58114,-21.63455],[28.49942,-21.66634],[28.29416,-21.59037],[28.01669,-21.57624],[27.91407,-21.31621],[27.69171,-21.08409],[27.72972,-20.51735],[27.69361,-20.48531],[27.28865,-20.49873],[27.29831,-20.28935],[27.21278,-20.08244],[26.72246,-19.92707],[26.17227,-19.53709],[25.96226,-19.08152],[25.99837,-19.02943],[25.94326,-18.90362],[25.82353,-18.82808],[25.79217,-18.6355],[25.68859,-18.56165],[25.53465,-18.39041],[25.39972,-18.12691],[25.31799,-18.07091],[25.23909,-17.90832],[25.26433,-17.79571]]]]}},{type:"Feature",properties:{iso1A2:"BY",iso1A3:"BLR",iso1N3:"112",wikidata:"Q184",nameEn:"Belarus",groups:["151","150","UN"],callingCodes:["375"]},geometry:{type:"MultiPolygon",coordinates:[[[[28.15217,56.16964],[27.97865,56.11849],[27.63065,55.89687],[27.61683,55.78558],[27.3541,55.8089],[27.27804,55.78299],[27.1559,55.85032],[26.97153,55.8102],[26.87448,55.7172],[26.76872,55.67658],[26.71802,55.70645],[26.64888,55.70515],[26.63231,55.67968],[26.63167,55.57887],[26.55094,55.5093],[26.5522,55.40277],[26.44937,55.34832],[26.5709,55.32572],[26.6714,55.33902],[26.80929,55.31642],[26.83266,55.30444],[26.835,55.28182],[26.73017,55.24226],[26.72983,55.21788],[26.68075,55.19787],[26.69243,55.16718],[26.54753,55.14181],[26.51481,55.16051],[26.46249,55.12814],[26.35121,55.1525],[26.30628,55.12536],[26.23202,55.10439],[26.26941,55.08032],[26.20397,54.99729],[26.13386,54.98924],[26.05907,54.94631],[25.99129,54.95705],[25.89462,54.93438],[25.74122,54.80108],[25.75977,54.57252],[25.68045,54.5321],[25.64813,54.48704],[25.62203,54.4656],[25.63371,54.42075],[25.5376,54.33158],[25.55425,54.31591],[25.68513,54.31727],[25.78553,54.23327],[25.78563,54.15747],[25.71084,54.16704],[25.64875,54.1259],[25.54724,54.14925],[25.51452,54.17799],[25.56823,54.25212],[25.509,54.30267],[25.35559,54.26544],[25.22705,54.26271],[25.19199,54.219],[25.0728,54.13419],[24.991,54.14241],[24.96894,54.17589],[24.77131,54.11091],[24.85311,54.02862],[24.74279,53.96663],[24.69185,53.96543],[24.69652,54.01901],[24.62275,54.00217],[24.44411,53.90076],[24.34128,53.90076],[24.19638,53.96405],[23.98837,53.92554],[23.95098,53.9613],[23.81309,53.94205],[23.80543,53.89558],[23.71726,53.93379],[23.61677,53.92691],[23.51284,53.95052],[23.62004,53.60942],[23.81995,53.24131],[23.85657,53.22923],[23.91393,53.16469],[23.87548,53.0831],[23.92184,53.02079],[23.94689,52.95919],[23.91805,52.94016],[23.93763,52.71332],[23.73615,52.6149],[23.58296,52.59868],[23.45112,52.53774],[23.34141,52.44845],[23.18196,52.28812],[23.20071,52.22848],[23.47859,52.18215],[23.54314,52.12148],[23.61,52.11264],[23.64066,52.07626],[23.68733,51.9906],[23.61523,51.92066],[23.62691,51.78208],[23.53198,51.74298],[23.57053,51.55938],[23.56236,51.53673],[23.62751,51.50512],[23.6736,51.50255],[23.60906,51.62122],[23.7766,51.66809],[23.91118,51.63316],[23.8741,51.59734],[23.99907,51.58369],[24.13075,51.66979],[24.3163,51.75063],[24.29021,51.80841],[24.37123,51.88222],[24.98784,51.91273],[25.20228,51.97143],[25.46163,51.92205],[25.73673,51.91973],[25.80574,51.94556],[25.83217,51.92587],[26.00408,51.92967],[26.19084,51.86781],[26.39367,51.87315],[26.46962,51.80501],[26.69759,51.82284],[26.80043,51.75777],[26.9489,51.73788],[26.99422,51.76933],[27.20602,51.77291],[27.20948,51.66713],[27.26613,51.65957],[27.24828,51.60161],[27.47212,51.61184],[27.51058,51.5854],[27.55727,51.63486],[27.71932,51.60672],[27.67125,51.50854],[27.76052,51.47604],[27.85253,51.62293],[27.91844,51.61952],[27.95827,51.56065],[28.10658,51.57857],[28.23452,51.66988],[28.37592,51.54505],[28.47051,51.59734],[28.64429,51.5664],[28.69161,51.44695],[28.73143,51.46236],[28.75615,51.41442],[28.78224,51.45294],[28.76027,51.48802],[28.81795,51.55552],[28.95528,51.59222],[28.99098,51.56833],[29.1187,51.65872],[29.16402,51.64679],[29.20659,51.56918],[29.25603,51.57089],[29.25191,51.49828],[29.32881,51.37843],[29.42357,51.4187],[29.49773,51.39814],[29.54372,51.48372],[29.7408,51.53417],[29.77376,51.4461],[30.17888,51.51025],[30.34642,51.42555],[30.36153,51.33984],[30.56203,51.25655],[30.64992,51.35014],[30.51946,51.59649],[30.68804,51.82806],[30.76443,51.89739],[30.90897,52.00699],[30.95589,52.07775],[31.13332,52.1004],[31.25142,52.04131],[31.38326,52.12991],[31.7822,52.11406],[31.77877,52.18636],[31.6895,52.1973],[31.70735,52.26711],[31.57971,52.32146],[31.62084,52.33849],[31.61397,52.48843],[31.56316,52.51518],[31.63869,52.55361],[31.50406,52.69707],[31.57277,52.71613],[31.592,52.79011],[31.35667,52.97854],[31.24147,53.031],[31.32283,53.04101],[31.33519,53.08805],[31.3915,53.09712],[31.36403,53.13504],[31.40523,53.21406],[31.56316,53.19432],[31.62496,53.22886],[31.787,53.18033],[31.82373,53.10042],[32.15368,53.07594],[32.40773,53.18856],[32.51725,53.28431],[32.73257,53.33494],[32.74968,53.45597],[32.47777,53.5548],[32.40499,53.6656],[32.50112,53.68594],[32.45717,53.74039],[32.36663,53.7166],[32.12621,53.81586],[31.89137,53.78099],[31.77028,53.80015],[31.85019,53.91801],[31.88744,54.03653],[31.89599,54.0837],[31.57002,54.14535],[31.30791,54.25315],[31.3177,54.34067],[31.22945,54.46585],[31.08543,54.50361],[31.21399,54.63113],[31.19339,54.66947],[30.99187,54.67046],[30.98226,54.68872],[31.0262,54.70698],[30.97127,54.71967],[30.95479,54.74346],[30.75165,54.80699],[30.8264,54.90062],[30.81759,54.94064],[30.93144,54.9585],[30.95754,54.98609],[30.9081,55.02232],[30.94243,55.03964],[31.00972,55.02783],[31.02071,55.06167],[30.97369,55.17134],[30.87944,55.28223],[30.81946,55.27931],[30.8257,55.3313],[30.93144,55.3914],[30.90123,55.46621],[30.95204,55.50667],[30.93419,55.6185],[30.86003,55.63169],[30.7845,55.58514],[30.72957,55.66268],[30.67464,55.64176],[30.63344,55.73079],[30.51037,55.76568],[30.51346,55.78982],[30.48257,55.81066],[30.30987,55.83592],[30.27776,55.86819],[30.12136,55.8358],[29.97975,55.87281],[29.80672,55.79569],[29.61446,55.77716],[29.51283,55.70294],[29.3604,55.75862],[29.44692,55.95978],[29.21717,55.98971],[29.08299,56.03427],[28.73418,55.97131],[28.63668,56.07262],[28.68337,56.10173],[28.5529,56.11705],[28.43068,56.09407],[28.37987,56.11399],[28.36888,56.05805],[28.30571,56.06035],[28.15217,56.16964]]]]}},{type:"Feature",properties:{iso1A2:"BZ",iso1A3:"BLZ",iso1N3:"084",wikidata:"Q242",nameEn:"Belize",groups:["013","003","419","019","UN"],roadSpeedUnit:"mph",callingCodes:["501"]},geometry:{type:"MultiPolygon",coordinates:[[[[-88.3268,18.49048],[-88.48242,18.49164],[-88.71505,18.0707],[-88.8716,17.89535],[-89.03839,18.0067],[-89.15105,17.95104],[-89.14985,17.81563],[-89.15025,17.04813],[-89.22683,15.88619],[-89.17418,15.90898],[-89.02415,15.9063],[-88.95358,15.88698],[-88.40779,16.09624],[-86.92368,17.61462],[-87.84815,18.18511],[-87.85693,18.18266],[-87.86657,18.19971],[-87.87604,18.18313],[-87.90671,18.15213],[-88.03165,18.16657],[-88.03238,18.41778],[-88.26593,18.47617],[-88.29909,18.47591],[-88.3268,18.49048]]]]}},{type:"Feature",properties:{iso1A2:"CA",iso1A3:"CAN",iso1N3:"124",wikidata:"Q16",nameEn:"Canada",groups:["021","003","019","UN"],callingCodes:["1"]},geometry:{type:"MultiPolygon",coordinates:[[[[-67.20349,45.1722],[-67.19603,45.16771],[-67.15965,45.16179],[-67.11316,45.11176],[-67.0216,44.95333],[-66.96824,44.90965],[-66.98249,44.87071],[-66.96824,44.83078],[-66.93432,44.82597],[-67.16117,44.20069],[-61.98255,37.34815],[-56.27503,47.39728],[-53.12387,41.40385],[-46.37635,57.3249],[-77.52957,77.23408],[-68.21821,80.48551],[-49.33696,84.57952],[-140.97446,84.39275],[-141.00116,60.30648],[-140.5227,60.22077],[-140.45648,60.30919],[-139.98024,60.18027],[-139.68991,60.33693],[-139.05831,60.35205],[-139.20603,60.08896],[-139.05365,59.99655],[-138.71149,59.90728],[-138.62145,59.76431],[-137.60623,59.24465],[-137.4925,58.89415],[-136.82619,59.16198],[-136.52365,59.16752],[-136.47323,59.46617],[-136.33727,59.44466],[-136.22381,59.55526],[-136.31566,59.59083],[-135.48007,59.79937],[-135.03069,59.56208],[-135.00267,59.28745],[-134.7047,59.2458],[-134.55699,59.1297],[-134.48059,59.13231],[-134.27175,58.8634],[-133.84645,58.73543],[-133.38523,58.42773],[-131.8271,56.62247],[-130.77769,56.36185],[-130.33965,56.10849],[-130.10173,56.12178],[-130.00093,56.00325],[-130.00857,55.91344],[-130.15373,55.74895],[-129.97513,55.28029],[-130.08035,55.21556],[-130.18765,55.07744],[-130.27203,54.97174],[-130.44184,54.85377],[-130.64499,54.76912],[-130.61931,54.70835],[-133.92876,54.62289],[-133.36909,48.51151],[-125.03842,48.53282],[-123.50039,48.21223],[-123.15614,48.35395],[-123.26565,48.6959],[-123.0093,48.76586],[-123.0093,48.83186],[-123.32163,49.00419],[-95.15355,48.9996],[-95.15357,49.384],[-95.12903,49.37056],[-95.05825,49.35311],[-95.01419,49.35647],[-94.99532,49.36579],[-94.95681,49.37035],[-94.85381,49.32492],[-94.8159,49.32299],[-94.82487,49.29483],[-94.77355,49.11998],[-94.75017,49.09931],[-94.687,48.84077],[-94.70087,48.8339],[-94.70486,48.82365],[-94.69669,48.80918],[-94.69335,48.77883],[-94.58903,48.71803],[-94.54885,48.71543],[-94.53826,48.70216],[-94.44258,48.69223],[-94.4174,48.71049],[-94.27153,48.70232],[-94.25172,48.68404],[-94.25104,48.65729],[-94.23215,48.65202],[-93.85769,48.63284],[-93.83288,48.62745],[-93.80676,48.58232],[-93.80939,48.52439],[-93.79267,48.51631],[-93.66382,48.51845],[-93.47022,48.54357],[-93.44472,48.59147],[-93.40693,48.60948],[-93.39758,48.60364],[-93.3712,48.60599],[-93.33946,48.62787],[-93.25391,48.64266],[-92.94973,48.60866],[-92.7287,48.54005],[-92.6342,48.54133],[-92.62747,48.50278],[-92.69927,48.49573],[-92.71323,48.46081],[-92.65606,48.43471],[-92.50712,48.44921],[-92.45588,48.40624],[-92.48147,48.36609],[-92.37185,48.22259],[-92.27167,48.25046],[-92.30939,48.31251],[-92.26662,48.35651],[-92.202,48.35252],[-92.14732,48.36578],[-92.05339,48.35958],[-91.98929,48.25409],[-91.86125,48.21278],[-91.71231,48.19875],[-91.70451,48.11805],[-91.55649,48.10611],[-91.58025,48.04339],[-91.45829,48.07454],[-91.43248,48.04912],[-91.25025,48.08522],[-91.08016,48.18096],[-90.87588,48.2484],[-90.75045,48.09143],[-90.56444,48.12184],[-90.56312,48.09488],[-90.07418,48.11043],[-89.89974,47.98109],[-89.77248,48.02607],[-89.57972,48.00023],[-89.48837,48.01412],[-88.37033,48.30586],[-84.85871,46.88881],[-84.55635,46.45974],[-84.47607,46.45225],[-84.4481,46.48972],[-84.42101,46.49853],[-84.34174,46.50683],[-84.29893,46.49127],[-84.26351,46.49508],[-84.2264,46.53337],[-84.1945,46.54061],[-84.17723,46.52753],[-84.12885,46.53068],[-84.11196,46.50248],[-84.13451,46.39218],[-84.11254,46.32329],[-84.11615,46.2681],[-84.09756,46.25512],[-84.1096,46.23987],[-83.95399,46.05634],[-83.90453,46.05922],[-83.83329,46.12169],[-83.57017,46.105],[-83.43746,45.99749],[-83.59589,45.82131],[-82.48419,45.30225],[-82.42469,42.992],[-82.4146,42.97626],[-82.4253,42.95423],[-82.45331,42.93139],[-82.4826,42.8068],[-82.46613,42.76615],[-82.51063,42.66025],[-82.51858,42.611],[-82.57583,42.5718],[-82.58873,42.54984],[-82.64242,42.55594],[-82.82964,42.37355],[-83.02253,42.33045],[-83.07837,42.30978],[-83.09837,42.28877],[-83.12724,42.2376],[-83.14962,42.04089],[-83.11184,41.95671],[-82.67862,41.67615],[-78.93684,42.82887],[-78.90712,42.89733],[-78.90905,42.93022],[-78.93224,42.95229],[-78.96312,42.95509],[-78.98126,42.97],[-79.02074,42.98444],[-79.02424,43.01983],[-78.99941,43.05612],[-79.01055,43.06659],[-79.07486,43.07845],[-79.05671,43.10937],[-79.06881,43.12029],[-79.0427,43.13934],[-79.04652,43.16396],[-79.05384,43.17418],[-79.05002,43.20133],[-79.05544,43.21224],[-79.05512,43.25375],[-79.06921,43.26183],[-79.25796,43.54052],[-76.79706,43.63099],[-76.43859,44.09393],[-76.35324,44.13493],[-76.31222,44.19894],[-76.244,44.19643],[-76.1664,44.23051],[-76.16285,44.28262],[-76.00018,44.34896],[-75.95947,44.34463],[-75.8217,44.43176],[-75.76813,44.51537],[-75.41441,44.76614],[-75.2193,44.87821],[-75.01363,44.95608],[-74.99101,44.98051],[-74.8447,45.00606],[-74.66689,45.00646],[-74.32699,44.99029],[-73.35025,45.00942],[-71.50067,45.01357],[-71.48735,45.07784],[-71.42778,45.12624],[-71.40364,45.21382],[-71.44252,45.2361],[-71.37133,45.24624],[-71.29371,45.29996],[-71.22338,45.25184],[-71.19723,45.25438],[-71.14568,45.24128],[-71.08364,45.30623],[-71.01866,45.31573],[-71.0107,45.34819],[-70.95193,45.33895],[-70.91169,45.29849],[-70.89864,45.2398],[-70.84816,45.22698],[-70.80236,45.37444],[-70.82638,45.39828],[-70.78372,45.43269],[-70.65383,45.37592],[-70.62518,45.42286],[-70.72651,45.49771],[-70.68516,45.56964],[-70.54019,45.67291],[-70.38934,45.73215],[-70.41523,45.79497],[-70.25976,45.89675],[-70.24694,45.95138],[-70.31025,45.96424],[-70.23855,46.1453],[-70.29078,46.18832],[-70.18547,46.35357],[-70.05812,46.41768],[-69.99966,46.69543],[-69.22119,47.46461],[-69.05148,47.42012],[-69.05073,47.30076],[-69.05039,47.2456],[-68.89222,47.1807],[-68.70125,47.24399],[-68.60575,47.24659],[-68.57914,47.28431],[-68.38332,47.28723],[-68.37458,47.35851],[-68.23244,47.35712],[-67.94843,47.1925],[-67.87993,47.10377],[-67.78578,47.06473],[-67.78111,45.9392],[-67.75196,45.91814],[-67.80961,45.87531],[-67.75654,45.82324],[-67.80653,45.80022],[-67.80705,45.69528],[-67.6049,45.60725],[-67.43815,45.59162],[-67.42144,45.50584],[-67.50578,45.48971],[-67.42394,45.37969],[-67.48201,45.27351],[-67.34927,45.122],[-67.29754,45.14865],[-67.29748,45.18173],[-67.27039,45.1934],[-67.22751,45.16344],[-67.20349,45.1722]]]]}},{type:"Feature",properties:{iso1A2:"CC",iso1A3:"CCK",iso1N3:"166",wikidata:"Q36004",nameEn:"Cocos (Keeling) Islands",country:"AU",groups:["053","009","UN"],driveSide:"left",callingCodes:["61"]},geometry:{type:"MultiPolygon",coordinates:[[[[96.61846,-10.82438],[96.02343,-12.68334],[97.93979,-12.33309],[96.61846,-10.82438]]]]}},{type:"Feature",properties:{iso1A2:"CD",iso1A3:"COD",iso1N3:"180",wikidata:"Q974",nameEn:"Democratic Republic of the Congo",aliases:["ZR"],groups:["017","202","002","UN"],callingCodes:["243"]},geometry:{type:"MultiPolygon",coordinates:[[[[27.44012,5.07349],[27.09575,5.22305],[26.93064,5.13535],[26.85579,5.03887],[26.74572,5.10685],[26.48595,5.04984],[26.13371,5.25594],[25.86073,5.19455],[25.53271,5.37431],[25.34558,5.29101],[25.31256,5.03668],[24.71816,4.90509],[24.46719,5.0915],[23.38847,4.60013],[22.94817,4.82392],[22.89094,4.79321],[22.84691,4.69887],[22.78526,4.71423],[22.6928,4.47285],[22.60915,4.48821],[22.5431,4.22041],[22.45504,4.13039],[22.27682,4.11347],[22.10721,4.20723],[21.6405,4.317],[21.55904,4.25553],[21.25744,4.33676],[21.21341,4.29285],[21.11214,4.33895],[21.08793,4.39603],[20.90383,4.44877],[20.60184,4.42394],[18.62755,3.47564],[18.63857,3.19342],[18.10683,2.26876],[18.08034,1.58553],[17.85887,1.04327],[17.86989,.58873],[17.95255,.48128],[17.93877,.32424],[17.81204,.23884],[17.66051,-.26535],[17.72112,-.52707],[17.32438,-.99265],[16.97999,-1.12762],[16.70724,-1.45815],[16.50336,-1.8795],[16.16173,-2.16586],[16.22785,-2.59528],[16.1755,-3.25014],[16.21407,-3.2969],[15.89448,-3.9513],[15.53081,-4.042],[15.48121,-4.22062],[15.41785,-4.28381],[15.32693,-4.27282],[15.25411,-4.31121],[15.1978,-4.32388],[14.83101,-4.80838],[14.67948,-4.92093],[14.5059,-4.84956],[14.41499,-4.8825],[14.37366,-4.56125],[14.47284,-4.42941],[14.3957,-4.36623],[14.40672,-4.28381],[13.9108,-4.50906],[13.81162,-4.41842],[13.71794,-4.44864],[13.70417,-4.72601],[13.50305,-4.77818],[13.41764,-4.89897],[13.11182,-4.5942],[13.09648,-4.63739],[13.11195,-4.67745],[12.8733,-4.74346],[12.70868,-4.95505],[12.63465,-4.94632],[12.60251,-5.01715],[12.46297,-5.09408],[12.49815,-5.14058],[12.51589,-5.1332],[12.53586,-5.14658],[12.53599,-5.1618],[12.52301,-5.17481],[12.52318,-5.74353],[12.26557,-5.74031],[12.20376,-5.76338],[11.95767,-5.94705],[12.42245,-6.07585],[13.04371,-5.87078],[16.55507,-5.85631],[16.96282,-7.21787],[17.5828,-8.13784],[18.33635,-8.00126],[19.33698,-7.99743],[19.5469,-7.00195],[20.30218,-6.98955],[20.31846,-6.91953],[20.61689,-6.90876],[20.56263,-7.28566],[21.79824,-7.29628],[21.84856,-9.59871],[22.19039,-9.94628],[22.32604,-10.76291],[22.17954,-10.85884],[22.25951,-11.24911],[22.54205,-11.05784],[23.16602,-11.10577],[23.45631,-10.946],[23.86868,-11.02856],[24.00027,-10.89356],[24.34528,-11.06816],[24.42612,-11.44975],[25.34069,-11.19707],[25.33058,-11.65767],[26.01777,-11.91488],[26.88687,-12.01868],[27.04351,-11.61312],[27.22541,-11.60323],[27.21025,-11.76157],[27.59932,-12.22123],[28.33199,-12.41375],[29.01918,-13.41353],[29.60531,-13.21685],[29.65078,-13.41844],[29.81551,-13.44683],[29.8139,-12.14898],[29.48404,-12.23604],[29.4992,-12.43843],[29.18592,-12.37921],[28.48357,-11.87532],[28.37241,-11.57848],[28.65032,-10.65133],[28.62795,-9.92942],[28.68532,-9.78],[28.56208,-9.49122],[28.51627,-9.44726],[28.52636,-9.35379],[28.36562,-9.30091],[28.38526,-9.23393],[28.9711,-8.66935],[28.88917,-8.4831],[30.79243,-8.27382],[30.2567,-7.14121],[29.52552,-6.2731],[29.43673,-4.44845],[29.23708,-3.75856],[29.21463,-3.3514],[29.25633,-3.05471],[29.17258,-2.99385],[29.16037,-2.95457],[29.09797,-2.91935],[29.09119,-2.87871],[29.0505,-2.81774],[29.00404,-2.81978],[29.00167,-2.78523],[29.04081,-2.7416],[29.00357,-2.70596],[28.94346,-2.69124],[28.89793,-2.66111],[28.90226,-2.62385],[28.89288,-2.55848],[28.87943,-2.55165],[28.86193,-2.53185],[28.86209,-2.5231],[28.87497,-2.50887],[28.88846,-2.50493],[28.89342,-2.49017],[28.89132,-2.47557],[28.86846,-2.44866],[28.86826,-2.41888],[28.89601,-2.37321],[28.95642,-2.37321],[29.00051,-2.29001],[29.105,-2.27043],[29.17562,-2.12278],[29.11847,-1.90576],[29.24458,-1.69663],[29.24323,-1.66826],[29.36322,-1.50887],[29.45038,-1.5054],[29.53062,-1.40499],[29.59061,-1.39016],[29.58388,-.89821],[29.63006,-.8997],[29.62708,-.71055],[29.67176,-.55714],[29.67474,-.47969],[29.65091,-.46777],[29.72687,-.08051],[29.7224,.07291],[29.77454,.16675],[29.81922,.16824],[29.87284,.39166],[29.97413,.52124],[29.95477,.64486],[29.98307,.84295],[30.1484,.89805],[30.22139,.99635],[30.24671,1.14974],[30.48503,1.21675],[31.30127,2.11006],[31.28042,2.17853],[31.20148,2.2217],[31.1985,2.29462],[31.12104,2.27676],[31.07934,2.30207],[31.06593,2.35862],[30.96911,2.41071],[30.91102,2.33332],[30.83059,2.42559],[30.74271,2.43601],[30.75612,2.5863],[30.8857,2.83923],[30.8574,2.9508],[30.77101,3.04897],[30.84251,3.26908],[30.93486,3.40737],[30.94081,3.50847],[30.85153,3.48867],[30.85997,3.5743],[30.80713,3.60506],[30.78512,3.67097],[30.56277,3.62703],[30.57378,3.74567],[30.55396,3.84451],[30.47691,3.83353],[30.27658,3.95653],[30.22374,3.93896],[30.1621,4.10586],[30.06964,4.13221],[29.79666,4.37809],[29.82087,4.56246],[29.49726,4.7007],[29.43341,4.50101],[29.22207,4.34297],[29.03054,4.48784],[28.8126,4.48784],[28.6651,4.42638],[28.20719,4.35614],[27.79551,4.59976],[27.76469,4.79284],[27.65462,4.89375],[27.56656,4.89375],[27.44012,5.07349]]]]}},{type:"Feature",properties:{iso1A2:"CF",iso1A3:"CAF",iso1N3:"140",wikidata:"Q929",nameEn:"Central African Republic",groups:["017","202","002","UN"],callingCodes:["236"]},geometry:{type:"MultiPolygon",coordinates:[[[[22.87758,10.91915],[22.45889,11.00246],[21.72139,10.64136],[21.71479,10.29932],[21.63553,10.217],[21.52766,10.2105],[21.34934,9.95907],[21.26348,9.97642],[20.82979,9.44696],[20.36748,9.11019],[19.06421,9.00367],[18.86388,8.87971],[19.11044,8.68172],[18.79783,8.25929],[18.67455,8.22226],[18.62612,8.14163],[18.64153,8.08714],[18.6085,8.05009],[18.02731,8.01085],[17.93926,7.95853],[17.67288,7.98905],[16.8143,7.53971],[16.6668,7.67281],[16.658,7.75353],[16.59415,7.76444],[16.58315,7.88657],[16.41583,7.77971],[16.40703,7.68809],[15.79942,7.44149],[15.73118,7.52006],[15.49743,7.52179],[15.23397,7.25135],[15.04717,6.77085],[14.96311,6.75693],[14.79966,6.39043],[14.80122,6.34866],[14.74206,6.26356],[14.56149,6.18928],[14.43073,6.08867],[14.42917,6.00508],[14.49455,5.91683],[14.60974,5.91838],[14.62375,5.70466],[14.58951,5.59777],[14.62531,5.51411],[14.52724,5.28319],[14.57083,5.23979],[14.65489,5.21343],[14.73383,4.6135],[15.00825,4.41458],[15.08609,4.30282],[15.10644,4.1362],[15.17482,4.05131],[15.07686,4.01805],[15.73522,3.24348],[15.77725,3.26835],[16.05449,3.02306],[16.08252,2.45708],[16.19357,2.21537],[16.50126,2.84739],[16.46701,2.92512],[16.57598,3.47999],[16.68283,3.54257],[17.01746,3.55136],[17.35649,3.63045],[17.46876,3.70515],[17.60966,3.63705],[17.83421,3.61068],[17.85842,3.53378],[18.05656,3.56893],[18.14902,3.54476],[18.17323,3.47665],[18.24148,3.50302],[18.2723,3.57992],[18.39558,3.58212],[18.49245,3.63924],[18.58711,3.49423],[18.62755,3.47564],[20.60184,4.42394],[20.90383,4.44877],[21.08793,4.39603],[21.11214,4.33895],[21.21341,4.29285],[21.25744,4.33676],[21.55904,4.25553],[21.6405,4.317],[22.10721,4.20723],[22.27682,4.11347],[22.45504,4.13039],[22.5431,4.22041],[22.60915,4.48821],[22.6928,4.47285],[22.78526,4.71423],[22.84691,4.69887],[22.89094,4.79321],[22.94817,4.82392],[23.38847,4.60013],[24.46719,5.0915],[24.71816,4.90509],[25.31256,5.03668],[25.34558,5.29101],[25.53271,5.37431],[25.86073,5.19455],[26.13371,5.25594],[26.48595,5.04984],[26.74572,5.10685],[26.85579,5.03887],[26.93064,5.13535],[27.09575,5.22305],[27.44012,5.07349],[27.26886,5.25876],[27.23017,5.37167],[27.28621,5.56382],[27.22705,5.62889],[27.22705,5.71254],[26.51721,6.09655],[26.58259,6.1987],[26.32729,6.36272],[26.38022,6.63493],[25.90076,7.09549],[25.37461,7.33024],[25.35281,7.42595],[25.20337,7.50312],[25.20649,7.61115],[25.29214,7.66675],[25.25319,7.8487],[24.98855,7.96588],[24.85156,8.16933],[24.35965,8.26177],[24.13238,8.36959],[24.25691,8.69288],[23.51905,8.71749],[23.59065,8.99743],[23.44744,8.99128],[23.4848,9.16959],[23.56263,9.19418],[23.64358,9.28637],[23.64981,9.44303],[23.62179,9.53823],[23.69155,9.67566],[23.67164,9.86923],[23.3128,10.45214],[23.02221,10.69235],[22.87758,10.91915]]]]}},{type:"Feature",properties:{iso1A2:"CG",iso1A3:"COG",iso1N3:"178",wikidata:"Q971",nameEn:"Republic of the Congo",groups:["017","202","002","UN"],callingCodes:["242"]},geometry:{type:"MultiPolygon",coordinates:[[[[18.62755,3.47564],[18.58711,3.49423],[18.49245,3.63924],[18.39558,3.58212],[18.2723,3.57992],[18.24148,3.50302],[18.17323,3.47665],[18.14902,3.54476],[18.05656,3.56893],[17.85842,3.53378],[17.83421,3.61068],[17.60966,3.63705],[17.46876,3.70515],[17.35649,3.63045],[17.01746,3.55136],[16.68283,3.54257],[16.57598,3.47999],[16.46701,2.92512],[16.50126,2.84739],[16.19357,2.21537],[16.15568,2.18955],[16.08563,2.19733],[16.05294,1.9811],[16.14634,1.70259],[16.02647,1.65591],[16.02959,1.76483],[15.48942,1.98265],[15.34776,1.91264],[15.22634,2.03243],[15.00996,1.98887],[14.61145,2.17866],[13.29457,2.16106],[13.13461,1.57238],[13.25447,1.32339],[13.15519,1.23368],[13.89582,1.4261],[14.25186,1.39842],[14.48179,.9152],[14.26066,.57255],[14.10909,.58563],[13.88648,.26652],[13.90632,-.2287],[14.06862,-.20826],[14.2165,-.38261],[14.41887,-.44799],[14.52569,-.57818],[14.41838,-1.89412],[14.25932,-1.97624],[14.23518,-2.15671],[14.16202,-2.23916],[14.23829,-2.33715],[14.10442,-2.49268],[13.85846,-2.46935],[13.92073,-2.35581],[13.75884,-2.09293],[13.47977,-2.43224],[13.02759,-2.33098],[12.82172,-1.91091],[12.61312,-1.8129],[12.44656,-1.92025],[12.47925,-2.32626],[12.04895,-2.41704],[11.96866,-2.33559],[11.74605,-2.39936],[11.57637,-2.33379],[11.64487,-2.61865],[11.5359,-2.85654],[11.64798,-2.81146],[11.80365,-3.00424],[11.70558,-3.0773],[11.70227,-3.17465],[11.96554,-3.30267],[11.8318,-3.5812],[11.92719,-3.62768],[11.87083,-3.71571],[11.68608,-3.68942],[11.57949,-3.52798],[11.48764,-3.51089],[11.22301,-3.69888],[11.12647,-3.94169],[10.75913,-4.39519],[11.50888,-5.33417],[12.00924,-5.02627],[12.16068,-4.90089],[12.20901,-4.75642],[12.25587,-4.79437],[12.32324,-4.78415],[12.40964,-4.60609],[12.64835,-4.55937],[12.76844,-4.38709],[12.87096,-4.40315],[12.91489,-4.47907],[13.09648,-4.63739],[13.11182,-4.5942],[13.41764,-4.89897],[13.50305,-4.77818],[13.70417,-4.72601],[13.71794,-4.44864],[13.81162,-4.41842],[13.9108,-4.50906],[14.40672,-4.28381],[14.3957,-4.36623],[14.47284,-4.42941],[14.37366,-4.56125],[14.41499,-4.8825],[14.5059,-4.84956],[14.67948,-4.92093],[14.83101,-4.80838],[15.1978,-4.32388],[15.25411,-4.31121],[15.32693,-4.27282],[15.41785,-4.28381],[15.48121,-4.22062],[15.53081,-4.042],[15.89448,-3.9513],[16.21407,-3.2969],[16.1755,-3.25014],[16.22785,-2.59528],[16.16173,-2.16586],[16.50336,-1.8795],[16.70724,-1.45815],[16.97999,-1.12762],[17.32438,-.99265],[17.72112,-.52707],[17.66051,-.26535],[17.81204,.23884],[17.93877,.32424],[17.95255,.48128],[17.86989,.58873],[17.85887,1.04327],[18.08034,1.58553],[18.10683,2.26876],[18.63857,3.19342],[18.62755,3.47564]]]]}},{type:"Feature",properties:{iso1A2:"CH",iso1A3:"CHE",iso1N3:"756",wikidata:"Q39",nameEn:"Switzerland",groups:["155","150","UN"],callingCodes:["41"]},geometry:{type:"MultiPolygon",coordinates:[[[[8.72809,47.69282],[8.72617,47.69651],[8.73671,47.7169],[8.70543,47.73121],[8.74251,47.75168],[8.71778,47.76571],[8.68985,47.75686],[8.68022,47.78599],[8.65292,47.80066],[8.64425,47.76398],[8.62408,47.7626],[8.61657,47.79998],[8.56415,47.80633],[8.56814,47.78001],[8.48868,47.77215],[8.45771,47.7493],[8.44807,47.72426],[8.40569,47.69855],[8.4211,47.68407],[8.40473,47.67499],[8.41346,47.66676],[8.42264,47.66667],[8.44711,47.65379],[8.4667,47.65747],[8.46605,47.64103],[8.49656,47.64709],[8.5322,47.64687],[8.52801,47.66059],[8.56141,47.67088],[8.57683,47.66158],[8.6052,47.67258],[8.61113,47.66332],[8.62884,47.65098],[8.62049,47.63757],[8.60412,47.63735],[8.61471,47.64514],[8.60701,47.65271],[8.59545,47.64298],[8.60348,47.61204],[8.57586,47.59537],[8.55756,47.62394],[8.51686,47.63476],[8.50747,47.61897],[8.45578,47.60121],[8.46637,47.58389],[8.48949,47.588],[8.49431,47.58107],[8.43235,47.56617],[8.39477,47.57826],[8.38273,47.56608],[8.32735,47.57133],[8.30277,47.58607],[8.29524,47.5919],[8.29722,47.60603],[8.2824,47.61225],[8.26313,47.6103],[8.25863,47.61571],[8.23809,47.61204],[8.22577,47.60385],[8.22011,47.6181],[8.20617,47.62141],[8.19378,47.61636],[8.1652,47.5945],[8.14947,47.59558],[8.13823,47.59147],[8.13662,47.58432],[8.11543,47.5841],[8.10395,47.57918],[8.10002,47.56504],[8.08557,47.55768],[8.06663,47.56374],[8.04383,47.55443],[8.02136,47.55096],[8.00113,47.55616],[7.97581,47.55493],[7.95682,47.55789],[7.94494,47.54511],[7.91251,47.55031],[7.90673,47.57674],[7.88664,47.58854],[7.84412,47.5841],[7.81901,47.58798],[7.79486,47.55691],[7.75261,47.54599],[7.71961,47.54219],[7.69642,47.53297],[7.68101,47.53232],[7.6656,47.53752],[7.66174,47.54554],[7.65083,47.54662],[7.63338,47.56256],[7.67655,47.56435],[7.68904,47.57133],[7.67115,47.5871],[7.68486,47.59601],[7.69385,47.60099],[7.68229,47.59905],[7.67395,47.59212],[7.64599,47.59695],[7.64213,47.5944],[7.64309,47.59151],[7.61929,47.57683],[7.60459,47.57869],[7.60523,47.58519],[7.58945,47.59017],[7.58386,47.57536],[7.56684,47.57785],[7.56548,47.57617],[7.55689,47.57232],[7.55652,47.56779],[7.53634,47.55553],[7.52831,47.55347],[7.51723,47.54578],[7.50873,47.54546],[7.49691,47.53821],[7.50588,47.52856],[7.51904,47.53515],[7.53199,47.5284],[7.5229,47.51644],[7.49804,47.51798],[7.51076,47.49651],[7.47534,47.47932],[7.43356,47.49712],[7.42923,47.48628],[7.4583,47.47216],[7.4462,47.46264],[7.43088,47.45846],[7.40308,47.43638],[7.35603,47.43432],[7.33526,47.44186],[7.24669,47.4205],[7.17026,47.44312],[7.19583,47.49455],[7.16249,47.49025],[7.12781,47.50371],[7.07425,47.48863],[7.0231,47.50522],[6.98425,47.49432],[7.0024,47.45264],[6.93953,47.43388],[6.93744,47.40714],[6.88542,47.37262],[6.87959,47.35335],[7.03125,47.36996],[7.0564,47.35134],[7.05305,47.33304],[6.94316,47.28747],[6.95108,47.26428],[6.9508,47.24338],[6.8489,47.15933],[6.76788,47.1208],[6.68823,47.06616],[6.71531,47.0494],[6.43341,46.92703],[6.46456,46.88865],[6.43216,46.80336],[6.45209,46.77502],[6.38351,46.73171],[6.27135,46.68251],[6.11084,46.57649],[6.1567,46.54402],[6.07269,46.46244],[6.08427,46.44305],[6.06407,46.41676],[6.09926,46.40768],[6.15016,46.3778],[6.15985,46.37721],[6.16987,46.36759],[6.15738,46.3491],[6.13876,46.33844],[6.1198,46.31157],[6.11697,46.29547],[6.1013,46.28512],[6.11926,46.2634],[6.12446,46.25059],[6.10071,46.23772],[6.08563,46.24651],[6.07072,46.24085],[6.0633,46.24583],[6.05029,46.23518],[6.04602,46.23127],[6.03342,46.2383],[6.02461,46.23313],[5.97542,46.21525],[5.96515,46.19638],[5.99573,46.18587],[5.98846,46.17046],[5.98188,46.17392],[5.97508,46.15863],[5.9641,46.14412],[5.95781,46.12925],[5.97893,46.13303],[5.9871,46.14499],[6.01791,46.14228],[6.03614,46.13712],[6.04564,46.14031],[6.05203,46.15191],[6.07491,46.14879],[6.09199,46.15191],[6.09926,46.14373],[6.13397,46.1406],[6.15305,46.15194],[6.18116,46.16187],[6.18871,46.16644],[6.18707,46.17999],[6.19552,46.18401],[6.19807,46.18369],[6.20539,46.19163],[6.21114,46.1927],[6.21273,46.19409],[6.21603,46.19507],[6.21844,46.19837],[6.22222,46.19888],[6.22175,46.20045],[6.23544,46.20714],[6.23913,46.20511],[6.24821,46.20531],[6.26007,46.21165],[6.27694,46.21566],[6.29663,46.22688],[6.31041,46.24417],[6.29474,46.26221],[6.26749,46.24745],[6.24952,46.26255],[6.23775,46.27822],[6.25137,46.29014],[6.24826,46.30175],[6.21981,46.31304],[6.25432,46.3632],[6.53358,46.45431],[6.82312,46.42661],[6.8024,46.39171],[6.77152,46.34784],[6.86052,46.28512],[6.78968,46.14058],[6.89321,46.12548],[6.87868,46.03855],[6.93862,46.06502],[7.00946,45.9944],[7.04151,45.92435],[7.10685,45.85653],[7.56343,45.97421],[7.85949,45.91485],[7.9049,45.99945],[7.98881,45.99867],[8.02906,46.10331],[8.11383,46.11577],[8.16866,46.17817],[8.08814,46.26692],[8.31162,46.38044],[8.30648,46.41587],[8.42464,46.46367],[8.46317,46.43712],[8.45032,46.26869],[8.62242,46.12112],[8.75697,46.10395],[8.80778,46.10085],[8.85617,46.0748],[8.79414,46.00913],[8.78585,45.98973],[8.79362,45.99207],[8.8319,45.9879],[8.85121,45.97239],[8.86688,45.96135],[8.88904,45.95465],[8.93649,45.86775],[8.94372,45.86587],[8.93504,45.86245],[8.91129,45.8388],[8.94737,45.84285],[8.9621,45.83707],[8.99663,45.83466],[9.00324,45.82055],[9.0298,45.82127],[9.03279,45.82865],[9.03793,45.83548],[9.03505,45.83976],[9.04059,45.8464],[9.04546,45.84968],[9.06642,45.8761],[9.09065,45.89906],[8.99257,45.9698],[9.01618,46.04928],[9.24503,46.23616],[9.29226,46.32717],[9.25502,46.43743],[9.28136,46.49685],[9.36128,46.5081],[9.40487,46.46621],[9.45936,46.50873],[9.46117,46.37481],[9.57015,46.2958],[9.71273,46.29266],[9.73086,46.35071],[9.95249,46.38045],[10.07055,46.21668],[10.14439,46.22992],[10.17862,46.25626],[10.10506,46.3372],[10.165,46.41051],[10.03715,46.44479],[10.10307,46.61003],[10.23674,46.63484],[10.25309,46.57432],[10.46136,46.53164],[10.49375,46.62049],[10.44686,46.64162],[10.40475,46.63671],[10.38659,46.67847],[10.47197,46.85698],[10.48376,46.93891],[10.36933,47.00212],[10.30031,46.92093],[10.24128,46.93147],[10.22675,46.86942],[10.10715,46.84296],[9.98058,46.91434],[9.88266,46.93343],[9.87935,47.01337],[9.60717,47.06091],[9.55721,47.04762],[9.54041,47.06495],[9.47548,47.05257],[9.47139,47.06402],[9.51362,47.08505],[9.52089,47.10019],[9.51044,47.13727],[9.48774,47.17402],[9.4891,47.19346],[9.50318,47.22153],[9.52406,47.24959],[9.53116,47.27029],[9.54773,47.2809],[9.55857,47.29919],[9.58513,47.31334],[9.59978,47.34671],[9.62476,47.36639],[9.65427,47.36824],[9.66243,47.37136],[9.6711,47.37824],[9.67445,47.38429],[9.67334,47.39191],[9.6629,47.39591],[9.65136,47.40504],[9.65043,47.41937],[9.6446,47.43233],[9.64483,47.43842],[9.65863,47.44847],[9.65728,47.45383],[9.6423,47.45599],[9.62475,47.45685],[9.62158,47.45858],[9.60841,47.47178],[9.60484,47.46358],[9.60205,47.46165],[9.59482,47.46305],[9.58208,47.48344],[9.56312,47.49495],[9.55125,47.53629],[9.25619,47.65939],[9.18203,47.65598],[9.17593,47.65399],[9.1755,47.65584],[9.1705,47.65513],[9.15181,47.66904],[9.13845,47.66389],[9.09891,47.67801],[9.02093,47.6868],[8.94093,47.65596],[8.89946,47.64769],[8.87625,47.65441],[8.87383,47.67045],[8.85065,47.68209],[8.86989,47.70504],[8.82002,47.71458],[8.80663,47.73821],[8.77309,47.72059],[8.76965,47.7075],[8.79966,47.70222],[8.79511,47.67462],[8.75856,47.68969],[8.72809,47.69282]],[[8.95861,45.96485],[8.96668,45.98436],[8.97741,45.98317],[8.97604,45.96151],[8.95861,45.96485]],[[8.70847,47.68904],[8.68985,47.69552],[8.66837,47.68437],[8.65769,47.68928],[8.67508,47.6979],[8.66416,47.71367],[8.70237,47.71453],[8.71773,47.69088],[8.70847,47.68904]]]]}},{type:"Feature",properties:{iso1A2:"CI",iso1A3:"CIV",iso1N3:"384",wikidata:"Q1008",nameEn:"C\xF4te d'Ivoire",groups:["011","202","002","UN"],callingCodes:["225"]},geometry:{type:"MultiPolygon",coordinates:[[[[-7.52774,3.7105],[-3.34019,4.17519],[-3.10675,5.08515],[-3.11073,5.12675],[-3.063,5.13665],[-2.96554,5.10397],[-2.95261,5.12477],[-2.75502,5.10657],[-2.73074,5.1364],[-2.77625,5.34621],[-2.72737,5.34789],[-2.76614,5.60963],[-2.85378,5.65156],[-2.93132,5.62137],[-2.96671,5.6415],[-2.95323,5.71865],[-3.01896,5.71697],[-3.25999,6.62521],[-3.21954,6.74407],[-3.23327,6.81744],[-2.95438,7.23737],[-2.97822,7.27165],[-2.92339,7.60847],[-2.79467,7.86002],[-2.78395,7.94974],[-2.74819,7.92613],[-2.67787,8.02055],[-2.61232,8.02645],[-2.62901,8.11495],[-2.49037,8.20872],[-2.58243,8.7789],[-2.66357,9.01771],[-2.77799,9.04949],[-2.69814,9.22717],[-2.68802,9.49343],[-2.76494,9.40778],[-2.93012,9.57403],[-3.00765,9.74019],[-3.16609,9.85147],[-3.19306,9.93781],[-3.27228,9.84981],[-3.31779,9.91125],[-3.69703,9.94279],[-4.25999,9.76012],[-4.31392,9.60062],[-4.6426,9.70696],[-4.96621,9.89132],[-4.96453,9.99923],[-5.12465,10.29788],[-5.39602,10.2929],[-5.51058,10.43177],[-5.65135,10.46767],[-5.78124,10.43952],[-5.99478,10.19694],[-6.18851,10.24244],[-6.1731,10.46983],[-6.24795,10.74248],[-6.325,10.68624],[-6.40646,10.69922],[-6.42847,10.5694],[-6.52974,10.59104],[-6.63541,10.66893],[-6.68164,10.35074],[-6.93921,10.35291],[-7.01186,10.25111],[-6.97444,10.21644],[-7.00966,10.15794],[-7.0603,10.14711],[-7.13331,10.24877],[-7.3707,10.24677],[-7.44555,10.44602],[-7.52261,10.4655],[-7.54462,10.40921],[-7.63048,10.46334],[-7.92107,10.15577],[-7.97971,10.17117],[-8.01225,10.1021],[-8.11921,10.04577],[-8.15652,9.94288],[-8.09434,9.86936],[-8.14657,9.55062],[-8.03463,9.39604],[-7.85056,9.41812],[-7.90777,9.20456],[-7.73862,9.08422],[-7.92518,8.99332],[-7.95503,8.81146],[-7.69882,8.66148],[-7.65653,8.36873],[-7.92518,8.50652],[-8.22991,8.48438],[-8.2411,8.24196],[-8.062,8.16071],[-7.98675,8.20134],[-7.99919,8.11023],[-7.94695,8.00925],[-8.06449,8.04989],[-8.13414,7.87991],[-8.09931,7.78626],[-8.21374,7.54466],[-8.4003,7.6285],[-8.47114,7.55676],[-8.41935,7.51203],[-8.37458,7.25794],[-8.29249,7.1691],[-8.31736,6.82837],[-8.59456,6.50612],[-8.48652,6.43797],[-8.45666,6.49977],[-8.38453,6.35887],[-8.3298,6.36381],[-8.17557,6.28222],[-8.00642,6.31684],[-7.90692,6.27728],[-7.83478,6.20309],[-7.8497,6.08932],[-7.79747,6.07696],[-7.78254,5.99037],[-7.70294,5.90625],[-7.67309,5.94337],[-7.48155,5.80974],[-7.46165,5.84934],[-7.43677,5.84687],[-7.43926,5.74787],[-7.37209,5.61173],[-7.43428,5.42355],[-7.36463,5.32944],[-7.46165,5.26256],[-7.48901,5.14118],[-7.55369,5.08667],[-7.53876,4.94294],[-7.59349,4.8909],[-7.53259,4.35145],[-7.52774,3.7105]]]]}},{type:"Feature",properties:{iso1A2:"CK",iso1A3:"COK",iso1N3:"184",wikidata:"Q26988",nameEn:"Cook Islands",country:"NZ",groups:["061","009","UN"],driveSide:"left",callingCodes:["682"]},geometry:{type:"MultiPolygon",coordinates:[[[[-168.15106,-10.26955],[-156.45576,-31.75456],[-156.48634,-15.52824],[-156.50903,-7.4975],[-168.15106,-10.26955]]]]}},{type:"Feature",properties:{iso1A2:"CL",iso1A3:"CHL",iso1N3:"152",wikidata:"Q298",nameEn:"Chile",groups:["005","419","019","UN"],callingCodes:["56"]},geometry:{type:"MultiPolygon",coordinates:[[[[-68.60702,-52.65781],[-68.41683,-52.33516],[-69.97824,-52.00845],[-71.99889,-51.98018],[-72.33873,-51.59954],[-72.31343,-50.58411],[-73.15765,-50.78337],[-73.55259,-49.92488],[-73.45156,-49.79461],[-73.09655,-49.14342],[-72.56894,-48.81116],[-72.54042,-48.52392],[-72.27662,-48.28727],[-72.50478,-47.80586],[-71.94152,-47.13595],[-71.68577,-46.55385],[-71.75614,-45.61611],[-71.35687,-45.22075],[-72.06985,-44.81756],[-71.26418,-44.75684],[-71.16436,-44.46244],[-71.81318,-44.38097],[-71.64206,-43.64774],[-72.14828,-42.85321],[-72.15541,-42.15941],[-71.74901,-42.11711],[-71.92726,-40.72714],[-71.37826,-38.91474],[-70.89532,-38.6923],[-71.24279,-37.20264],[-70.95047,-36.4321],[-70.38008,-36.02375],[-70.49416,-35.24145],[-69.87386,-34.13344],[-69.88099,-33.34489],[-70.55832,-31.51559],[-70.14479,-30.36595],[-69.8596,-30.26131],[-69.99507,-29.28351],[-69.80969,-29.07185],[-69.66709,-28.44055],[-69.22504,-27.95042],[-68.77586,-27.16029],[-68.43363,-27.08414],[-68.27677,-26.90626],[-68.59048,-26.49861],[-68.56909,-26.28146],[-68.38372,-26.15353],[-68.57622,-25.32505],[-68.38372,-25.08636],[-68.56909,-24.69831],[-68.24825,-24.42596],[-67.33563,-24.04237],[-66.99632,-22.99839],[-67.18382,-22.81525],[-67.54284,-22.89771],[-67.85114,-22.87076],[-68.18816,-21.28614],[-68.40403,-20.94562],[-68.53957,-20.91542],[-68.55383,-20.7355],[-68.44023,-20.62701],[-68.7276,-20.46178],[-68.74273,-20.08817],[-68.57132,-20.03134],[-68.54611,-19.84651],[-68.66761,-19.72118],[-68.41218,-19.40499],[-68.61989,-19.27584],[-68.80602,-19.08355],[-68.87082,-19.06003],[-68.94987,-18.93302],[-69.07432,-18.28259],[-69.14807,-18.16893],[-69.07496,-18.03715],[-69.28671,-17.94844],[-69.34126,-17.72753],[-69.46623,-17.60518],[-69.46897,-17.4988],[-69.66483,-17.65083],[-69.79087,-17.65563],[-69.82868,-17.72048],[-69.75305,-17.94605],[-69.81607,-18.12582],[-69.96732,-18.25992],[-70.16394,-18.31737],[-70.31267,-18.31258],[-70.378,-18.3495],[-70.59118,-18.35072],[-113.52687,-26.52828],[-68.11646,-58.14883],[-66.07313,-55.19618],[-67.11046,-54.94199],[-67.46182,-54.92205],[-68.01394,-54.8753],[-68.60733,-54.9125],[-68.60702,-52.65781]]]]}},{type:"Feature",properties:{iso1A2:"CM",iso1A3:"CMR",iso1N3:"120",wikidata:"Q1009",nameEn:"Cameroon",groups:["017","202","002","UN"],callingCodes:["237"]},geometry:{type:"MultiPolygon",coordinates:[[[[14.83314,12.62963],[14.55058,12.78256],[14.56101,12.91036],[14.46881,13.08259],[14.08251,13.0797],[14.20204,12.53405],[14.17523,12.41916],[14.22215,12.36533],[14.4843,12.35223],[14.6474,12.17466],[14.61612,11.7798],[14.55207,11.72001],[14.64591,11.66166],[14.6124,11.51283],[14.17821,11.23831],[13.97489,11.30258],[13.78945,11.00154],[13.7403,11.00593],[13.70753,10.94451],[13.73434,10.9255],[13.54964,10.61236],[13.5705,10.53183],[13.43644,10.13326],[13.34111,10.12299],[13.25025,10.03647],[13.25323,10.00127],[13.286,9.9822],[13.27409,9.93232],[13.24132,9.91031],[13.25025,9.86042],[13.29941,9.8296],[13.25472,9.76795],[13.22642,9.57266],[13.02385,9.49334],[12.85628,9.36698],[12.91958,9.33905],[12.90022,9.11411],[12.81085,8.91992],[12.79,8.75361],[12.71701,8.7595],[12.68722,8.65938],[12.44146,8.6152],[12.4489,8.52536],[12.26123,8.43696],[12.24782,8.17904],[12.19271,8.10826],[12.20909,7.97553],[11.99908,7.67302],[12.01844,7.52981],[11.93205,7.47812],[11.84864,7.26098],[11.87396,7.09398],[11.63117,6.9905],[11.55818,6.86186],[11.57755,6.74059],[11.51499,6.60892],[11.42264,6.5882],[11.42041,6.53789],[11.09495,6.51717],[11.09644,6.68437],[10.94302,6.69325],[10.8179,6.83377],[10.83727,6.9358],[10.60789,7.06885],[10.59746,7.14719],[10.57214,7.16345],[10.53639,6.93432],[10.21466,6.88996],[10.15135,7.03781],[9.86314,6.77756],[9.77824,6.79088],[9.70674,6.51717],[9.51757,6.43874],[8.84209,5.82562],[8.88156,5.78857],[8.83687,5.68483],[8.92029,5.58403],[8.78027,5.1243],[8.60302,4.87353],[8.34397,4.30689],[9.22018,3.72052],[9.81162,2.33797],[9.82123,2.35097],[9.83754,2.32428],[9.83238,2.29079],[9.84716,2.24676],[9.89012,2.20457],[9.90749,2.20049],[9.991,2.16561],[11.3561,2.17217],[11.37116,2.29975],[13.28534,2.25716],[13.29457,2.16106],[14.61145,2.17866],[15.00996,1.98887],[15.22634,2.03243],[15.34776,1.91264],[15.48942,1.98265],[16.02959,1.76483],[16.02647,1.65591],[16.14634,1.70259],[16.05294,1.9811],[16.08563,2.19733],[16.15568,2.18955],[16.19357,2.21537],[16.08252,2.45708],[16.05449,3.02306],[15.77725,3.26835],[15.73522,3.24348],[15.07686,4.01805],[15.17482,4.05131],[15.10644,4.1362],[15.08609,4.30282],[15.00825,4.41458],[14.73383,4.6135],[14.65489,5.21343],[14.57083,5.23979],[14.52724,5.28319],[14.62531,5.51411],[14.58951,5.59777],[14.62375,5.70466],[14.60974,5.91838],[14.49455,5.91683],[14.42917,6.00508],[14.43073,6.08867],[14.56149,6.18928],[14.74206,6.26356],[14.80122,6.34866],[14.79966,6.39043],[14.96311,6.75693],[15.04717,6.77085],[15.23397,7.25135],[15.49743,7.52179],[15.56964,7.58936],[15.59272,7.7696],[15.50743,7.79302],[15.20426,8.50892],[15.09484,8.65982],[14.83566,8.80557],[14.35707,9.19611],[14.37094,9.2954],[13.97544,9.6365],[14.01793,9.73169],[14.1317,9.82413],[14.20411,10.00055],[14.4673,10.00264],[14.80082,9.93818],[14.95722,9.97926],[15.05999,9.94845],[15.14043,9.99246],[15.24618,9.99246],[15.41408,9.92876],[15.68761,9.99344],[15.50535,10.1098],[15.30874,10.31063],[15.23724,10.47764],[15.14936,10.53915],[15.15532,10.62846],[15.06737,10.80921],[15.09127,10.87431],[15.04957,11.02347],[15.10021,11.04101],[15.0585,11.40481],[15.13149,11.5537],[15.06595,11.71126],[15.11579,11.79313],[15.04808,11.8731],[15.05786,12.0608],[15.0349,12.10698],[15.00146,12.1223],[14.96952,12.0925],[14.89019,12.16593],[14.90827,12.3269],[14.83314,12.62963]]]]}},{type:"Feature",properties:{iso1A2:"CN",iso1A3:"CHN",iso1N3:"156",wikidata:"Q148",nameEn:"People's Republic of China"},geometry:null},{type:"Feature",properties:{iso1A2:"CO",iso1A3:"COL",iso1N3:"170",wikidata:"Q739",nameEn:"Colombia",groups:["005","419","019","UN"],callingCodes:["57"]},geometry:{type:"MultiPolygon",coordinates:[[[[-71.19849,12.65801],[-81.58685,18.0025],[-82.06974,14.49418],[-82.56142,11.91792],[-78.79327,9.93766],[-77.58292,9.22278],[-77.32389,8.81247],[-77.45064,8.49991],[-77.17257,7.97422],[-77.57185,7.51147],[-77.72514,7.72348],[-77.72157,7.47612],[-77.81426,7.48319],[-77.89178,7.22681],[-78.06168,7.07793],[-82.12561,4.00341],[-78.87137,1.47457],[-78.42749,1.15389],[-77.85677,.80197],[-77.7148,.85003],[-77.68613,.83029],[-77.66416,.81604],[-77.67815,.73863],[-77.49984,.64476],[-77.52001,.40782],[-76.89177,.24736],[-76.4094,.24015],[-76.41215,.38228],[-76.23441,.42294],[-75.82927,.09578],[-75.25764,-.11943],[-75.18513,-.0308],[-74.42701,-.50218],[-74.26675,-.97229],[-73.65312,-1.26222],[-72.92587,-2.44514],[-71.75223,-2.15058],[-70.94377,-2.23142],[-70.04609,-2.73906],[-70.71396,-3.7921],[-70.52393,-3.87553],[-70.3374,-3.79505],[-69.94708,-4.2431],[-69.43395,-1.42219],[-69.4215,-1.01853],[-69.59796,-.75136],[-69.603,-.51947],[-70.03658,-.19681],[-70.04162,.55437],[-69.47696,.71065],[-69.20976,.57958],[-69.14422,.84172],[-69.26017,1.06856],[-69.82987,1.07864],[-69.83491,1.69353],[-69.53746,1.76408],[-69.38621,1.70865],[-68.18128,1.72881],[-68.26699,1.83463],[-68.18632,2.00091],[-67.9292,1.82455],[-67.40488,2.22258],[-67.299,1.87494],[-67.15784,1.80439],[-67.08222,1.17441],[-66.85795,1.22998],[-67.21967,2.35778],[-67.65696,2.81691],[-67.85862,2.79173],[-67.85862,2.86727],[-67.30945,3.38393],[-67.50067,3.75812],[-67.62671,3.74303],[-67.85358,4.53249],[-67.83341,5.31104],[-67.59141,5.5369],[-67.63914,5.64963],[-67.58558,5.84537],[-67.43513,5.98835],[-67.4625,6.20625],[-67.60654,6.2891],[-69.41843,6.1072],[-70.10716,6.96516],[-70.7596,7.09799],[-71.03941,6.98163],[-71.37234,7.01588],[-71.42212,7.03854],[-71.44118,7.02116],[-71.82441,7.04314],[-72.04895,7.03837],[-72.19437,7.37034],[-72.43132,7.40034],[-72.47415,7.48928],[-72.45321,7.57232],[-72.47827,7.65604],[-72.46763,7.79518],[-72.44454,7.86031],[-72.46183,7.90682],[-72.45806,7.91141],[-72.47042,7.92306],[-72.48183,7.92909],[-72.48801,7.94329],[-72.47213,7.96106],[-72.39137,8.03534],[-72.35163,8.01163],[-72.36987,8.19976],[-72.4042,8.36513],[-72.65474,8.61428],[-72.77415,9.10165],[-72.94052,9.10663],[-73.02119,9.27584],[-73.36905,9.16636],[-72.98085,9.85253],[-72.88002,10.44309],[-72.4767,11.1117],[-72.24983,11.14138],[-71.9675,11.65536],[-71.3275,11.85],[-70.92579,11.96275],[-71.19849,12.65801]]]]}},{type:"Feature",properties:{iso1A2:"CP",iso1A3:"CPT",wikidata:"Q161258",nameEn:"Clipperton Island",country:"FR",groups:["013","003","019","UN"],isoStatus:"excRes"},geometry:{type:"MultiPolygon",coordinates:[[[[-110.36279,9.79626],[-108.755,9.84085],[-109.04145,11.13245],[-110.36279,9.79626]]]]}},{type:"Feature",properties:{iso1A2:"CR",iso1A3:"CRI",iso1N3:"188",wikidata:"Q800",nameEn:"Costa Rica",groups:["013","003","419","019","UN"],callingCodes:["506"]},geometry:{type:"MultiPolygon",coordinates:[[[[-83.68276,11.01562],[-83.66597,10.79916],[-83.90838,10.71161],[-84.68197,11.07568],[-84.92439,10.9497],[-85.60529,11.22607],[-85.71223,11.06868],[-86.14524,11.09059],[-87.41779,5.02401],[-82.94503,7.93865],[-82.89978,8.04083],[-82.89137,8.05755],[-82.88641,8.10219],[-82.9388,8.26634],[-83.05209,8.33394],[-82.93056,8.43465],[-82.8679,8.44042],[-82.8382,8.48117],[-82.83322,8.52464],[-82.83975,8.54755],[-82.82739,8.60153],[-82.8794,8.6981],[-82.92068,8.74832],[-82.91377,8.774],[-82.88253,8.83331],[-82.72126,8.97125],[-82.93516,9.07687],[-82.93516,9.46741],[-82.84871,9.4973],[-82.87919,9.62645],[-82.77206,9.59573],[-82.66667,9.49746],[-82.61345,9.49881],[-82.56507,9.57279],[-82.51044,9.65379],[-83.54024,10.96805],[-83.68276,11.01562]]]]}},{type:"Feature",properties:{iso1A2:"CU",iso1A3:"CUB",iso1N3:"192",wikidata:"Q241",nameEn:"Cuba",groups:["029","003","419","019","UN"],callingCodes:["53"]},geometry:{type:"MultiPolygon",coordinates:[[[[-73.62304,20.6935],[-82.02215,24.23074],[-85.77883,21.92705],[-74.81171,18.82201],[-73.62304,20.6935]]]]}},{type:"Feature",properties:{iso1A2:"CV",iso1A3:"CPV",iso1N3:"132",wikidata:"Q1011",nameEn:"Cape Verde",groups:["Q105472","011","202","002","UN"],callingCodes:["238"]},geometry:{type:"MultiPolygon",coordinates:[[[[-28.81604,14.57305],[-20.39702,14.12816],[-23.37101,19.134],[-28.81604,14.57305]]]]}},{type:"Feature",properties:{iso1A2:"CW",iso1A3:"CUW",iso1N3:"531",wikidata:"Q25279",nameEn:"Cura\xE7ao",aliases:["NL-CW"],country:"NL",groups:["Q1451600","029","003","419","019","UN"],callingCodes:["599"]},geometry:{type:"MultiPolygon",coordinates:[[[[-68.90012,12.62309],[-69.59009,12.46019],[-68.99639,11.79035],[-68.33524,11.78151],[-68.90012,12.62309]]]]}},{type:"Feature",properties:{iso1A2:"CX",iso1A3:"CXR",iso1N3:"162",wikidata:"Q31063",nameEn:"Christmas Island",country:"AU",groups:["053","009","UN"],driveSide:"left",callingCodes:["61"]},geometry:{type:"MultiPolygon",coordinates:[[[[105.66835,-9.31927],[104.67494,-11.2566],[106.66176,-11.14349],[105.66835,-9.31927]]]]}},{type:"Feature",properties:{iso1A2:"CY",iso1A3:"CYP",iso1N3:"196",wikidata:"Q229",nameEn:"Republic of Cyprus",groups:["Q644636","EU","145","142","UN"],driveSide:"left",callingCodes:["357"]},geometry:{type:"MultiPolygon",coordinates:[[[[32.46489,35.48584],[30.15137,34.08517],[32.74412,34.43926],[32.75515,34.64985],[32.76136,34.68318],[32.79433,34.67883],[32.82717,34.70622],[32.86014,34.70585],[32.86167,34.68734],[32.9068,34.66102],[32.91398,34.67343],[32.93043,34.67091],[32.92807,34.66736],[32.93449,34.66241],[32.93693,34.67027],[32.94379,34.67111],[32.94683,34.67907],[32.95539,34.68471],[32.99135,34.68061],[32.98668,34.67268],[32.99014,34.65518],[32.97736,34.65277],[32.97079,34.66112],[32.95325,34.66462],[32.94796,34.6587],[32.94976,34.65204],[32.95471,34.64528],[32.95323,34.64075],[32.95891,34.62919],[32.96718,34.63446],[32.96968,34.64046],[33.0138,34.64424],[33.26744,34.49942],[33.83531,34.73974],[33.70575,34.97947],[33.70639,34.99303],[33.71514,35.00294],[33.69731,35.01754],[33.69938,35.03123],[33.67678,35.03866],[33.63765,35.03869],[33.61215,35.0527],[33.59658,35.03635],[33.567,35.04803],[33.57478,35.06049],[33.53975,35.08151],[33.48915,35.06594],[33.47666,35.00701],[33.45256,35.00288],[33.45178,35.02078],[33.47825,35.04103],[33.48136,35.0636],[33.46813,35.10564],[33.41675,35.16325],[33.4076,35.20062],[33.38575,35.2018],[33.37248,35.18698],[33.3717,35.1788],[33.36569,35.17479],[33.35612,35.17402],[33.35596,35.17942],[33.34964,35.17803],[33.35056,35.18328],[33.31955,35.18096],[33.3072,35.16816],[33.27068,35.16815],[33.15138,35.19504],[33.11105,35.15639],[33.08249,35.17319],[33.01192,35.15639],[32.94471,35.09422],[32.86406,35.1043],[32.85733,35.07742],[32.70779,35.14127],[32.70947,35.18328],[32.64864,35.19967],[32.60361,35.16647],[32.46489,35.48584]]],[[[33.74144,35.01053],[33.7492,35.01319],[33.74983,35.02274],[33.74265,35.02329],[33.73781,35.02181],[33.7343,35.01178],[33.74144,35.01053]]],[[[33.77312,34.9976],[33.75994,35.00113],[33.75682,34.99916],[33.76605,34.99543],[33.76738,34.99188],[33.7778,34.98981],[33.77843,34.988],[33.78149,34.98854],[33.78318,34.98699],[33.78571,34.98951],[33.78917,34.98854],[33.79191,34.98914],[33.78516,34.99582],[33.77553,34.99518],[33.77312,34.9976]]]]}},{type:"Feature",properties:{iso1A2:"CZ",iso1A3:"CZE",iso1N3:"203",wikidata:"Q213",nameEn:"Czechia",groups:["EU","151","150","UN"],callingCodes:["420"]},geometry:{type:"MultiPolygon",coordinates:[[[[14.82803,50.86966],[14.79139,50.81438],[14.70661,50.84096],[14.61993,50.86049],[14.63434,50.8883],[14.65259,50.90513],[14.64802,50.93241],[14.58024,50.91443],[14.56374,50.922],[14.59702,50.96148],[14.59908,50.98685],[14.58215,50.99306],[14.56432,51.01008],[14.53438,51.00374],[14.53321,51.01679],[14.49873,51.02242],[14.50809,51.0427],[14.49991,51.04692],[14.49154,51.04382],[14.49202,51.02286],[14.45827,51.03712],[14.41335,51.02086],[14.30098,51.05515],[14.25665,50.98935],[14.28776,50.97718],[14.32353,50.98556],[14.32793,50.97379],[14.30251,50.96606],[14.31422,50.95243],[14.39848,50.93866],[14.38691,50.89907],[14.30098,50.88448],[14.27123,50.89386],[14.24314,50.88761],[14.22331,50.86049],[14.02982,50.80662],[13.98864,50.8177],[13.89113,50.78533],[13.89444,50.74142],[13.82942,50.7251],[13.76316,50.73487],[13.70204,50.71771],[13.65977,50.73096],[13.52474,50.70394],[13.53748,50.67654],[13.5226,50.64721],[13.49742,50.63133],[13.46413,50.60102],[13.42189,50.61243],[13.37485,50.64931],[13.37805,50.627],[13.32264,50.60317],[13.32594,50.58009],[13.29454,50.57904],[13.25158,50.59268],[13.19043,50.50237],[13.13424,50.51709],[13.08301,50.50132],[13.0312,50.50944],[13.02038,50.4734],[13.02147,50.44763],[12.98433,50.42016],[12.94058,50.40944],[12.82465,50.45738],[12.73476,50.43237],[12.73044,50.42268],[12.70731,50.39948],[12.67261,50.41949],[12.51356,50.39694],[12.48747,50.37278],[12.49214,50.35228],[12.48256,50.34784],[12.46643,50.35527],[12.43722,50.33774],[12.43371,50.32506],[12.39924,50.32302],[12.40158,50.29521],[12.36594,50.28289],[12.35425,50.23993],[12.33263,50.24367],[12.32445,50.20442],[12.33847,50.19432],[12.32596,50.17146],[12.29232,50.17524],[12.28063,50.19544],[12.28755,50.22429],[12.23943,50.24594],[12.24791,50.25525],[12.26953,50.25189],[12.25119,50.27079],[12.20823,50.2729],[12.18013,50.32146],[12.10907,50.32041],[12.13716,50.27396],[12.09287,50.25032],[12.19335,50.19997],[12.21484,50.16399],[12.1917,50.13434],[12.2073,50.10315],[12.23709,50.10213],[12.27433,50.0771],[12.26111,50.06331],[12.30798,50.05719],[12.49908,49.97305],[12.47264,49.94222],[12.55197,49.92094],[12.48256,49.83575],[12.46603,49.78882],[12.40489,49.76321],[12.4462,49.70233],[12.52553,49.68415],[12.53544,49.61888],[12.56188,49.6146],[12.60155,49.52887],[12.64782,49.52565],[12.64121,49.47628],[12.669,49.42935],[12.71227,49.42363],[12.75854,49.3989],[12.78168,49.34618],[12.88414,49.33541],[12.88249,49.35479],[12.94859,49.34079],[13.03618,49.30417],[13.02957,49.27399],[13.05883,49.26259],[13.17665,49.16713],[13.17019,49.14339],[13.20405,49.12303],[13.23689,49.11412],[13.28242,49.1228],[13.39479,49.04812],[13.40802,48.98851],[13.50221,48.93752],[13.50552,48.97441],[13.58319,48.96899],[13.61624,48.9462],[13.67739,48.87886],[13.73854,48.88538],[13.76994,48.83537],[13.78977,48.83319],[13.8096,48.77877],[13.84023,48.76988],[14.06151,48.66873],[14.01482,48.63788],[14.09104,48.5943],[14.20691,48.5898],[14.33909,48.55852],[14.43076,48.58855],[14.4587,48.64695],[14.56139,48.60429],[14.60808,48.62881],[14.66762,48.58215],[14.71794,48.59794],[14.72756,48.69502],[14.80584,48.73489],[14.80821,48.77711],[14.81545,48.7874],[14.94773,48.76268],[14.95641,48.75915],[14.9758,48.76857],[14.98112,48.77524],[14.9782,48.7766],[14.98032,48.77959],[14.95072,48.79101],[14.98917,48.90082],[14.97612,48.96983],[14.99878,49.01444],[15.15534,48.99056],[15.16358,48.94278],[15.26177,48.95766],[15.28305,48.98831],[15.34823,48.98444],[15.48027,48.94481],[15.51357,48.91549],[15.61622,48.89541],[15.6921,48.85973],[15.75341,48.8516],[15.78087,48.87644],[15.84404,48.86921],[16.06034,48.75436],[16.37345,48.729],[16.40915,48.74576],[16.46134,48.80865],[16.67008,48.77699],[16.68518,48.7281],[16.71883,48.73806],[16.79779,48.70998],[16.90354,48.71541],[16.93955,48.60371],[17.00215,48.70887],[17.11202,48.82925],[17.19355,48.87602],[17.29054,48.85546],[17.3853,48.80936],[17.45671,48.85004],[17.5295,48.81117],[17.7094,48.86721],[17.73126,48.87885],[17.77944,48.92318],[17.87831,48.92679],[17.91814,49.01784],[18.06885,49.03157],[18.1104,49.08624],[18.15022,49.24518],[18.18456,49.28909],[18.36446,49.3267],[18.4139,49.36517],[18.4084,49.40003],[18.44686,49.39467],[18.54848,49.47059],[18.53063,49.49022],[18.57183,49.51162],[18.6144,49.49824],[18.67757,49.50895],[18.74761,49.492],[18.84521,49.51672],[18.84786,49.5446],[18.80479,49.6815],[18.72838,49.68163],[18.69817,49.70473],[18.62676,49.71983],[18.62943,49.74603],[18.62645,49.75002],[18.61368,49.75426],[18.61278,49.7618],[18.57183,49.83334],[18.60341,49.86256],[18.57045,49.87849],[18.57697,49.91565],[18.54299,49.92537],[18.54495,49.9079],[18.53423,49.89906],[18.41604,49.93498],[18.33562,49.94747],[18.33278,49.92415],[18.31914,49.91565],[18.27794,49.93863],[18.27107,49.96779],[18.21752,49.97309],[18.20241,49.99958],[18.10628,50.00223],[18.07898,50.04535],[18.03212,50.06574],[18.00396,50.04954],[18.04585,50.03311],[18.04585,50.01194],[18.00191,50.01723],[17.86886,49.97452],[17.77669,50.02253],[17.7506,50.07896],[17.6888,50.12037],[17.66683,50.10275],[17.59404,50.16437],[17.70528,50.18812],[17.76296,50.23382],[17.72176,50.25665],[17.74648,50.29966],[17.69292,50.32859],[17.67764,50.28977],[17.58889,50.27837],[17.3702,50.28123],[17.34548,50.2628],[17.34273,50.32947],[17.27681,50.32246],[17.19991,50.3654],[17.19579,50.38817],[17.14498,50.38117],[17.1224,50.39494],[16.89229,50.45117],[16.85933,50.41093],[16.90877,50.38642],[16.94448,50.31281],[16.99803,50.30316],[17.02138,50.27772],[16.99803,50.25753],[17.02825,50.23118],[17.00353,50.21449],[16.98018,50.24172],[16.8456,50.20834],[16.7014,50.09659],[16.63137,50.1142],[16.55446,50.16613],[16.56407,50.21009],[16.42674,50.32509],[16.39379,50.3207],[16.3622,50.34875],[16.36495,50.37679],[16.30289,50.38292],[16.28118,50.36891],[16.22821,50.41054],[16.21585,50.40627],[16.19526,50.43291],[16.31413,50.50274],[16.34572,50.49575],[16.44597,50.58041],[16.33611,50.66579],[16.23174,50.67101],[16.20839,50.63096],[16.10265,50.66405],[16.02437,50.60046],[15.98317,50.61528],[16.0175,50.63009],[15.97219,50.69799],[15.87331,50.67188],[15.81683,50.75666],[15.73186,50.73885],[15.43798,50.80833],[15.3803,50.77187],[15.36656,50.83956],[15.2773,50.8907],[15.27043,50.97724],[15.2361,50.99886],[15.1743,50.9833],[15.16744,51.01959],[15.11937,50.99021],[15.10152,51.01095],[15.06218,51.02269],[15.03895,51.0123],[15.02433,51.0242],[14.96419,50.99108],[15.01088,50.97984],[14.99852,50.86817],[14.82803,50.86966]]]]}},{type:"Feature",properties:{iso1A2:"DE",iso1A3:"DEU",iso1N3:"276",wikidata:"Q183",nameEn:"Germany",groups:["EU","155","150","UN"],callingCodes:["49"]},geometry:{type:"MultiPolygon",coordinates:[[[[8.70847,47.68904],[8.71773,47.69088],[8.70237,47.71453],[8.66416,47.71367],[8.67508,47.6979],[8.65769,47.68928],[8.66837,47.68437],[8.68985,47.69552],[8.70847,47.68904]]],[[[8.72617,47.69651],[8.72809,47.69282],[8.75856,47.68969],[8.79511,47.67462],[8.79966,47.70222],[8.76965,47.7075],[8.77309,47.72059],[8.80663,47.73821],[8.82002,47.71458],[8.86989,47.70504],[8.85065,47.68209],[8.87383,47.67045],[8.87625,47.65441],[8.89946,47.64769],[8.94093,47.65596],[9.02093,47.6868],[9.09891,47.67801],[9.13845,47.66389],[9.15181,47.66904],[9.1705,47.65513],[9.1755,47.65584],[9.17593,47.65399],[9.18203,47.65598],[9.25619,47.65939],[9.55125,47.53629],[9.72736,47.53457],[9.76748,47.5934],[9.80254,47.59419],[9.82591,47.58158],[9.8189,47.54688],[9.87499,47.52953],[9.87733,47.54688],[9.92407,47.53111],[9.96029,47.53899],[10.00003,47.48216],[10.03859,47.48927],[10.07131,47.45531],[10.09001,47.46005],[10.1052,47.4316],[10.06897,47.40709],[10.09819,47.35724],[10.11805,47.37228],[10.16362,47.36674],[10.17648,47.38889],[10.2127,47.38019],[10.22774,47.38904],[10.23757,47.37609],[10.19998,47.32832],[10.2147,47.31014],[10.17648,47.29149],[10.17531,47.27167],[10.23257,47.27088],[10.33424,47.30813],[10.39851,47.37623],[10.4324,47.38494],[10.4359,47.41183],[10.47446,47.43318],[10.46278,47.47901],[10.44291,47.48453],[10.4324,47.50111],[10.44992,47.5524],[10.43473,47.58394],[10.47329,47.58552],[10.48849,47.54057],[10.56912,47.53584],[10.60337,47.56755],[10.63456,47.5591],[10.68832,47.55752],[10.6965,47.54253],[10.7596,47.53228],[10.77596,47.51729],[10.88814,47.53701],[10.91268,47.51334],[10.86945,47.5015],[10.87061,47.4786],[10.90918,47.48571],[10.93839,47.48018],[10.92437,47.46991],[10.98513,47.42882],[10.97111,47.41617],[10.97111,47.39561],[11.11835,47.39719],[11.12536,47.41222],[11.20482,47.43198],[11.25157,47.43277],[11.22002,47.3964],[11.27844,47.39956],[11.29597,47.42566],[11.33804,47.44937],[11.4175,47.44621],[11.38128,47.47465],[11.4362,47.51413],[11.52618,47.50939],[11.58578,47.52281],[11.58811,47.55515],[11.60681,47.57881],[11.63934,47.59202],[11.84052,47.58354],[11.85572,47.60166],[12.0088,47.62451],[12.02282,47.61033],[12.05788,47.61742],[12.13734,47.60639],[12.17824,47.61506],[12.18145,47.61019],[12.17737,47.60121],[12.18568,47.6049],[12.20398,47.60667],[12.20801,47.61082],[12.19895,47.64085],[12.18507,47.65984],[12.18347,47.66663],[12.16769,47.68167],[12.16217,47.70105],[12.18303,47.70065],[12.22571,47.71776],[12.2542,47.7433],[12.26238,47.73544],[12.24017,47.69534],[12.26004,47.67725],[12.27991,47.68827],[12.336,47.69534],[12.37222,47.68433],[12.43883,47.6977],[12.44117,47.6741],[12.50076,47.62293],[12.53816,47.63553],[12.57438,47.63238],[12.6071,47.6741],[12.7357,47.6787],[12.77777,47.66689],[12.76492,47.64485],[12.82101,47.61493],[12.77427,47.58025],[12.80699,47.54477],[12.84672,47.54556],[12.85256,47.52741],[12.9624,47.47452],[12.98344,47.48716],[12.9998,47.46267],[13.04537,47.49426],[13.03252,47.53373],[13.05355,47.56291],[13.04537,47.58183],[13.06641,47.58577],[13.06407,47.60075],[13.09562,47.63304],[13.07692,47.68814],[13.01382,47.72116],[12.98578,47.7078],[12.92969,47.71094],[12.91333,47.7178],[12.90274,47.72513],[12.91711,47.74026],[12.9353,47.74788],[12.94371,47.76281],[12.93202,47.77302],[12.96311,47.79957],[12.98543,47.82896],[13.00588,47.84374],[12.94163,47.92927],[12.93886,47.94046],[12.93642,47.94436],[12.93419,47.94063],[12.92668,47.93879],[12.91985,47.94069],[12.9211,47.95135],[12.91683,47.95647],[12.87476,47.96195],[12.8549,48.01122],[12.76141,48.07373],[12.74973,48.10885],[12.7617,48.12796],[12.78595,48.12445],[12.80676,48.14979],[12.82673,48.15245],[12.8362,48.15876],[12.836,48.1647],[12.84475,48.16556],[12.87126,48.20318],[12.95306,48.20629],[13.02083,48.25689],[13.0851,48.27711],[13.126,48.27867],[13.18093,48.29577],[13.26039,48.29422],[13.30897,48.31575],[13.40709,48.37292],[13.43929,48.43386],[13.42527,48.45711],[13.45727,48.51092],[13.43695,48.55776],[13.45214,48.56472],[13.46967,48.55157],[13.50663,48.57506],[13.50131,48.58091],[13.51291,48.59023],[13.57535,48.55912],[13.59705,48.57013],[13.62508,48.55501],[13.65186,48.55092],[13.66113,48.53558],[13.72802,48.51208],[13.74816,48.53058],[13.7513,48.5624],[13.76921,48.55324],[13.80519,48.58026],[13.80038,48.59487],[13.82609,48.62345],[13.81901,48.6761],[13.81283,48.68426],[13.81791,48.69832],[13.79337,48.71375],[13.81863,48.73257],[13.82266,48.75544],[13.84023,48.76988],[13.8096,48.77877],[13.78977,48.83319],[13.76994,48.83537],[13.73854,48.88538],[13.67739,48.87886],[13.61624,48.9462],[13.58319,48.96899],[13.50552,48.97441],[13.50221,48.93752],[13.40802,48.98851],[13.39479,49.04812],[13.28242,49.1228],[13.23689,49.11412],[13.20405,49.12303],[13.17019,49.14339],[13.17665,49.16713],[13.05883,49.26259],[13.02957,49.27399],[13.03618,49.30417],[12.94859,49.34079],[12.88249,49.35479],[12.88414,49.33541],[12.78168,49.34618],[12.75854,49.3989],[12.71227,49.42363],[12.669,49.42935],[12.64121,49.47628],[12.64782,49.52565],[12.60155,49.52887],[12.56188,49.6146],[12.53544,49.61888],[12.52553,49.68415],[12.4462,49.70233],[12.40489,49.76321],[12.46603,49.78882],[12.48256,49.83575],[12.55197,49.92094],[12.47264,49.94222],[12.49908,49.97305],[12.30798,50.05719],[12.26111,50.06331],[12.27433,50.0771],[12.23709,50.10213],[12.2073,50.10315],[12.1917,50.13434],[12.21484,50.16399],[12.19335,50.19997],[12.09287,50.25032],[12.13716,50.27396],[12.10907,50.32041],[12.18013,50.32146],[12.20823,50.2729],[12.25119,50.27079],[12.26953,50.25189],[12.24791,50.25525],[12.23943,50.24594],[12.28755,50.22429],[12.28063,50.19544],[12.29232,50.17524],[12.32596,50.17146],[12.33847,50.19432],[12.32445,50.20442],[12.33263,50.24367],[12.35425,50.23993],[12.36594,50.28289],[12.40158,50.29521],[12.39924,50.32302],[12.43371,50.32506],[12.43722,50.33774],[12.46643,50.35527],[12.48256,50.34784],[12.49214,50.35228],[12.48747,50.37278],[12.51356,50.39694],[12.67261,50.41949],[12.70731,50.39948],[12.73044,50.42268],[12.73476,50.43237],[12.82465,50.45738],[12.94058,50.40944],[12.98433,50.42016],[13.02147,50.44763],[13.02038,50.4734],[13.0312,50.50944],[13.08301,50.50132],[13.13424,50.51709],[13.19043,50.50237],[13.25158,50.59268],[13.29454,50.57904],[13.32594,50.58009],[13.32264,50.60317],[13.37805,50.627],[13.37485,50.64931],[13.42189,50.61243],[13.46413,50.60102],[13.49742,50.63133],[13.5226,50.64721],[13.53748,50.67654],[13.52474,50.70394],[13.65977,50.73096],[13.70204,50.71771],[13.76316,50.73487],[13.82942,50.7251],[13.89444,50.74142],[13.89113,50.78533],[13.98864,50.8177],[14.02982,50.80662],[14.22331,50.86049],[14.24314,50.88761],[14.27123,50.89386],[14.30098,50.88448],[14.38691,50.89907],[14.39848,50.93866],[14.31422,50.95243],[14.30251,50.96606],[14.32793,50.97379],[14.32353,50.98556],[14.28776,50.97718],[14.25665,50.98935],[14.30098,51.05515],[14.41335,51.02086],[14.45827,51.03712],[14.49202,51.02286],[14.49154,51.04382],[14.49991,51.04692],[14.50809,51.0427],[14.49873,51.02242],[14.53321,51.01679],[14.53438,51.00374],[14.56432,51.01008],[14.58215,50.99306],[14.59908,50.98685],[14.59702,50.96148],[14.56374,50.922],[14.58024,50.91443],[14.64802,50.93241],[14.65259,50.90513],[14.63434,50.8883],[14.61993,50.86049],[14.70661,50.84096],[14.79139,50.81438],[14.82803,50.86966],[14.81664,50.88148],[14.89681,50.9422],[14.89252,50.94999],[14.92942,50.99744],[14.95529,51.04552],[14.97938,51.07742],[14.98229,51.11354],[14.99689,51.12205],[14.99079,51.14284],[14.99646,51.14365],[15.00083,51.14974],[14.99414,51.15813],[14.99311,51.16249],[15.0047,51.16874],[15.01242,51.21285],[15.04288,51.28387],[14.98008,51.33449],[14.96899,51.38367],[14.9652,51.44793],[14.94749,51.47155],[14.73219,51.52922],[14.72652,51.53902],[14.73047,51.54606],[14.71125,51.56209],[14.7727,51.61263],[14.75759,51.62318],[14.75392,51.67445],[14.69065,51.70842],[14.66386,51.73282],[14.64625,51.79472],[14.60493,51.80473],[14.59089,51.83302],[14.6588,51.88359],[14.6933,51.9044],[14.70601,51.92944],[14.7177,51.94048],[14.72163,51.95188],[14.71836,51.95606],[14.7139,51.95643],[14.70488,51.97679],[14.71339,52.00337],[14.76026,52.06624],[14.72971,52.09167],[14.6917,52.10283],[14.67683,52.13936],[14.70616,52.16927],[14.68344,52.19612],[14.71319,52.22144],[14.70139,52.25038],[14.58149,52.28007],[14.56378,52.33838],[14.55228,52.35264],[14.54423,52.42568],[14.63056,52.48993],[14.60081,52.53116],[14.6289,52.57136],[14.61073,52.59847],[14.22071,52.81175],[14.13806,52.82392],[14.12256,52.84311],[14.15873,52.87715],[14.14056,52.95786],[14.25954,53.00264],[14.35044,53.05829],[14.38679,53.13669],[14.36696,53.16444],[14.37853,53.20405],[14.40662,53.21098],[14.45125,53.26241],[14.44133,53.27427],[14.4215,53.27724],[14.35209,53.49506],[14.3273,53.50587],[14.30416,53.55499],[14.31904,53.61581],[14.2853,53.63392],[14.28477,53.65955],[14.27133,53.66613],[14.2836,53.67721],[14.26782,53.69866],[14.27249,53.74464],[14.21323,53.8664],[14.20823,53.90776],[14.18544,53.91258],[14.20647,53.91671],[14.22634,53.9291],[14.20811,54.12784],[13.93395,54.84044],[12.85844,54.82438],[11.90309,54.38543],[11.00303,54.63689],[10.31111,54.65968],[10.16755,54.73883],[9.89314,54.84171],[9.73563,54.8247],[9.61187,54.85548],[9.62734,54.88057],[9.58937,54.88785],[9.4659,54.83131],[9.43155,54.82586],[9.41213,54.84254],[9.38532,54.83968],[9.36496,54.81749],[9.33849,54.80233],[9.32771,54.80602],[9.2474,54.8112],[9.23445,54.83432],[9.24631,54.84726],[9.20571,54.85841],[9.14275,54.87421],[9.04629,54.87249],[8.92795,54.90452],[8.81178,54.90518],[8.76387,54.8948],[8.63979,54.91069],[8.55769,54.91837],[8.45719,55.06747],[8.02459,55.09613],[5.45168,54.20039],[6.91025,53.44221],[7.00198,53.32672],[7.19052,53.31866],[7.21679,53.20058],[7.22681,53.18165],[7.17898,53.13817],[7.21694,53.00742],[7.07253,52.81083],[7.04557,52.63318],[6.77307,52.65375],[6.71641,52.62905],[6.69507,52.488],[6.94293,52.43597],[6.99041,52.47235],[7.03417,52.40237],[7.07044,52.37805],[7.02703,52.27941],[7.06365,52.23789],[7.03729,52.22695],[6.9897,52.2271],[6.97189,52.20329],[6.83984,52.11728],[6.76117,52.11895],[6.68128,52.05052],[6.83035,51.9905],[6.82357,51.96711],[6.72319,51.89518],[6.68386,51.91861],[6.58556,51.89386],[6.50231,51.86313],[6.47179,51.85395],[6.38815,51.87257],[6.40704,51.82771],[6.30593,51.84998],[6.29872,51.86801],[6.21443,51.86801],[6.15349,51.90439],[6.11551,51.89769],[6.16902,51.84094],[6.10337,51.84829],[6.06705,51.86136],[5.99848,51.83195],[5.94568,51.82786],[5.98665,51.76944],[5.95003,51.7493],[6.04091,51.71821],[6.02767,51.6742],[6.11759,51.65609],[6.09055,51.60564],[6.18017,51.54096],[6.21724,51.48568],[6.20654,51.40049],[6.22641,51.39948],[6.22674,51.36135],[6.16977,51.33169],[6.07889,51.24432],[6.07889,51.17038],[6.17384,51.19589],[6.16706,51.15677],[5.98292,51.07469],[5.9541,51.03496],[5.9134,51.06736],[5.86735,51.05182],[5.87849,51.01969],[5.90493,51.00198],[5.90296,50.97356],[5.95282,50.98728],[6.02697,50.98303],[6.01615,50.93367],[6.09297,50.92066],[6.07486,50.89307],[6.08805,50.87223],[6.07693,50.86025],[6.07431,50.84674],[6.05702,50.85179],[6.05623,50.8572],[6.01921,50.84435],[6.02328,50.81694],[6.00462,50.80065],[5.98404,50.80988],[5.97497,50.79992],[6.02624,50.77453],[6.01976,50.75398],[6.03889,50.74618],[6.0326,50.72647],[6.0406,50.71848],[6.04428,50.72861],[6.11707,50.72231],[6.17852,50.6245],[6.26957,50.62444],[6.2476,50.60392],[6.24888,50.59869],[6.24005,50.58732],[6.22581,50.5907],[6.20281,50.56952],[6.17739,50.55875],[6.17802,50.54179],[6.19735,50.53576],[6.19579,50.5313],[6.18716,50.52653],[6.19193,50.5212],[6.20599,50.52089],[6.22335,50.49578],[6.26637,50.50272],[6.30809,50.50058],[6.3465,50.48833],[6.34005,50.46083],[6.37219,50.45397],[6.36852,50.40776],[6.34406,50.37994],[6.3688,50.35898],[6.40785,50.33557],[6.40641,50.32425],[6.35701,50.31139],[6.32488,50.32333],[6.29949,50.30887],[6.28797,50.27458],[6.208,50.25179],[6.16853,50.2234],[6.18364,50.20815],[6.18739,50.1822],[6.14588,50.17106],[6.14132,50.14971],[6.15298,50.14126],[6.1379,50.12964],[6.12055,50.09171],[6.11274,50.05916],[6.13458,50.04141],[6.13044,50.02929],[6.14666,50.02207],[6.13794,50.01466],[6.13273,50.02019],[6.1295,50.01849],[6.13806,50.01056],[6.14948,50.00908],[6.14147,49.99563],[6.1701,49.98518],[6.16466,49.97086],[6.17872,49.9537],[6.18554,49.95622],[6.18045,49.96611],[6.19089,49.96991],[6.19856,49.95053],[6.22094,49.94955],[6.22608,49.929],[6.21882,49.92403],[6.22926,49.92096],[6.23496,49.89972],[6.26146,49.88203],[6.28874,49.87592],[6.29692,49.86685],[6.30963,49.87021],[6.32303,49.85133],[6.32098,49.83728],[6.33585,49.83785],[6.34267,49.84974],[6.36576,49.85032],[6.40022,49.82029],[6.42521,49.81591],[6.42905,49.81091],[6.44131,49.81443],[6.45425,49.81164],[6.47111,49.82263],[6.48718,49.81267],[6.50647,49.80916],[6.51215,49.80124],[6.52121,49.81338],[6.53122,49.80666],[6.52169,49.79787],[6.50534,49.78952],[6.51669,49.78336],[6.51056,49.77515],[6.51828,49.76855],[6.51646,49.75961],[6.50174,49.75292],[6.50193,49.73291],[6.51805,49.72425],[6.51397,49.72058],[6.50261,49.72718],[6.49535,49.72645],[6.49694,49.72205],[6.5042,49.71808],[6.50647,49.71353],[6.49785,49.71118],[6.48014,49.69767],[6.46048,49.69092],[6.44654,49.67799],[6.42937,49.66857],[6.42726,49.66078],[6.43768,49.66021],[6.4413,49.65722],[6.41861,49.61723],[6.39822,49.60081],[6.385,49.59946],[6.37464,49.58886],[6.38342,49.5799],[6.38024,49.57593],[6.36676,49.57813],[6.35825,49.57053],[6.38228,49.55855],[6.38072,49.55171],[6.35666,49.52931],[6.36788,49.50377],[6.36907,49.48931],[6.36778,49.46937],[6.38352,49.46463],[6.39168,49.4667],[6.40274,49.46546],[6.42432,49.47683],[6.55404,49.42464],[6.533,49.40748],[6.60091,49.36864],[6.58807,49.35358],[6.572,49.35027],[6.60186,49.31055],[6.66583,49.28065],[6.69274,49.21661],[6.71843,49.2208],[6.73256,49.20486],[6.71137,49.18808],[6.73765,49.16375],[6.78265,49.16793],[6.83385,49.15162],[6.84703,49.15734],[6.86225,49.18185],[6.85016,49.19354],[6.85119,49.20038],[6.83555,49.21249],[6.85939,49.22376],[6.89298,49.20863],[6.91875,49.22261],[6.93831,49.2223],[6.94028,49.21641],[6.95963,49.203],[6.97273,49.2099],[7.01318,49.19018],[7.03459,49.19096],[7.0274,49.17042],[7.03178,49.15734],[7.04662,49.13724],[7.04409,49.12123],[7.04843,49.11422],[7.05548,49.11185],[7.06642,49.11415],[7.07162,49.1255],[7.09007,49.13094],[7.07859,49.15031],[7.10715,49.15631],[7.10384,49.13787],[7.12504,49.14253],[7.1358,49.1282],[7.1593,49.1204],[7.23473,49.12971],[7.29514,49.11426],[7.3195,49.14231],[7.35995,49.14399],[7.3662,49.17308],[7.44052,49.18354],[7.44455,49.16765],[7.49473,49.17],[7.49172,49.13915],[7.53012,49.09818],[7.56416,49.08136],[7.62575,49.07654],[7.63618,49.05428],[7.75948,49.04562],[7.79557,49.06583],[7.86386,49.03499],[7.93641,49.05544],[7.97783,49.03161],[8.14189,48.97833],[8.22604,48.97352],[8.20031,48.95856],[8.19989,48.95825],[8.12813,48.87985],[8.10253,48.81829],[8.06802,48.78957],[8.0326,48.79017],[8.01534,48.76085],[7.96994,48.75606],[7.96812,48.72491],[7.89002,48.66317],[7.84098,48.64217],[7.80057,48.5857],[7.80167,48.54758],[7.80647,48.51239],[7.76833,48.48945],[7.73109,48.39192],[7.74562,48.32736],[7.69022,48.30018],[7.6648,48.22219],[7.57137,48.12292],[7.56966,48.03265],[7.62302,47.97898],[7.55673,47.87371],[7.52921,47.77747],[7.54761,47.72912],[7.53722,47.71635],[7.51266,47.70197],[7.51915,47.68335],[7.52067,47.66437],[7.53384,47.65115],[7.5591,47.63849],[7.57423,47.61628],[7.58851,47.60794],[7.59301,47.60058],[7.58945,47.59017],[7.60523,47.58519],[7.60459,47.57869],[7.61929,47.57683],[7.64309,47.59151],[7.64213,47.5944],[7.64599,47.59695],[7.67395,47.59212],[7.68229,47.59905],[7.69385,47.60099],[7.68486,47.59601],[7.67115,47.5871],[7.68904,47.57133],[7.67655,47.56435],[7.63338,47.56256],[7.65083,47.54662],[7.66174,47.54554],[7.6656,47.53752],[7.68101,47.53232],[7.69642,47.53297],[7.71961,47.54219],[7.75261,47.54599],[7.79486,47.55691],[7.81901,47.58798],[7.84412,47.5841],[7.88664,47.58854],[7.90673,47.57674],[7.91251,47.55031],[7.94494,47.54511],[7.95682,47.55789],[7.97581,47.55493],[8.00113,47.55616],[8.02136,47.55096],[8.04383,47.55443],[8.06663,47.56374],[8.08557,47.55768],[8.10002,47.56504],[8.10395,47.57918],[8.11543,47.5841],[8.13662,47.58432],[8.13823,47.59147],[8.14947,47.59558],[8.1652,47.5945],[8.19378,47.61636],[8.20617,47.62141],[8.22011,47.6181],[8.22577,47.60385],[8.23809,47.61204],[8.25863,47.61571],[8.26313,47.6103],[8.2824,47.61225],[8.29722,47.60603],[8.29524,47.5919],[8.30277,47.58607],[8.32735,47.57133],[8.35512,47.57014],[8.38273,47.56608],[8.39477,47.57826],[8.43235,47.56617],[8.49431,47.58107],[8.48949,47.588],[8.46637,47.58389],[8.45578,47.60121],[8.50747,47.61897],[8.51686,47.63476],[8.55756,47.62394],[8.57586,47.59537],[8.60348,47.61204],[8.59545,47.64298],[8.60701,47.65271],[8.61471,47.64514],[8.60412,47.63735],[8.62049,47.63757],[8.62884,47.65098],[8.61113,47.66332],[8.6052,47.67258],[8.57683,47.66158],[8.56141,47.67088],[8.52801,47.66059],[8.5322,47.64687],[8.49656,47.64709],[8.46605,47.64103],[8.4667,47.65747],[8.44711,47.65379],[8.42264,47.66667],[8.41346,47.66676],[8.40473,47.67499],[8.4211,47.68407],[8.40569,47.69855],[8.44807,47.72426],[8.45771,47.7493],[8.48868,47.77215],[8.56814,47.78001],[8.56415,47.80633],[8.61657,47.79998],[8.62408,47.7626],[8.64425,47.76398],[8.65292,47.80066],[8.68022,47.78599],[8.68985,47.75686],[8.71778,47.76571],[8.74251,47.75168],[8.70543,47.73121],[8.73671,47.7169],[8.72617,47.69651]]]]}},{type:"Feature",properties:{iso1A2:"DG",iso1A3:"DGA",wikidata:"Q184851",nameEn:"Diego Garcia",country:"GB",groups:["IO","BOTS","014","202","002","UN"],isoStatus:"excRes",callingCodes:["246"]},geometry:{type:"MultiPolygon",coordinates:[[[[73.14823,-7.76302],[73.09982,-6.07324],[71.43792,-7.73904],[73.14823,-7.76302]]]]}},{type:"Feature",properties:{iso1A2:"DJ",iso1A3:"DJI",iso1N3:"262",wikidata:"Q977",nameEn:"Djibouti",groups:["014","202","002","UN"],callingCodes:["253"]},geometry:{type:"MultiPolygon",coordinates:[[[[43.90659,12.3823],[43.90659,12.3823],[43.32909,12.59711],[43.29075,12.79154],[42.86195,12.58747],[42.7996,12.42629],[42.6957,12.36201],[42.46941,12.52661],[42.4037,12.46478],[41.95461,11.81157],[41.82878,11.72361],[41.77727,11.49902],[41.8096,11.33606],[41.80056,10.97127],[42.06302,10.92599],[42.13691,10.97586],[42.42669,10.98493],[42.62989,11.09711],[42.75111,11.06992],[42.79037,10.98493],[42.95776,10.98533],[43.90659,12.3823]]]]}},{type:"Feature",properties:{iso1A2:"DK",iso1A3:"DNK",iso1N3:"208",wikidata:"Q756617",nameEn:"Kingdom of Denmark"},geometry:null},{type:"Feature",properties:{iso1A2:"DM",iso1A3:"DMA",iso1N3:"212",wikidata:"Q784",nameEn:"Dominica",groups:["029","003","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",callingCodes:["1 767"]},geometry:{type:"MultiPolygon",coordinates:[[[[-61.32485,14.91445],[-60.86656,15.82603],[-61.95646,15.5094],[-61.32485,14.91445]]]]}},{type:"Feature",properties:{iso1A2:"DO",iso1A3:"DOM",iso1N3:"214",wikidata:"Q786",nameEn:"Dominican Republic",groups:["029","003","419","019","UN"],callingCodes:["1 809","1 829","1 849"]},geometry:{type:"MultiPolygon",coordinates:[[[[-67.87844,21.7938],[-72.38946,20.27111],[-71.77419,19.73128],[-71.75865,19.70231],[-71.7429,19.58445],[-71.71449,19.55364],[-71.71268,19.53374],[-71.6802,19.45008],[-71.69448,19.37866],[-71.77766,19.33823],[-71.73229,19.26686],[-71.62642,19.21212],[-71.65337,19.11759],[-71.69938,19.10916],[-71.71088,19.08353],[-71.74088,19.0437],[-71.88102,18.95007],[-71.77766,18.95007],[-71.72624,18.87802],[-71.71885,18.78423],[-71.82556,18.62551],[-71.95412,18.64939],[-72.00201,18.62312],[-71.88102,18.50125],[-71.90875,18.45821],[-71.69952,18.34101],[-71.78271,18.18302],[-71.75465,18.14405],[-71.74994,18.11115],[-71.73783,18.07177],[-71.75671,18.03456],[-72.29523,17.48026],[-68.39466,16.14167],[-67.87844,21.7938]]]]}},{type:"Feature",properties:{iso1A2:"DZ",iso1A3:"DZA",iso1N3:"012",wikidata:"Q262",nameEn:"Algeria",groups:["015","002","UN"],callingCodes:["213"]},geometry:{type:"MultiPolygon",coordinates:[[[[8.59123,37.14286],[5.10072,39.89531],[-2.27707,35.35051],[-2.21248,35.08532],[-2.21445,35.04378],[-2.04734,34.93218],[-1.97833,34.93218],[-1.97469,34.886],[-1.73707,34.74226],[-1.84569,34.61907],[-1.69788,34.48056],[-1.78042,34.39018],[-1.64666,34.10405],[-1.73494,33.71721],[-1.59508,33.59929],[-1.67067,33.27084],[-1.46249,33.0499],[-1.54244,32.95499],[-1.37794,32.73628],[-.9912,32.52467],[-1.24998,32.32993],[-1.24453,32.1917],[-1.15735,32.12096],[-1.22829,32.07832],[-2.46166,32.16603],[-2.93873,32.06557],[-2.82784,31.79459],[-3.66314,31.6339],[-3.66386,31.39202],[-3.77647,31.31912],[-3.77103,31.14984],[-3.54944,31.0503],[-3.65418,30.85566],[-3.64735,30.67539],[-4.31774,30.53229],[-4.6058,30.28343],[-5.21671,29.95253],[-5.58831,29.48103],[-5.72121,29.52322],[-5.75616,29.61407],[-6.69965,29.51623],[-6.78351,29.44634],[-6.95824,29.50924],[-7.61585,29.36252],[-8.6715,28.71194],[-8.66879,27.6666],[-8.66674,27.31569],[-4.83423,24.99935],[1.15698,21.12843],[1.20992,20.73533],[3.24648,19.81703],[3.12501,19.1366],[3.36082,18.9745],[4.26651,19.14224],[5.8153,19.45101],[7.38361,20.79165],[7.48273,20.87258],[11.96886,23.51735],[11.62498,24.26669],[11.41061,24.21456],[10.85323,24.5595],[10.33159,24.5465],[10.02432,24.98124],[10.03146,25.35635],[9.38834,26.19288],[9.51696,26.39148],[9.89569,26.57696],[9.78136,29.40961],[9.3876,30.16738],[9.55544,30.23971],[9.07483,32.07865],[8.35999,32.50101],[8.31895,32.83483],[8.1179,33.05086],[8.11433,33.10175],[7.83028,33.18851],[7.73687,33.42114],[7.54088,33.7726],[7.52851,34.06493],[7.66174,34.20167],[7.74207,34.16492],[7.81242,34.21841],[7.86264,34.3987],[8.20482,34.57575],[8.29655,34.72798],[8.25189,34.92009],[8.30727,34.95378],[8.3555,35.10007],[8.47318,35.23376],[8.30329,35.29884],[8.36086,35.47774],[8.35371,35.66373],[8.26472,35.73669],[8.2626,35.91733],[8.40731,36.42208],[8.18936,36.44939],[8.16167,36.48817],[8.47609,36.66607],[8.46537,36.7706],[8.57613,36.78062],[8.67706,36.8364],[8.62972,36.86499],[8.64044,36.9401],[8.59123,37.14286]]]]}},{type:"Feature",properties:{iso1A2:"EA",wikidata:"Q28868874",nameEn:"Ceuta, Melilla",country:"ES",level:"territory",isoStatus:"excRes"},geometry:null},{type:"Feature",properties:{iso1A2:"EC",iso1A3:"ECU",iso1N3:"218",wikidata:"Q736",nameEn:"Ecuador"},geometry:null},{type:"Feature",properties:{iso1A2:"EE",iso1A3:"EST",iso1N3:"233",wikidata:"Q191",nameEn:"Estonia",aliases:["EW"],groups:["EU","154","150","UN"],callingCodes:["372"]},geometry:{type:"MultiPolygon",coordinates:[[[[26.32936,60.00121],[20.5104,59.15546],[19.84909,57.57876],[22.80496,57.87798],[23.20055,57.56697],[24.26221,57.91787],[24.3579,57.87471],[25.19484,58.0831],[25.28237,57.98539],[25.29581,58.08288],[25.73499,57.90193],[26.05949,57.84744],[26.0324,57.79037],[26.02456,57.78342],[26.027,57.78158],[26.0266,57.77441],[26.02069,57.77169],[26.02415,57.76865],[26.03332,57.7718],[26.0543,57.76105],[26.08098,57.76619],[26.2029,57.7206],[26.1866,57.6849],[26.29253,57.59244],[26.46527,57.56885],[26.54675,57.51813],[26.90364,57.62823],[27.34698,57.52242],[27.31919,57.57672],[27.40393,57.62125],[27.3746,57.66834],[27.52615,57.72843],[27.50171,57.78842],[27.56689,57.83356],[27.78526,57.83963],[27.81841,57.89244],[27.67282,57.92627],[27.62393,58.09462],[27.48541,58.22615],[27.55489,58.39525],[27.36366,58.78381],[27.74429,58.98351],[27.80482,59.1116],[27.87978,59.18097],[27.90911,59.24353],[28.00689,59.28351],[28.14215,59.28934],[28.19284,59.35791],[28.20537,59.36491],[28.21137,59.38058],[28.19061,59.39962],[28.04187,59.47017],[27.85643,59.58538],[26.90044,59.63819],[26.32936,60.00121]]]]}},{type:"Feature",properties:{iso1A2:"EG",iso1A3:"EGY",iso1N3:"818",wikidata:"Q79",nameEn:"Egypt",groups:["015","002","UN"],callingCodes:["20"]},geometry:{type:"MultiPolygon",coordinates:[[[[33.62659,31.82938],[26.92891,33.39516],[24.8458,31.39877],[25.01077,30.73861],[24.71117,30.17441],[24.99968,29.24574],[24.99885,21.99535],[33.17563,22.00405],[34.0765,22.00501],[37.8565,22.00903],[34.4454,27.91479],[34.8812,29.36878],[34.92298,29.45305],[34.26742,31.21998],[34.24012,31.29591],[34.23572,31.2966],[34.21853,31.32363],[34.052,31.46619],[33.62659,31.82938]]]]}},{type:"Feature",properties:{iso1A2:"EH",iso1A3:"ESH",iso1N3:"732",wikidata:"Q6250",nameEn:"Western Sahara",groups:["015","002"],callingCodes:["212"]},geometry:{type:"MultiPolygon",coordinates:[[[[-8.66879,27.6666],[-8.77527,27.66663],[-8.71787,26.9898],[-9.08698,26.98639],[-9.56957,26.90042],[-9.81998,26.71379],[-10.68417,26.90984],[-11.35695,26.8505],[-11.23622,26.72023],[-11.38635,26.611],[-11.62052,26.05229],[-12.06001,26.04442],[-12.12281,25.13682],[-12.92147,24.39502],[-13.00628,24.01923],[-13.75627,23.77231],[-14.10361,22.75501],[-14.1291,22.41636],[-14.48112,22.00886],[-14.47329,21.63839],[-14.78487,21.36587],[-16.44269,21.39745],[-16.9978,21.36239],[-17.02707,21.34022],[-17.21511,21.34226],[-17.35589,20.80492],[-17.0471,20.76408],[-17.0695,20.85742],[-17.06781,20.92697],[-17.0396,20.9961],[-17.0357,21.05368],[-16.99806,21.12142],[-16.95474,21.33997],[-13.01525,21.33343],[-13.08438,22.53866],[-13.15313,22.75649],[-13.10753,22.89493],[-13.00412,23.02297],[-12.5741,23.28975],[-12.36213,23.3187],[-12.14969,23.41935],[-12.00251,23.4538],[-12.0002,25.9986],[-8.66721,25.99918],[-8.66674,27.31569],[-8.66879,27.6666]]]]}},{type:"Feature",properties:{iso1A2:"ER",iso1A3:"ERI",iso1N3:"232",wikidata:"Q986",nameEn:"Eritrea",groups:["014","202","002","UN"],callingCodes:["291"]},geometry:{type:"MultiPolygon",coordinates:[[[[40.99158,15.81743],[39.63762,18.37348],[38.57727,17.98125],[38.45916,17.87167],[38.37133,17.66269],[38.13362,17.53906],[37.50967,17.32199],[37.42694,17.04041],[36.99777,17.07172],[36.92193,16.23451],[36.76371,15.80831],[36.69761,15.75323],[36.54276,15.23478],[36.44337,15.14963],[36.54376,14.25597],[36.56536,14.26177],[36.55659,14.28237],[36.63364,14.31172],[36.85787,14.32201],[37.01622,14.2561],[37.09486,14.27155],[37.13206,14.40746],[37.3106,14.44657],[37.47319,14.2149],[37.528,14.18413],[37.91287,14.89447],[38.0364,14.72745],[38.25562,14.67287],[38.3533,14.51323],[38.45748,14.41445],[38.78306,14.4754],[38.98058,14.54895],[39.02834,14.63717],[39.16074,14.65187],[39.14772,14.61827],[39.19547,14.56996],[39.23888,14.56365],[39.26927,14.48801],[39.2302,14.44598],[39.2519,14.40393],[39.37685,14.54402],[39.52756,14.49011],[39.50585,14.55735],[39.58182,14.60987],[39.76632,14.54264],[39.9443,14.41024],[40.07236,14.54264],[40.14649,14.53969],[40.21128,14.39342],[40.25686,14.41445],[40.9167,14.11152],[41.25097,13.60787],[41.62864,13.38626],[42.05841,12.80912],[42.21469,12.75832],[42.2798,12.6355],[42.4037,12.46478],[42.46941,12.52661],[42.6957,12.36201],[42.7996,12.42629],[42.86195,12.58747],[43.29075,12.79154],[40.99158,15.81743]]]]}},{type:"Feature",properties:{iso1A2:"ES",iso1A3:"ESP",iso1N3:"724",wikidata:"Q29",nameEn:"Spain"},geometry:null},{type:"Feature",properties:{iso1A2:"ET",iso1A3:"ETH",iso1N3:"231",wikidata:"Q115",nameEn:"Ethiopia",groups:["014","202","002","UN"],callingCodes:["251"]},geometry:{type:"MultiPolygon",coordinates:[[[[42.4037,12.46478],[42.2798,12.6355],[42.21469,12.75832],[42.05841,12.80912],[41.62864,13.38626],[41.25097,13.60787],[40.9167,14.11152],[40.25686,14.41445],[40.21128,14.39342],[40.14649,14.53969],[40.07236,14.54264],[39.9443,14.41024],[39.76632,14.54264],[39.58182,14.60987],[39.50585,14.55735],[39.52756,14.49011],[39.37685,14.54402],[39.2519,14.40393],[39.2302,14.44598],[39.26927,14.48801],[39.23888,14.56365],[39.19547,14.56996],[39.14772,14.61827],[39.16074,14.65187],[39.02834,14.63717],[38.98058,14.54895],[38.78306,14.4754],[38.45748,14.41445],[38.3533,14.51323],[38.25562,14.67287],[38.0364,14.72745],[37.91287,14.89447],[37.528,14.18413],[37.47319,14.2149],[37.3106,14.44657],[37.13206,14.40746],[37.09486,14.27155],[37.01622,14.2561],[36.85787,14.32201],[36.63364,14.31172],[36.55659,14.28237],[36.56536,14.26177],[36.54376,14.25597],[36.44653,13.95666],[36.48824,13.83954],[36.38993,13.56459],[36.24545,13.36759],[36.13374,12.92665],[36.16651,12.88019],[36.14268,12.70879],[36.01458,12.72478],[35.70476,12.67101],[35.24302,11.91132],[35.11492,11.85156],[35.05832,11.71158],[35.09556,11.56278],[34.95704,11.24448],[35.01215,11.19626],[34.93172,10.95946],[34.97789,10.91559],[34.97491,10.86147],[34.86916,10.78832],[34.86618,10.74588],[34.77532,10.69027],[34.77383,10.74588],[34.59062,10.89072],[34.4372,10.781],[34.2823,10.53508],[34.34783,10.23914],[34.32102,10.11599],[34.22718,10.02506],[34.20484,9.9033],[34.13186,9.7492],[34.08717,9.55243],[34.10229,9.50238],[34.14304,9.04654],[34.14453,8.60204],[34.01346,8.50041],[33.89579,8.4842],[33.87195,8.41938],[33.71407,8.3678],[33.66938,8.44442],[33.54575,8.47094],[33.3119,8.45474],[33.19721,8.40317],[33.1853,8.29264],[33.18083,8.13047],[33.08401,8.05822],[33.0006,7.90333],[33.04944,7.78989],[33.24637,7.77939],[33.32531,7.71297],[33.44745,7.7543],[33.71407,7.65983],[33.87642,7.5491],[34.02984,7.36449],[34.03878,7.27437],[34.01495,7.25664],[34.19369,7.12807],[34.19369,7.04382],[34.35753,6.91963],[34.47669,6.91076],[34.53925,6.82794],[34.53776,6.74808],[34.65096,6.72589],[34.77459,6.5957],[34.87736,6.60161],[35.01738,6.46991],[34.96227,6.26415],[35.00546,5.89387],[35.12611,5.68937],[35.13058,5.62118],[35.31188,5.50106],[35.29938,5.34042],[35.50792,5.42431],[35.8576,5.33413],[35.81968,5.10757],[35.82118,4.77382],[35.9419,4.61933],[35.95449,4.53244],[36.03924,4.44406],[36.84474,4.44518],[37.07724,4.33503],[38.14168,3.62487],[38.45812,3.60445],[38.52336,3.62551],[38.91938,3.51198],[39.07736,3.5267],[39.19954,3.47834],[39.49444,3.45521],[39.51551,3.40895],[39.55132,3.39634],[39.58339,3.47434],[39.76808,3.67058],[39.86043,3.86974],[40.77498,4.27683],[41.1754,3.94079],[41.89488,3.97375],[42.07619,4.17667],[42.55853,4.20518],[42.84526,4.28357],[42.97746,4.44032],[43.04177,4.57923],[43.40263,4.79289],[44.02436,4.9451],[44.98104,4.91821],[47.97917,8.00124],[47.92477,8.00111],[46.99339,7.9989],[44.19222,8.93028],[43.32613,9.59205],[43.23518,9.84605],[43.0937,9.90579],[42.87643,10.18441],[42.69452,10.62672],[42.95776,10.98533],[42.79037,10.98493],[42.75111,11.06992],[42.62989,11.09711],[42.42669,10.98493],[42.13691,10.97586],[42.06302,10.92599],[41.80056,10.97127],[41.8096,11.33606],[41.77727,11.49902],[41.82878,11.72361],[41.95461,11.81157],[42.4037,12.46478]]]]}},{type:"Feature",properties:{iso1A2:"EU",iso1A3:"EUE",wikidata:"Q458",nameEn:"European Union",level:"union",isoStatus:"excRes"},geometry:null},{type:"Feature",properties:{iso1A2:"FI",iso1A3:"FIN",iso1N3:"246",wikidata:"Q33",nameEn:"Finland",aliases:["SF"]},geometry:null},{type:"Feature",properties:{iso1A2:"FJ",iso1A3:"FJI",iso1N3:"242",wikidata:"Q712",nameEn:"Fiji",groups:["054","009","UN"],driveSide:"left",callingCodes:["679"]},geometry:{type:"MultiPolygon",coordinates:[[[[174.245,-23.1974],[179.99999,-22.5],[179.99999,-11.5],[174,-11.5],[174.245,-23.1974]]],[[[-176.76826,-14.95183],[-180,-14.96041],[-180,-22.90585],[-176.74538,-22.89767],[-176.76826,-14.95183]]]]}},{type:"Feature",properties:{iso1A2:"FK",iso1A3:"FLK",iso1N3:"238",wikidata:"Q9648",nameEn:"Falkland Islands",country:"GB",groups:["BOTS","005","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["500"]},geometry:{type:"MultiPolygon",coordinates:[[[[-63.67376,-55.11859],[-54.56126,-51.26248],[-61.26735,-50.63919],[-63.67376,-55.11859]]]]}},{type:"Feature",properties:{iso1A2:"FM",iso1A3:"FSM",iso1N3:"583",wikidata:"Q702",nameEn:"Federated States of Micronesia",groups:["057","009","UN"],roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["691"]},geometry:{type:"MultiPolygon",coordinates:[[[[138.20583,13.3783],[136.27107,6.73747],[156.88247,-1.39237],[165.19726,6.22546],[138.20583,13.3783]]]]}},{type:"Feature",properties:{iso1A2:"FO",iso1A3:"FRO",iso1N3:"234",wikidata:"Q4628",nameEn:"Faroe Islands",country:"DK",groups:["154","150","UN"],callingCodes:["298"]},geometry:{type:"MultiPolygon",coordinates:[[[[-8.51774,62.35338],[-6.51083,60.95272],[-5.70102,62.77194],[-8.51774,62.35338]]]]}},{type:"Feature",properties:{iso1A2:"FR",iso1A3:"FRA",iso1N3:"250",wikidata:"Q142",nameEn:"France"},geometry:null},{type:"Feature",properties:{iso1A2:"FX",iso1A3:"FXX",iso1N3:"249",wikidata:"Q212429",nameEn:"Metropolitan France",country:"FR",groups:["EU","155","150","UN"],isoStatus:"excRes",callingCodes:["33"]},geometry:{type:"MultiPolygon",coordinates:[[[[2.55904,51.07014],[2.18458,51.52087],[1.17405,50.74239],[-2.02963,49.91866],[-2.09454,49.46288],[-1.83944,49.23037],[-2.00491,48.86706],[-2.65349,49.15373],[-6.28985,48.93406],[-1.81005,43.59738],[-1.77289,43.38957],[-1.79319,43.37497],[-1.78332,43.36399],[-1.78714,43.35476],[-1.77068,43.34396],[-1.75334,43.34107],[-1.75079,43.3317],[-1.7397,43.32979],[-1.73074,43.29481],[-1.69407,43.31378],[-1.62481,43.30726],[-1.63052,43.28591],[-1.61341,43.25269],[-1.57674,43.25269],[-1.55963,43.28828],[-1.50992,43.29481],[-1.45289,43.27049],[-1.40942,43.27272],[-1.3758,43.24511],[-1.41562,43.12815],[-1.47555,43.08372],[-1.44067,43.047],[-1.35272,43.02658],[-1.34419,43.09665],[-1.32209,43.1127],[-1.27118,43.11961],[-1.30052,43.09581],[-1.30531,43.06859],[-1.25244,43.04164],[-1.22881,43.05534],[-1.10333,43.0059],[-1.00963,42.99279],[-.97133,42.96239],[-.81652,42.95166],[-.75478,42.96916],[-.72037,42.92541],[-.73422,42.91228],[-.72608,42.89318],[-.69837,42.87945],[-.67637,42.88303],[-.55497,42.77846],[-.50863,42.82713],[-.44334,42.79939],[-.41319,42.80776],[-.38833,42.80132],[-.3122,42.84788],[-.17939,42.78974],[-.16141,42.79535],[-.10519,42.72761],[-.02468,42.68513],[.17569,42.73424],[.25336,42.7174],[.29407,42.67431],[.36251,42.72282],[.40214,42.69779],[.67873,42.69458],[.65421,42.75872],[.66121,42.84021],[.711,42.86372],[.93089,42.79154],[.96166,42.80629],[.98292,42.78754],[1.0804,42.78569],[1.15928,42.71407],[1.35562,42.71944],[1.44197,42.60217],[1.47986,42.61346],[1.46718,42.63296],[1.48043,42.65203],[1.50867,42.64483],[1.55418,42.65669],[1.60085,42.62703],[1.63485,42.62957],[1.6625,42.61982],[1.68267,42.62533],[1.73452,42.61515],[1.72588,42.59098],[1.7858,42.57698],[1.73683,42.55492],[1.72515,42.50338],[1.76335,42.48863],[1.83037,42.48395],[1.88853,42.4501],[1.93663,42.45439],[1.94292,42.44316],[1.94061,42.43333],[1.94084,42.43039],[1.9574,42.42401],[1.96482,42.37787],[2.00488,42.35399],[2.06241,42.35906],[2.11621,42.38393],[2.12789,42.41291],[2.16599,42.42314],[2.20578,42.41633],[2.25551,42.43757],[2.38504,42.39977],[2.43299,42.39423],[2.43508,42.37568],[2.48457,42.33933],[2.54382,42.33406],[2.55516,42.35351],[2.57934,42.35808],[2.6747,42.33974],[2.65311,42.38771],[2.72056,42.42298],[2.75497,42.42578],[2.77464,42.41046],[2.84335,42.45724],[2.85675,42.45444],[2.86983,42.46843],[2.88413,42.45938],[2.92107,42.4573],[2.94283,42.48174],[2.96518,42.46692],[3.03734,42.47363],[3.08167,42.42748],[3.10027,42.42621],[3.11379,42.43646],[3.17156,42.43545],[3.75438,42.33445],[7.60802,41.05927],[10.09675,41.44089],[9.56115,43.20816],[7.50102,43.51859],[7.42422,43.72209],[7.40903,43.7296],[7.41113,43.73156],[7.41291,43.73168],[7.41298,43.73311],[7.41233,43.73439],[7.42062,43.73977],[7.42299,43.74176],[7.42443,43.74087],[7.42809,43.74396],[7.43013,43.74895],[7.43624,43.75014],[7.43708,43.75197],[7.4389,43.75151],[7.4379,43.74963],[7.47823,43.73341],[7.53006,43.78405],[7.50423,43.84345],[7.49355,43.86551],[7.51162,43.88301],[7.56075,43.89932],[7.56858,43.94506],[7.60771,43.95772],[7.65266,43.9763],[7.66848,43.99943],[7.6597,44.03009],[7.72508,44.07578],[7.66878,44.12795],[7.68694,44.17487],[7.63245,44.17877],[7.62155,44.14881],[7.36364,44.11882],[7.34547,44.14359],[7.27827,44.1462],[7.16929,44.20352],[7.00764,44.23736],[6.98221,44.28289],[6.89171,44.36637],[6.88784,44.42043],[6.94504,44.43112],[6.86233,44.49834],[6.85507,44.53072],[6.96042,44.62129],[6.95133,44.66264],[7.00582,44.69364],[7.07484,44.68073],[7.00401,44.78782],[7.02217,44.82519],[6.93499,44.8664],[6.90774,44.84322],[6.75518,44.89915],[6.74519,44.93661],[6.74791,45.01939],[6.66981,45.02324],[6.62803,45.11175],[6.7697,45.16044],[6.85144,45.13226],[6.96706,45.20841],[7.07074,45.21228],[7.13115,45.25386],[7.10572,45.32924],[7.18019,45.40071],[7.00037,45.509],[6.98948,45.63869],[6.80785,45.71864],[6.80785,45.83265],[6.95315,45.85163],[7.04151,45.92435],[7.00946,45.9944],[6.93862,46.06502],[6.87868,46.03855],[6.89321,46.12548],[6.78968,46.14058],[6.86052,46.28512],[6.77152,46.34784],[6.8024,46.39171],[6.82312,46.42661],[6.53358,46.45431],[6.25432,46.3632],[6.21981,46.31304],[6.24826,46.30175],[6.25137,46.29014],[6.23775,46.27822],[6.24952,46.26255],[6.26749,46.24745],[6.29474,46.26221],[6.31041,46.24417],[6.29663,46.22688],[6.27694,46.21566],[6.26007,46.21165],[6.24821,46.20531],[6.23913,46.20511],[6.23544,46.20714],[6.22175,46.20045],[6.22222,46.19888],[6.21844,46.19837],[6.21603,46.19507],[6.21273,46.19409],[6.21114,46.1927],[6.20539,46.19163],[6.19807,46.18369],[6.19552,46.18401],[6.18707,46.17999],[6.18871,46.16644],[6.18116,46.16187],[6.15305,46.15194],[6.13397,46.1406],[6.09926,46.14373],[6.09199,46.15191],[6.07491,46.14879],[6.05203,46.15191],[6.04564,46.14031],[6.03614,46.13712],[6.01791,46.14228],[5.9871,46.14499],[5.97893,46.13303],[5.95781,46.12925],[5.9641,46.14412],[5.97508,46.15863],[5.98188,46.17392],[5.98846,46.17046],[5.99573,46.18587],[5.96515,46.19638],[5.97542,46.21525],[6.02461,46.23313],[6.03342,46.2383],[6.04602,46.23127],[6.05029,46.23518],[6.0633,46.24583],[6.07072,46.24085],[6.08563,46.24651],[6.10071,46.23772],[6.12446,46.25059],[6.11926,46.2634],[6.1013,46.28512],[6.11697,46.29547],[6.1198,46.31157],[6.13876,46.33844],[6.15738,46.3491],[6.16987,46.36759],[6.15985,46.37721],[6.15016,46.3778],[6.09926,46.40768],[6.06407,46.41676],[6.08427,46.44305],[6.07269,46.46244],[6.1567,46.54402],[6.11084,46.57649],[6.27135,46.68251],[6.38351,46.73171],[6.45209,46.77502],[6.43216,46.80336],[6.46456,46.88865],[6.43341,46.92703],[6.71531,47.0494],[6.68823,47.06616],[6.76788,47.1208],[6.8489,47.15933],[6.9508,47.24338],[6.95108,47.26428],[6.94316,47.28747],[7.05305,47.33304],[7.0564,47.35134],[7.03125,47.36996],[6.87959,47.35335],[6.88542,47.37262],[6.93744,47.40714],[6.93953,47.43388],[7.0024,47.45264],[6.98425,47.49432],[7.0231,47.50522],[7.07425,47.48863],[7.12781,47.50371],[7.16249,47.49025],[7.19583,47.49455],[7.17026,47.44312],[7.24669,47.4205],[7.33526,47.44186],[7.35603,47.43432],[7.40308,47.43638],[7.43088,47.45846],[7.4462,47.46264],[7.4583,47.47216],[7.42923,47.48628],[7.43356,47.49712],[7.47534,47.47932],[7.51076,47.49651],[7.49804,47.51798],[7.5229,47.51644],[7.53199,47.5284],[7.51904,47.53515],[7.50588,47.52856],[7.49691,47.53821],[7.50873,47.54546],[7.51723,47.54578],[7.52831,47.55347],[7.53634,47.55553],[7.55652,47.56779],[7.55689,47.57232],[7.56548,47.57617],[7.56684,47.57785],[7.58386,47.57536],[7.58945,47.59017],[7.59301,47.60058],[7.58851,47.60794],[7.57423,47.61628],[7.5591,47.63849],[7.53384,47.65115],[7.52067,47.66437],[7.51915,47.68335],[7.51266,47.70197],[7.53722,47.71635],[7.54761,47.72912],[7.52921,47.77747],[7.55673,47.87371],[7.62302,47.97898],[7.56966,48.03265],[7.57137,48.12292],[7.6648,48.22219],[7.69022,48.30018],[7.74562,48.32736],[7.73109,48.39192],[7.76833,48.48945],[7.80647,48.51239],[7.80167,48.54758],[7.80057,48.5857],[7.84098,48.64217],[7.89002,48.66317],[7.96812,48.72491],[7.96994,48.75606],[8.01534,48.76085],[8.0326,48.79017],[8.06802,48.78957],[8.10253,48.81829],[8.12813,48.87985],[8.19989,48.95825],[8.20031,48.95856],[8.22604,48.97352],[8.14189,48.97833],[7.97783,49.03161],[7.93641,49.05544],[7.86386,49.03499],[7.79557,49.06583],[7.75948,49.04562],[7.63618,49.05428],[7.62575,49.07654],[7.56416,49.08136],[7.53012,49.09818],[7.49172,49.13915],[7.49473,49.17],[7.44455,49.16765],[7.44052,49.18354],[7.3662,49.17308],[7.35995,49.14399],[7.3195,49.14231],[7.29514,49.11426],[7.23473,49.12971],[7.1593,49.1204],[7.1358,49.1282],[7.12504,49.14253],[7.10384,49.13787],[7.10715,49.15631],[7.07859,49.15031],[7.09007,49.13094],[7.07162,49.1255],[7.06642,49.11415],[7.05548,49.11185],[7.04843,49.11422],[7.04409,49.12123],[7.04662,49.13724],[7.03178,49.15734],[7.0274,49.17042],[7.03459,49.19096],[7.01318,49.19018],[6.97273,49.2099],[6.95963,49.203],[6.94028,49.21641],[6.93831,49.2223],[6.91875,49.22261],[6.89298,49.20863],[6.85939,49.22376],[6.83555,49.21249],[6.85119,49.20038],[6.85016,49.19354],[6.86225,49.18185],[6.84703,49.15734],[6.83385,49.15162],[6.78265,49.16793],[6.73765,49.16375],[6.71137,49.18808],[6.73256,49.20486],[6.71843,49.2208],[6.69274,49.21661],[6.66583,49.28065],[6.60186,49.31055],[6.572,49.35027],[6.58807,49.35358],[6.60091,49.36864],[6.533,49.40748],[6.55404,49.42464],[6.42432,49.47683],[6.40274,49.46546],[6.39168,49.4667],[6.38352,49.46463],[6.36778,49.46937],[6.3687,49.4593],[6.28818,49.48465],[6.27875,49.503],[6.25029,49.50609],[6.2409,49.51408],[6.19543,49.50536],[6.17386,49.50934],[6.15366,49.50226],[6.16115,49.49297],[6.14321,49.48796],[6.12814,49.49365],[6.12346,49.4735],[6.10325,49.4707],[6.09845,49.46351],[6.10072,49.45268],[6.08373,49.45594],[6.07887,49.46399],[6.05553,49.46663],[6.04176,49.44801],[6.02743,49.44845],[6.02648,49.45451],[5.97693,49.45513],[5.96876,49.49053],[5.94224,49.49608],[5.94128,49.50034],[5.86571,49.50015],[5.83389,49.52152],[5.83467,49.52717],[5.84466,49.53027],[5.83648,49.5425],[5.81664,49.53775],[5.80871,49.5425],[5.81838,49.54777],[5.79195,49.55228],[5.77435,49.56298],[5.7577,49.55915],[5.75649,49.54321],[5.64505,49.55146],[5.60909,49.51228],[5.55001,49.52729],[5.46541,49.49825],[5.46734,49.52648],[5.43713,49.5707],[5.3974,49.61596],[5.34837,49.62889],[5.33851,49.61599],[5.3137,49.61225],[5.30214,49.63055],[5.33039,49.6555],[5.31465,49.66846],[5.26232,49.69456],[5.14545,49.70287],[5.09249,49.76193],[4.96714,49.79872],[4.85464,49.78995],[4.86965,49.82271],[4.85134,49.86457],[4.88529,49.9236],[4.78827,49.95609],[4.8382,50.06738],[4.88602,50.15182],[4.83279,50.15331],[4.82438,50.16878],[4.75237,50.11314],[4.70064,50.09384],[4.68695,49.99685],[4.5414,49.96911],[4.51098,49.94659],[4.43488,49.94122],[4.35051,49.95315],[4.31963,49.97043],[4.20532,49.95803],[4.14239,49.98034],[4.13508,50.01976],[4.16294,50.04719],[4.23101,50.06945],[4.20147,50.13535],[4.13561,50.13078],[4.16014,50.19239],[4.15524,50.21103],[4.21945,50.25539],[4.20651,50.27333],[4.17861,50.27443],[4.17347,50.28838],[4.15524,50.2833],[4.16808,50.25786],[4.13665,50.25609],[4.11954,50.30425],[4.10957,50.30234],[4.10237,50.31247],[4.0689,50.3254],[4.0268,50.35793],[3.96771,50.34989],[3.90781,50.32814],[3.84314,50.35219],[3.73911,50.34809],[3.70987,50.3191],[3.71009,50.30305],[3.66976,50.34563],[3.65709,50.36873],[3.67262,50.38663],[3.67494,50.40239],[3.66153,50.45165],[3.64426,50.46275],[3.61014,50.49568],[3.58361,50.49049],[3.5683,50.50192],[3.49509,50.48885],[3.51564,50.5256],[3.47385,50.53397],[3.44629,50.51009],[3.37693,50.49538],[3.28575,50.52724],[3.2729,50.60718],[3.23951,50.6585],[3.264,50.67668],[3.2536,50.68977],[3.26141,50.69151],[3.26063,50.70086],[3.24593,50.71389],[3.22042,50.71019],[3.20845,50.71662],[3.19017,50.72569],[3.20064,50.73547],[3.18811,50.74025],[3.18339,50.74981],[3.16476,50.76843],[3.15017,50.79031],[3.1257,50.78603],[3.11987,50.79188],[3.11206,50.79416],[3.10614,50.78303],[3.09163,50.77717],[3.04314,50.77674],[3.00537,50.76588],[2.96778,50.75242],[2.95019,50.75138],[2.90873,50.702],[2.91036,50.6939],[2.90069,50.69263],[2.88504,50.70656],[2.87937,50.70298],[2.86985,50.7033],[2.8483,50.72276],[2.81056,50.71773],[2.71165,50.81295],[2.63331,50.81457],[2.59093,50.91751],[2.63074,50.94746],[2.57551,51.00326],[2.55904,51.07014]],[[1.99838,42.44682],[1.98378,42.44697],[1.96125,42.45364],[1.95606,42.45785],[1.96215,42.47854],[1.97003,42.48081],[1.97227,42.48487],[1.97697,42.48568],[1.98022,42.49569],[1.98916,42.49351],[1.99766,42.4858],[1.98579,42.47486],[1.99216,42.46208],[2.01564,42.45171],[1.99838,42.44682]]]]}},{type:"Feature",properties:{iso1A2:"GA",iso1A3:"GAB",iso1N3:"266",wikidata:"Q1000",nameEn:"Gabon",groups:["017","202","002","UN"],callingCodes:["241"]},geometry:{type:"MultiPolygon",coordinates:[[[[13.29457,2.16106],[13.28534,2.25716],[11.37116,2.29975],[11.3561,2.17217],[11.35307,1.00251],[9.79648,1.0019],[9.75065,1.06753],[9.66433,1.06723],[7.24416,-.64092],[10.75913,-4.39519],[11.12647,-3.94169],[11.22301,-3.69888],[11.48764,-3.51089],[11.57949,-3.52798],[11.68608,-3.68942],[11.87083,-3.71571],[11.92719,-3.62768],[11.8318,-3.5812],[11.96554,-3.30267],[11.70227,-3.17465],[11.70558,-3.0773],[11.80365,-3.00424],[11.64798,-2.81146],[11.5359,-2.85654],[11.64487,-2.61865],[11.57637,-2.33379],[11.74605,-2.39936],[11.96866,-2.33559],[12.04895,-2.41704],[12.47925,-2.32626],[12.44656,-1.92025],[12.61312,-1.8129],[12.82172,-1.91091],[13.02759,-2.33098],[13.47977,-2.43224],[13.75884,-2.09293],[13.92073,-2.35581],[13.85846,-2.46935],[14.10442,-2.49268],[14.23829,-2.33715],[14.16202,-2.23916],[14.23518,-2.15671],[14.25932,-1.97624],[14.41838,-1.89412],[14.52569,-.57818],[14.41887,-.44799],[14.2165,-.38261],[14.06862,-.20826],[13.90632,-.2287],[13.88648,.26652],[14.10909,.58563],[14.26066,.57255],[14.48179,.9152],[14.25186,1.39842],[13.89582,1.4261],[13.15519,1.23368],[13.25447,1.32339],[13.13461,1.57238],[13.29457,2.16106]]]]}},{type:"Feature",properties:{iso1A2:"GB",iso1A3:"GBR",iso1N3:"826",wikidata:"Q145",ccTLD:".uk",nameEn:"United Kingdom",aliases:["UK"]},geometry:null},{type:"Feature",properties:{iso1A2:"GD",iso1A3:"GRD",iso1N3:"308",wikidata:"Q769",nameEn:"Grenada",aliases:["WG"],groups:["029","003","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",callingCodes:["1 473"]},geometry:{type:"MultiPolygon",coordinates:[[[[-62.64026,12.69984],[-61.77886,11.36496],[-59.94058,12.34011],[-62.64026,12.69984]]]]}},{type:"Feature",properties:{iso1A2:"GE",iso1A3:"GEO",iso1N3:"268",wikidata:"Q230",nameEn:"Georgia",groups:["145","142","UN"],callingCodes:["995"]},geometry:{type:"MultiPolygon",coordinates:[[[[46.42738,41.91323],[45.61676,42.20768],[45.78692,42.48358],[45.36501,42.55268],[45.15318,42.70598],[44.88754,42.74934],[44.80941,42.61277],[44.70002,42.74679],[44.54202,42.75699],[43.95517,42.55396],[43.73119,42.62043],[43.81453,42.74297],[43.0419,43.02413],[43.03322,43.08883],[42.75889,43.19651],[42.66667,43.13917],[42.40563,43.23226],[41.64935,43.22331],[40.65957,43.56212],[40.10657,43.57344],[40.04445,43.47776],[40.03312,43.44262],[40.01007,43.42411],[40.01552,43.42025],[40.00853,43.40578],[40.0078,43.38551],[39.81147,43.06294],[40.89217,41.72528],[41.54366,41.52185],[41.7148,41.4932],[41.7124,41.47417],[41.81939,41.43621],[41.95134,41.52466],[42.26387,41.49346],[42.51772,41.43606],[42.59202,41.58183],[42.72794,41.59714],[42.84471,41.58912],[42.78995,41.50126],[42.84899,41.47265],[42.8785,41.50516],[43.02956,41.37891],[43.21707,41.30331],[43.13373,41.25503],[43.1945,41.25242],[43.23096,41.17536],[43.36118,41.2028],[43.44973,41.17666],[43.4717,41.12611],[43.67712,41.13398],[43.74717,41.1117],[43.84835,41.16329],[44.16591,41.19141],[44.18148,41.24644],[44.32139,41.2079],[44.34337,41.20312],[44.34417,41.2382],[44.46791,41.18204],[44.59322,41.1933],[44.61462,41.24018],[44.72814,41.20338],[44.82084,41.21513],[44.87887,41.20195],[44.89911,41.21366],[44.84358,41.23088],[44.81749,41.23488],[44.80053,41.25949],[44.81437,41.30371],[44.93493,41.25685],[45.0133,41.29747],[45.09867,41.34065],[45.1797,41.42231],[45.26285,41.46433],[45.31352,41.47168],[45.4006,41.42402],[45.45973,41.45898],[45.68389,41.3539],[45.71035,41.36208],[45.75705,41.35157],[45.69946,41.29545],[45.80842,41.2229],[45.95786,41.17956],[46.13221,41.19479],[46.27698,41.19011],[46.37661,41.10805],[46.456,41.09984],[46.48558,41.0576],[46.55096,41.1104],[46.63969,41.09515],[46.66148,41.20533],[46.72375,41.28609],[46.63658,41.37727],[46.4669,41.43331],[46.40307,41.48464],[46.33925,41.4963],[46.29794,41.5724],[46.34126,41.57454],[46.34039,41.5947],[46.3253,41.60912],[46.28182,41.60089],[46.26531,41.63339],[46.24429,41.59883],[46.19759,41.62327],[46.17891,41.72094],[46.20538,41.77205],[46.23962,41.75811],[46.30863,41.79133],[46.3984,41.84399],[46.42738,41.91323]]]]}},{type:"Feature",properties:{iso1A2:"GF",iso1A3:"GUF",iso1N3:"254",wikidata:"Q3769",nameEn:"French Guiana",country:"FR",groups:["Q3320166","EU","005","419","019","UN"],callingCodes:["594"]},geometry:{type:"MultiPolygon",coordinates:[[[[-51.35485,4.8383],[-53.7094,6.2264],[-54.01074,5.68785],[-54.01877,5.52789],[-54.26916,5.26909],[-54.4717,4.91964],[-54.38444,4.13222],[-54.19367,3.84387],[-54.05128,3.63557],[-53.98914,3.627],[-53.9849,3.58697],[-54.28534,2.67798],[-54.42864,2.42442],[-54.6084,2.32856],[-54.16286,2.10779],[-53.78743,2.34412],[-52.96539,2.1881],[-52.6906,2.37298],[-52.31787,3.17896],[-51.85573,3.83427],[-51.82312,3.85825],[-51.79599,3.89336],[-51.61983,4.14596],[-51.63798,4.51394],[-51.35485,4.8383]]]]}},{type:"Feature",properties:{iso1A2:"GG",iso1A3:"GGY",iso1N3:"831",wikidata:"Q25230",nameEn:"Bailiwick of Guernsey",country:"GB"},geometry:null},{type:"Feature",properties:{iso1A2:"GH",iso1A3:"GHA",iso1N3:"288",wikidata:"Q117",nameEn:"Ghana",groups:["011","202","002","UN"],callingCodes:["233"]},geometry:{type:"MultiPolygon",coordinates:[[[[-.13493,11.14075],[-.27374,11.17157],[-.28566,11.12713],[-.35955,11.07801],[-.38219,11.12596],[-.42391,11.11661],[-.44298,11.04292],[-.61937,10.91305],[-.67143,10.99811],[-2.83373,11.0067],[-2.94232,10.64281],[-2.83108,10.40252],[-2.74174,9.83172],[-2.76534,9.56589],[-2.68802,9.49343],[-2.69814,9.22717],[-2.77799,9.04949],[-2.66357,9.01771],[-2.58243,8.7789],[-2.49037,8.20872],[-2.62901,8.11495],[-2.61232,8.02645],[-2.67787,8.02055],[-2.74819,7.92613],[-2.78395,7.94974],[-2.79467,7.86002],[-2.92339,7.60847],[-2.97822,7.27165],[-2.95438,7.23737],[-3.23327,6.81744],[-3.21954,6.74407],[-3.25999,6.62521],[-3.01896,5.71697],[-2.95323,5.71865],[-2.96671,5.6415],[-2.93132,5.62137],[-2.85378,5.65156],[-2.76614,5.60963],[-2.72737,5.34789],[-2.77625,5.34621],[-2.73074,5.1364],[-2.75502,5.10657],[-2.95261,5.12477],[-2.96554,5.10397],[-3.063,5.13665],[-3.11073,5.12675],[-3.10675,5.08515],[-3.34019,4.17519],[1.07031,5.15655],[1.27574,5.93551],[1.19771,6.11522],[1.19966,6.17069],[1.09187,6.17074],[1.05969,6.22998],[1.03108,6.24064],[.99652,6.33779],[.89283,6.33779],[.71048,6.53083],[.74862,6.56517],[.63659,6.63857],[.6497,6.73682],[.58176,6.76049],[.57406,6.80348],[.52853,6.82921],[.56508,6.92971],[.52098,6.94391],[.52217,6.9723],[.59606,7.01252],[.65327,7.31643],[.62943,7.41099],[.57223,7.39326],[.52455,7.45354],[.51979,7.58706],[.58295,7.62368],[.62943,7.85751],[.58891,8.12779],[.6056,8.13959],[.61156,8.18324],[.5913,8.19622],[.63897,8.25873],[.73432,8.29529],[.64731,8.48866],[.47211,8.59945],[.37319,8.75262],[.52455,8.87746],[.45424,9.04581],[.56388,9.40697],[.49118,9.48339],[.36485,9.49749],[.33148,9.44812],[.25758,9.42696],[.2254,9.47869],[.31241,9.50337],[.30406,9.521],[.2409,9.52335],[.23851,9.57389],[.38153,9.58682],[.36008,9.6256],[.29334,9.59387],[.26712,9.66437],[.28261,9.69022],[.32313,9.6491],[.34816,9.66907],[.34816,9.71607],[.32075,9.72781],[.36366,10.03309],[.41252,10.02018],[.41371,10.06361],[.35293,10.09412],[.39584,10.31112],[.33028,10.30408],[.29453,10.41546],[.18846,10.4096],[.12886,10.53149],[-.05945,10.63458],[-.09141,10.7147],[-.07327,10.71845],[-.07183,10.76794],[-.0228,10.81916],[-.02685,10.8783],[-.00908,10.91644],[-.0063,10.96417],[.03355,10.9807],[.02395,11.06229],[.00342,11.08317],[-.00514,11.10763],[-.0275,11.11202],[-.05733,11.08628],[-.14462,11.10811],[-.13493,11.14075]]]]}},{type:"Feature",properties:{iso1A2:"GI",iso1A3:"GIB",iso1N3:"292",wikidata:"Q1410",nameEn:"Gibraltar",country:"GB",groups:["Q12837","BOTS","039","150","UN"],callingCodes:["350"]},geometry:{type:"MultiPolygon",coordinates:[[[[-5.34064,36.03744],[-5.27801,36.14942],[-5.33822,36.15272],[-5.34536,36.15501],[-5.40526,36.15488],[-5.34064,36.03744]]]]}},{type:"Feature",properties:{iso1A2:"GL",iso1A3:"GRL",iso1N3:"304",wikidata:"Q223",nameEn:"Greenland",country:"DK",groups:["Q1451600","021","003","019","UN"],callingCodes:["299"]},geometry:{type:"MultiPolygon",coordinates:[[[[-49.33696,84.57952],[-68.21821,80.48551],[-77.52957,77.23408],[-46.37635,57.3249],[-9.68082,72.73731],[-5.7106,84.28058],[-49.33696,84.57952]]]]}},{type:"Feature",properties:{iso1A2:"GM",iso1A3:"GMB",iso1N3:"270",wikidata:"Q1005",nameEn:"The Gambia",groups:["011","202","002","UN"],callingCodes:["220"]},geometry:{type:"MultiPolygon",coordinates:[[[[-15.14917,13.57989],[-14.36795,13.23033],[-13.79409,13.34472],[-13.8955,13.59126],[-14.34721,13.46578],[-14.93719,13.80173],[-15.36504,13.79313],[-15.47902,13.58758],[-17.43598,13.59273],[-17.43966,13.04579],[-16.74676,13.06025],[-16.69343,13.16791],[-15.80355,13.16729],[-15.80478,13.34832],[-15.26908,13.37768],[-15.14917,13.57989]]]]}},{type:"Feature",properties:{iso1A2:"GN",iso1A3:"GIN",iso1N3:"324",wikidata:"Q1006",nameEn:"Guinea",groups:["011","202","002","UN"],callingCodes:["224"]},geometry:{type:"MultiPolygon",coordinates:[[[[-11.37536,12.40788],[-11.46267,12.44559],[-11.91331,12.42008],[-12.35415,12.32758],[-12.87336,12.51892],[-13.06603,12.49342],[-13.05296,12.64003],[-13.70523,12.68013],[-13.7039,12.60313],[-13.65089,12.49515],[-13.64168,12.42764],[-13.70851,12.24978],[-13.92745,12.24077],[-13.94589,12.16869],[-13.7039,12.00869],[-13.7039,11.70195],[-14.09799,11.63649],[-14.26623,11.67486],[-14.31513,11.60713],[-14.51173,11.49708],[-14.66677,11.51188],[-14.77786,11.36323],[-14.95993,10.99244],[-15.07174,10.89557],[-15.96748,10.162],[-14.36218,8.64107],[-13.29911,9.04245],[-13.18586,9.0925],[-13.08953,9.0409],[-12.94095,9.26335],[-12.76788,9.3133],[-12.47254,9.86834],[-12.24262,9.92386],[-12.12634,9.87203],[-11.91023,9.93927],[-11.89624,9.99763],[-11.2118,10.00098],[-10.6534,9.29919],[-10.74484,9.07998],[-10.5783,9.06386],[-10.56197,8.81225],[-10.47707,8.67669],[-10.61422,8.5314],[-10.70565,8.29235],[-10.63934,8.35326],[-10.54891,8.31174],[-10.37257,8.48941],[-10.27575,8.48711],[-10.203,8.47991],[-10.14579,8.52665],[-10.05375,8.50697],[-10.05873,8.42578],[-9.77763,8.54633],[-9.47415,8.35195],[-9.50898,8.18455],[-9.41445,8.02448],[-9.44928,7.9284],[-9.35724,7.74111],[-9.37465,7.62032],[-9.48161,7.37122],[-9.41943,7.41809],[-9.305,7.42056],[-9.20798,7.38109],[-9.18311,7.30461],[-9.09107,7.1985],[-8.93435,7.2824],[-8.85724,7.26019],[-8.8448,7.35149],[-8.72789,7.51429],[-8.67814,7.69428],[-8.55874,7.70167],[-8.55874,7.62525],[-8.47114,7.55676],[-8.4003,7.6285],[-8.21374,7.54466],[-8.09931,7.78626],[-8.13414,7.87991],[-8.06449,8.04989],[-7.94695,8.00925],[-7.99919,8.11023],[-7.98675,8.20134],[-8.062,8.16071],[-8.2411,8.24196],[-8.22991,8.48438],[-7.92518,8.50652],[-7.65653,8.36873],[-7.69882,8.66148],[-7.95503,8.81146],[-7.92518,8.99332],[-7.73862,9.08422],[-7.90777,9.20456],[-7.85056,9.41812],[-8.03463,9.39604],[-8.14657,9.55062],[-8.09434,9.86936],[-8.15652,9.94288],[-8.11921,10.04577],[-8.01225,10.1021],[-7.97971,10.17117],[-7.9578,10.2703],[-8.10207,10.44649],[-8.22711,10.41722],[-8.32614,10.69273],[-8.2667,10.91762],[-8.35083,11.06234],[-8.66923,10.99397],[-8.40058,11.37466],[-8.80854,11.66715],[-8.94784,12.34842],[-9.13689,12.50875],[-9.38067,12.48446],[-9.32097,12.29009],[-9.63938,12.18312],[-9.714,12.0226],[-10.30604,12.24634],[-10.71897,11.91552],[-10.80355,12.1053],[-10.99758,12.24634],[-11.24136,12.01286],[-11.50006,12.17826],[-11.37536,12.40788]]]]}},{type:"Feature",properties:{iso1A2:"GP",iso1A3:"GLP",iso1N3:"312",wikidata:"Q17012",nameEn:"Guadeloupe",country:"FR",groups:["Q3320166","EU","029","003","419","019","UN"],callingCodes:["590"]},geometry:{type:"MultiPolygon",coordinates:[[[[-60.03183,16.1129],[-61.60296,16.73066],[-63.00549,15.26166],[-60.03183,16.1129]]]]}},{type:"Feature",properties:{iso1A2:"GQ",iso1A3:"GNQ",iso1N3:"226",wikidata:"Q983",nameEn:"Equatorial Guinea",groups:["017","202","002","UN"],callingCodes:["240"]},geometry:{type:"MultiPolygon",coordinates:[[[[9.22018,3.72052],[8.34397,4.30689],[7.71762,.6674],[3.35016,-3.29031],[9.66433,1.06723],[9.75065,1.06753],[9.79648,1.0019],[11.35307,1.00251],[11.3561,2.17217],[9.991,2.16561],[9.90749,2.20049],[9.89012,2.20457],[9.84716,2.24676],[9.83238,2.29079],[9.83754,2.32428],[9.82123,2.35097],[9.81162,2.33797],[9.22018,3.72052]]]]}},{type:"Feature",properties:{iso1A2:"GR",iso1A3:"GRC",iso1N3:"300",wikidata:"Q41",nameEn:"Greece",aliases:["EL"],groups:["EU","039","150","UN"],callingCodes:["30"]},geometry:{type:"MultiPolygon",coordinates:[[[[26.03489,40.73051],[26.0754,40.72772],[26.08638,40.73214],[26.12495,40.74283],[26.12854,40.77339],[26.15685,40.80709],[26.21351,40.83298],[26.20856,40.86048],[26.26169,40.9168],[26.29441,40.89119],[26.28623,40.93005],[26.32259,40.94042],[26.35894,40.94292],[26.33297,40.98388],[26.3606,41.02027],[26.31928,41.07386],[26.32259,41.24929],[26.39861,41.25053],[26.5209,41.33993],[26.5837,41.32131],[26.62997,41.34613],[26.61767,41.42281],[26.59742,41.48058],[26.59196,41.60491],[26.5209,41.62592],[26.47958,41.67037],[26.35957,41.71149],[26.30255,41.70925],[26.2654,41.71544],[26.22888,41.74139],[26.21325,41.73223],[26.16841,41.74858],[26.06148,41.70345],[26.07083,41.64584],[26.15146,41.60828],[26.14328,41.55496],[26.17951,41.55409],[26.176,41.50072],[26.14796,41.47533],[26.20288,41.43943],[26.16548,41.42278],[26.12926,41.35878],[25.87919,41.30526],[25.8266,41.34563],[25.70507,41.29209],[25.66183,41.31316],[25.61042,41.30614],[25.55082,41.31667],[25.52394,41.2798],[25.48187,41.28506],[25.28322,41.23411],[25.11611,41.34212],[24.942,41.38685],[24.90928,41.40876],[24.86136,41.39298],[24.82514,41.4035],[24.8041,41.34913],[24.71529,41.41928],[24.61129,41.42278],[24.52599,41.56808],[24.30513,41.51297],[24.27124,41.57682],[24.18126,41.51735],[24.10063,41.54796],[24.06323,41.53222],[24.06908,41.46132],[23.96975,41.44118],[23.91483,41.47971],[23.89613,41.45257],[23.80148,41.43943],[23.76525,41.40175],[23.67644,41.41139],[23.63203,41.37632],[23.52453,41.40262],[23.40416,41.39999],[23.33639,41.36317],[23.31301,41.40525],[23.22771,41.37106],[23.21953,41.33773],[23.1833,41.31755],[22.93334,41.34104],[22.81199,41.3398],[22.76408,41.32225],[22.74538,41.16321],[22.71266,41.13945],[22.65306,41.18168],[22.62852,41.14385],[22.58295,41.11568],[22.5549,41.13065],[22.42285,41.11921],[22.26744,41.16409],[22.17629,41.15969],[22.1424,41.12449],[22.06527,41.15617],[21.90869,41.09191],[21.91102,41.04786],[21.7556,40.92525],[21.69601,40.9429],[21.57448,40.86076],[21.53007,40.90759],[21.41555,40.9173],[21.35595,40.87578],[21.25779,40.86165],[21.21105,40.8855],[21.15262,40.85546],[20.97887,40.85475],[20.98396,40.79109],[20.95752,40.76982],[20.98134,40.76046],[21.05833,40.66586],[21.03932,40.56299],[20.96908,40.51526],[20.94925,40.46625],[20.83688,40.47882],[20.7906,40.42726],[20.78234,40.35803],[20.71789,40.27739],[20.67162,40.09433],[20.62566,40.0897],[20.61081,40.07866],[20.55593,40.06524],[20.51297,40.08168],[20.48487,40.06271],[20.42373,40.06777],[20.37911,39.99058],[20.31135,39.99438],[20.41546,39.82832],[20.41475,39.81437],[20.38572,39.78516],[20.30804,39.81563],[20.29152,39.80421],[20.31961,39.72799],[20.27412,39.69884],[20.22707,39.67459],[20.22376,39.64532],[20.15988,39.652],[20.12956,39.65805],[20.05189,39.69112],[20.00957,39.69227],[19.98042,39.6504],[19.92466,39.69533],[19.97622,39.78684],[19.95905,39.82857],[19.0384,40.35325],[19.20409,39.7532],[22.5213,33.45682],[29.73302,35.92555],[29.69611,36.10365],[29.61805,36.14179],[29.61002,36.1731],[29.48192,36.18377],[29.30783,36.01033],[28.23708,36.56812],[27.95037,36.46155],[27.89482,36.69898],[27.46117,36.53789],[27.24613,36.71622],[27.45627,36.9008],[27.20312,36.94571],[27.14757,37.32],[26.95583,37.64989],[26.99377,37.69034],[27.16428,37.72343],[27.05537,37.9131],[26.21136,38.17558],[26.24183,38.44695],[26.32173,38.48731],[26.21136,38.65436],[26.61814,38.81372],[26.70773,39.0312],[26.43357,39.43096],[25.94257,39.39358],[25.61285,40.17161],[26.04292,40.3958],[25.94795,40.72797],[26.03489,40.73051]]]]}},{type:"Feature",properties:{iso1A2:"GS",iso1A3:"SGS",iso1N3:"239",wikidata:"Q35086",nameEn:"South Georgia and South Sandwich Islands",country:"GB",groups:["BOTS","005","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["500"]},geometry:{type:"MultiPolygon",coordinates:[[[[-35.26394,-43.68272],[-53.39656,-59.87088],[-22.31757,-59.85974],[-35.26394,-43.68272]]]]}},{type:"Feature",properties:{iso1A2:"GT",iso1A3:"GTM",iso1N3:"320",wikidata:"Q774",nameEn:"Guatemala",groups:["013","003","419","019","UN"],callingCodes:["502"]},geometry:{type:"MultiPolygon",coordinates:[[[[-89.14985,17.81563],[-90.98678,17.81655],[-90.99199,17.25192],[-91.43809,17.25373],[-91.04436,16.92175],[-90.69064,16.70697],[-90.61212,16.49832],[-90.40499,16.40524],[-90.44567,16.07573],[-91.73182,16.07371],[-92.20983,15.26077],[-92.0621,15.07406],[-92.1454,14.98143],[-92.1423,14.88647],[-92.18161,14.84147],[-92.1454,14.6804],[-92.2261,14.53423],[-92.37213,14.39277],[-90.55276,12.8866],[-90.11344,13.73679],[-90.10505,13.85104],[-89.88937,14.0396],[-89.81807,14.07073],[-89.76103,14.02923],[-89.73251,14.04133],[-89.75569,14.07073],[-89.70756,14.1537],[-89.61844,14.21937],[-89.52397,14.22628],[-89.50614,14.26084],[-89.58814,14.33165],[-89.57441,14.41637],[-89.39028,14.44561],[-89.34776,14.43013],[-89.35189,14.47553],[-89.23719,14.58046],[-89.15653,14.57802],[-89.13132,14.71582],[-89.23467,14.85596],[-89.15149,14.97775],[-89.18048,14.99967],[-89.15149,15.07392],[-88.97343,15.14039],[-88.32467,15.63665],[-88.31459,15.66942],[-88.24022,15.69247],[-88.22552,15.72294],[-88.20359,16.03858],[-88.40779,16.09624],[-88.95358,15.88698],[-89.02415,15.9063],[-89.17418,15.90898],[-89.22683,15.88619],[-89.15025,17.04813],[-89.14985,17.81563]]]]}},{type:"Feature",properties:{iso1A2:"GU",iso1A3:"GUM",iso1N3:"316",wikidata:"Q16635",nameEn:"Guam",aliases:["US-GU"],country:"US",groups:["Q1352230","Q153732","057","009","UN"],roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["1 671"]},geometry:{type:"MultiPolygon",coordinates:[[[[146.25931,13.85876],[143.82485,13.92273],[144.61642,12.82462],[146.25931,13.85876]]]]}},{type:"Feature",properties:{iso1A2:"GW",iso1A3:"GNB",iso1N3:"624",wikidata:"Q1007",nameEn:"Guinea-Bissau",groups:["011","202","002","UN"],callingCodes:["245"]},geometry:{type:"MultiPolygon",coordinates:[[[[-14.31513,11.60713],[-14.26623,11.67486],[-14.09799,11.63649],[-13.7039,11.70195],[-13.7039,12.00869],[-13.94589,12.16869],[-13.92745,12.24077],[-13.70851,12.24978],[-13.64168,12.42764],[-13.65089,12.49515],[-13.7039,12.60313],[-13.70523,12.68013],[-15.17582,12.6847],[-15.67302,12.42974],[-16.20591,12.46157],[-16.38191,12.36449],[-16.70562,12.34803],[-17.4623,11.92379],[-15.96748,10.162],[-15.07174,10.89557],[-14.95993,10.99244],[-14.77786,11.36323],[-14.66677,11.51188],[-14.51173,11.49708],[-14.31513,11.60713]]]]}},{type:"Feature",properties:{iso1A2:"GY",iso1A3:"GUY",iso1N3:"328",wikidata:"Q734",nameEn:"Guyana",groups:["005","419","019","UN"],driveSide:"left",callingCodes:["592"]},geometry:{type:"MultiPolygon",coordinates:[[[[-56.84822,6.73257],[-59.54058,8.6862],[-59.98508,8.53046],[-59.85562,8.35213],[-59.80661,8.28906],[-59.83156,8.23261],[-59.97059,8.20791],[-60.02407,8.04557],[-60.38056,7.8302],[-60.51959,7.83373],[-60.64793,7.56877],[-60.71923,7.55817],[-60.59802,7.33194],[-60.63367,7.25061],[-60.54098,7.14804],[-60.44116,7.20817],[-60.28074,7.1162],[-60.39419,6.94847],[-60.54873,6.8631],[-61.13632,6.70922],[-61.20762,6.58174],[-61.15058,6.19558],[-61.4041,5.95304],[-60.73204,5.20931],[-60.32352,5.21299],[-60.20944,5.28754],[-59.98129,5.07097],[-60.04189,4.69801],[-60.15953,4.53456],[-59.78878,4.45637],[-59.69361,4.34069],[-59.73353,4.20399],[-59.51963,3.91951],[-59.86899,3.57089],[-59.79769,3.37162],[-59.99733,2.92312],[-59.91177,2.36759],[-59.7264,2.27497],[-59.74066,1.87596],[-59.25583,1.40559],[-58.92072,1.31293],[-58.84229,1.17749],[-58.53571,1.29154],[-58.4858,1.48399],[-58.33887,1.58014],[-58.01873,1.51966],[-57.97336,1.64566],[-57.77281,1.73344],[-57.55743,1.69605],[-57.35073,1.98327],[-57.23981,1.95808],[-57.09109,2.01854],[-57.07092,1.95304],[-56.7659,1.89509],[-56.47045,1.95135],[-56.55439,2.02003],[-56.70519,2.02964],[-57.35891,3.32121],[-58.0307,3.95513],[-57.8699,4.89394],[-57.37442,5.0208],[-57.22536,5.15605],[-57.31629,5.33714],[-56.84822,6.73257]]]]}},{type:"Feature",properties:{iso1A2:"HK",iso1A3:"HKG",iso1N3:"344",wikidata:"Q8646",nameEn:"Hong Kong",country:"CN",groups:["030","142","UN"],driveSide:"left",callingCodes:["852"]},geometry:{type:"MultiPolygon",coordinates:[[[[113.92195,22.13873],[114.50148,22.15017],[114.44998,22.55977],[114.25154,22.55977],[114.22888,22.5436],[114.22185,22.55343],[114.20655,22.55706],[114.18338,22.55444],[114.17247,22.55944],[114.1597,22.56041],[114.15123,22.55163],[114.1482,22.54091],[114.13823,22.54319],[114.12665,22.54003],[114.11656,22.53415],[114.11181,22.52878],[114.1034,22.5352],[114.09692,22.53435],[114.09048,22.53716],[114.08606,22.53276],[114.07817,22.52997],[114.07267,22.51855],[114.06272,22.51617],[114.05729,22.51104],[114.05438,22.5026],[114.03113,22.5065],[113.86771,22.42972],[113.81621,22.2163],[113.83338,22.1826],[113.92195,22.13873]]]]}},{type:"Feature",properties:{iso1A2:"HM",iso1A3:"HMD",iso1N3:"334",wikidata:"Q131198",nameEn:"Heard Island and McDonald Islands",country:"AU",groups:["053","009","UN"],driveSide:"left"},geometry:{type:"MultiPolygon",coordinates:[[[[71.08716,-53.87687],[75.44182,-53.99822],[72.87012,-51.48322],[71.08716,-53.87687]]]]}},{type:"Feature",properties:{iso1A2:"HN",iso1A3:"HND",iso1N3:"340",wikidata:"Q783",nameEn:"Honduras",groups:["013","003","419","019","UN"],callingCodes:["504"]},geometry:{type:"MultiPolygon",coordinates:[[[[-83.86109,17.73736],[-88.20359,16.03858],[-88.22552,15.72294],[-88.24022,15.69247],[-88.31459,15.66942],[-88.32467,15.63665],[-88.97343,15.14039],[-89.15149,15.07392],[-89.18048,14.99967],[-89.15149,14.97775],[-89.23467,14.85596],[-89.13132,14.71582],[-89.15653,14.57802],[-89.23719,14.58046],[-89.35189,14.47553],[-89.34776,14.43013],[-89.04187,14.33644],[-88.94608,14.20207],[-88.85785,14.17763],[-88.815,14.11652],[-88.73182,14.10919],[-88.70661,14.04317],[-88.49738,13.97224],[-88.48982,13.86458],[-88.25791,13.91108],[-88.23018,13.99915],[-88.07641,13.98447],[-88.00331,13.86948],[-87.7966,13.91353],[-87.68821,13.80829],[-87.73106,13.75443],[-87.78148,13.52906],[-87.71657,13.50577],[-87.72115,13.46083],[-87.73841,13.44169],[-87.77354,13.45767],[-87.83467,13.44655],[-87.84675,13.41078],[-87.80177,13.35689],[-87.73714,13.32715],[-87.69751,13.25228],[-87.55124,13.12523],[-87.37107,12.98646],[-87.06306,13.00892],[-87.03785,12.98682],[-86.93197,13.05313],[-86.93383,13.18677],[-86.87066,13.30641],[-86.71267,13.30348],[-86.76812,13.79605],[-86.35219,13.77157],[-86.14801,14.04317],[-86.00685,14.08474],[-86.03458,13.99181],[-85.75477,13.8499],[-85.73964,13.9698],[-85.45762,14.11304],[-85.32149,14.2562],[-85.18602,14.24929],[-85.1575,14.53934],[-84.90082,14.80489],[-84.82596,14.82212],[-84.70119,14.68078],[-84.48373,14.63249],[-84.10584,14.76353],[-83.89551,14.76697],[-83.62101,14.89448],[-83.49268,15.01158],[-83.13724,15.00002],[-83.04763,15.03256],[-82.06974,14.49418],[-81.58685,18.0025],[-83.86109,17.73736]]]]}},{type:"Feature",properties:{iso1A2:"HR",iso1A3:"HRV",iso1N3:"191",wikidata:"Q224",nameEn:"Croatia",groups:["EU","039","150","UN"],callingCodes:["385"]},geometry:{type:"MultiPolygon",coordinates:[[[[17.6444,42.88641],[17.5392,42.92787],[17.70879,42.97223],[17.64268,43.08595],[17.46986,43.16559],[17.286,43.33065],[17.25579,43.40353],[17.29699,43.44542],[17.24411,43.49376],[17.15828,43.49376],[17.00585,43.58037],[16.80736,43.76011],[16.75316,43.77157],[16.70922,43.84887],[16.55472,43.95326],[16.50528,44.0244],[16.43629,44.02826],[16.43662,44.07523],[16.36864,44.08263],[16.18688,44.27012],[16.21346,44.35231],[16.12969,44.38275],[16.16814,44.40679],[16.10566,44.52586],[16.03012,44.55572],[16.00884,44.58605],[16.05828,44.61538],[15.89348,44.74964],[15.8255,44.71501],[15.72584,44.82334],[15.79472,44.8455],[15.76096,44.87045],[15.74723,44.96818],[15.78568,44.97401],[15.74585,45.0638],[15.78842,45.11519],[15.76371,45.16508],[15.83512,45.22459],[15.98412,45.23088],[16.12153,45.09616],[16.29036,44.99732],[16.35404,45.00241],[16.35863,45.03529],[16.3749,45.05206],[16.38219,45.05139],[16.38309,45.05955],[16.40023,45.1147],[16.4634,45.14522],[16.49155,45.21153],[16.52982,45.22713],[16.5501,45.2212],[16.56559,45.22307],[16.60194,45.23042],[16.64962,45.20714],[16.74845,45.20393],[16.78219,45.19002],[16.81137,45.18434],[16.83804,45.18951],[16.92405,45.27607],[16.9385,45.22742],[17.0415,45.20759],[17.18438,45.14764],[17.24325,45.146],[17.25131,45.14957],[17.26815,45.18444],[17.32092,45.16246],[17.33573,45.14521],[17.41229,45.13335],[17.4498,45.16119],[17.45615,45.12523],[17.47589,45.12656],[17.51469,45.10791],[17.59104,45.10816],[17.66571,45.13408],[17.84826,45.04489],[17.87148,45.04645],[17.93706,45.08016],[17.97336,45.12245],[17.97834,45.13831],[17.99479,45.14958],[18.01594,45.15163],[18.03121,45.12632],[18.1624,45.07654],[18.24387,45.13699],[18.32077,45.1021],[18.41896,45.11083],[18.47939,45.05871],[18.65723,45.07544],[18.78357,44.97741],[18.80661,44.93561],[18.76369,44.93707],[18.76347,44.90669],[18.8704,44.85097],[19.01994,44.85493],[18.98957,44.90645],[19.02871,44.92541],[19.06853,44.89915],[19.15573,44.95409],[19.05205,44.97692],[19.1011,45.01191],[19.07952,45.14668],[19.14063,45.12972],[19.19144,45.17863],[19.43589,45.17137],[19.41941,45.23475],[19.28208,45.23813],[19.10774,45.29547],[18.97446,45.37528],[18.99918,45.49333],[19.08364,45.48804],[19.07471,45.53086],[18.94562,45.53712],[18.88776,45.57253],[18.96691,45.66731],[18.90305,45.71863],[18.85783,45.85493],[18.81394,45.91329],[18.80211,45.87995],[18.6792,45.92057],[18.57483,45.80772],[18.44368,45.73972],[18.12439,45.78905],[18.08869,45.76511],[17.99805,45.79671],[17.87377,45.78522],[17.66545,45.84207],[17.56821,45.93728],[17.35672,45.95209],[17.14592,46.16697],[16.8903,46.28122],[16.8541,46.36255],[16.7154,46.39523],[16.6639,46.45203],[16.59527,46.47524],[16.52604,46.47831],[16.5007,46.49644],[16.44036,46.5171],[16.38771,46.53608],[16.37193,46.55008],[16.29793,46.5121],[16.26733,46.51505],[16.26759,46.50566],[16.23961,46.49653],[16.25124,46.48067],[16.27398,46.42875],[16.27329,46.41467],[16.30162,46.40437],[16.30233,46.37837],[16.18824,46.38282],[16.14859,46.40547],[16.05281,46.39141],[16.05065,46.3833],[16.07314,46.36458],[16.07616,46.3463],[15.97965,46.30652],[15.79284,46.25811],[15.78817,46.21719],[15.75479,46.20336],[15.75436,46.21969],[15.67395,46.22478],[15.6434,46.21396],[15.64904,46.19229],[15.59909,46.14761],[15.6083,46.11992],[15.62317,46.09103],[15.72977,46.04682],[15.71246,46.01196],[15.70327,46.00015],[15.70636,45.92116],[15.67967,45.90455],[15.68383,45.88867],[15.68232,45.86819],[15.70411,45.8465],[15.66662,45.84085],[15.64185,45.82915],[15.57952,45.84953],[15.52234,45.82195],[15.47325,45.8253],[15.47531,45.79802],[15.40836,45.79491],[15.25423,45.72275],[15.30872,45.69014],[15.34919,45.71623],[15.4057,45.64727],[15.38952,45.63682],[15.34214,45.64702],[15.34695,45.63382],[15.31027,45.6303],[15.27747,45.60504],[15.29837,45.5841],[15.30249,45.53224],[15.38188,45.48752],[15.33051,45.45258],[15.27758,45.46678],[15.16862,45.42309],[15.05187,45.49079],[15.02385,45.48533],[14.92266,45.52788],[14.90554,45.47769],[14.81992,45.45913],[14.80124,45.49515],[14.71718,45.53442],[14.68605,45.53006],[14.69694,45.57366],[14.59576,45.62812],[14.60977,45.66403],[14.57397,45.67165],[14.53816,45.6205],[14.5008,45.60852],[14.49769,45.54424],[14.36693,45.48642],[14.32487,45.47142],[14.27681,45.4902],[14.26611,45.48239],[14.24239,45.50607],[14.22371,45.50388],[14.20348,45.46896],[14.07116,45.48752],[14.00578,45.52352],[13.96063,45.50825],[13.99488,45.47551],[13.97309,45.45258],[13.90771,45.45149],[13.88124,45.42637],[13.81742,45.43729],[13.7785,45.46787],[13.67398,45.4436],[13.62902,45.45898],[13.56979,45.4895],[13.45644,45.59464],[13.05142,45.33128],[13.12821,44.48877],[16.15283,42.18525],[18.45131,42.21682],[18.54128,42.39171],[18.52152,42.42302],[18.43588,42.48556],[18.44307,42.51077],[18.43735,42.55921],[18.36197,42.61423],[18.24318,42.6112],[17.88201,42.83668],[17.80854,42.9182],[17.7948,42.89556],[17.68151,42.92725],[17.6444,42.88641]]]]}},{type:"Feature",properties:{iso1A2:"HT",iso1A3:"HTI",iso1N3:"332",wikidata:"Q790",nameEn:"Haiti",aliases:["RH"],groups:["029","003","419","019","UN"],callingCodes:["509"]},geometry:{type:"MultiPolygon",coordinates:[[[[-71.71885,18.78423],[-71.72624,18.87802],[-71.77766,18.95007],[-71.88102,18.95007],[-71.74088,19.0437],[-71.71088,19.08353],[-71.69938,19.10916],[-71.65337,19.11759],[-71.62642,19.21212],[-71.73229,19.26686],[-71.77766,19.33823],[-71.69448,19.37866],[-71.6802,19.45008],[-71.71268,19.53374],[-71.71449,19.55364],[-71.7429,19.58445],[-71.75865,19.70231],[-71.77419,19.73128],[-72.38946,20.27111],[-73.37289,20.43199],[-74.7289,18.71009],[-74.76465,18.06252],[-72.29523,17.48026],[-71.75671,18.03456],[-71.73783,18.07177],[-71.74994,18.11115],[-71.75465,18.14405],[-71.78271,18.18302],[-71.69952,18.34101],[-71.90875,18.45821],[-71.88102,18.50125],[-72.00201,18.62312],[-71.95412,18.64939],[-71.82556,18.62551],[-71.71885,18.78423]]]]}},{type:"Feature",properties:{iso1A2:"HU",iso1A3:"HUN",iso1N3:"348",wikidata:"Q28",nameEn:"Hungary",groups:["EU","151","150","UN"],callingCodes:["36"]},geometry:{type:"MultiPolygon",coordinates:[[[[21.72525,48.34628],[21.67134,48.3989],[21.6068,48.50365],[21.44063,48.58456],[21.11516,48.49546],[20.83248,48.5824],[20.5215,48.53336],[20.29943,48.26104],[20.24312,48.2784],[19.92452,48.1283],[19.63338,48.25006],[19.52489,48.19791],[19.47957,48.09437],[19.28182,48.08336],[19.23924,48.0595],[19.01952,48.07052],[18.82176,48.04206],[18.76134,47.97499],[18.76821,47.87469],[18.8506,47.82308],[18.74074,47.8157],[18.66521,47.76772],[18.56496,47.76588],[18.29305,47.73541],[18.02938,47.75665],[17.71215,47.7548],[17.23699,48.02094],[17.16001,48.00636],[17.09786,47.97336],[17.11022,47.92461],[17.08275,47.87719],[17.00997,47.86245],[17.07039,47.81129],[17.05048,47.79377],[17.08893,47.70928],[16.87538,47.68895],[16.86509,47.72268],[16.82938,47.68432],[16.7511,47.67878],[16.72089,47.73469],[16.65679,47.74197],[16.61183,47.76171],[16.54779,47.75074],[16.53514,47.73837],[16.55129,47.72268],[16.4222,47.66537],[16.58699,47.61772],[16.64193,47.63114],[16.71059,47.52692],[16.64821,47.50155],[16.6718,47.46139],[16.57152,47.40868],[16.52414,47.41007],[16.49908,47.39416],[16.45104,47.41181],[16.47782,47.25918],[16.44142,47.25079],[16.43663,47.21127],[16.41739,47.20649],[16.42801,47.18422],[16.4523,47.18812],[16.46442,47.16845],[16.44932,47.14418],[16.52863,47.13974],[16.46134,47.09395],[16.52176,47.05747],[16.43936,47.03548],[16.51369,47.00084],[16.28202,47.00159],[16.27594,46.9643],[16.22403,46.939],[16.19904,46.94134],[16.10983,46.867],[16.14365,46.8547],[16.15711,46.85434],[16.21892,46.86961],[16.2365,46.87775],[16.2941,46.87137],[16.34547,46.83836],[16.3408,46.80641],[16.31303,46.79838],[16.30966,46.7787],[16.37816,46.69975],[16.42641,46.69228],[16.41863,46.66238],[16.38594,46.6549],[16.39217,46.63673],[16.50139,46.56684],[16.52885,46.53303],[16.52604,46.5051],[16.59527,46.47524],[16.6639,46.45203],[16.7154,46.39523],[16.8541,46.36255],[16.8903,46.28122],[17.14592,46.16697],[17.35672,45.95209],[17.56821,45.93728],[17.66545,45.84207],[17.87377,45.78522],[17.99805,45.79671],[18.08869,45.76511],[18.12439,45.78905],[18.44368,45.73972],[18.57483,45.80772],[18.6792,45.92057],[18.80211,45.87995],[18.81394,45.91329],[18.99712,45.93537],[19.01284,45.96529],[19.0791,45.96458],[19.10388,46.04015],[19.14543,45.9998],[19.28826,45.99694],[19.52473,46.1171],[19.56113,46.16824],[19.66007,46.19005],[19.81491,46.1313],[19.93508,46.17553],[20.01816,46.17696],[20.03533,46.14509],[20.09713,46.17315],[20.26068,46.12332],[20.28324,46.1438],[20.35573,46.16629],[20.45377,46.14405],[20.49718,46.18721],[20.63863,46.12728],[20.76085,46.21002],[20.74574,46.25467],[20.86797,46.28884],[21.06572,46.24897],[21.16872,46.30118],[21.28061,46.44941],[21.26929,46.4993],[21.33214,46.63035],[21.43926,46.65109],[21.5151,46.72147],[21.48935,46.7577],[21.52028,46.84118],[21.59307,46.86935],[21.59581,46.91628],[21.68645,46.99595],[21.648,47.03902],[21.78395,47.11104],[21.94463,47.38046],[22.01055,47.37767],[22.03389,47.42508],[22.00917,47.50492],[22.31816,47.76126],[22.41979,47.7391],[22.46559,47.76583],[22.67247,47.7871],[22.76617,47.8417],[22.77991,47.87211],[22.89849,47.95851],[22.84276,47.98602],[22.87847,48.04665],[22.81804,48.11363],[22.73427,48.12005],[22.66835,48.09162],[22.58733,48.10813],[22.59007,48.15121],[22.49806,48.25189],[22.38133,48.23726],[22.2083,48.42534],[22.14689,48.4005],[21.83339,48.36242],[21.8279,48.33321],[21.72525,48.34628]]]]}},{type:"Feature",properties:{iso1A2:"IC",wikidata:"Q5813",nameEn:"Canary Islands",country:"ES",groups:["Q3320166","Q105472","EU","039","150","UN"],isoStatus:"excRes",callingCodes:["34"]},geometry:{type:"MultiPolygon",coordinates:[[[[-12.00985,30.24121],[-25.3475,27.87574],[-14.43883,27.02969],[-12.00985,30.24121]]]]}},{type:"Feature",properties:{iso1A2:"ID",iso1A3:"IDN",iso1N3:"360",wikidata:"Q252",nameEn:"Indonesia",aliases:["RI"]},geometry:null},{type:"Feature",properties:{iso1A2:"IE",iso1A3:"IRL",iso1N3:"372",wikidata:"Q27",nameEn:"Republic of Ireland",groups:["EU","Q22890","154","150","UN"],driveSide:"left",callingCodes:["353"]},geometry:{type:"MultiPolygon",coordinates:[[[[-6.26218,54.09785],[-6.29003,54.11278],[-6.32694,54.09337],[-6.36279,54.11248],[-6.36605,54.07234],[-6.47849,54.06947],[-6.62842,54.03503],[-6.66264,54.0666],[-6.6382,54.17071],[-6.70175,54.20218],[-6.74575,54.18788],[-6.81583,54.22791],[-6.85179,54.29176],[-6.87775,54.34682],[-7.02034,54.4212],[-7.19145,54.31296],[-7.14908,54.22732],[-7.25012,54.20063],[-7.26316,54.13863],[-7.29493,54.12013],[-7.29687,54.1354],[-7.28017,54.16714],[-7.29157,54.17191],[-7.34005,54.14698],[-7.30553,54.11869],[-7.32834,54.11475],[-7.44567,54.1539],[-7.4799,54.12239],[-7.55812,54.12239],[-7.69501,54.20731],[-7.81397,54.20159],[-7.8596,54.21779],[-7.87101,54.29299],[-8.04555,54.36292],[-8.179,54.46763],[-8.04538,54.48941],[-7.99812,54.54427],[-7.8596,54.53671],[-7.70315,54.62077],[-7.93293,54.66603],[-7.83352,54.73854],[-7.75041,54.7103],[-7.64449,54.75265],[-7.54671,54.74606],[-7.54508,54.79401],[-7.47626,54.83084],[-7.4473,54.87003],[-7.44404,54.9403],[-7.40004,54.94498],[-7.4033,55.00391],[-7.34464,55.04688],[-7.2471,55.06933],[-6.34755,55.49206],[-7.75229,55.93854],[-22.01468,48.19557],[-6.03913,51.13217],[-5.37267,53.63269],[-6.26218,54.09785]]]]}},{type:"Feature",properties:{iso1A2:"IL",iso1A3:"ISR",iso1N3:"376",wikidata:"Q801",nameEn:"Israel",groups:["145","142","UN"],callingCodes:["972"]},geometry:{type:"MultiPolygon",coordinates:[[[[34.052,31.46619],[34.29262,31.70393],[34.48681,31.59711],[34.56797,31.54197],[34.48892,31.48365],[34.40077,31.40926],[34.36505,31.36404],[34.37381,31.30598],[34.36523,31.28963],[34.29417,31.24194],[34.26742,31.21998],[34.92298,29.45305],[34.97718,29.54294],[34.98207,29.58147],[35.02147,29.66343],[35.14108,30.07374],[35.19183,30.34636],[35.16218,30.43535],[35.19595,30.50297],[35.21379,30.60401],[35.29311,30.71365],[35.33456,30.81224],[35.33984,30.8802],[35.41371,30.95565],[35.43658,31.12444],[35.40316,31.25535],[35.47672,31.49578],[35.39675,31.49572],[35.22921,31.37445],[35.13033,31.3551],[35.02459,31.35979],[34.92571,31.34337],[34.88932,31.37093],[34.87833,31.39321],[34.89756,31.43891],[34.93258,31.47816],[34.94356,31.50743],[34.9415,31.55601],[34.95249,31.59813],[35.00879,31.65426],[35.08226,31.69107],[35.10782,31.71594],[35.11895,31.71454],[35.12933,31.7325],[35.13931,31.73012],[35.15119,31.73634],[35.15474,31.73352],[35.16478,31.73242],[35.18023,31.72067],[35.20538,31.72388],[35.21937,31.71578],[35.22392,31.71899],[35.23972,31.70896],[35.24315,31.71244],[35.2438,31.7201],[35.24981,31.72543],[35.25182,31.73945],[35.26319,31.74846],[35.25225,31.7678],[35.26058,31.79064],[35.25573,31.81362],[35.26404,31.82567],[35.251,31.83085],[35.25753,31.8387],[35.24816,31.8458],[35.2304,31.84222],[35.2249,31.85433],[35.22817,31.8638],[35.22567,31.86745],[35.22294,31.87889],[35.22014,31.88264],[35.2136,31.88241],[35.21276,31.88153],[35.21016,31.88237],[35.20945,31.8815],[35.20791,31.8821],[35.20673,31.88151],[35.20381,31.86716],[35.21128,31.863],[35.216,31.83894],[35.21469,31.81835],[35.19461,31.82687],[35.18169,31.82542],[35.18603,31.80901],[35.14174,31.81325],[35.07677,31.85627],[35.05617,31.85685],[35.01978,31.82944],[34.9724,31.83352],[34.99712,31.85569],[35.03489,31.85919],[35.03978,31.89276],[35.03489,31.92448],[35.00124,31.93264],[34.98682,31.96935],[35.00261,32.027],[34.9863,32.09551],[34.99437,32.10962],[34.98507,32.12606],[34.99039,32.14626],[34.96009,32.17503],[34.95703,32.19522],[34.98885,32.20758],[35.01841,32.23981],[35.02939,32.2671],[35.01119,32.28684],[35.01772,32.33863],[35.04243,32.35008],[35.05142,32.3667],[35.0421,32.38242],[35.05311,32.4024],[35.05423,32.41754],[35.07059,32.4585],[35.08564,32.46948],[35.09236,32.47614],[35.10024,32.47856],[35.10882,32.4757],[35.15937,32.50466],[35.2244,32.55289],[35.25049,32.52453],[35.29306,32.50947],[35.30685,32.51024],[35.35212,32.52047],[35.40224,32.50136],[35.42034,32.46009],[35.41598,32.45593],[35.41048,32.43706],[35.42078,32.41562],[35.55807,32.38674],[35.55494,32.42687],[35.57485,32.48669],[35.56614,32.64393],[35.59813,32.65159],[35.61669,32.67999],[35.66527,32.681],[35.68467,32.70715],[35.75983,32.74803],[35.78745,32.77938],[35.83758,32.82817],[35.84021,32.8725],[35.87012,32.91976],[35.89298,32.9456],[35.87188,32.98028],[35.84802,33.1031],[35.81911,33.11077],[35.81911,33.1336],[35.84285,33.16673],[35.83846,33.19397],[35.81647,33.2028],[35.81295,33.24841],[35.77513,33.27342],[35.813,33.3172],[35.77477,33.33609],[35.62019,33.27278],[35.62283,33.24226],[35.58502,33.26653],[35.58326,33.28381],[35.56523,33.28969],[35.55555,33.25844],[35.54544,33.25513],[35.54808,33.236],[35.5362,33.23196],[35.54228,33.19865],[35.52573,33.11921],[35.50335,33.114],[35.50272,33.09056],[35.448,33.09264],[35.43059,33.06659],[35.35223,33.05617],[35.31429,33.10515],[35.1924,33.08743],[35.10645,33.09318],[34.78515,33.20368],[33.62659,31.82938],[34.052,31.46619]]]]}},{type:"Feature",properties:{iso1A2:"IM",iso1A3:"IMN",iso1N3:"833",wikidata:"Q9676",nameEn:"Isle of Man",country:"GB",groups:["Q185086","154","150","UN"],driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["44 01624","44 07624","44 07524","44 07924"]},geometry:{type:"MultiPolygon",coordinates:[[[[-3.98763,54.07351],[-4.1819,54.57861],[-5.6384,53.81157],[-3.98763,54.07351]]]]}},{type:"Feature",properties:{iso1A2:"IN",iso1A3:"IND",iso1N3:"356",wikidata:"Q668",nameEn:"India"},geometry:null},{type:"Feature",properties:{iso1A2:"IO",iso1A3:"IOT",iso1N3:"086",wikidata:"Q43448",nameEn:"British Indian Ocean Territory",country:"GB"},geometry:null},{type:"Feature",properties:{iso1A2:"IQ",iso1A3:"IRQ",iso1N3:"368",wikidata:"Q796",nameEn:"Iraq",groups:["145","142","UN"],callingCodes:["964"]},geometry:{type:"MultiPolygon",coordinates:[[[[42.78887,37.38615],[42.56725,37.14878],[42.35724,37.10998],[42.36697,37.0627],[41.81736,36.58782],[41.40058,36.52502],[41.28864,36.35368],[41.2564,36.06012],[41.37027,35.84095],[41.38184,35.62502],[41.26569,35.42708],[41.21654,35.1508],[41.2345,34.80049],[41.12388,34.65742],[40.97676,34.39788],[40.64314,34.31604],[38.79171,33.37328],[39.08202,32.50304],[38.98762,32.47694],[39.04251,32.30203],[39.26157,32.35555],[39.29903,32.23259],[40.01521,32.05667],[42.97601,30.72204],[42.97796,30.48295],[44.72255,29.19736],[46.42415,29.05947],[46.5527,29.10283],[46.89695,29.50584],[47.15166,30.01044],[47.37192,30.10421],[47.7095,30.10453],[48.01114,29.98906],[48.06782,30.02906],[48.17332,30.02448],[48.40479,29.85763],[48.59531,29.66815],[48.83867,29.78572],[48.61441,29.93675],[48.51011,29.96238],[48.44785,30.00148],[48.4494,30.04456],[48.43384,30.08233],[48.38869,30.11062],[48.38714,30.13485],[48.41671,30.17254],[48.41117,30.19846],[48.26393,30.3408],[48.24385,30.33846],[48.21279,30.31644],[48.19425,30.32796],[48.18321,30.39703],[48.14585,30.44133],[48.02443,30.4789],[48.03221,30.9967],[47.68219,31.00004],[47.6804,31.39086],[47.86337,31.78422],[47.64771,32.07666],[47.52474,32.15972],[47.57144,32.20583],[47.37529,32.47808],[47.17218,32.45393],[46.46788,32.91992],[46.32298,32.9731],[46.17198,32.95612],[46.09103,32.98354],[46.15175,33.07229],[46.03966,33.09577],[46.05367,33.13097],[46.11905,33.11924],[46.20623,33.20395],[45.99919,33.5082],[45.86687,33.49263],[45.96183,33.55751],[45.89801,33.63661],[45.77814,33.60938],[45.50261,33.94968],[45.42789,33.9458],[45.41077,33.97421],[45.47264,34.03099],[45.56176,34.15088],[45.58667,34.30147],[45.53552,34.35148],[45.49171,34.3439],[45.46697,34.38221],[45.43879,34.45949],[45.51883,34.47692],[45.53219,34.60441],[45.59074,34.55558],[45.60224,34.55057],[45.73923,34.54416],[45.70031,34.69277],[45.65672,34.7222],[45.68284,34.76624],[45.70031,34.82322],[45.73641,34.83975],[45.79682,34.85133],[45.78904,34.91135],[45.86532,34.89858],[45.89477,34.95805],[45.87864,35.03441],[45.92173,35.0465],[45.92203,35.09538],[45.93108,35.08148],[45.94756,35.09188],[46.06508,35.03699],[46.07747,35.0838],[46.11763,35.07551],[46.19116,35.11097],[46.15642,35.1268],[46.16229,35.16984],[46.19738,35.18536],[46.18457,35.22561],[46.11367,35.23729],[46.15474,35.2883],[46.13152,35.32548],[46.05358,35.38568],[45.98453,35.49848],[46.01518,35.52012],[45.97584,35.58132],[46.03028,35.57416],[46.01307,35.59756],[46.0165,35.61501],[45.99452,35.63574],[46.0117,35.65059],[46.01631,35.69139],[46.23736,35.71414],[46.34166,35.78363],[46.32921,35.82655],[46.17198,35.8013],[46.08325,35.8581],[45.94711,35.82218],[45.89784,35.83708],[45.81442,35.82107],[45.76145,35.79898],[45.6645,35.92872],[45.60018,35.96069],[45.55245,35.99943],[45.46594,36.00042],[45.38275,35.97156],[45.33916,35.99424],[45.37652,36.06222],[45.37312,36.09917],[45.32235,36.17383],[45.30038,36.27769],[45.26261,36.3001],[45.27394,36.35846],[45.23953,36.43257],[45.11811,36.40751],[45.00759,36.5402],[45.06985,36.62645],[45.06985,36.6814],[45.01537,36.75128],[44.84725,36.77622],[44.83479,36.81362],[44.90173,36.86096],[44.91199,36.91468],[44.89862,37.01897],[44.81611,37.04383],[44.75229,37.11958],[44.78319,37.1431],[44.76698,37.16162],[44.63179,37.19229],[44.42631,37.05825],[44.38117,37.05825],[44.35315,37.04955],[44.35937,37.02843],[44.30645,36.97373],[44.25975,36.98119],[44.18503,37.09551],[44.22239,37.15756],[44.27998,37.16501],[44.2613,37.25055],[44.13521,37.32486],[44.02002,37.33229],[43.90949,37.22453],[43.84878,37.22205],[43.82699,37.19477],[43.8052,37.22825],[43.7009,37.23692],[43.63085,37.21957],[43.56702,37.25675],[43.50787,37.24436],[43.33508,37.33105],[43.30083,37.30629],[43.11403,37.37436],[42.93705,37.32015],[42.78887,37.38615]]]]}},{type:"Feature",properties:{iso1A2:"IR",iso1A3:"IRN",iso1N3:"364",wikidata:"Q794",nameEn:"Iran",groups:["034","142","UN"],callingCodes:["98"]},geometry:{type:"MultiPolygon",coordinates:[[[[44.96746,39.42998],[44.88916,39.59653],[44.81043,39.62677],[44.71806,39.71124],[44.65422,39.72163],[44.6137,39.78393],[44.47298,39.68788],[44.48111,39.61579],[44.41849,39.56659],[44.42832,39.4131],[44.37921,39.4131],[44.29818,39.378],[44.22452,39.4169],[44.03667,39.39223],[44.1043,39.19842],[44.20946,39.13975],[44.18863,38.93881],[44.30322,38.81581],[44.26155,38.71427],[44.28065,38.6465],[44.32058,38.62752],[44.3207,38.49799],[44.3119,38.37887],[44.38309,38.36117],[44.44386,38.38295],[44.50115,38.33939],[44.42476,38.25763],[44.22509,37.88859],[44.3883,37.85433],[44.45948,37.77065],[44.55498,37.783],[44.62096,37.71985],[44.56887,37.6429],[44.61401,37.60165],[44.58449,37.45018],[44.81021,37.2915],[44.75986,37.21549],[44.7868,37.16644],[44.78319,37.1431],[44.75229,37.11958],[44.81611,37.04383],[44.89862,37.01897],[44.91199,36.91468],[44.90173,36.86096],[44.83479,36.81362],[44.84725,36.77622],[45.01537,36.75128],[45.06985,36.6814],[45.06985,36.62645],[45.00759,36.5402],[45.11811,36.40751],[45.23953,36.43257],[45.27394,36.35846],[45.26261,36.3001],[45.30038,36.27769],[45.32235,36.17383],[45.37312,36.09917],[45.37652,36.06222],[45.33916,35.99424],[45.38275,35.97156],[45.46594,36.00042],[45.55245,35.99943],[45.60018,35.96069],[45.6645,35.92872],[45.76145,35.79898],[45.81442,35.82107],[45.89784,35.83708],[45.94711,35.82218],[46.08325,35.8581],[46.17198,35.8013],[46.32921,35.82655],[46.34166,35.78363],[46.23736,35.71414],[46.01631,35.69139],[46.0117,35.65059],[45.99452,35.63574],[46.0165,35.61501],[46.01307,35.59756],[46.03028,35.57416],[45.97584,35.58132],[46.01518,35.52012],[45.98453,35.49848],[46.05358,35.38568],[46.13152,35.32548],[46.15474,35.2883],[46.11367,35.23729],[46.18457,35.22561],[46.19738,35.18536],[46.16229,35.16984],[46.15642,35.1268],[46.19116,35.11097],[46.11763,35.07551],[46.07747,35.0838],[46.06508,35.03699],[45.94756,35.09188],[45.93108,35.08148],[45.92203,35.09538],[45.92173,35.0465],[45.87864,35.03441],[45.89477,34.95805],[45.86532,34.89858],[45.78904,34.91135],[45.79682,34.85133],[45.73641,34.83975],[45.70031,34.82322],[45.68284,34.76624],[45.65672,34.7222],[45.70031,34.69277],[45.73923,34.54416],[45.60224,34.55057],[45.59074,34.55558],[45.53219,34.60441],[45.51883,34.47692],[45.43879,34.45949],[45.46697,34.38221],[45.49171,34.3439],[45.53552,34.35148],[45.58667,34.30147],[45.56176,34.15088],[45.47264,34.03099],[45.41077,33.97421],[45.42789,33.9458],[45.50261,33.94968],[45.77814,33.60938],[45.89801,33.63661],[45.96183,33.55751],[45.86687,33.49263],[45.99919,33.5082],[46.20623,33.20395],[46.11905,33.11924],[46.05367,33.13097],[46.03966,33.09577],[46.15175,33.07229],[46.09103,32.98354],[46.17198,32.95612],[46.32298,32.9731],[46.46788,32.91992],[47.17218,32.45393],[47.37529,32.47808],[47.57144,32.20583],[47.52474,32.15972],[47.64771,32.07666],[47.86337,31.78422],[47.6804,31.39086],[47.68219,31.00004],[48.03221,30.9967],[48.02443,30.4789],[48.14585,30.44133],[48.18321,30.39703],[48.19425,30.32796],[48.21279,30.31644],[48.24385,30.33846],[48.26393,30.3408],[48.41117,30.19846],[48.41671,30.17254],[48.38714,30.13485],[48.38869,30.11062],[48.43384,30.08233],[48.4494,30.04456],[48.44785,30.00148],[48.51011,29.96238],[48.61441,29.93675],[48.83867,29.78572],[49.98877,27.87827],[50.37726,27.89227],[54.39838,25.68383],[55.14145,25.62624],[55.81777,26.18798],[56.2644,26.58649],[56.68954,26.76645],[56.79239,26.41236],[56.82555,25.7713],[56.86325,25.03856],[61.46682,24.57869],[61.6433,25.27541],[61.683,25.66638],[61.83968,25.7538],[61.83831,26.07249],[61.89391,26.26251],[62.05117,26.31647],[62.21304,26.26601],[62.31484,26.528],[62.77352,26.64099],[63.1889,26.65072],[63.18688,26.83844],[63.25005,26.84212],[63.25005,27.08692],[63.32283,27.14437],[63.19649,27.25674],[62.80604,27.22412],[62.79684,27.34381],[62.84905,27.47627],[62.7638,28.02992],[62.79412,28.28108],[62.59499,28.24842],[62.40259,28.42703],[61.93581,28.55284],[61.65978,28.77937],[61.53765,29.00507],[61.31508,29.38903],[60.87231,29.86514],[61.80829,30.84224],[61.78268,30.92724],[61.8335,30.97669],[61.83257,31.0452],[61.80957,31.12576],[61.80569,31.16167],[61.70929,31.37391],[60.84541,31.49561],[60.86191,32.22565],[60.56485,33.12944],[60.88908,33.50219],[60.91133,33.55596],[60.69573,33.56054],[60.57762,33.59772],[60.5485,33.73422],[60.5838,33.80793],[60.50209,34.13992],[60.66502,34.31539],[60.91321,34.30411],[60.72316,34.52857],[60.99922,34.63064],[61.00197,34.70631],[61.06926,34.82139],[61.12831,35.09938],[61.0991,35.27845],[61.18187,35.30249],[61.27371,35.61482],[61.22719,35.67038],[61.26152,35.80749],[61.22444,35.92879],[61.12007,35.95992],[61.22719,36.12759],[61.1393,36.38782],[61.18187,36.55348],[61.14516,36.64644],[60.34767,36.63214],[60.00768,37.04102],[59.74678,37.12499],[59.55178,37.13594],[59.39385,37.34257],[59.39797,37.47892],[59.33507,37.53146],[59.22905,37.51161],[58.9338,37.67374],[58.6921,37.64548],[58.5479,37.70526],[58.47786,37.6433],[58.39959,37.63134],[58.22999,37.6856],[58.21399,37.77281],[57.79534,37.89299],[57.35042,37.98546],[57.37236,38.09321],[57.21169,38.28965],[57.03453,38.18717],[56.73928,38.27887],[56.62255,38.24005],[56.43303,38.26054],[56.32454,38.18502],[56.33278,38.08132],[55.97847,38.08024],[55.76561,38.12238],[55.44152,38.08564],[55.13412,37.94705],[54.851,37.75739],[54.77684,37.62264],[54.81804,37.61285],[54.77822,37.51597],[54.67247,37.43532],[54.58664,37.45809],[54.36211,37.34912],[54.24565,37.32047],[53.89734,37.3464],[48.88288,38.43975],[48.84969,38.45015],[48.81072,38.44853],[48.78979,38.45026],[48.70001,38.40564],[48.62217,38.40198],[48.58793,38.45076],[48.45084,38.61013],[48.3146,38.59958],[48.24773,38.71883],[48.02581,38.82705],[48.01409,38.90333],[48.07734,38.91616],[48.08627,38.94434],[48.28437,38.97186],[48.33884,39.03022],[48.31239,39.09278],[48.15361,39.19419],[48.12404,39.25208],[48.15984,39.30028],[48.37385,39.37584],[48.34264,39.42935],[47.98977,39.70999],[47.84774,39.66285],[47.50099,39.49615],[47.38978,39.45999],[47.31301,39.37492],[47.05927,39.24846],[47.05771,39.20143],[46.95341,39.13505],[46.92539,39.16644],[46.83822,39.13143],[46.75752,39.03231],[46.53497,38.86548],[46.34059,38.92076],[46.20601,38.85262],[46.14785,38.84206],[46.06766,38.87861],[46.00228,38.87376],[45.94624,38.89072],[45.90266,38.87739],[45.83883,38.90768],[45.65172,38.95199],[45.6155,38.94304],[45.6131,38.964],[45.44966,38.99243],[45.44811,39.04927],[45.40452,39.07224],[45.40148,39.09007],[45.30489,39.18333],[45.16168,39.21952],[45.08751,39.35052],[45.05932,39.36435],[44.96746,39.42998]]]]}},{type:"Feature",properties:{iso1A2:"IS",iso1A3:"ISL",iso1N3:"352",wikidata:"Q189",nameEn:"Iceland",groups:["154","150","UN"],callingCodes:["354"]},geometry:{type:"MultiPolygon",coordinates:[[[[-33.15676,62.62995],[-8.25539,63.0423],[-15.70914,69.67442],[-33.15676,62.62995]]]]}},{type:"Feature",properties:{iso1A2:"IT",iso1A3:"ITA",iso1N3:"380",wikidata:"Q38",nameEn:"Italy",groups:["EU","039","150","UN"],callingCodes:["39"]},geometry:{type:"MultiPolygon",coordinates:[[[[8.95861,45.96485],[8.97604,45.96151],[8.97741,45.98317],[8.96668,45.98436],[8.95861,45.96485]]],[[[7.63035,43.57419],[9.56115,43.20816],[10.09675,41.44089],[7.60802,41.05927],[7.89009,38.19924],[11.2718,37.6713],[12.13667,34.20326],[14.02721,36.53141],[17.67657,35.68918],[18.83516,40.36999],[16.15283,42.18525],[13.12821,44.48877],[13.05142,45.33128],[13.45644,45.59464],[13.6076,45.64761],[13.7198,45.59352],[13.74587,45.59811],[13.78445,45.5825],[13.84106,45.58185],[13.86771,45.59898],[13.8695,45.60835],[13.9191,45.6322],[13.87933,45.65207],[13.83422,45.68703],[13.83332,45.70855],[13.8235,45.7176],[13.66986,45.79955],[13.59784,45.8072],[13.58858,45.83503],[13.57563,45.8425],[13.58644,45.88173],[13.59565,45.89446],[13.60857,45.89907],[13.61931,45.91782],[13.63815,45.93607],[13.6329,45.94894],[13.64307,45.98326],[13.63458,45.98947],[13.62074,45.98388],[13.58903,45.99009],[13.56759,45.96991],[13.52963,45.96588],[13.50104,45.98078],[13.47474,46.00546],[13.49702,46.01832],[13.50998,46.04498],[13.49568,46.04839],[13.50104,46.05986],[13.57072,46.09022],[13.64053,46.13587],[13.66472,46.17392],[13.64451,46.18966],[13.56682,46.18703],[13.56114,46.2054],[13.47587,46.22725],[13.42218,46.20758],[13.37671,46.29668],[13.44808,46.33507],[13.43418,46.35992],[13.47019,46.3621],[13.5763,46.40915],[13.5763,46.42613],[13.59777,46.44137],[13.68684,46.43881],[13.7148,46.5222],[13.64088,46.53438],[13.27627,46.56059],[12.94445,46.60401],[12.59992,46.6595],[12.38708,46.71529],[12.27591,46.88651],[12.2006,46.88854],[12.11675,47.01241],[12.21781,47.03996],[12.19254,47.09331],[11.74789,46.98484],[11.50739,47.00644],[11.33355,46.99862],[11.10618,46.92966],[11.00764,46.76896],[10.72974,46.78972],[10.75753,46.82258],[10.66405,46.87614],[10.54783,46.84505],[10.47197,46.85698],[10.38659,46.67847],[10.40475,46.63671],[10.44686,46.64162],[10.49375,46.62049],[10.46136,46.53164],[10.25309,46.57432],[10.23674,46.63484],[10.10307,46.61003],[10.03715,46.44479],[10.165,46.41051],[10.10506,46.3372],[10.17862,46.25626],[10.14439,46.22992],[10.07055,46.21668],[9.95249,46.38045],[9.73086,46.35071],[9.71273,46.29266],[9.57015,46.2958],[9.46117,46.37481],[9.45936,46.50873],[9.40487,46.46621],[9.36128,46.5081],[9.28136,46.49685],[9.25502,46.43743],[9.29226,46.32717],[9.24503,46.23616],[9.01618,46.04928],[8.99257,45.9698],[9.09065,45.89906],[9.06642,45.8761],[9.04546,45.84968],[9.04059,45.8464],[9.03505,45.83976],[9.03793,45.83548],[9.03279,45.82865],[9.0298,45.82127],[9.00324,45.82055],[8.99663,45.83466],[8.9621,45.83707],[8.94737,45.84285],[8.91129,45.8388],[8.93504,45.86245],[8.94372,45.86587],[8.93649,45.86775],[8.88904,45.95465],[8.86688,45.96135],[8.85121,45.97239],[8.8319,45.9879],[8.79362,45.99207],[8.78585,45.98973],[8.79414,46.00913],[8.85617,46.0748],[8.80778,46.10085],[8.75697,46.10395],[8.62242,46.12112],[8.45032,46.26869],[8.46317,46.43712],[8.42464,46.46367],[8.30648,46.41587],[8.31162,46.38044],[8.08814,46.26692],[8.16866,46.17817],[8.11383,46.11577],[8.02906,46.10331],[7.98881,45.99867],[7.9049,45.99945],[7.85949,45.91485],[7.56343,45.97421],[7.10685,45.85653],[7.04151,45.92435],[6.95315,45.85163],[6.80785,45.83265],[6.80785,45.71864],[6.98948,45.63869],[7.00037,45.509],[7.18019,45.40071],[7.10572,45.32924],[7.13115,45.25386],[7.07074,45.21228],[6.96706,45.20841],[6.85144,45.13226],[6.7697,45.16044],[6.62803,45.11175],[6.66981,45.02324],[6.74791,45.01939],[6.74519,44.93661],[6.75518,44.89915],[6.90774,44.84322],[6.93499,44.8664],[7.02217,44.82519],[7.00401,44.78782],[7.07484,44.68073],[7.00582,44.69364],[6.95133,44.66264],[6.96042,44.62129],[6.85507,44.53072],[6.86233,44.49834],[6.94504,44.43112],[6.88784,44.42043],[6.89171,44.36637],[6.98221,44.28289],[7.00764,44.23736],[7.16929,44.20352],[7.27827,44.1462],[7.34547,44.14359],[7.36364,44.11882],[7.62155,44.14881],[7.63245,44.17877],[7.68694,44.17487],[7.66878,44.12795],[7.72508,44.07578],[7.6597,44.03009],[7.66848,43.99943],[7.65266,43.9763],[7.60771,43.95772],[7.56858,43.94506],[7.56075,43.89932],[7.51162,43.88301],[7.49355,43.86551],[7.50423,43.84345],[7.53006,43.78405],[7.63035,43.57419]],[[12.45181,41.90056],[12.44834,41.90095],[12.44582,41.90194],[12.44815,41.90326],[12.44984,41.90545],[12.45091,41.90625],[12.45543,41.90738],[12.45561,41.90629],[12.45762,41.9058],[12.45755,41.9033],[12.45826,41.90281],[12.45834,41.90174],[12.4577,41.90115],[12.45691,41.90125],[12.45626,41.90172],[12.45435,41.90143],[12.45446,41.90028],[12.45181,41.90056]],[[12.45648,43.89369],[12.44184,43.90498],[12.41641,43.89991],[12.40935,43.9024],[12.41233,43.90956],[12.40733,43.92379],[12.41551,43.92984],[12.41165,43.93769],[12.40506,43.94325],[12.40415,43.95485],[12.41414,43.95273],[12.42005,43.9578],[12.43662,43.95698],[12.44684,43.96597],[12.46205,43.97463],[12.47853,43.98052],[12.49406,43.98492],[12.50678,43.99113],[12.51463,43.99122],[12.5154,43.98508],[12.51064,43.98165],[12.51109,43.97201],[12.50622,43.97131],[12.50875,43.96198],[12.50655,43.95796],[12.51427,43.94897],[12.51553,43.94096],[12.50496,43.93017],[12.50269,43.92363],[12.49724,43.92248],[12.49247,43.91774],[12.49429,43.90973],[12.48771,43.89706],[12.45648,43.89369]]]]}},{type:"Feature",properties:{iso1A2:"JE",iso1A3:"JEY",iso1N3:"832",wikidata:"Q785",nameEn:"Bailiwick of Jersey",country:"GB",groups:["830","Q185086","154","150","UN"],driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["44 01534"]},geometry:{type:"MultiPolygon",coordinates:[[[[-2.00491,48.86706],[-1.83944,49.23037],[-2.09454,49.46288],[-2.65349,49.15373],[-2.00491,48.86706]]]]}},{type:"Feature",properties:{iso1A2:"JM",iso1A3:"JAM",iso1N3:"388",wikidata:"Q766",nameEn:"Jamaica",aliases:["JA"],groups:["029","003","419","019","UN"],driveSide:"left",callingCodes:["1 876","1 658"]},geometry:{type:"MultiPolygon",coordinates:[[[[-74.09729,17.36817],[-78.9741,19.59515],[-78.34606,16.57862],[-74.09729,17.36817]]]]}},{type:"Feature",properties:{iso1A2:"JO",iso1A3:"JOR",iso1N3:"400",wikidata:"Q810",nameEn:"Jordan",groups:["145","142","UN"],callingCodes:["962"]},geometry:{type:"MultiPolygon",coordinates:[[[[39.04251,32.30203],[38.98762,32.47694],[39.08202,32.50304],[38.79171,33.37328],[36.83946,32.31293],[36.40959,32.37908],[36.23948,32.50108],[36.20875,32.49529],[36.20379,32.52751],[36.08074,32.51463],[36.02239,32.65911],[35.96633,32.66237],[35.93307,32.71966],[35.88405,32.71321],[35.75983,32.74803],[35.68467,32.70715],[35.66527,32.681],[35.61669,32.67999],[35.59813,32.65159],[35.56614,32.64393],[35.57485,32.48669],[35.55494,32.42687],[35.55807,32.38674],[35.57111,32.21877],[35.52012,32.04076],[35.54375,31.96587],[35.52758,31.9131],[35.55941,31.76535],[35.47672,31.49578],[35.40316,31.25535],[35.43658,31.12444],[35.41371,30.95565],[35.33984,30.8802],[35.33456,30.81224],[35.29311,30.71365],[35.21379,30.60401],[35.19595,30.50297],[35.16218,30.43535],[35.19183,30.34636],[35.14108,30.07374],[35.02147,29.66343],[34.98207,29.58147],[34.97718,29.54294],[34.92298,29.45305],[34.8812,29.36878],[36.07081,29.18469],[36.50005,29.49696],[36.75083,29.86903],[37.4971,29.99949],[37.66395,30.33245],[37.99354,30.49998],[36.99791,31.50081],[38.99233,31.99721],[39.29903,32.23259],[39.26157,32.35555],[39.04251,32.30203]]]]}},{type:"Feature",properties:{iso1A2:"JP",iso1A3:"JPN",iso1N3:"392",wikidata:"Q17",nameEn:"Japan",groups:["030","142","UN"],driveSide:"left",callingCodes:["81"]},geometry:{type:"MultiPolygon",coordinates:[[[[145.82361,43.38904],[145.23667,43.76813],[145.82343,44.571],[140.9182,45.92937],[133.61399,37.41],[129.2669,34.87122],[122.26612,25.98197],[123.92912,17.8782],[155.16731,23.60141],[145.82361,43.38904]]]]}},{type:"Feature",properties:{iso1A2:"KE",iso1A3:"KEN",iso1N3:"404",wikidata:"Q114",nameEn:"Kenya",groups:["014","202","002","UN"],driveSide:"left",callingCodes:["254"]},geometry:{type:"MultiPolygon",coordinates:[[[[35.9419,4.61933],[35.51424,4.61643],[35.42366,4.76969],[35.47843,4.91872],[35.30992,4.90402],[35.34151,5.02364],[34.47601,4.72162],[33.9873,4.23316],[34.06046,4.15235],[34.15429,3.80464],[34.45815,3.67385],[34.44922,3.51627],[34.39112,3.48802],[34.41794,3.44342],[34.40006,3.37949],[34.45815,3.18319],[34.56242,3.11478],[34.60114,2.93034],[34.65774,2.8753],[34.73967,2.85447],[34.78137,2.76223],[34.77244,2.70272],[34.95267,2.47209],[34.90947,2.42447],[34.98692,1.97348],[34.9899,1.6668],[34.92734,1.56109],[34.87819,1.5596],[34.7918,1.36752],[34.82606,1.30944],[34.82606,1.26626],[34.80223,1.22754],[34.67562,1.21265],[34.58029,1.14712],[34.57427,1.09868],[34.52369,1.10692],[34.43349,.85254],[34.40041,.80266],[34.31516,.75693],[34.27345,.63182],[34.20196,.62289],[34.13493,.58118],[34.11408,.48884],[34.08727,.44713],[34.10067,.36372],[33.90936,.10581],[33.98449,-.13079],[33.9264,-.54188],[33.93107,-.99298],[34.02286,-1.00779],[34.03084,-1.05101],[34.0824,-1.02264],[37.67199,-3.06222],[37.71745,-3.304],[37.5903,-3.42735],[37.63099,-3.50723],[37.75036,-3.54243],[37.81321,-3.69179],[39.21631,-4.67835],[39.44306,-4.93877],[39.62121,-4.68136],[41.75542,-1.85308],[41.56362,-1.66375],[41.56,-1.59812],[41.00099,-.83068],[40.98767,2.82959],[41.31368,3.14314],[41.89488,3.97375],[41.1754,3.94079],[40.77498,4.27683],[39.86043,3.86974],[39.76808,3.67058],[39.58339,3.47434],[39.55132,3.39634],[39.51551,3.40895],[39.49444,3.45521],[39.19954,3.47834],[39.07736,3.5267],[38.91938,3.51198],[38.52336,3.62551],[38.45812,3.60445],[38.14168,3.62487],[37.07724,4.33503],[36.84474,4.44518],[36.03924,4.44406],[35.95449,4.53244],[35.9419,4.61933]]]]}},{type:"Feature",properties:{iso1A2:"KG",iso1A3:"KGZ",iso1N3:"417",wikidata:"Q813",nameEn:"Kyrgyzstan",groups:["143","142","UN"],callingCodes:["996"]},geometry:{type:"MultiPolygon",coordinates:[[[[74.88756,42.98612],[74.75,42.99029],[74.70331,43.02519],[74.64615,43.05881],[74.57491,43.13702],[74.22489,43.24657],[73.55634,43.03071],[73.50992,42.82356],[73.44393,42.43098],[71.88792,42.83578],[71.62405,42.76613],[71.53272,42.8014],[71.2724,42.77853],[71.22785,42.69248],[71.17807,42.67381],[71.15232,42.60486],[70.97717,42.50147],[70.85973,42.30188],[70.94483,42.26238],[71.13263,42.28356],[71.28719,42.18033],[70.69777,41.92554],[70.17682,41.5455],[70.48909,41.40335],[70.67586,41.47953],[70.78572,41.36419],[70.77885,41.24813],[70.86263,41.23833],[70.9615,41.16393],[71.02193,41.19494],[71.11806,41.15359],[71.25813,41.18796],[71.27187,41.11015],[71.34877,41.16807],[71.40198,41.09436],[71.46148,41.13958],[71.43814,41.19644],[71.46688,41.31883],[71.57227,41.29175],[71.6787,41.42111],[71.65914,41.49599],[71.73054,41.54713],[71.71132,41.43012],[71.76625,41.4466],[71.83914,41.3546],[71.91457,41.2982],[71.85964,41.19081],[72.07249,41.11739],[72.10745,41.15483],[72.16433,41.16483],[72.17594,41.15522],[72.14864,41.13363],[72.1792,41.10621],[72.21061,41.05607],[72.17594,41.02377],[72.18339,40.99571],[72.324,41.03381],[72.34026,41.04539],[72.34757,41.06104],[72.36138,41.04384],[72.38511,41.02785],[72.45206,41.03018],[72.48742,40.97136],[72.55109,40.96046],[72.59136,40.86947],[72.68157,40.84942],[72.84291,40.85512],[72.94454,40.8094],[73.01869,40.84681],[73.13267,40.83512],[73.13412,40.79122],[73.0612,40.76678],[72.99133,40.76457],[72.93296,40.73089],[72.8722,40.71111],[72.85372,40.7116],[72.84754,40.67229],[72.80137,40.67856],[72.74866,40.60873],[72.74894,40.59592],[72.75982,40.57273],[72.74862,40.57131],[72.74768,40.58051],[72.73995,40.58409],[72.69579,40.59778],[72.66713,40.59076],[72.66713,40.5219],[72.47795,40.5532],[72.40517,40.61917],[72.34406,40.60144],[72.41714,40.55736],[72.38384,40.51535],[72.41513,40.50856],[72.44191,40.48222],[72.40346,40.4007],[72.24368,40.46091],[72.18648,40.49893],[71.96401,40.31907],[72.05464,40.27586],[71.85002,40.25647],[71.82646,40.21872],[71.73054,40.14818],[71.71719,40.17886],[71.69621,40.18492],[71.70569,40.20391],[71.68386,40.26984],[71.61931,40.26775],[71.61725,40.20615],[71.51549,40.22986],[71.51215,40.26943],[71.4246,40.28619],[71.36663,40.31593],[71.13042,40.34106],[71.05901,40.28765],[70.95789,40.28761],[70.9818,40.22392],[70.80495,40.16813],[70.7928,40.12797],[70.65827,40.0981],[70.65946,39.9878],[70.58912,39.95211],[70.55033,39.96619],[70.47557,39.93216],[70.57384,39.99394],[70.58297,40.00891],[70.01283,40.23288],[69.67001,40.10639],[69.64704,40.12165],[69.57615,40.10524],[69.55555,40.12296],[69.53794,40.11833],[69.53855,40.0887],[69.5057,40.03277],[69.53615,39.93991],[69.43557,39.92877],[69.43134,39.98431],[69.35649,40.01994],[69.26938,39.8127],[69.3594,39.52516],[69.68677,39.59281],[69.87491,39.53882],[70.11111,39.58223],[70.2869,39.53141],[70.44757,39.60128],[70.64087,39.58792],[70.7854,39.38933],[71.06418,39.41586],[71.08752,39.50704],[71.49814,39.61397],[71.55856,39.57588],[71.5517,39.45722],[71.62688,39.44056],[71.76816,39.45456],[71.80164,39.40631],[71.7522,39.32031],[71.79202,39.27355],[71.90601,39.27674],[72.04059,39.36704],[72.09689,39.26823],[72.17242,39.2661],[72.23834,39.17248],[72.33173,39.33093],[72.62027,39.39696],[72.85934,39.35116],[73.18454,39.35536],[73.31912,39.38615],[73.45096,39.46677],[73.59831,39.46425],[73.87018,39.47879],[73.94683,39.60733],[73.92354,39.69565],[73.9051,39.75073],[73.83006,39.76136],[73.97049,40.04378],[74.25533,40.13191],[74.35063,40.09742],[74.69875,40.34668],[74.85996,40.32857],[74.78168,40.44886],[74.82013,40.52197],[75.08243,40.43945],[75.22834,40.45382],[75.5854,40.66874],[75.69663,40.28642],[75.91361,40.2948],[75.96168,40.38064],[76.33659,40.3482],[76.5261,40.46114],[76.75681,40.95354],[76.99302,41.0696],[77.28004,41.0033],[77.3693,41.0375],[77.52723,41.00227],[77.76206,41.01574],[77.81287,41.14307],[78.12873,41.23091],[78.15757,41.38565],[78.3732,41.39603],[79.92977,42.04113],[80.17842,42.03211],[80.17807,42.21166],[79.97364,42.42816],[79.52921,42.44778],[79.19763,42.804],[78.91502,42.76839],[78.48469,42.89649],[75.82823,42.94848],[75.72174,42.79672],[75.29966,42.86183],[75.22619,42.85528],[74.88756,42.98612]],[[70.74189,39.86319],[70.63105,39.77923],[70.59667,39.83542],[70.54998,39.85137],[70.52631,39.86989],[70.53651,39.89155],[70.74189,39.86319]],[[71.86463,39.98598],[71.84316,39.95582],[71.7504,39.93701],[71.71511,39.96348],[71.78838,40.01404],[71.86463,39.98598]],[[71.21139,40.03369],[71.1427,39.95026],[71.23067,39.93581],[71.16101,39.88423],[71.10531,39.91354],[71.04979,39.89808],[71.10501,39.95568],[71.09063,39.99],[71.11668,39.99291],[71.11037,40.01984],[71.01035,40.05481],[71.00236,40.18154],[71.06305,40.1771],[71.12218,40.03052],[71.21139,40.03369]]]]}},{type:"Feature",properties:{iso1A2:"KH",iso1A3:"KHM",iso1N3:"116",wikidata:"Q424",nameEn:"Cambodia",groups:["035","142","UN"],callingCodes:["855"]},geometry:{type:"MultiPolygon",coordinates:[[[[105.87328,11.55953],[105.81645,11.56876],[105.80867,11.60536],[105.8507,11.66635],[105.88962,11.67854],[105.95188,11.63738],[106.00792,11.7197],[106.02038,11.77457],[106.06708,11.77761],[106.13158,11.73283],[106.18539,11.75171],[106.26478,11.72122],[106.30525,11.67549],[106.37219,11.69836],[106.44691,11.66787],[106.45158,11.68616],[106.41577,11.76999],[106.44535,11.8279],[106.44068,11.86294],[106.4687,11.86751],[106.4111,11.97413],[106.70687,11.96956],[106.79405,12.0807],[106.92325,12.06548],[106.99953,12.08983],[107.15831,12.27547],[107.34511,12.33327],[107.42917,12.24657],[107.4463,12.29373],[107.55059,12.36824],[107.5755,12.52177],[107.55993,12.7982],[107.49611,12.88926],[107.49144,13.01215],[107.62843,13.3668],[107.61909,13.52577],[107.53503,13.73908],[107.45252,13.78897],[107.46498,13.91593],[107.44318,13.99751],[107.38247,13.99147],[107.35757,14.02319],[107.37158,14.07906],[107.33577,14.11832],[107.40427,14.24509],[107.39493,14.32655],[107.44941,14.41552],[107.48521,14.40346],[107.52569,14.54665],[107.52102,14.59034],[107.55371,14.628],[107.54361,14.69092],[107.47238,14.61523],[107.44435,14.52785],[107.37897,14.54443],[107.3276,14.58812],[107.29803,14.58963],[107.26534,14.54292],[107.256,14.48716],[107.21241,14.48716],[107.17038,14.41782],[107.09722,14.3937],[107.03962,14.45099],[107.04585,14.41782],[106.98825,14.36806],[106.9649,14.3198],[106.90574,14.33639],[106.8497,14.29416],[106.80767,14.31226],[106.73762,14.42687],[106.63333,14.44194],[106.59908,14.50977],[106.57106,14.50525],[106.54148,14.59565],[106.50723,14.58963],[106.45898,14.55045],[106.47766,14.50977],[106.43874,14.52032],[106.40916,14.45249],[106.32355,14.44043],[106.25194,14.48415],[106.21302,14.36203],[106.00131,14.36957],[105.99509,14.32734],[106.02311,14.30623],[106.04801,14.20363],[106.10872,14.18401],[106.11962,14.11307],[106.18656,14.06324],[106.16632,14.01794],[106.10094,13.98471],[106.10405,13.9137],[105.90791,13.92881],[105.78182,14.02247],[105.78338,14.08438],[105.5561,14.15684],[105.44869,14.10703],[105.36775,14.09948],[105.2759,14.17496],[105.20894,14.34967],[105.17748,14.34432],[105.14012,14.23873],[105.08408,14.20402],[105.02804,14.23722],[104.97667,14.38806],[104.69335,14.42726],[104.55014,14.36091],[104.27616,14.39861],[103.93836,14.3398],[103.70175,14.38052],[103.71109,14.4348],[103.53518,14.42575],[103.39353,14.35639],[103.16469,14.33075],[102.93275,14.19044],[102.91251,14.01531],[102.77864,13.93374],[102.72727,13.77806],[102.56848,13.69366],[102.5481,13.6589],[102.58635,13.6286],[102.62483,13.60883],[102.57573,13.60461],[102.5358,13.56933],[102.44601,13.5637],[102.36859,13.57488],[102.33828,13.55613],[102.361,13.50551],[102.35563,13.47307],[102.35692,13.38274],[102.34611,13.35618],[102.36001,13.31142],[102.36146,13.26006],[102.43422,13.09061],[102.46011,13.08057],[102.52275,12.99813],[102.48694,12.97537],[102.49335,12.92711],[102.53053,12.77506],[102.4994,12.71736],[102.51963,12.66117],[102.57567,12.65358],[102.7796,12.43781],[102.78116,12.40284],[102.73134,12.37091],[102.70176,12.1686],[102.77026,12.06815],[102.78427,11.98746],[102.83957,11.8519],[102.90973,11.75613],[102.91449,11.65512],[102.52395,11.25257],[102.47649,9.66162],[103.99198,10.48391],[104.43778,10.42386],[104.47963,10.43046],[104.49869,10.4057],[104.59018,10.53073],[104.87933,10.52833],[104.95094,10.64003],[105.09571,10.72722],[105.02722,10.89236],[105.08326,10.95656],[105.11449,10.96332],[105.34011,10.86179],[105.42884,10.96878],[105.50045,10.94586],[105.77751,11.03671],[105.86376,10.89839],[105.84603,10.85873],[105.93403,10.83853],[105.94535,10.9168],[106.06708,10.8098],[106.18539,10.79451],[106.14301,10.98176],[106.20095,10.97795],[106.1757,11.07301],[106.1527,11.10476],[106.10444,11.07879],[105.86782,11.28343],[105.88962,11.43605],[105.87328,11.55953]]]]}},{type:"Feature",properties:{iso1A2:"KI",iso1A3:"KIR",iso1N3:"296",wikidata:"Q710",nameEn:"Kiribati",groups:["057","009","UN"],driveSide:"left",callingCodes:["686"]},geometry:{type:"MultiPolygon",coordinates:[[[[169,3.9],[169,-3.5],[178,-3.5],[178,3.9],[169,3.9]]],[[[-161.06795,5.2462],[-158.12991,-1.86122],[-175.33482,-1.40631],[-175.31804,-7.54825],[-156.50903,-7.4975],[-156.48634,-15.52824],[-135.59706,-4.70473],[-161.06795,5.2462]]]]}},{type:"Feature",properties:{iso1A2:"KM",iso1A3:"COM",iso1N3:"174",wikidata:"Q970",nameEn:"Comoros",groups:["014","202","002","UN"],callingCodes:["269"]},geometry:{type:"MultiPolygon",coordinates:[[[[42.63904,-10.02522],[43.28731,-13.97126],[45.4971,-11.75965],[42.63904,-10.02522]]]]}},{type:"Feature",properties:{iso1A2:"KN",iso1A3:"KNA",iso1N3:"659",wikidata:"Q763",nameEn:"St. Kitts and Nevis",groups:["029","003","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",callingCodes:["1 869"]},geometry:{type:"MultiPolygon",coordinates:[[[[-62.29333,17.43155],[-62.76692,17.64353],[-63.09677,17.21372],[-62.63813,16.65446],[-62.29333,17.43155]]]]}},{type:"Feature",properties:{iso1A2:"KP",iso1A3:"PRK",iso1N3:"408",wikidata:"Q423",nameEn:"North Korea",groups:["030","142","UN"],callingCodes:["850"]},geometry:{type:"MultiPolygon",coordinates:[[[[130.26095,42.9027],[130.09764,42.91425],[130.12957,42.98361],[129.96409,42.97306],[129.95082,43.01051],[129.8865,43.00395],[129.85261,42.96494],[129.83277,42.86746],[129.80719,42.79218],[129.7835,42.76521],[129.77183,42.69435],[129.75294,42.59409],[129.72541,42.43739],[129.60482,42.44461],[129.54701,42.37254],[129.42882,42.44702],[129.28541,42.41574],[129.22423,42.3553],[129.22285,42.26491],[129.15178,42.17224],[128.96068,42.06657],[128.94007,42.03537],[128.04487,42.01769],[128.15119,41.74568],[128.30716,41.60322],[128.20061,41.40895],[128.18546,41.41279],[128.12967,41.37931],[128.03311,41.39232],[128.02633,41.42103],[127.92943,41.44291],[127.29712,41.49473],[127.17841,41.59714],[126.90729,41.79955],[126.60631,41.65565],[126.53189,41.35206],[126.242,41.15454],[126.00335,40.92835],[125.76869,40.87908],[125.71172,40.85223],[124.86913,40.45387],[124.40719,40.13655],[124.38556,40.11047],[124.3322,40.05573],[124.37089,40.03004],[124.35029,39.95639],[124.23201,39.9248],[124.17532,39.8232],[123.90497,38.79949],[123.85601,37.49093],[124.67666,38.05679],[124.84224,37.977],[124.87921,37.80827],[125.06408,37.66334],[125.37112,37.62643],[125.81159,37.72949],[126.13074,37.70512],[126.18776,37.74728],[126.19097,37.81462],[126.24402,37.83113],[126.43239,37.84095],[126.46818,37.80873],[126.56709,37.76857],[126.59918,37.76364],[126.66067,37.7897],[126.68793,37.83728],[126.68793,37.9175],[126.67023,37.95852],[126.84961,38.0344],[126.88106,38.10246],[126.95887,38.1347],[126.95338,38.17735],[127.04479,38.25518],[127.15749,38.30722],[127.38727,38.33227],[127.49672,38.30647],[127.55013,38.32257],[128.02917,38.31861],[128.27652,38.41657],[128.31105,38.58462],[128.37487,38.62345],[128.65655,38.61914],[131.95041,41.5445],[130.65022,42.32281],[130.66367,42.38024],[130.64181,42.41422],[130.60805,42.4317],[130.56835,42.43281],[130.55143,42.52158],[130.50123,42.61636],[130.44361,42.54849],[130.41826,42.6011],[130.2385,42.71127],[130.23068,42.80125],[130.26095,42.9027]]]]}},{type:"Feature",properties:{iso1A2:"KR",iso1A3:"KOR",iso1N3:"410",wikidata:"Q884",nameEn:"South Korea",groups:["030","142","UN"],callingCodes:["82"]},geometry:{type:"MultiPolygon",coordinates:[[[[133.11729,37.53115],[128.65655,38.61914],[128.37487,38.62345],[128.31105,38.58462],[128.27652,38.41657],[128.02917,38.31861],[127.55013,38.32257],[127.49672,38.30647],[127.38727,38.33227],[127.15749,38.30722],[127.04479,38.25518],[126.95338,38.17735],[126.95887,38.1347],[126.88106,38.10246],[126.84961,38.0344],[126.67023,37.95852],[126.68793,37.9175],[126.68793,37.83728],[126.66067,37.7897],[126.59918,37.76364],[126.56709,37.76857],[126.46818,37.80873],[126.43239,37.84095],[126.24402,37.83113],[126.19097,37.81462],[126.18776,37.74728],[126.13074,37.70512],[125.81159,37.72949],[125.37112,37.62643],[125.06408,37.66334],[124.87921,37.80827],[124.84224,37.977],[124.67666,38.05679],[123.85601,37.49093],[122.80525,33.30571],[125.99728,32.63328],[129.2669,34.87122],[133.11729,37.53115]]]]}},{type:"Feature",properties:{iso1A2:"KW",iso1A3:"KWT",iso1N3:"414",wikidata:"Q817",nameEn:"Kuwait",groups:["145","142","UN"],callingCodes:["965"]},geometry:{type:"MultiPolygon",coordinates:[[[[49.00421,28.81495],[48.59531,29.66815],[48.40479,29.85763],[48.17332,30.02448],[48.06782,30.02906],[48.01114,29.98906],[47.7095,30.10453],[47.37192,30.10421],[47.15166,30.01044],[46.89695,29.50584],[46.5527,29.10283],[47.46202,29.0014],[47.58376,28.83382],[47.59863,28.66798],[47.70561,28.5221],[48.42991,28.53628],[49.00421,28.81495]]]]}},{type:"Feature",properties:{iso1A2:"KY",iso1A3:"CYM",iso1N3:"136",wikidata:"Q5785",nameEn:"Cayman Islands",country:"GB",groups:["BOTS","029","003","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["1 345"]},geometry:{type:"MultiPolygon",coordinates:[[[[-82.11509,19.60401],[-80.36068,18.11751],[-79.32727,20.06742],[-82.11509,19.60401]]]]}},{type:"Feature",properties:{iso1A2:"KZ",iso1A3:"KAZ",iso1N3:"398",wikidata:"Q232",nameEn:"Kazakhstan",groups:["143","142","UN"],callingCodes:["7"]},geometry:{type:"MultiPolygon",coordinates:[[[[68.90865,55.38148],[68.19206,55.18823],[68.26661,55.09226],[68.21308,54.98645],[65.20174,54.55216],[65.24663,54.35721],[65.11033,54.33028],[64.97216,54.4212],[63.97686,54.29763],[64.02715,54.22679],[63.91224,54.20013],[63.80604,54.27079],[62.58651,54.05871],[62.56876,53.94047],[62.45931,53.90737],[62.38535,54.03961],[62.00966,54.04134],[62.03913,53.94768],[61.65318,54.02445],[61.56941,53.95703],[61.47603,54.08048],[61.3706,54.08464],[61.26863,53.92797],[60.99796,53.93699],[61.14283,53.90063],[61.22574,53.80268],[60.90626,53.62937],[61.55706,53.57144],[61.57185,53.50112],[61.37957,53.45887],[61.29082,53.50992],[61.14291,53.41481],[61.19024,53.30536],[62.14574,53.09626],[62.12799,52.99133],[62.0422,52.96105],[61.23462,53.03227],[61.05842,52.92217],[60.71989,52.75923],[60.71693,52.66245],[60.84118,52.63912],[60.84709,52.52228],[60.98021,52.50068],[61.05417,52.35096],[60.78201,52.22067],[60.72581,52.15538],[60.48915,52.15175],[60.19925,51.99173],[59.99809,51.98263],[60.09867,51.87135],[60.50986,51.7964],[60.36787,51.66815],[60.5424,51.61675],[60.92401,51.61124],[60.95655,51.48615],[61.50677,51.40687],[61.55114,51.32746],[61.6813,51.25716],[61.56889,51.23679],[61.4431,50.80679],[60.81833,50.6629],[60.31914,50.67705],[60.17262,50.83312],[60.01288,50.8163],[59.81172,50.54451],[59.51886,50.49937],[59.48928,50.64216],[58.87974,50.70852],[58.3208,51.15151],[57.75578,51.13852],[57.74986,50.93017],[57.44221,50.88354],[57.17302,51.11253],[56.17906,50.93204],[56.11398,50.7471],[55.67774,50.54508],[54.72067,51.03261],[54.56685,51.01958],[54.71476,50.61214],[54.55797,50.52006],[54.41894,50.61214],[54.46331,50.85554],[54.12248,51.11542],[53.69299,51.23466],[53.46165,51.49445],[52.54329,51.48444],[52.36119,51.74161],[51.8246,51.67916],[51.77431,51.49536],[51.301,51.48799],[51.26254,51.68466],[50.59695,51.61859],[50.26859,51.28677],[49.97277,51.2405],[49.76866,51.11067],[49.39001,51.09396],[49.41959,50.85927],[49.12673,50.78639],[48.86936,50.61589],[48.57946,50.63278],[48.90782,50.02281],[48.68352,49.89546],[48.42564,49.82283],[48.24519,49.86099],[48.10044,50.09242],[47.58551,50.47867],[47.30448,50.30894],[47.34589,50.09308],[47.18319,49.93721],[46.9078,49.86707],[46.78398,49.34026],[47.04658,49.19834],[47.00857,49.04921],[46.78392,48.95352],[46.49011,48.43019],[47.11516,48.27188],[47.12107,47.83687],[47.38731,47.68176],[47.41689,47.83687],[47.64973,47.76559],[48.15348,47.74545],[48.45173,47.40818],[48.52326,47.4102],[49.01136,46.72716],[48.51142,46.69268],[48.54988,46.56267],[49.16518,46.38542],[49.32259,46.26944],[49.88945,46.04554],[49.2134,44.84989],[52.26048,41.69249],[52.47884,41.78034],[52.97575,42.1308],[54.20635,42.38477],[54.95182,41.92424],[55.45471,41.25609],[56.00314,41.32584],[55.97584,44.99322],[55.97584,44.99328],[55.97584,44.99338],[55.97584,44.99343],[55.97584,44.99348],[55.97584,44.99353],[55.97584,44.99359],[55.97584,44.99369],[55.97584,44.99374],[55.97584,44.99384],[55.97584,44.9939],[55.97584,44.994],[55.97584,44.99405],[55.97584,44.99415],[55.97584,44.99421],[55.97584,44.99426],[55.97584,44.99431],[55.97584,44.99436],[55.97584,44.99441],[55.97594,44.99446],[55.97605,44.99452],[55.97605,44.99457],[55.97605,44.99462],[55.97605,44.99467],[55.97605,44.99477],[55.97615,44.99477],[55.97615,44.99483],[55.97615,44.99493],[55.97615,44.99498],[55.97615,44.99503],[55.97615,44.99508],[55.97625,44.99514],[55.97636,44.99519],[55.97636,44.99524],[55.97646,44.99529],[55.97646,44.99534],[55.97656,44.99539],[55.97667,44.99545],[55.97677,44.9955],[55.97677,44.99555],[55.97677,44.9956],[55.97687,44.9956],[55.97698,44.99565],[55.97698,44.9957],[55.97708,44.99576],[55.97718,44.99581],[55.97729,44.99586],[55.97739,44.99586],[55.97739,44.99591],[55.97749,44.99591],[55.9776,44.99591],[55.9777,44.99596],[55.9777,44.99601],[55.9778,44.99607],[55.97791,44.99607],[55.97801,44.99607],[55.97801,44.99612],[55.97811,44.99617],[55.97822,44.99617],[55.97832,44.99622],[55.97842,44.99622],[58.59711,45.58671],[61.01475,44.41383],[62.01711,43.51008],[63.34656,43.64003],[64.53885,43.56941],[64.96464,43.74748],[65.18666,43.48835],[65.53277,43.31856],[65.85194,42.85481],[66.09482,42.93426],[66.00546,41.94455],[66.53302,41.87388],[66.69129,41.1311],[67.9644,41.14611],[67.98511,41.02794],[68.08273,41.08148],[68.1271,41.0324],[67.96736,40.83798],[68.49983,40.56437],[68.63,40.59358],[68.58444,40.91447],[68.49983,40.99669],[68.62221,41.03019],[68.65662,40.93861],[68.73945,40.96989],[68.7217,41.05025],[69.01308,41.22804],[69.05006,41.36183],[69.15137,41.43078],[69.17701,41.43769],[69.18528,41.45175],[69.20439,41.45391],[69.22671,41.46298],[69.23332,41.45847],[69.25059,41.46693],[69.29778,41.43673],[69.35554,41.47211],[69.37468,41.46555],[69.45081,41.46246],[69.39485,41.51518],[69.45751,41.56863],[69.49545,41.545],[70.94483,42.26238],[70.85973,42.30188],[70.97717,42.50147],[71.15232,42.60486],[71.17807,42.67381],[71.22785,42.69248],[71.2724,42.77853],[71.53272,42.8014],[71.62405,42.76613],[71.88792,42.83578],[73.44393,42.43098],[73.50992,42.82356],[73.55634,43.03071],[74.22489,43.24657],[74.57491,43.13702],[74.64615,43.05881],[74.70331,43.02519],[74.75,42.99029],[74.88756,42.98612],[75.22619,42.85528],[75.29966,42.86183],[75.72174,42.79672],[75.82823,42.94848],[78.48469,42.89649],[78.91502,42.76839],[79.19763,42.804],[79.52921,42.44778],[79.97364,42.42816],[80.17807,42.21166],[80.26841,42.23797],[80.16892,42.61137],[80.26886,42.8366],[80.38169,42.83142],[80.58999,42.9011],[80.3735,43.01557],[80.62913,43.141],[80.78817,43.14235],[80.77771,43.30065],[80.69718,43.32589],[80.75156,43.44948],[80.40031,44.10986],[80.40229,44.23319],[80.38384,44.63073],[79.8987,44.89957],[80.11169,45.03352],[81.73278,45.3504],[82.51374,45.1755],[82.58474,45.40027],[82.21792,45.56619],[83.04622,47.19053],[83.92184,46.98912],[84.73077,47.01394],[84.93995,46.87399],[85.22443,47.04816],[85.54294,47.06171],[85.69696,47.2898],[85.61067,47.49753],[85.5169,48.05493],[85.73581,48.3939],[86.38069,48.46064],[86.75343,48.70331],[86.73568,48.99918],[86.87238,49.12432],[87.28386,49.11626],[87.31465,49.23603],[87.03071,49.25142],[86.82606,49.51796],[86.61307,49.60239],[86.79056,49.74787],[86.63674,49.80136],[86.18709,49.50259],[85.24047,49.60239],[84.99198,50.06793],[84.29385,50.27257],[83.8442,50.87375],[83.14607,51.00796],[82.55443,50.75412],[81.94999,50.79307],[81.46581,50.77658],[81.41248,50.97524],[81.06091,50.94833],[81.16999,51.15662],[80.80318,51.28262],[80.44819,51.20855],[80.4127,50.95581],[80.08138,50.77658],[79.11255,52.01171],[77.90383,53.29807],[76.54243,53.99329],[76.44076,54.16017],[76.82266,54.1798],[76.91052,54.4677],[75.3668,54.07439],[75.43398,53.98652],[75.07405,53.80831],[73.39218,53.44623],[73.25412,53.61532],[73.68921,53.86522],[73.74778,54.07194],[73.37963,53.96132],[72.71026,54.1161],[72.43415,53.92685],[72.17477,54.36303],[71.96141,54.17736],[71.10379,54.13326],[71.08706,54.33376],[71.24185,54.64965],[71.08288,54.71253],[70.96009,55.10558],[70.76493,55.3027],[70.19179,55.1476],[69.74917,55.35545],[69.34224,55.36344],[68.90865,55.38148]]]]}},{type:"Feature",properties:{iso1A2:"LA",iso1A3:"LAO",iso1N3:"418",wikidata:"Q819",nameEn:"Laos",groups:["035","142","UN"],callingCodes:["856"]},geometry:{type:"MultiPolygon",coordinates:[[[[102.1245,22.43372],[102.03633,22.46164],[101.98487,22.42766],[101.91344,22.44417],[101.90714,22.38688],[101.86828,22.38397],[101.7685,22.50337],[101.68973,22.46843],[101.61306,22.27515],[101.56789,22.28876],[101.53638,22.24794],[101.60675,22.13513],[101.57525,22.13026],[101.62566,21.96574],[101.7791,21.83019],[101.74555,21.72852],[101.83257,21.61562],[101.80001,21.57461],[101.7475,21.5873],[101.7727,21.51794],[101.74224,21.48276],[101.74014,21.30967],[101.84412,21.25291],[101.83887,21.20983],[101.76745,21.21571],[101.79266,21.19025],[101.7622,21.14813],[101.70548,21.14911],[101.66977,21.20004],[101.60886,21.17947],[101.59491,21.18621],[101.6068,21.23329],[101.54563,21.25668],[101.29326,21.17254],[101.2229,21.23271],[101.26912,21.36482],[101.19349,21.41959],[101.2124,21.56422],[101.15156,21.56129],[101.16198,21.52808],[101.00234,21.39612],[100.80173,21.2934],[100.72716,21.31786],[100.63578,21.05639],[100.55281,21.02796],[100.50974,20.88574],[100.64628,20.88279],[100.60112,20.8347],[100.51079,20.82194],[100.36375,20.82783],[100.1957,20.68247],[100.08404,20.36626],[100.09999,20.31614],[100.09337,20.26293],[100.11785,20.24787],[100.1712,20.24324],[100.16668,20.2986],[100.22076,20.31598],[100.25769,20.3992],[100.33383,20.4028],[100.37439,20.35156],[100.41473,20.25625],[100.44992,20.23644],[100.4537,20.19971],[100.47567,20.19133],[100.51052,20.14928],[100.55218,20.17741],[100.58808,20.15791],[100.5094,19.87904],[100.398,19.75047],[100.49604,19.53504],[100.58219,19.49164],[100.64606,19.55884],[100.77231,19.48324],[100.90302,19.61901],[101.08928,19.59748],[101.26545,19.59242],[101.26991,19.48324],[101.21347,19.46223],[101.20604,19.35296],[101.24911,19.33334],[101.261,19.12717],[101.35606,19.04716],[101.25803,18.89545],[101.22832,18.73377],[101.27585,18.68875],[101.06047,18.43247],[101.18227,18.34367],[101.15108,18.25624],[101.19118,18.2125],[101.1793,18.0544],[101.02185,17.87637],[100.96541,17.57926],[101.15108,17.47586],[101.44667,17.7392],[101.72294,17.92867],[101.78087,18.07559],[101.88485,18.02474],[102.11359,18.21532],[102.45523,17.97106],[102.59234,17.96127],[102.60971,17.95411],[102.61432,17.92273],[102.5896,17.84889],[102.59485,17.83537],[102.68194,17.80151],[102.69946,17.81686],[102.67543,17.84529],[102.68538,17.86653],[102.75954,17.89561],[102.79044,17.93612],[102.81988,17.94233],[102.86323,17.97531],[102.95812,18.0054],[102.9912,17.9949],[103.01998,17.97095],[103.0566,18.00144],[103.07823,18.03833],[103.07343,18.12351],[103.1493,18.17799],[103.14994,18.23172],[103.17093,18.2618],[103.29757,18.30475],[103.23818,18.34875],[103.24779,18.37807],[103.30977,18.4341],[103.41044,18.4486],[103.47773,18.42841],[103.60957,18.40528],[103.699,18.34125],[103.82449,18.33979],[103.85642,18.28666],[103.93916,18.33914],[103.97725,18.33631],[104.06533,18.21656],[104.10927,18.10826],[104.21776,17.99335],[104.2757,17.86139],[104.35432,17.82871],[104.45404,17.66788],[104.69867,17.53038],[104.80061,17.39367],[104.80716,17.19025],[104.73712,17.01404],[104.7373,16.91125],[104.76442,16.84752],[104.7397,16.81005],[104.76099,16.69302],[104.73349,16.565],[104.88057,16.37311],[105.00262,16.25627],[105.06204,16.09792],[105.42001,16.00657],[105.38508,15.987],[105.34115,15.92737],[105.37959,15.84074],[105.42285,15.76971],[105.46573,15.74742],[105.61756,15.68792],[105.60446,15.53301],[105.58191,15.41031],[105.47635,15.3796],[105.4692,15.33709],[105.50662,15.32054],[105.58043,15.32724],[105.46661,15.13132],[105.61162,15.00037],[105.5121,14.80802],[105.53864,14.55731],[105.43783,14.43865],[105.20894,14.34967],[105.2759,14.17496],[105.36775,14.09948],[105.44869,14.10703],[105.5561,14.15684],[105.78338,14.08438],[105.78182,14.02247],[105.90791,13.92881],[106.10405,13.9137],[106.10094,13.98471],[106.16632,14.01794],[106.18656,14.06324],[106.11962,14.11307],[106.10872,14.18401],[106.04801,14.20363],[106.02311,14.30623],[105.99509,14.32734],[106.00131,14.36957],[106.21302,14.36203],[106.25194,14.48415],[106.32355,14.44043],[106.40916,14.45249],[106.43874,14.52032],[106.47766,14.50977],[106.45898,14.55045],[106.50723,14.58963],[106.54148,14.59565],[106.57106,14.50525],[106.59908,14.50977],[106.63333,14.44194],[106.73762,14.42687],[106.80767,14.31226],[106.8497,14.29416],[106.90574,14.33639],[106.9649,14.3198],[106.98825,14.36806],[107.04585,14.41782],[107.03962,14.45099],[107.09722,14.3937],[107.17038,14.41782],[107.21241,14.48716],[107.256,14.48716],[107.26534,14.54292],[107.29803,14.58963],[107.3276,14.58812],[107.37897,14.54443],[107.44435,14.52785],[107.47238,14.61523],[107.54361,14.69092],[107.51579,14.79282],[107.59285,14.87795],[107.48277,14.93751],[107.46516,15.00982],[107.61486,15.0566],[107.61926,15.13949],[107.58844,15.20111],[107.62587,15.2266],[107.60605,15.37524],[107.62367,15.42193],[107.53341,15.40496],[107.50699,15.48771],[107.3815,15.49832],[107.34408,15.62345],[107.27583,15.62769],[107.27143,15.71459],[107.21859,15.74638],[107.21419,15.83747],[107.34188,15.89464],[107.39471,15.88829],[107.46296,16.01106],[107.44975,16.08511],[107.33968,16.05549],[107.25822,16.13587],[107.14595,16.17816],[107.15035,16.26271],[107.09091,16.3092],[107.02597,16.31132],[106.97385,16.30204],[106.96638,16.34938],[106.88067,16.43594],[106.88727,16.52671],[106.84104,16.55415],[106.74418,16.41904],[106.65832,16.47816],[106.66052,16.56892],[106.61477,16.60713],[106.58267,16.6012],[106.59013,16.62259],[106.55485,16.68704],[106.55265,16.86831],[106.52183,16.87884],[106.51963,16.92097],[106.54824,16.92729],[106.55045,17.0031],[106.50862,16.9673],[106.43597,17.01362],[106.31929,17.20509],[106.29287,17.3018],[106.24444,17.24714],[106.18991,17.28227],[106.09019,17.36399],[105.85744,17.63221],[105.76612,17.67147],[105.60381,17.89356],[105.64784,17.96687],[105.46292,18.22008],[105.38366,18.15315],[105.15942,18.38691],[105.10408,18.43533],[105.1327,18.58355],[105.19654,18.64196],[105.12829,18.70453],[104.64617,18.85668],[104.5361,18.97747],[103.87125,19.31854],[104.06058,19.43484],[104.10832,19.51575],[104.05617,19.61743],[104.06498,19.66926],[104.23229,19.70242],[104.41281,19.70035],[104.53169,19.61743],[104.64837,19.62365],[104.68359,19.72729],[104.8355,19.80395],[104.8465,19.91783],[104.9874,20.09573],[104.91695,20.15567],[104.86852,20.14121],[104.61315,20.24452],[104.62195,20.36633],[104.72102,20.40554],[104.66158,20.47774],[104.47886,20.37459],[104.40621,20.3849],[104.38199,20.47155],[104.63957,20.6653],[104.27412,20.91433],[104.11121,20.96779],[103.98024,20.91531],[103.82282,20.8732],[103.73478,20.6669],[103.68633,20.66324],[103.45737,20.82382],[103.38032,20.79501],[103.21497,20.89832],[103.12055,20.89994],[103.03469,21.05821],[102.97745,21.05821],[102.89825,21.24707],[102.80794,21.25736],[102.88939,21.3107],[102.94223,21.46034],[102.86297,21.4255],[102.98846,21.58936],[102.97965,21.74076],[102.86077,21.71213],[102.85637,21.84501],[102.81894,21.83888],[102.82115,21.73667],[102.74189,21.66713],[102.67145,21.65894],[102.62301,21.91447],[102.49092,21.99002],[102.51734,22.02676],[102.18712,22.30403],[102.14099,22.40092],[102.1245,22.43372]]]]}},{type:"Feature",properties:{iso1A2:"LB",iso1A3:"LBN",iso1N3:"422",wikidata:"Q822",nameEn:"Lebanon",aliases:["RL"],groups:["145","142","UN"],callingCodes:["961"]},geometry:{type:"MultiPolygon",coordinates:[[[[35.94816,33.47886],[35.94465,33.52774],[36.05723,33.57904],[35.9341,33.6596],[36.06778,33.82927],[36.14517,33.85118],[36.3967,33.83365],[36.38263,33.86579],[36.28589,33.91981],[36.41078,34.05253],[36.50576,34.05982],[36.5128,34.09916],[36.62537,34.20251],[36.59195,34.2316],[36.58667,34.27667],[36.60778,34.31009],[36.56556,34.31881],[36.53039,34.3798],[36.55853,34.41609],[36.46179,34.46541],[36.4442,34.50165],[36.34745,34.5002],[36.3369,34.52629],[36.39846,34.55672],[36.41429,34.61175],[36.45299,34.59438],[36.46003,34.6378],[36.42941,34.62505],[36.35384,34.65447],[36.35135,34.68516],[36.32399,34.69334],[36.29165,34.62991],[35.98718,34.64977],[35.97386,34.63322],[35.48515,34.70851],[34.78515,33.20368],[35.10645,33.09318],[35.1924,33.08743],[35.31429,33.10515],[35.35223,33.05617],[35.43059,33.06659],[35.448,33.09264],[35.50272,33.09056],[35.50335,33.114],[35.52573,33.11921],[35.54228,33.19865],[35.5362,33.23196],[35.54808,33.236],[35.54544,33.25513],[35.55555,33.25844],[35.56523,33.28969],[35.58326,33.28381],[35.58502,33.26653],[35.62283,33.24226],[35.62019,33.27278],[35.77477,33.33609],[35.81324,33.36354],[35.82577,33.40479],[35.88668,33.43183],[35.94816,33.47886]]]]}},{type:"Feature",properties:{iso1A2:"LC",iso1A3:"LCA",iso1N3:"662",wikidata:"Q760",nameEn:"St. Lucia",aliases:["WL"],groups:["029","003","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",callingCodes:["1 758"]},geometry:{type:"MultiPolygon",coordinates:[[[[-59.95997,14.20285],[-61.69315,14.26451],[-59.94058,12.34011],[-59.95997,14.20285]]]]}},{type:"Feature",properties:{iso1A2:"LI",iso1A3:"LIE",iso1N3:"438",wikidata:"Q347",nameEn:"Liechtenstein",aliases:["FL"],groups:["155","150","UN"],callingCodes:["423"]},geometry:{type:"MultiPolygon",coordinates:[[[[9.60717,47.06091],[9.61216,47.07732],[9.63395,47.08443],[9.62623,47.14685],[9.56539,47.17124],[9.58264,47.20673],[9.56981,47.21926],[9.55176,47.22585],[9.56766,47.24281],[9.53116,47.27029],[9.52406,47.24959],[9.50318,47.22153],[9.4891,47.19346],[9.48774,47.17402],[9.51044,47.13727],[9.52089,47.10019],[9.51362,47.08505],[9.47139,47.06402],[9.47548,47.05257],[9.54041,47.06495],[9.55721,47.04762],[9.60717,47.06091]]]]}},{type:"Feature",properties:{iso1A2:"LK",iso1A3:"LKA",iso1N3:"144",wikidata:"Q854",nameEn:"Sri Lanka",groups:["034","142","UN"],driveSide:"left",callingCodes:["94"]},geometry:{type:"MultiPolygon",coordinates:[[[[76.59015,5.591],[85.15017,5.21497],[80.48418,10.20786],[79.42124,9.80115],[79.50447,8.91876],[76.59015,5.591]]]]}},{type:"Feature",properties:{iso1A2:"LR",iso1A3:"LBR",iso1N3:"430",wikidata:"Q1014",nameEn:"Liberia",groups:["011","202","002","UN"],callingCodes:["231"]},geometry:{type:"MultiPolygon",coordinates:[[[[-8.47114,7.55676],[-8.55874,7.62525],[-8.55874,7.70167],[-8.67814,7.69428],[-8.72789,7.51429],[-8.8448,7.35149],[-8.85724,7.26019],[-8.93435,7.2824],[-9.09107,7.1985],[-9.18311,7.30461],[-9.20798,7.38109],[-9.305,7.42056],[-9.41943,7.41809],[-9.48161,7.37122],[-9.37465,7.62032],[-9.35724,7.74111],[-9.44928,7.9284],[-9.41445,8.02448],[-9.50898,8.18455],[-9.47415,8.35195],[-9.77763,8.54633],[-10.05873,8.42578],[-10.05375,8.50697],[-10.14579,8.52665],[-10.203,8.47991],[-10.27575,8.48711],[-10.30084,8.30008],[-10.31635,8.28554],[-10.29839,8.21283],[-10.35227,8.15223],[-10.45023,8.15627],[-10.51554,8.1393],[-10.57523,8.04829],[-10.60492,8.04072],[-10.60422,7.7739],[-11.29417,7.21576],[-11.4027,6.97746],[-11.50429,6.92704],[-12.15048,6.15992],[-7.52774,3.7105],[-7.53259,4.35145],[-7.59349,4.8909],[-7.53876,4.94294],[-7.55369,5.08667],[-7.48901,5.14118],[-7.46165,5.26256],[-7.36463,5.32944],[-7.43428,5.42355],[-7.37209,5.61173],[-7.43926,5.74787],[-7.43677,5.84687],[-7.46165,5.84934],[-7.48155,5.80974],[-7.67309,5.94337],[-7.70294,5.90625],[-7.78254,5.99037],[-7.79747,6.07696],[-7.8497,6.08932],[-7.83478,6.20309],[-7.90692,6.27728],[-8.00642,6.31684],[-8.17557,6.28222],[-8.3298,6.36381],[-8.38453,6.35887],[-8.45666,6.49977],[-8.48652,6.43797],[-8.59456,6.50612],[-8.31736,6.82837],[-8.29249,7.1691],[-8.37458,7.25794],[-8.41935,7.51203],[-8.47114,7.55676]]]]}},{type:"Feature",properties:{iso1A2:"LS",iso1A3:"LSO",iso1N3:"426",wikidata:"Q1013",nameEn:"Lesotho",groups:["018","202","002","UN"],driveSide:"left",callingCodes:["266"]},geometry:{type:"MultiPolygon",coordinates:[[[[29.33204,-29.45598],[29.44883,-29.3772],[29.40524,-29.21246],[28.68043,-28.58744],[28.65091,-28.57025],[28.40612,-28.6215],[28.30518,-28.69531],[28.2348,-28.69471],[28.1317,-28.7293],[28.02503,-28.85991],[27.98675,-28.8787],[27.9392,-28.84864],[27.88933,-28.88156],[27.8907,-28.91612],[27.75458,-28.89839],[27.55974,-29.18954],[27.5158,-29.2261],[27.54258,-29.25575],[27.48679,-29.29349],[27.45125,-29.29708],[27.47254,-29.31968],[27.4358,-29.33465],[27.33464,-29.48161],[27.01016,-29.65439],[27.09489,-29.72796],[27.22719,-30.00718],[27.29603,-30.05473],[27.32555,-30.14785],[27.40778,-30.14577],[27.37293,-30.19401],[27.36649,-30.27246],[27.38108,-30.33456],[27.45452,-30.32239],[27.56901,-30.42504],[27.56781,-30.44562],[27.62137,-30.50509],[27.6521,-30.51707],[27.67819,-30.53437],[27.69467,-30.55862],[27.74814,-30.60635],[28.12073,-30.68072],[28.2319,-30.28476],[28.399,-30.1592],[28.68627,-30.12885],[28.80222,-30.10579],[28.9338,-30.05072],[29.16548,-29.91706],[29.12553,-29.76266],[29.28545,-29.58456],[29.33204,-29.45598]]]]}},{type:"Feature",properties:{iso1A2:"LT",iso1A3:"LTU",iso1N3:"440",wikidata:"Q37",nameEn:"Lithuania",groups:["EU","154","150","UN"],callingCodes:["370"]},geometry:{type:"MultiPolygon",coordinates:[[[[24.89005,56.46666],[24.83686,56.41565],[24.70022,56.40483],[24.57353,56.31525],[24.58143,56.29125],[24.42746,56.26522],[24.32334,56.30226],[24.13139,56.24881],[24.02657,56.3231],[23.75726,56.37282],[23.49803,56.34307],[23.40486,56.37689],[23.31606,56.3827],[23.17312,56.36795],[23.09531,56.30511],[22.96988,56.41213],[22.83048,56.367],[22.69354,56.36284],[22.56441,56.39305],[22.3361,56.4016],[22.09728,56.42851],[22.00548,56.41508],[21.74558,56.33181],[21.57888,56.31406],[21.49736,56.29106],[21.24644,56.16917],[21.15016,56.07818],[20.68447,56.04073],[20.60454,55.40986],[20.95181,55.27994],[21.26425,55.24456],[21.35465,55.28427],[21.38446,55.29348],[21.46766,55.21115],[21.51095,55.18507],[21.55605,55.20311],[21.64954,55.1791],[21.85521,55.09493],[21.96505,55.07353],[21.99543,55.08691],[22.03984,55.07888],[22.02582,55.05078],[22.06087,55.02935],[22.11697,55.02131],[22.14267,55.05345],[22.31562,55.0655],[22.47688,55.04408],[22.58907,55.07085],[22.60075,55.01863],[22.65451,54.97037],[22.68723,54.9811],[22.76422,54.92521],[22.85083,54.88711],[22.87317,54.79492],[22.73631,54.72952],[22.73397,54.66604],[22.75467,54.6483],[22.74225,54.64339],[22.7522,54.63525],[22.68021,54.58486],[22.71293,54.56454],[22.67788,54.532],[22.70208,54.45312],[22.7253,54.41732],[22.79705,54.36264],[22.83756,54.40827],[23.00584,54.38514],[22.99649,54.35927],[23.05726,54.34565],[23.04323,54.31567],[23.104,54.29794],[23.13905,54.31567],[23.15526,54.31076],[23.15938,54.29894],[23.24656,54.25701],[23.3494,54.25155],[23.39525,54.21672],[23.42418,54.17911],[23.45223,54.17775],[23.49196,54.14764],[23.52702,54.04622],[23.48261,53.98855],[23.51284,53.95052],[23.61677,53.92691],[23.71726,53.93379],[23.80543,53.89558],[23.81309,53.94205],[23.95098,53.9613],[23.98837,53.92554],[24.19638,53.96405],[24.34128,53.90076],[24.44411,53.90076],[24.62275,54.00217],[24.69652,54.01901],[24.69185,53.96543],[24.74279,53.96663],[24.85311,54.02862],[24.77131,54.11091],[24.96894,54.17589],[24.991,54.14241],[25.0728,54.13419],[25.19199,54.219],[25.22705,54.26271],[25.35559,54.26544],[25.509,54.30267],[25.56823,54.25212],[25.51452,54.17799],[25.54724,54.14925],[25.64875,54.1259],[25.71084,54.16704],[25.78563,54.15747],[25.78553,54.23327],[25.68513,54.31727],[25.55425,54.31591],[25.5376,54.33158],[25.63371,54.42075],[25.62203,54.4656],[25.64813,54.48704],[25.68045,54.5321],[25.75977,54.57252],[25.74122,54.80108],[25.89462,54.93438],[25.99129,54.95705],[26.05907,54.94631],[26.13386,54.98924],[26.20397,54.99729],[26.26941,55.08032],[26.23202,55.10439],[26.30628,55.12536],[26.35121,55.1525],[26.46249,55.12814],[26.51481,55.16051],[26.54753,55.14181],[26.69243,55.16718],[26.68075,55.19787],[26.72983,55.21788],[26.73017,55.24226],[26.835,55.28182],[26.83266,55.30444],[26.80929,55.31642],[26.6714,55.33902],[26.5709,55.32572],[26.44937,55.34832],[26.5522,55.40277],[26.55094,55.5093],[26.63167,55.57887],[26.63231,55.67968],[26.58248,55.6754],[26.46661,55.70375],[26.39561,55.71156],[26.18509,55.86813],[26.03815,55.95884],[25.90047,56.0013],[25.85893,56.00188],[25.81773,56.05444],[25.69246,56.08892],[25.68588,56.14725],[25.53621,56.16663],[25.39751,56.15707],[25.23099,56.19147],[25.09325,56.1878],[25.05762,56.26742],[24.89005,56.46666]]]]}},{type:"Feature",properties:{iso1A2:"LU",iso1A3:"LUX",iso1N3:"442",wikidata:"Q32",nameEn:"Luxembourg",groups:["EU","155","150","UN"],callingCodes:["352"]},geometry:{type:"MultiPolygon",coordinates:[[[[6.1379,50.12964],[6.1137,50.13668],[6.12028,50.16374],[6.08577,50.17246],[6.06406,50.15344],[6.03093,50.16362],[6.02488,50.18283],[5.96453,50.17259],[5.95929,50.13295],[5.89488,50.11476],[5.8857,50.07824],[5.85474,50.06342],[5.86904,50.04614],[5.8551,50.02683],[5.81866,50.01286],[5.82331,49.99662],[5.83968,49.9892],[5.83467,49.97823],[5.81163,49.97142],[5.80833,49.96451],[5.77291,49.96056],[5.77314,49.93646],[5.73621,49.89796],[5.78415,49.87922],[5.75269,49.8711],[5.75861,49.85631],[5.74567,49.85368],[5.75884,49.84811],[5.74953,49.84709],[5.74975,49.83933],[5.74076,49.83823],[5.7404,49.83452],[5.74844,49.82435],[5.74364,49.82058],[5.74953,49.81428],[5.75409,49.79239],[5.78871,49.7962],[5.82245,49.75048],[5.83149,49.74729],[5.82562,49.72395],[5.84193,49.72161],[5.86503,49.72739],[5.88677,49.70951],[5.86527,49.69291],[5.86175,49.67862],[5.9069,49.66377],[5.90164,49.6511],[5.90599,49.63853],[5.88552,49.63507],[5.88393,49.62802],[5.87609,49.62047],[5.8762,49.60898],[5.84826,49.5969],[5.84971,49.58674],[5.86986,49.58756],[5.87256,49.57539],[5.8424,49.56082],[5.84692,49.55663],[5.84143,49.5533],[5.81838,49.54777],[5.80871,49.5425],[5.81664,49.53775],[5.83648,49.5425],[5.84466,49.53027],[5.83467,49.52717],[5.83389,49.52152],[5.86571,49.50015],[5.94128,49.50034],[5.94224,49.49608],[5.96876,49.49053],[5.97693,49.45513],[6.02648,49.45451],[6.02743,49.44845],[6.04176,49.44801],[6.05553,49.46663],[6.07887,49.46399],[6.08373,49.45594],[6.10072,49.45268],[6.09845,49.46351],[6.10325,49.4707],[6.12346,49.4735],[6.12814,49.49365],[6.14321,49.48796],[6.16115,49.49297],[6.15366,49.50226],[6.17386,49.50934],[6.19543,49.50536],[6.2409,49.51408],[6.25029,49.50609],[6.27875,49.503],[6.28818,49.48465],[6.3687,49.4593],[6.36778,49.46937],[6.36907,49.48931],[6.36788,49.50377],[6.35666,49.52931],[6.38072,49.55171],[6.38228,49.55855],[6.35825,49.57053],[6.36676,49.57813],[6.38024,49.57593],[6.38342,49.5799],[6.37464,49.58886],[6.385,49.59946],[6.39822,49.60081],[6.41861,49.61723],[6.4413,49.65722],[6.43768,49.66021],[6.42726,49.66078],[6.42937,49.66857],[6.44654,49.67799],[6.46048,49.69092],[6.48014,49.69767],[6.49785,49.71118],[6.50647,49.71353],[6.5042,49.71808],[6.49694,49.72205],[6.49535,49.72645],[6.50261,49.72718],[6.51397,49.72058],[6.51805,49.72425],[6.50193,49.73291],[6.50174,49.75292],[6.51646,49.75961],[6.51828,49.76855],[6.51056,49.77515],[6.51669,49.78336],[6.50534,49.78952],[6.52169,49.79787],[6.53122,49.80666],[6.52121,49.81338],[6.51215,49.80124],[6.50647,49.80916],[6.48718,49.81267],[6.47111,49.82263],[6.45425,49.81164],[6.44131,49.81443],[6.42905,49.81091],[6.42521,49.81591],[6.40022,49.82029],[6.36576,49.85032],[6.34267,49.84974],[6.33585,49.83785],[6.32098,49.83728],[6.32303,49.85133],[6.30963,49.87021],[6.29692,49.86685],[6.28874,49.87592],[6.26146,49.88203],[6.23496,49.89972],[6.22926,49.92096],[6.21882,49.92403],[6.22608,49.929],[6.22094,49.94955],[6.19856,49.95053],[6.19089,49.96991],[6.18045,49.96611],[6.18554,49.95622],[6.17872,49.9537],[6.16466,49.97086],[6.1701,49.98518],[6.14147,49.99563],[6.14948,50.00908],[6.13806,50.01056],[6.1295,50.01849],[6.13273,50.02019],[6.13794,50.01466],[6.14666,50.02207],[6.13044,50.02929],[6.13458,50.04141],[6.11274,50.05916],[6.12055,50.09171],[6.1379,50.12964]]]]}},{type:"Feature",properties:{iso1A2:"LV",iso1A3:"LVA",iso1N3:"428",wikidata:"Q211",nameEn:"Latvia",groups:["EU","154","150","UN"],callingCodes:["371"]},geometry:{type:"MultiPolygon",coordinates:[[[[27.34698,57.52242],[26.90364,57.62823],[26.54675,57.51813],[26.46527,57.56885],[26.29253,57.59244],[26.1866,57.6849],[26.2029,57.7206],[26.08098,57.76619],[26.0543,57.76105],[26.03332,57.7718],[26.02415,57.76865],[26.02069,57.77169],[26.0266,57.77441],[26.027,57.78158],[26.02456,57.78342],[26.0324,57.79037],[26.05949,57.84744],[25.73499,57.90193],[25.29581,58.08288],[25.28237,57.98539],[25.19484,58.0831],[24.3579,57.87471],[24.26221,57.91787],[23.20055,57.56697],[22.80496,57.87798],[19.84909,57.57876],[19.64795,57.06466],[20.68447,56.04073],[21.15016,56.07818],[21.24644,56.16917],[21.49736,56.29106],[21.57888,56.31406],[21.74558,56.33181],[22.00548,56.41508],[22.09728,56.42851],[22.3361,56.4016],[22.56441,56.39305],[22.69354,56.36284],[22.83048,56.367],[22.96988,56.41213],[23.09531,56.30511],[23.17312,56.36795],[23.31606,56.3827],[23.40486,56.37689],[23.49803,56.34307],[23.75726,56.37282],[24.02657,56.3231],[24.13139,56.24881],[24.32334,56.30226],[24.42746,56.26522],[24.58143,56.29125],[24.57353,56.31525],[24.70022,56.40483],[24.83686,56.41565],[24.89005,56.46666],[25.05762,56.26742],[25.09325,56.1878],[25.23099,56.19147],[25.39751,56.15707],[25.53621,56.16663],[25.68588,56.14725],[25.69246,56.08892],[25.81773,56.05444],[25.85893,56.00188],[25.90047,56.0013],[26.03815,55.95884],[26.18509,55.86813],[26.39561,55.71156],[26.46661,55.70375],[26.58248,55.6754],[26.63231,55.67968],[26.64888,55.70515],[26.71802,55.70645],[26.76872,55.67658],[26.87448,55.7172],[26.97153,55.8102],[27.1559,55.85032],[27.27804,55.78299],[27.3541,55.8089],[27.61683,55.78558],[27.63065,55.89687],[27.97865,56.11849],[28.15217,56.16964],[28.23716,56.27588],[28.16599,56.37806],[28.19057,56.44637],[28.10069,56.524],[28.13526,56.57989],[28.04768,56.59004],[27.86101,56.88204],[27.66511,56.83921],[27.86101,57.29402],[27.52453,57.42826],[27.56832,57.53728],[27.34698,57.52242]]]]}},{type:"Feature",properties:{iso1A2:"LY",iso1A3:"LBY",iso1N3:"434",wikidata:"Q1016",nameEn:"Libya",groups:["015","002","UN"],callingCodes:["218"]},geometry:{type:"MultiPolygon",coordinates:[[[[26.92891,33.39516],[11.58941,33.36891],[11.55852,33.1409],[11.51549,33.09826],[11.46037,32.6307],[11.57828,32.48013],[11.53898,32.4138],[11.04234,32.2145],[10.7315,31.97235],[10.62788,31.96629],[10.48497,31.72956],[10.31364,31.72648],[10.12239,31.42098],[10.29516,30.90337],[9.88152,30.34074],[9.76848,30.34366],[9.55544,30.23971],[9.3876,30.16738],[9.78136,29.40961],[9.89569,26.57696],[9.51696,26.39148],[9.38834,26.19288],[10.03146,25.35635],[10.02432,24.98124],[10.33159,24.5465],[10.85323,24.5595],[11.41061,24.21456],[11.62498,24.26669],[11.96886,23.51735],[13.5631,23.16574],[14.22918,22.61719],[14.99751,23.00539],[15.99566,23.49639],[23.99539,19.49944],[23.99715,20.00038],[24.99794,19.99661],[24.99885,21.99535],[24.99968,29.24574],[24.71117,30.17441],[25.01077,30.73861],[24.8458,31.39877],[26.92891,33.39516]]]]}},{type:"Feature",properties:{iso1A2:"MA",iso1A3:"MAR",iso1N3:"504",wikidata:"Q1028",nameEn:"Morocco",groups:["015","002","UN"],callingCodes:["212"]},geometry:{type:"MultiPolygon",coordinates:[[[[-2.27707,35.35051],[-5.10878,36.05227],[-7.2725,35.73269],[-14.43883,27.02969],[-17.27295,21.93519],[-17.21511,21.34226],[-17.02707,21.34022],[-16.9978,21.36239],[-16.44269,21.39745],[-14.78487,21.36587],[-14.47329,21.63839],[-14.48112,22.00886],[-14.1291,22.41636],[-14.10361,22.75501],[-13.75627,23.77231],[-13.00628,24.01923],[-12.92147,24.39502],[-12.12281,25.13682],[-12.06001,26.04442],[-11.62052,26.05229],[-11.38635,26.611],[-11.23622,26.72023],[-11.35695,26.8505],[-10.68417,26.90984],[-9.81998,26.71379],[-9.56957,26.90042],[-9.08698,26.98639],[-8.71787,26.9898],[-8.77527,27.66663],[-8.66879,27.6666],[-8.6715,28.71194],[-7.61585,29.36252],[-6.95824,29.50924],[-6.78351,29.44634],[-6.69965,29.51623],[-5.75616,29.61407],[-5.72121,29.52322],[-5.58831,29.48103],[-5.21671,29.95253],[-4.6058,30.28343],[-4.31774,30.53229],[-3.64735,30.67539],[-3.65418,30.85566],[-3.54944,31.0503],[-3.77103,31.14984],[-3.77647,31.31912],[-3.66386,31.39202],[-3.66314,31.6339],[-2.82784,31.79459],[-2.93873,32.06557],[-2.46166,32.16603],[-1.22829,32.07832],[-1.15735,32.12096],[-1.24453,32.1917],[-1.24998,32.32993],[-.9912,32.52467],[-1.37794,32.73628],[-1.54244,32.95499],[-1.46249,33.0499],[-1.67067,33.27084],[-1.59508,33.59929],[-1.73494,33.71721],[-1.64666,34.10405],[-1.78042,34.39018],[-1.69788,34.48056],[-1.84569,34.61907],[-1.73707,34.74226],[-1.97469,34.886],[-1.97833,34.93218],[-2.04734,34.93218],[-2.21445,35.04378],[-2.21248,35.08532],[-2.27707,35.35051]],[[-2.91909,35.33927],[-2.92272,35.27509],[-2.93893,35.26737],[-2.95065,35.26576],[-2.95431,35.2728],[-2.96516,35.27967],[-2.96826,35.28296],[-2.96507,35.28801],[-2.97035,35.28852],[-2.96978,35.29459],[-2.96648,35.30475],[-2.96038,35.31609],[-2.91909,35.33927]],[[-3.90602,35.21494],[-3.89343,35.22728],[-3.88372,35.20767],[-3.90602,35.21494]],[[-4.30191,35.17419],[-4.29436,35.17149],[-4.30112,35.17058],[-4.30191,35.17419]],[[-2.40316,35.16893],[-2.45965,35.16527],[-2.43262,35.20652],[-2.40316,35.16893]],[[-5.38491,35.92591],[-5.21179,35.90091],[-5.34379,35.8711],[-5.35844,35.87375],[-5.37338,35.88417],[-5.38491,35.92591]]]]}},{type:"Feature",properties:{iso1A2:"MC",iso1A3:"MCO",iso1N3:"492",wikidata:"Q235",nameEn:"Monaco",groups:["155","150","UN"],callingCodes:["377"]},geometry:{type:"MultiPolygon",coordinates:[[[[7.47823,43.73341],[7.4379,43.74963],[7.4389,43.75151],[7.43708,43.75197],[7.43624,43.75014],[7.43013,43.74895],[7.42809,43.74396],[7.42443,43.74087],[7.42299,43.74176],[7.42062,43.73977],[7.41233,43.73439],[7.41298,43.73311],[7.41291,43.73168],[7.41113,43.73156],[7.40903,43.7296],[7.42422,43.72209],[7.47823,43.73341]]]]}},{type:"Feature",properties:{iso1A2:"MD",iso1A3:"MDA",iso1N3:"498",wikidata:"Q217",nameEn:"Moldova",groups:["151","150","UN"],callingCodes:["373"]},geometry:{type:"MultiPolygon",coordinates:[[[[27.74422,48.45926],[27.6658,48.44034],[27.59027,48.46311],[27.5889,48.49224],[27.46942,48.454],[27.44333,48.41209],[27.37741,48.41026],[27.37604,48.44398],[27.32159,48.4434],[27.27855,48.37534],[27.13434,48.37288],[27.08078,48.43214],[27.0231,48.42485],[27.03821,48.37653],[26.93384,48.36558],[26.85556,48.41095],[26.71274,48.40388],[26.82809,48.31629],[26.79239,48.29071],[26.6839,48.35828],[26.62823,48.25804],[26.81161,48.25049],[26.87708,48.19919],[26.94265,48.1969],[26.98042,48.15752],[26.96119,48.13003],[27.04118,48.12522],[27.02985,48.09083],[27.15622,47.98538],[27.1618,47.92391],[27.29069,47.73722],[27.25519,47.71366],[27.32202,47.64009],[27.3979,47.59473],[27.47942,47.48113],[27.55731,47.46637],[27.60263,47.32507],[27.68706,47.28962],[27.73172,47.29248],[27.81892,47.1381],[28.09095,46.97621],[28.12173,46.82283],[28.24808,46.64305],[28.22281,46.50481],[28.25769,46.43334],[28.18902,46.35283],[28.19864,46.31869],[28.10937,46.22852],[28.13684,46.18099],[28.08612,46.01105],[28.13111,45.92819],[28.16568,45.6421],[28.08927,45.6051],[28.18741,45.47358],[28.21139,45.46895],[28.30201,45.54744],[28.41836,45.51715],[28.43072,45.48538],[28.51449,45.49982],[28.49252,45.56716],[28.54196,45.58062],[28.51587,45.6613],[28.47879,45.66994],[28.52823,45.73803],[28.70401,45.78019],[28.69852,45.81753],[28.78503,45.83475],[28.74383,45.96664],[28.98004,46.00385],[29.00613,46.04962],[28.94643,46.09176],[29.06656,46.19716],[28.94953,46.25852],[28.98478,46.31803],[29.004,46.31495],[28.9306,46.45699],[29.01241,46.46177],[29.02409,46.49582],[29.23547,46.55435],[29.24886,46.37912],[29.35357,46.49505],[29.49914,46.45889],[29.5939,46.35472],[29.6763,46.36041],[29.66359,46.4215],[29.74496,46.45605],[29.88329,46.35851],[29.94114,46.40114],[30.09103,46.38694],[30.16794,46.40967],[30.02511,46.45132],[29.88916,46.54302],[29.94409,46.56002],[29.9743,46.75325],[29.94522,46.80055],[29.98814,46.82358],[29.87405,46.88199],[29.75458,46.8604],[29.72986,46.92234],[29.57056,46.94766],[29.62137,47.05069],[29.61038,47.09932],[29.53044,47.07851],[29.49732,47.12878],[29.57696,47.13581],[29.54996,47.24962],[29.59665,47.25521],[29.5733,47.36508],[29.48678,47.36043],[29.47854,47.30366],[29.39889,47.30179],[29.3261,47.44664],[29.18603,47.43387],[29.11743,47.55001],[29.22414,47.60012],[29.22242,47.73607],[29.27255,47.79953],[29.20663,47.80367],[29.27804,47.88893],[29.19839,47.89261],[29.1723,47.99013],[28.9306,47.96255],[28.8414,48.03392],[28.85232,48.12506],[28.69896,48.13106],[28.53921,48.17453],[28.48428,48.0737],[28.42454,48.12047],[28.43701,48.15832],[28.38712,48.17567],[28.34009,48.13147],[28.30609,48.14018],[28.30586,48.1597],[28.34912,48.1787],[28.36996,48.20543],[28.35519,48.24957],[28.32508,48.23384],[28.2856,48.23202],[28.19314,48.20749],[28.17666,48.25963],[28.07504,48.23494],[28.09873,48.3124],[28.04527,48.32661],[27.95883,48.32368],[27.88391,48.36699],[27.87533,48.4037],[27.81902,48.41874],[27.79225,48.44244],[27.74422,48.45926]]]]}},{type:"Feature",properties:{iso1A2:"ME",iso1A3:"MNE",iso1N3:"499",wikidata:"Q236",nameEn:"Montenegro",groups:["039","150","UN"],callingCodes:["382"]},geometry:{type:"MultiPolygon",coordinates:[[[[19.22807,43.5264],[19.15685,43.53943],[19.13933,43.5282],[19.04934,43.50384],[19.01078,43.55806],[18.91379,43.50299],[18.95469,43.49367],[18.96053,43.45042],[19.01078,43.43854],[19.04071,43.397],[19.08673,43.31453],[19.08206,43.29668],[19.04233,43.30008],[19.00844,43.24988],[18.95001,43.29327],[18.95819,43.32899],[18.90911,43.36383],[18.83912,43.34795],[18.84794,43.33735],[18.85342,43.32426],[18.76538,43.29838],[18.6976,43.25243],[18.71747,43.2286],[18.66605,43.2056],[18.64735,43.14766],[18.66254,43.03928],[18.52232,43.01451],[18.49076,42.95553],[18.49661,42.89306],[18.4935,42.86433],[18.47633,42.85829],[18.45921,42.81682],[18.47324,42.74992],[18.56789,42.72074],[18.55221,42.69045],[18.54603,42.69171],[18.54841,42.68328],[18.57373,42.64429],[18.52232,42.62279],[18.55504,42.58409],[18.53751,42.57376],[18.49778,42.58409],[18.43735,42.55921],[18.44307,42.51077],[18.43588,42.48556],[18.52152,42.42302],[18.54128,42.39171],[18.45131,42.21682],[19.26406,41.74971],[19.37597,41.84849],[19.37451,41.8842],[19.33812,41.90669],[19.34601,41.95675],[19.37691,41.96977],[19.36867,42.02564],[19.37548,42.06835],[19.40687,42.10024],[19.28623,42.17745],[19.42,42.33019],[19.42352,42.36546],[19.4836,42.40831],[19.65972,42.62774],[19.73244,42.66299],[19.77375,42.58517],[19.74731,42.57422],[19.76549,42.50237],[19.82333,42.46581],[19.9324,42.51699],[20.00842,42.5109],[20.01834,42.54622],[20.07761,42.55582],[20.0969,42.65559],[20.02915,42.71147],[20.02088,42.74789],[20.04898,42.77701],[20.2539,42.76245],[20.27869,42.81945],[20.35692,42.8335],[20.34528,42.90676],[20.16415,42.97177],[20.14896,42.99058],[20.12325,42.96237],[20.05431,42.99571],[20.04729,43.02732],[19.98887,43.0538],[19.96549,43.11098],[19.92576,43.08539],[19.79255,43.11951],[19.76918,43.16044],[19.64063,43.19027],[19.62661,43.2286],[19.54598,43.25158],[19.52962,43.31623],[19.48171,43.32644],[19.44315,43.38846],[19.22229,43.47926],[19.22807,43.5264]]]]}},{type:"Feature",properties:{iso1A2:"MF",iso1A3:"MAF",iso1N3:"663",wikidata:"Q126125",nameEn:"Saint-Martin",country:"FR",groups:["Q3320166","EU","029","003","419","019","UN"],callingCodes:["590"]},geometry:{type:"MultiPolygon",coordinates:[[[[-62.93924,18.02904],[-62.62718,18.26185],[-63.35989,18.06012],[-63.33064,17.9615],[-63.13502,18.05445],[-63.11042,18.05339],[-63.09686,18.04608],[-63.07759,18.04943],[-63.0579,18.06614],[-63.04039,18.05619],[-63.02323,18.05757],[-62.93924,18.02904]]]]}},{type:"Feature",properties:{iso1A2:"MG",iso1A3:"MDG",iso1N3:"450",wikidata:"Q1019",nameEn:"Madagascar",aliases:["RM"],groups:["014","202","002","UN"],callingCodes:["261"]},geometry:{type:"MultiPolygon",coordinates:[[[[51.93891,-10.85085],[45.84651,-12.77177],[42.14681,-19.63341],[45.80092,-33.00974],[51.93891,-10.85085]]]]}},{type:"Feature",properties:{iso1A2:"MH",iso1A3:"MHL",iso1N3:"584",wikidata:"Q709",nameEn:"Marshall Islands",groups:["057","009","UN"],roadSpeedUnit:"mph",callingCodes:["692"]},geometry:{type:"MultiPolygon",coordinates:[[[[169,3.9],[173.53711,5.70687],[169.29099,15.77133],[159.04653,10.59067],[169,3.9]]]]}},{type:"Feature",properties:{iso1A2:"MK",iso1A3:"MKD",iso1N3:"807",wikidata:"Q221",nameEn:"North Macedonia",groups:["039","150","UN"],callingCodes:["389"]},geometry:{type:"MultiPolygon",coordinates:[[[[22.34773,42.31725],[22.29275,42.34913],[22.29605,42.37477],[22.16384,42.32103],[22.02908,42.29848],[21.94405,42.34669],[21.91595,42.30392],[21.84654,42.3247],[21.77176,42.2648],[21.70111,42.23789],[21.58992,42.25915],[21.52145,42.24465],[21.50823,42.27156],[21.43882,42.2789],[21.43882,42.23609],[21.38428,42.24465],[21.30496,42.1418],[21.29913,42.13954],[21.31983,42.10993],[21.22728,42.08909],[21.16614,42.19815],[21.11491,42.20794],[20.75464,42.05229],[20.76786,41.91839],[20.68523,41.85318],[20.59524,41.8818],[20.55976,41.87068],[20.57144,41.7897],[20.53405,41.78099],[20.51301,41.72433],[20.52937,41.69292],[20.51769,41.65975],[20.55508,41.58113],[20.52103,41.56473],[20.45809,41.5549],[20.45331,41.51436],[20.49039,41.49277],[20.51301,41.442],[20.55976,41.4087],[20.52119,41.34381],[20.49432,41.33679],[20.51068,41.2323],[20.59715,41.13644],[20.58546,41.11179],[20.59832,41.09066],[20.63454,41.0889],[20.65558,41.08009],[20.71634,40.91781],[20.73504,40.9081],[20.81567,40.89662],[20.83671,40.92752],[20.94305,40.92399],[20.97693,40.90103],[20.97887,40.85475],[21.15262,40.85546],[21.21105,40.8855],[21.25779,40.86165],[21.35595,40.87578],[21.41555,40.9173],[21.53007,40.90759],[21.57448,40.86076],[21.69601,40.9429],[21.7556,40.92525],[21.91102,41.04786],[21.90869,41.09191],[22.06527,41.15617],[22.1424,41.12449],[22.17629,41.15969],[22.26744,41.16409],[22.42285,41.11921],[22.5549,41.13065],[22.58295,41.11568],[22.62852,41.14385],[22.65306,41.18168],[22.71266,41.13945],[22.74538,41.16321],[22.76408,41.32225],[22.81199,41.3398],[22.93334,41.34104],[22.96331,41.35782],[22.95513,41.63265],[23.03342,41.71034],[23.01239,41.76527],[22.96682,41.77137],[22.90254,41.87587],[22.86749,42.02275],[22.67701,42.06614],[22.51224,42.15457],[22.50289,42.19527],[22.47251,42.20393],[22.38136,42.30339],[22.34773,42.31725]]]]}},{type:"Feature",properties:{iso1A2:"ML",iso1A3:"MLI",iso1N3:"466",wikidata:"Q912",nameEn:"Mali",groups:["011","202","002","UN"],callingCodes:["223"]},geometry:{type:"MultiPolygon",coordinates:[[[[-4.83423,24.99935],[-6.57191,25.0002],[-5.60725,16.49919],[-5.33435,16.33354],[-5.50165,15.50061],[-9.32979,15.50032],[-9.31106,15.69412],[-9.33314,15.7044],[-9.44673,15.60553],[-9.40447,15.4396],[-10.71721,15.4223],[-10.90932,15.11001],[-11.43483,15.62339],[-11.70705,15.51558],[-11.94903,14.76143],[-12.23936,14.76324],[-11.93043,13.84505],[-12.06897,13.71049],[-11.83345,13.33333],[-11.63025,13.39174],[-11.39935,12.97808],[-11.37536,12.40788],[-11.50006,12.17826],[-11.24136,12.01286],[-10.99758,12.24634],[-10.80355,12.1053],[-10.71897,11.91552],[-10.30604,12.24634],[-9.714,12.0226],[-9.63938,12.18312],[-9.32097,12.29009],[-9.38067,12.48446],[-9.13689,12.50875],[-8.94784,12.34842],[-8.80854,11.66715],[-8.40058,11.37466],[-8.66923,10.99397],[-8.35083,11.06234],[-8.2667,10.91762],[-8.32614,10.69273],[-8.22711,10.41722],[-8.10207,10.44649],[-7.9578,10.2703],[-7.97971,10.17117],[-7.92107,10.15577],[-7.63048,10.46334],[-7.54462,10.40921],[-7.52261,10.4655],[-7.44555,10.44602],[-7.3707,10.24677],[-7.13331,10.24877],[-7.0603,10.14711],[-7.00966,10.15794],[-6.97444,10.21644],[-7.01186,10.25111],[-6.93921,10.35291],[-6.68164,10.35074],[-6.63541,10.66893],[-6.52974,10.59104],[-6.42847,10.5694],[-6.40646,10.69922],[-6.325,10.68624],[-6.24795,10.74248],[-6.1731,10.46983],[-6.18851,10.24244],[-5.99478,10.19694],[-5.78124,10.43952],[-5.65135,10.46767],[-5.51058,10.43177],[-5.46643,10.56074],[-5.47083,10.75329],[-5.41579,10.84628],[-5.49284,11.07538],[-5.32994,11.13371],[-5.32553,11.21578],[-5.25949,11.24816],[-5.25509,11.36905],[-5.20665,11.43811],[-5.22867,11.60421],[-5.29251,11.61715],[-5.26389,11.75728],[-5.40258,11.8327],[-5.26389,11.84778],[-5.07897,11.97918],[-4.72893,12.01579],[-4.70692,12.06746],[-4.62987,12.06531],[-4.62546,12.13204],[-4.54841,12.1385],[-4.57703,12.19875],[-4.41412,12.31922],[-4.47356,12.71252],[-4.238,12.71467],[-4.21819,12.95722],[-4.34477,13.12927],[-3.96501,13.49778],[-3.90558,13.44375],[-3.96282,13.38164],[-3.7911,13.36665],[-3.54454,13.1781],[-3.4313,13.1588],[-3.43507,13.27272],[-3.23599,13.29035],[-3.28396,13.5422],[-3.26407,13.70699],[-2.88189,13.64921],[-2.90831,13.81174],[-2.84667,14.05532],[-2.66175,14.14713],[-2.47587,14.29671],[-2.10223,14.14878],[-1.9992,14.19011],[-1.97945,14.47709],[-1.68083,14.50023],[-1.32166,14.72774],[-1.05875,14.7921],[-.72004,15.08655],[-.24673,15.07805],[.06588,14.96961],[.23859,15.00135],[.72632,14.95898],[.96711,14.98275],[1.31275,15.27978],[3.01806,15.34571],[3.03134,15.42221],[3.50368,15.35934],[4.19893,16.39923],[4.21787,17.00118],[4.26762,17.00432],[4.26651,19.14224],[3.36082,18.9745],[3.12501,19.1366],[3.24648,19.81703],[1.20992,20.73533],[1.15698,21.12843],[-4.83423,24.99935]]]]}},{type:"Feature",properties:{iso1A2:"MM",iso1A3:"MMR",iso1N3:"104",wikidata:"Q836",nameEn:"Myanmar",aliases:["Burma","BU"],groups:["035","142","UN"],callingCodes:["95"]},geometry:{type:"MultiPolygon",coordinates:[[[[92.62187,21.87037],[92.59775,21.6092],[92.68152,21.28454],[92.60187,21.24615],[92.55105,21.3856],[92.43158,21.37025],[92.37939,21.47764],[92.20087,21.337],[92.17752,21.17445],[92.26071,21.05697],[92.47409,20.38654],[92.61042,13.76986],[94.6371,13.81803],[97.63455,9.60854],[98.12555,9.44056],[98.33094,9.91973],[98.47298,9.95782],[98.52291,9.92389],[98.55174,9.92804],[98.7391,10.31488],[98.81944,10.52761],[98.77275,10.62548],[98.78511,10.68351],[98.86819,10.78336],[99.0069,10.85485],[98.99701,10.92962],[99.02337,10.97217],[99.06938,10.94857],[99.32756,11.28545],[99.31573,11.32081],[99.39485,11.3925],[99.47598,11.62434],[99.5672,11.62732],[99.64108,11.78948],[99.64891,11.82699],[99.53424,12.02317],[99.56445,12.14805],[99.47519,12.1353],[99.409,12.60603],[99.29254,12.68921],[99.18905,12.84799],[99.18748,12.9898],[99.10646,13.05804],[99.12225,13.19847],[99.20617,13.20575],[99.16695,13.72621],[98.97356,14.04868],[98.56762,14.37701],[98.24874,14.83013],[98.18821,15.13125],[98.22,15.21327],[98.30446,15.30667],[98.40522,15.25268],[98.41906,15.27103],[98.39351,15.34177],[98.4866,15.39154],[98.56027,15.33471],[98.58598,15.46821],[98.541,15.65406],[98.59853,15.87197],[98.57019,16.04578],[98.69585,16.13353],[98.8376,16.11706],[98.92656,16.36425],[98.84485,16.42354],[98.68074,16.27068],[98.63817,16.47424],[98.57912,16.55983],[98.5695,16.62826],[98.51113,16.64503],[98.51833,16.676],[98.51472,16.68521],[98.51579,16.69433],[98.51043,16.70107],[98.49713,16.69022],[98.50253,16.7139],[98.46994,16.73613],[98.53833,16.81934],[98.49603,16.8446],[98.52624,16.89979],[98.39441,17.06266],[98.34566,17.04822],[98.10439,17.33847],[98.11185,17.36829],[97.91829,17.54504],[97.76407,17.71595],[97.66794,17.88005],[97.73723,17.97912],[97.60841,18.23846],[97.64116,18.29778],[97.56219,18.33885],[97.50383,18.26844],[97.34522,18.54596],[97.36444,18.57138],[97.5258,18.4939],[97.76752,18.58097],[97.73836,18.88478],[97.66487,18.9371],[97.73654,18.9812],[97.73797,19.04261],[97.83479,19.09972],[97.84024,19.22217],[97.78606,19.26769],[97.84186,19.29526],[97.78769,19.39429],[97.88423,19.5041],[97.84715,19.55782],[98.04364,19.65755],[98.03314,19.80941],[98.13829,19.78541],[98.24884,19.67876],[98.51182,19.71303],[98.56065,19.67807],[98.83661,19.80931],[98.98679,19.7419],[99.0735,20.10298],[99.20328,20.12877],[99.416,20.08614],[99.52943,20.14811],[99.5569,20.20676],[99.46077,20.36198],[99.46008,20.39673],[99.68255,20.32077],[99.81096,20.33687],[99.86383,20.44371],[99.88211,20.44488],[99.88451,20.44596],[99.89168,20.44548],[99.89301,20.44311],[99.89692,20.44789],[99.90499,20.4487],[99.91616,20.44986],[99.95721,20.46301],[100.08404,20.36626],[100.1957,20.68247],[100.36375,20.82783],[100.51079,20.82194],[100.60112,20.8347],[100.64628,20.88279],[100.50974,20.88574],[100.55281,21.02796],[100.63578,21.05639],[100.72716,21.31786],[100.80173,21.2934],[101.00234,21.39612],[101.16198,21.52808],[101.15156,21.56129],[101.11744,21.77659],[100.87265,21.67396],[100.72143,21.51898],[100.57861,21.45637],[100.4811,21.46148],[100.42892,21.54325],[100.35201,21.53176],[100.25863,21.47043],[100.18447,21.51898],[100.1625,21.48704],[100.12542,21.50365],[100.10757,21.59945],[100.17486,21.65306],[100.12679,21.70539],[100.04956,21.66843],[99.98654,21.71064],[99.94003,21.82782],[99.99084,21.97053],[99.96612,22.05965],[99.85351,22.04183],[99.47585,22.13345],[99.33166,22.09656],[99.1552,22.15874],[99.19176,22.16983],[99.17318,22.18025],[99.28771,22.4105],[99.37972,22.50188],[99.38247,22.57544],[99.31243,22.73893],[99.45654,22.85726],[99.43537,22.94086],[99.54218,22.90014],[99.52214,23.08218],[99.34127,23.13099],[99.25741,23.09025],[99.04601,23.12215],[99.05975,23.16382],[98.88597,23.18656],[98.92515,23.29535],[98.93958,23.31414],[98.87573,23.33038],[98.92104,23.36946],[98.87683,23.48995],[98.82877,23.47908],[98.80294,23.5345],[98.88396,23.59555],[98.81775,23.694],[98.82933,23.72921],[98.79607,23.77947],[98.68209,23.80492],[98.67797,23.9644],[98.89632,24.10612],[98.87998,24.15624],[98.85319,24.13042],[98.59256,24.08371],[98.54476,24.13119],[98.20666,24.11406],[98.07806,24.07988],[98.06703,24.08028],[98.0607,24.07812],[98.05671,24.07961],[98.05302,24.07408],[98.04709,24.07616],[97.99583,24.04932],[97.98691,24.03897],[97.93951,24.01953],[97.90998,24.02094],[97.88616,24.00463],[97.88414,23.99405],[97.88814,23.98605],[97.89683,23.98389],[97.89676,23.97931],[97.8955,23.97758],[97.88811,23.97446],[97.86545,23.97723],[97.84328,23.97603],[97.79416,23.95663],[97.79456,23.94836],[97.72302,23.89288],[97.64667,23.84574],[97.5247,23.94032],[97.62363,24.00506],[97.72903,24.12606],[97.75305,24.16902],[97.72799,24.18883],[97.72998,24.2302],[97.76799,24.26365],[97.71941,24.29652],[97.66723,24.30027],[97.65624,24.33781],[97.7098,24.35658],[97.66998,24.45288],[97.60029,24.4401],[97.52757,24.43748],[97.56286,24.54535],[97.56525,24.72838],[97.54675,24.74202],[97.5542,24.74943],[97.56383,24.75535],[97.56648,24.76475],[97.64354,24.79171],[97.70181,24.84557],[97.73127,24.83015],[97.76481,24.8289],[97.79949,24.85655],[97.72903,24.91332],[97.72216,25.08508],[97.77023,25.11492],[97.83614,25.2715],[97.92541,25.20815],[98.14925,25.41547],[98.12591,25.50722],[98.18084,25.56298],[98.16848,25.62739],[98.25774,25.6051],[98.31268,25.55307],[98.40606,25.61129],[98.54064,25.85129],[98.63128,25.79937],[98.70818,25.86241],[98.60763,26.01512],[98.57085,26.11547],[98.63128,26.15492],[98.66884,26.09165],[98.7329,26.17218],[98.67797,26.24487],[98.72741,26.36183],[98.77547,26.61994],[98.7333,26.85615],[98.69582,27.56499],[98.43353,27.67086],[98.42529,27.55404],[98.32641,27.51385],[98.13964,27.9478],[98.15337,28.12114],[97.90069,28.3776],[97.79632,28.33168],[97.70705,28.5056],[97.56835,28.55628],[97.50518,28.49716],[97.47085,28.2688],[97.41729,28.29783],[97.34547,28.21385],[97.31292,28.06784],[97.35412,28.06663],[97.38845,28.01329],[97.35824,27.87256],[97.29919,27.92233],[96.90112,27.62149],[96.91431,27.45752],[97.17422,27.14052],[97.14675,27.09041],[96.89132,27.17474],[96.85287,27.2065],[96.88445,27.25046],[96.73888,27.36638],[96.55761,27.29928],[96.40779,27.29818],[96.15591,27.24572],[96.04949,27.19428],[95.93002,27.04149],[95.81603,27.01335],[95.437,26.7083],[95.30339,26.65372],[95.23513,26.68499],[95.05798,26.45408],[95.12801,26.38397],[95.11428,26.1019],[95.18556,26.07338],[94.80117,25.49359],[94.68032,25.47003],[94.57458,25.20318],[94.74212,25.13606],[94.73937,25.00545],[94.60204,24.70889],[94.5526,24.70764],[94.50729,24.59281],[94.45279,24.56656],[94.32362,24.27692],[94.30215,24.23752],[94.14081,23.83333],[93.92089,23.95812],[93.80279,23.92549],[93.75952,24.0003],[93.62871,24.00922],[93.50616,23.94432],[93.46633,23.97067],[93.41415,24.07854],[93.34735,24.10151],[93.32351,24.04468],[93.36059,23.93176],[93.3908,23.92925],[93.3908,23.7622],[93.43475,23.68299],[93.38805,23.4728],[93.39981,23.38828],[93.38781,23.36139],[93.36862,23.35426],[93.38478,23.13698],[93.2878,23.00464],[93.12988,23.05772],[93.134,22.92498],[93.09417,22.69459],[93.134,22.59573],[93.11477,22.54374],[93.13537,22.45873],[93.18206,22.43716],[93.19991,22.25425],[93.14224,22.24535],[93.15734,22.18687],[93.04885,22.20595],[92.99255,22.05965],[92.99804,21.98964],[92.93899,22.02656],[92.89504,21.95143],[92.86208,22.05456],[92.70416,22.16017],[92.67532,22.03547],[92.60949,21.97638],[92.62187,21.87037]]]]}},{type:"Feature",properties:{iso1A2:"MN",iso1A3:"MNG",iso1N3:"496",wikidata:"Q711",nameEn:"Mongolia",groups:["030","142","UN"],callingCodes:["976"]},geometry:{type:"MultiPolygon",coordinates:[[[[102.14032,51.35566],[101.5044,51.50467],[101.39085,51.45753],[100.61116,51.73028],[99.89203,51.74903],[99.75578,51.90108],[99.27888,51.96876],[98.87768,52.14563],[98.74142,51.8637],[98.33222,51.71832],[98.22053,51.46579],[98.05257,51.46696],[97.83305,51.00248],[98.01472,50.86652],[97.9693,50.78044],[98.06393,50.61262],[98.31373,50.4996],[98.29481,50.33561],[97.85197,49.91339],[97.76871,49.99861],[97.56432,49.92801],[97.56811,49.84265],[97.24639,49.74737],[96.97388,49.88413],[95.80056,50.04239],[95.74757,49.97915],[95.02465,49.96941],[94.97166,50.04725],[94.6121,50.04239],[94.49477,50.17832],[94.39258,50.22193],[94.30823,50.57498],[92.99595,50.63183],[93.01109,50.79001],[92.44714,50.78762],[92.07173,50.69585],[91.86048,50.73734],[89.59711,49.90851],[89.70687,49.72535],[88.82499,49.44808],[88.42449,49.48821],[88.17223,49.46934],[88.15543,49.30314],[87.98977,49.18147],[87.81333,49.17354],[87.88171,48.95853],[87.73822,48.89582],[88.0788,48.71436],[87.96361,48.58478],[88.58939,48.34531],[88.58316,48.21893],[88.8011,48.11302],[88.93186,48.10263],[89.0711,47.98528],[89.55453,48.0423],[89.76624,47.82745],[90.06512,47.88177],[90.10871,47.7375],[90.33598,47.68303],[90.48854,47.41826],[90.48542,47.30438],[90.76108,46.99399],[90.84035,46.99525],[91.03649,46.72916],[91.0147,46.58171],[91.07696,46.57315],[90.89639,46.30711],[90.99672,46.14207],[91.03026,46.04194],[90.70907,45.73437],[90.65114,45.49314],[90.89169,45.19667],[91.64048,45.07408],[93.51161,44.95964],[94.10003,44.71016],[94.71959,44.35284],[95.01191,44.25274],[95.39772,44.2805],[95.32891,44.02407],[95.52594,43.99353],[95.89543,43.2528],[96.35658,42.90363],[96.37926,42.72055],[97.1777,42.7964],[99.50671,42.56535],[100.33297,42.68231],[100.84979,42.67087],[101.80515,42.50074],[102.07645,42.22519],[102.72403,42.14675],[103.92804,41.78246],[104.52258,41.8706],[104.51667,41.66113],[105.0123,41.63188],[106.76517,42.28741],[107.24774,42.36107],[107.29755,42.41395],[107.49681,42.46221],[107.57258,42.40898],[108.84489,42.40246],[109.00679,42.45302],[109.452,42.44842],[109.89402,42.63111],[110.08401,42.6411],[110.4327,42.78293],[111.0149,43.3289],[111.59087,43.51207],[111.79758,43.6637],[111.93776,43.68709],[111.96289,43.81596],[111.40498,44.3461],[111.76275,44.98032],[111.98695,45.09074],[112.4164,45.06858],[112.74662,44.86297],[113.70918,44.72891],[114.5166,45.27189],[114.54801,45.38337],[114.74612,45.43585],[114.94546,45.37377],[115.60329,45.44717],[116.16989,45.68603],[116.27366,45.78637],[116.24012,45.8778],[116.26678,45.96479],[116.58612,46.30211],[116.75551,46.33083],[116.83166,46.38637],[117.36609,46.36335],[117.41782,46.57862],[117.60748,46.59771],[117.69554,46.50991],[118.30534,46.73519],[118.78747,46.68689],[118.8337,46.77742],[118.89974,46.77139],[118.92616,46.72765],[119.00541,46.74273],[119.10448,46.65516],[119.24978,46.64761],[119.32827,46.61433],[119.42827,46.63783],[119.65265,46.62342],[119.68127,46.59015],[119.77373,46.62947],[119.80455,46.67631],[119.89261,46.66423],[119.91242,46.90091],[119.85518,46.92196],[119.71209,47.19192],[119.62403,47.24575],[119.56019,47.24874],[119.54918,47.29505],[119.31964,47.42617],[119.35892,47.48104],[119.13995,47.53997],[119.12343,47.66458],[118.7564,47.76947],[118.55766,47.99277],[118.29654,48.00246],[118.22677,48.03853],[118.11009,48.04],[118.03676,48.00982],[117.80196,48.01661],[117.50181,47.77216],[117.37875,47.63627],[116.9723,47.87285],[116.67405,47.89039],[116.4465,47.83662],[116.21879,47.88505],[115.94296,47.67741],[115.57128,47.91988],[115.52082,48.15367],[115.811,48.25699],[115.78876,48.51781],[116.06565,48.81716],[116.03781,48.87014],[116.71193,49.83813],[116.62502,49.92919],[116.22402,50.04477],[115.73602,49.87688],[115.26068,49.97367],[114.9703,50.19254],[114.325,50.28098],[113.20216,49.83356],[113.02647,49.60772],[110.64493,49.1816],[110.39891,49.25083],[110.24373,49.16676],[109.51325,49.22859],[109.18017,49.34709],[108.53969,49.32325],[108.27937,49.53167],[107.95387,49.66659],[107.96116,49.93191],[107.36407,49.97612],[107.1174,50.04239],[107.00007,50.1977],[106.80326,50.30177],[106.58373,50.34044],[106.51122,50.34408],[106.49628,50.32436],[106.47156,50.31909],[106.07865,50.33474],[106.05562,50.40582],[105.32528,50.4648],[103.70343,50.13952],[102.71178,50.38873],[102.32194,50.67982],[102.14032,51.35566]]]]}},{type:"Feature",properties:{iso1A2:"MO",iso1A3:"MAC",iso1N3:"446",wikidata:"Q14773",nameEn:"Macau",aliases:["Macao"],country:"CN",groups:["030","142","UN"],driveSide:"left",callingCodes:["853"]},geometry:{type:"MultiPolygon",coordinates:[[[[113.54942,22.14519],[113.54839,22.10909],[113.57191,22.07696],[113.63011,22.10782],[113.60504,22.20464],[113.57123,22.20416],[113.56865,22.20973],[113.5508,22.21672],[113.54333,22.21688],[113.54093,22.21314],[113.53593,22.2137],[113.53301,22.21235],[113.53552,22.20607],[113.52659,22.18271],[113.54093,22.15497],[113.54942,22.14519]]]]}},{type:"Feature",properties:{iso1A2:"MP",iso1A3:"MNP",iso1N3:"580",wikidata:"Q16644",nameEn:"Northern Mariana Islands",aliases:["US-MP"],country:"US",groups:["Q1352230","Q153732","057","009","UN"],roadSpeedUnit:"mph",callingCodes:["1 670"]},geometry:{type:"MultiPolygon",coordinates:[[[[135.52896,14.32623],[152.19114,13.63487],[145.05972,21.28731],[135.52896,14.32623]]]]}},{type:"Feature",properties:{iso1A2:"MQ",iso1A3:"MTQ",iso1N3:"474",wikidata:"Q17054",nameEn:"Martinique",country:"FR",groups:["Q3320166","EU","029","003","419","019","UN"],callingCodes:["596"]},geometry:{type:"MultiPolygon",coordinates:[[[[-59.95997,14.20285],[-61.07821,15.25109],[-61.69315,14.26451],[-59.95997,14.20285]]]]}},{type:"Feature",properties:{iso1A2:"MR",iso1A3:"MRT",iso1N3:"478",wikidata:"Q1025",nameEn:"Mauritania",groups:["011","202","002","UN"],callingCodes:["222"]},geometry:{type:"MultiPolygon",coordinates:[[[[-5.60725,16.49919],[-6.57191,25.0002],[-4.83423,24.99935],[-8.66674,27.31569],[-8.66721,25.99918],[-12.0002,25.9986],[-12.00251,23.4538],[-12.14969,23.41935],[-12.36213,23.3187],[-12.5741,23.28975],[-13.00412,23.02297],[-13.10753,22.89493],[-13.15313,22.75649],[-13.08438,22.53866],[-13.01525,21.33343],[-16.95474,21.33997],[-16.99806,21.12142],[-17.0357,21.05368],[-17.0396,20.9961],[-17.06781,20.92697],[-17.0695,20.85742],[-17.0471,20.76408],[-17.15288,16.07139],[-16.50854,16.09032],[-16.48967,16.0496],[-16.44814,16.09753],[-16.4429,16.20605],[-16.27016,16.51565],[-15.6509,16.50315],[-15.00557,16.64997],[-14.32144,16.61495],[-13.80075,16.13961],[-13.43135,16.09022],[-13.11029,15.52116],[-12.23936,14.76324],[-11.94903,14.76143],[-11.70705,15.51558],[-11.43483,15.62339],[-10.90932,15.11001],[-10.71721,15.4223],[-9.40447,15.4396],[-9.44673,15.60553],[-9.33314,15.7044],[-9.31106,15.69412],[-9.32979,15.50032],[-5.50165,15.50061],[-5.33435,16.33354],[-5.60725,16.49919]]]]}},{type:"Feature",properties:{iso1A2:"MS",iso1A3:"MSR",iso1N3:"500",wikidata:"Q13353",nameEn:"Montserrat",country:"GB",groups:["BOTS","029","003","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["1 664"]},geometry:{type:"MultiPolygon",coordinates:[[[[-61.91508,16.51165],[-62.1023,16.97277],[-62.58307,16.68909],[-61.91508,16.51165]]]]}},{type:"Feature",properties:{iso1A2:"MT",iso1A3:"MLT",iso1N3:"470",wikidata:"Q233",nameEn:"Malta",groups:["EU","039","150","UN"],driveSide:"left",callingCodes:["356"]},geometry:{type:"MultiPolygon",coordinates:[[[[15.70991,35.79901],[14.07544,36.41525],[13.27636,35.20764],[15.70991,35.79901]]]]}},{type:"Feature",properties:{iso1A2:"MU",iso1A3:"MUS",iso1N3:"480",wikidata:"Q1027",nameEn:"Mauritius",groups:["014","202","002","UN"],driveSide:"left",callingCodes:["230"]},geometry:{type:"MultiPolygon",coordinates:[[[[56.09755,-9.55401],[57.50644,-31.92637],[68.4673,-19.15185],[56.09755,-9.55401]]]]}},{type:"Feature",properties:{iso1A2:"MV",iso1A3:"MDV",iso1N3:"462",wikidata:"Q826",nameEn:"Maldives",groups:["034","142","UN"],driveSide:"left",callingCodes:["960"]},geometry:{type:"MultiPolygon",coordinates:[[[[71.9161,8.55531],[72.57428,-3.7623],[76.59015,5.591],[71.9161,8.55531]]]]}},{type:"Feature",properties:{iso1A2:"MW",iso1A3:"MWI",iso1N3:"454",wikidata:"Q1020",nameEn:"Malawi",groups:["014","202","002","UN"],driveSide:"left",callingCodes:["265"]},geometry:{type:"MultiPolygon",coordinates:[[[[33.48052,-9.62442],[33.31581,-9.48554],[33.14925,-9.49322],[32.99397,-9.36712],[32.95389,-9.40138],[33.00476,-9.5133],[33.00256,-9.63053],[33.05485,-9.61316],[33.10163,-9.66525],[33.12144,-9.58929],[33.2095,-9.61099],[33.31517,-9.82364],[33.36581,-9.81063],[33.37902,-9.9104],[33.31297,-10.05133],[33.53863,-10.20148],[33.54797,-10.36077],[33.70675,-10.56896],[33.47636,-10.78465],[33.28022,-10.84428],[33.25998,-10.88862],[33.39697,-11.15296],[33.29267,-11.3789],[33.29267,-11.43536],[33.23663,-11.40637],[33.24252,-11.59302],[33.32692,-11.59248],[33.33937,-11.91252],[33.25998,-12.14242],[33.3705,-12.34931],[33.47636,-12.32498],[33.54485,-12.35996],[33.37517,-12.54085],[33.28177,-12.54692],[33.18837,-12.61377],[33.05917,-12.59554],[32.94397,-12.76868],[32.96733,-12.88251],[33.02181,-12.88707],[32.98289,-13.12671],[33.0078,-13.19492],[32.86113,-13.47292],[32.84176,-13.52794],[32.73683,-13.57682],[32.68436,-13.55769],[32.66468,-13.60019],[32.68654,-13.64268],[32.7828,-13.64805],[32.84528,-13.71576],[32.76962,-13.77224],[32.79015,-13.80755],[32.88985,-13.82956],[32.99042,-13.95689],[33.02977,-14.05022],[33.07568,-13.98447],[33.16749,-13.93992],[33.24249,-14.00019],[33.66677,-14.61306],[33.7247,-14.4989],[33.88503,-14.51652],[33.92898,-14.47929],[34.08588,-14.48893],[34.18733,-14.43823],[34.22355,-14.43607],[34.34453,-14.3985],[34.35843,-14.38652],[34.39277,-14.39467],[34.4192,-14.43191],[34.44641,-14.47746],[34.45053,-14.49873],[34.47628,-14.53363],[34.48932,-14.53646],[34.49636,-14.55091],[34.52366,-14.5667],[34.53962,-14.59776],[34.55112,-14.64494],[34.53516,-14.67782],[34.52057,-14.68263],[34.54503,-14.74672],[34.567,-14.77345],[34.61522,-14.99583],[34.57503,-15.30619],[34.43126,-15.44778],[34.44981,-15.60864],[34.25195,-15.90321],[34.43126,-16.04737],[34.40344,-16.20923],[35.04805,-16.83167],[35.13771,-16.81687],[35.17017,-16.93521],[35.04805,-17.00027],[35.0923,-17.13235],[35.3062,-17.1244],[35.27065,-16.93817],[35.30929,-16.82871],[35.27219,-16.69402],[35.14235,-16.56812],[35.25828,-16.4792],[35.30157,-16.2211],[35.43355,-16.11371],[35.52365,-16.15414],[35.70107,-16.10147],[35.80487,-16.03907],[35.85303,-15.41913],[35.78799,-15.17428],[35.91812,-14.89514],[35.87212,-14.89478],[35.86945,-14.67481],[35.5299,-14.27714],[35.47989,-14.15594],[34.86229,-13.48958],[34.60253,-13.48487],[34.37831,-12.17408],[34.46088,-12.0174],[34.70739,-12.15652],[34.82903,-12.04837],[34.57917,-11.87849],[34.64241,-11.57499],[34.96296,-11.57354],[34.91153,-11.39799],[34.79375,-11.32245],[34.63305,-11.11731],[34.61161,-11.01611],[34.67047,-10.93796],[34.65946,-10.6828],[34.57581,-10.56271],[34.51911,-10.12279],[34.54499,-10.0678],[34.03865,-9.49398],[33.95829,-9.54066],[33.9638,-9.62206],[33.93298,-9.71647],[33.76677,-9.58516],[33.48052,-9.62442]]]]}},{type:"Feature",properties:{iso1A2:"MX",iso1A3:"MEX",iso1N3:"484",wikidata:"Q96",nameEn:"Mexico",groups:["013","003","419","019","UN"],callingCodes:["52"]},geometry:{type:"MultiPolygon",coordinates:[[[[-117.1243,32.53427],[-118.48109,32.5991],[-120.12904,18.41089],[-92.37213,14.39277],[-92.2261,14.53423],[-92.1454,14.6804],[-92.18161,14.84147],[-92.1423,14.88647],[-92.1454,14.98143],[-92.0621,15.07406],[-92.20983,15.26077],[-91.73182,16.07371],[-90.44567,16.07573],[-90.40499,16.40524],[-90.61212,16.49832],[-90.69064,16.70697],[-91.04436,16.92175],[-91.43809,17.25373],[-90.99199,17.25192],[-90.98678,17.81655],[-89.14985,17.81563],[-89.15105,17.95104],[-89.03839,18.0067],[-88.8716,17.89535],[-88.71505,18.0707],[-88.48242,18.49164],[-88.3268,18.49048],[-88.29909,18.47591],[-88.26593,18.47617],[-88.03238,18.41778],[-88.03165,18.16657],[-87.90671,18.15213],[-87.87604,18.18313],[-87.86657,18.19971],[-87.85693,18.18266],[-87.84815,18.18511],[-86.92368,17.61462],[-85.9092,21.8218],[-96.92418,25.97377],[-97.13927,25.96583],[-97.35946,25.92189],[-97.37332,25.83854],[-97.42511,25.83969],[-97.45669,25.86874],[-97.49828,25.89877],[-97.52025,25.88518],[-97.66511,26.01708],[-97.95155,26.0625],[-97.97017,26.05232],[-98.24603,26.07191],[-98.27075,26.09457],[-98.30491,26.10475],[-98.35126,26.15129],[-99.00546,26.3925],[-99.03053,26.41249],[-99.08477,26.39849],[-99.53573,27.30926],[-99.49744,27.43746],[-99.482,27.47128],[-99.48045,27.49016],[-99.50208,27.50021],[-99.52955,27.49747],[-99.51478,27.55836],[-99.55409,27.61314],[-100.50029,28.66117],[-100.51222,28.70679],[-100.5075,28.74066],[-100.52313,28.75598],[-100.59809,28.88197],[-100.63689,28.90812],[-100.67294,29.09744],[-100.79696,29.24688],[-100.87982,29.296],[-100.94056,29.33371],[-100.94579,29.34523],[-100.96725,29.3477],[-101.01128,29.36947],[-101.05686,29.44738],[-101.47277,29.7744],[-102.60596,29.8192],[-103.15787,28.93865],[-104.37752,29.54255],[-104.39363,29.55396],[-104.3969,29.57105],[-104.5171,29.64671],[-104.77674,30.4236],[-106.00363,31.39181],[-106.09025,31.40569],[-106.20346,31.46305],[-106.23711,31.51262],[-106.24612,31.54193],[-106.28084,31.56173],[-106.30305,31.62154],[-106.33419,31.66303],[-106.34864,31.69663],[-106.3718,31.71165],[-106.38003,31.73151],[-106.41773,31.75196],[-106.43419,31.75478],[-106.45244,31.76523],[-106.46726,31.75998],[-106.47298,31.75054],[-106.48815,31.74769],[-106.50111,31.75714],[-106.50962,31.76155],[-106.51251,31.76922],[-106.52266,31.77509],[-106.529,31.784],[-108.20899,31.78534],[-108.20979,31.33316],[-111.07523,31.33232],[-114.82011,32.49609],[-114.79524,32.55731],[-114.81141,32.55543],[-114.80584,32.62028],[-114.76736,32.64094],[-114.71871,32.71894],[-115.88053,32.63624],[-117.1243,32.53427]]]]}},{type:"Feature",properties:{iso1A2:"MY",iso1A3:"MYS",iso1N3:"458",wikidata:"Q833",nameEn:"Malaysia"},geometry:null},{type:"Feature",properties:{iso1A2:"MZ",iso1A3:"MOZ",iso1N3:"508",wikidata:"Q1029",nameEn:"Mozambique",groups:["014","202","002","UN"],driveSide:"left",callingCodes:["258"]},geometry:{type:"MultiPolygon",coordinates:[[[[40.74206,-10.25691],[40.44265,-10.4618],[40.00295,-10.80255],[39.58249,-10.96043],[39.24395,-11.17433],[38.88996,-11.16978],[38.47258,-11.4199],[38.21598,-11.27289],[37.93618,-11.26228],[37.8388,-11.3123],[37.76614,-11.53352],[37.3936,-11.68949],[36.80309,-11.56836],[36.62068,-11.72884],[36.19094,-11.70008],[36.19094,-11.57593],[35.82767,-11.41081],[35.63599,-11.55927],[34.96296,-11.57354],[34.64241,-11.57499],[34.57917,-11.87849],[34.82903,-12.04837],[34.70739,-12.15652],[34.46088,-12.0174],[34.37831,-12.17408],[34.60253,-13.48487],[34.86229,-13.48958],[35.47989,-14.15594],[35.5299,-14.27714],[35.86945,-14.67481],[35.87212,-14.89478],[35.91812,-14.89514],[35.78799,-15.17428],[35.85303,-15.41913],[35.80487,-16.03907],[35.70107,-16.10147],[35.52365,-16.15414],[35.43355,-16.11371],[35.30157,-16.2211],[35.25828,-16.4792],[35.14235,-16.56812],[35.27219,-16.69402],[35.30929,-16.82871],[35.27065,-16.93817],[35.3062,-17.1244],[35.0923,-17.13235],[35.04805,-17.00027],[35.17017,-16.93521],[35.13771,-16.81687],[35.04805,-16.83167],[34.40344,-16.20923],[34.43126,-16.04737],[34.25195,-15.90321],[34.44981,-15.60864],[34.43126,-15.44778],[34.57503,-15.30619],[34.61522,-14.99583],[34.567,-14.77345],[34.54503,-14.74672],[34.52057,-14.68263],[34.53516,-14.67782],[34.55112,-14.64494],[34.53962,-14.59776],[34.52366,-14.5667],[34.49636,-14.55091],[34.48932,-14.53646],[34.47628,-14.53363],[34.45053,-14.49873],[34.44641,-14.47746],[34.4192,-14.43191],[34.39277,-14.39467],[34.35843,-14.38652],[34.34453,-14.3985],[34.22355,-14.43607],[34.18733,-14.43823],[34.08588,-14.48893],[33.92898,-14.47929],[33.88503,-14.51652],[33.7247,-14.4989],[33.66677,-14.61306],[33.24249,-14.00019],[30.22098,-14.99447],[30.41902,-15.62269],[30.42568,-15.9962],[30.91597,-15.99924],[30.97761,-16.05848],[31.13171,-15.98019],[31.30563,-16.01193],[31.42451,-16.15154],[31.67988,-16.19595],[31.90223,-16.34388],[31.91324,-16.41569],[32.02772,-16.43892],[32.28529,-16.43892],[32.42838,-16.4727],[32.71017,-16.59932],[32.69917,-16.66893],[32.78943,-16.70267],[32.97655,-16.70689],[32.91051,-16.89446],[32.84113,-16.92259],[32.96554,-17.11971],[33.00517,-17.30477],[33.0426,-17.3468],[32.96554,-17.48964],[32.98536,-17.55891],[33.0492,-17.60298],[32.94133,-17.99705],[33.03159,-18.35054],[33.02278,-18.4696],[32.88629,-18.51344],[32.88629,-18.58023],[32.95013,-18.69079],[32.9017,-18.7992],[32.82465,-18.77419],[32.70137,-18.84712],[32.73439,-18.92628],[32.69917,-18.94293],[32.72118,-19.02204],[32.84006,-19.0262],[32.87088,-19.09279],[32.85107,-19.29238],[32.77966,-19.36098],[32.78282,-19.47513],[32.84446,-19.48343],[32.84666,-19.68462],[32.95013,-19.67219],[33.06461,-19.77787],[33.01178,-20.02007],[32.93032,-20.03868],[32.85987,-20.16686],[32.85987,-20.27841],[32.66174,-20.56106],[32.55167,-20.56312],[32.48122,-20.63319],[32.51644,-20.91929],[32.37115,-21.133],[32.48236,-21.32873],[32.41234,-21.31246],[31.38336,-22.36919],[31.30611,-22.422],[31.55779,-23.176],[31.56539,-23.47268],[31.67942,-23.60858],[31.70223,-23.72695],[31.77445,-23.90082],[31.87707,-23.95293],[31.90368,-24.18892],[31.9835,-24.29983],[32.03196,-25.10785],[32.01676,-25.38117],[31.97875,-25.46356],[32.00631,-25.65044],[31.92649,-25.84216],[31.974,-25.95387],[32.00916,-25.999],[32.08599,-26.00978],[32.10435,-26.15656],[32.07352,-26.40185],[32.13409,-26.5317],[32.13315,-26.84345],[32.19409,-26.84032],[32.22302,-26.84136],[32.29584,-26.852],[32.35222,-26.86027],[34.51034,-26.91792],[42.99868,-12.65261],[40.74206,-10.25691]]]]}},{type:"Feature",properties:{iso1A2:"NA",iso1A3:"NAM",iso1N3:"516",wikidata:"Q1030",nameEn:"Namibia",groups:["018","202","002","UN"],driveSide:"left",callingCodes:["264"]},geometry:{type:"MultiPolygon",coordinates:[[[[14.28743,-17.38814],[13.95896,-17.43141],[13.36212,-16.98048],[12.97145,-16.98567],[12.52111,-17.24495],[12.07076,-17.15165],[11.75063,-17.25013],[10.5065,-17.25284],[12.51595,-32.27486],[16.45332,-28.63117],[16.46592,-28.57126],[16.59922,-28.53246],[16.90446,-28.057],[17.15405,-28.08573],[17.4579,-28.68718],[18.99885,-28.89165],[19.99882,-28.42622],[19.99817,-24.76768],[19.99912,-21.99991],[20.99751,-22.00026],[20.99904,-18.31743],[21.45556,-18.31795],[23.0996,-18.00075],[23.29618,-17.99855],[23.61088,-18.4881],[24.19416,-18.01919],[24.40577,-17.95726],[24.57485,-18.07151],[24.6303,-17.9863],[24.71887,-17.9218],[24.73364,-17.89338],[24.95586,-17.79674],[25.05895,-17.84452],[25.16882,-17.78253],[25.26433,-17.79571],[25.00198,-17.58221],[24.70864,-17.49501],[24.5621,-17.52963],[24.38712,-17.46818],[24.32811,-17.49082],[24.23619,-17.47489],[23.47474,-17.62877],[21.42741,-18.02787],[21.14283,-17.94318],[18.84226,-17.80375],[18.39229,-17.38927],[14.28743,-17.38814]]]]}},{type:"Feature",properties:{iso1A2:"NC",iso1A3:"NCL",iso1N3:"540",wikidata:"Q33788",nameEn:"New Caledonia",country:"FR",groups:["Q1451600","054","009","UN"],callingCodes:["687"]},geometry:{type:"MultiPolygon",coordinates:[[[[159.77159,-28.41151],[174.245,-23.1974],[156.73836,-14.50464],[159.77159,-28.41151]]]]}},{type:"Feature",properties:{iso1A2:"NE",iso1A3:"NER",iso1N3:"562",wikidata:"Q1032",nameEn:"Niger",aliases:["RN"],groups:["011","202","002","UN"],callingCodes:["227"]},geometry:{type:"MultiPolygon",coordinates:[[[[14.22918,22.61719],[13.5631,23.16574],[11.96886,23.51735],[7.48273,20.87258],[7.38361,20.79165],[5.8153,19.45101],[4.26651,19.14224],[4.26762,17.00432],[4.21787,17.00118],[4.19893,16.39923],[3.50368,15.35934],[3.03134,15.42221],[3.01806,15.34571],[1.31275,15.27978],[.96711,14.98275],[.72632,14.95898],[.23859,15.00135],[.16936,14.51654],[.38051,14.05575],[.61924,13.68491],[.77377,13.6866],[.77637,13.64442],[.99514,13.5668],[1.02813,13.46635],[1.20088,13.38951],[1.24429,13.39373],[1.28509,13.35488],[1.24516,13.33968],[1.21217,13.37853],[1.18873,13.31771],[.99253,13.37515],[.99167,13.10727],[2.26349,12.41915],[2.05785,12.35539],[2.39723,11.89473],[2.45824,11.98672],[2.39657,12.10952],[2.37783,12.24804],[2.6593,12.30631],[2.83978,12.40585],[3.25352,12.01467],[3.31613,11.88495],[3.48187,11.86092],[3.59375,11.70269],[3.61075,11.69181],[3.67988,11.75429],[3.67122,11.80865],[3.63063,11.83042],[3.61955,11.91847],[3.67775,11.97599],[3.63136,12.11826],[3.66364,12.25884],[3.65111,12.52223],[3.94339,12.74979],[4.10006,12.98862],[4.14367,13.17189],[4.14186,13.47586],[4.23456,13.47725],[4.4668,13.68286],[4.87425,13.78],[4.9368,13.7345],[5.07396,13.75052],[5.21026,13.73627],[5.27797,13.75474],[5.35437,13.83567],[5.52957,13.8845],[6.15771,13.64564],[6.27411,13.67835],[6.43053,13.6006],[6.69617,13.34057],[6.94445,12.99825],[7.0521,13.00076],[7.12676,13.02445],[7.22399,13.1293],[7.39241,13.09717],[7.81085,13.34902],[8.07997,13.30847],[8.25185,13.20369],[8.41853,13.06166],[8.49493,13.07519],[8.60431,13.01768],[8.64251,12.93985],[8.97413,12.83661],[9.65995,12.80614],[10.00373,13.18171],[10.19993,13.27129],[10.46731,13.28819],[10.66004,13.36422],[11.4535,13.37773],[11.88236,13.2527],[12.04209,13.14452],[12.16189,13.10056],[12.19315,13.12423],[12.47095,13.06673],[12.58033,13.27805],[12.6793,13.29157],[12.87376,13.48919],[13.05085,13.53984],[13.19844,13.52802],[13.33213,13.71195],[13.6302,13.71094],[13.47559,14.40881],[13.48259,14.46704],[13.68573,14.55276],[13.67878,14.64013],[13.809,14.72915],[13.78991,14.87519],[13.86301,15.04043],[14.37425,15.72591],[15.50373,16.89649],[15.6032,18.77402],[15.75098,19.93002],[15.99632,20.35364],[15.6721,20.70069],[15.59841,20.74039],[15.56004,20.79488],[15.55382,20.86507],[15.57248,20.92138],[15.62515,20.95395],[15.28332,21.44557],[15.20213,21.49365],[15.19692,21.99339],[14.99751,23.00539],[14.22918,22.61719]]]]}},{type:"Feature",properties:{iso1A2:"NF",iso1A3:"NFK",iso1N3:"574",wikidata:"Q31057",nameEn:"Norfolk Island",country:"AU",groups:["053","009","UN"],driveSide:"left",callingCodes:["672 3"]},geometry:{type:"MultiPolygon",coordinates:[[[[169.82316,-28.16667],[166.29505,-28.29175],[167.94076,-30.60745],[169.82316,-28.16667]]]]}},{type:"Feature",properties:{iso1A2:"NG",iso1A3:"NGA",iso1N3:"566",wikidata:"Q1033",nameEn:"Nigeria",groups:["011","202","002","UN"],callingCodes:["234"]},geometry:{type:"MultiPolygon",coordinates:[[[[6.15771,13.64564],[5.52957,13.8845],[5.35437,13.83567],[5.27797,13.75474],[5.21026,13.73627],[5.07396,13.75052],[4.9368,13.7345],[4.87425,13.78],[4.4668,13.68286],[4.23456,13.47725],[4.14186,13.47586],[4.14367,13.17189],[4.10006,12.98862],[3.94339,12.74979],[3.65111,12.52223],[3.66364,12.25884],[3.63136,12.11826],[3.67775,11.97599],[3.61955,11.91847],[3.63063,11.83042],[3.67122,11.80865],[3.67988,11.75429],[3.61075,11.69181],[3.59375,11.70269],[3.49175,11.29765],[3.71505,11.13015],[3.84243,10.59316],[3.78292,10.40538],[3.6844,10.46351],[3.57275,10.27185],[3.66908,10.18136],[3.54429,9.87739],[3.35383,9.83641],[3.32099,9.78032],[3.34726,9.70696],[3.25093,9.61632],[3.13928,9.47167],[3.14147,9.28375],[3.08017,9.10006],[2.77907,9.06924],[2.67523,7.87825],[2.73095,7.7755],[2.73405,7.5423],[2.78668,7.5116],[2.79442,7.43486],[2.74489,7.42565],[2.76965,7.13543],[2.71702,6.95722],[2.74024,6.92802],[2.73405,6.78508],[2.78823,6.76356],[2.78204,6.70514],[2.7325,6.64057],[2.74334,6.57291],[2.70464,6.50831],[2.70566,6.38038],[2.74181,6.13349],[5.87055,3.78489],[8.34397,4.30689],[8.60302,4.87353],[8.78027,5.1243],[8.92029,5.58403],[8.83687,5.68483],[8.88156,5.78857],[8.84209,5.82562],[9.51757,6.43874],[9.70674,6.51717],[9.77824,6.79088],[9.86314,6.77756],[10.15135,7.03781],[10.21466,6.88996],[10.53639,6.93432],[10.57214,7.16345],[10.59746,7.14719],[10.60789,7.06885],[10.83727,6.9358],[10.8179,6.83377],[10.94302,6.69325],[11.09644,6.68437],[11.09495,6.51717],[11.42041,6.53789],[11.42264,6.5882],[11.51499,6.60892],[11.57755,6.74059],[11.55818,6.86186],[11.63117,6.9905],[11.87396,7.09398],[11.84864,7.26098],[11.93205,7.47812],[12.01844,7.52981],[11.99908,7.67302],[12.20909,7.97553],[12.19271,8.10826],[12.24782,8.17904],[12.26123,8.43696],[12.4489,8.52536],[12.44146,8.6152],[12.68722,8.65938],[12.71701,8.7595],[12.79,8.75361],[12.81085,8.91992],[12.90022,9.11411],[12.91958,9.33905],[12.85628,9.36698],[13.02385,9.49334],[13.22642,9.57266],[13.25472,9.76795],[13.29941,9.8296],[13.25025,9.86042],[13.24132,9.91031],[13.27409,9.93232],[13.286,9.9822],[13.25323,10.00127],[13.25025,10.03647],[13.34111,10.12299],[13.43644,10.13326],[13.5705,10.53183],[13.54964,10.61236],[13.73434,10.9255],[13.70753,10.94451],[13.7403,11.00593],[13.78945,11.00154],[13.97489,11.30258],[14.17821,11.23831],[14.6124,11.51283],[14.64591,11.66166],[14.55207,11.72001],[14.61612,11.7798],[14.6474,12.17466],[14.4843,12.35223],[14.22215,12.36533],[14.17523,12.41916],[14.20204,12.53405],[14.08251,13.0797],[13.6302,13.71094],[13.33213,13.71195],[13.19844,13.52802],[13.05085,13.53984],[12.87376,13.48919],[12.6793,13.29157],[12.58033,13.27805],[12.47095,13.06673],[12.19315,13.12423],[12.16189,13.10056],[12.04209,13.14452],[11.88236,13.2527],[11.4535,13.37773],[10.66004,13.36422],[10.46731,13.28819],[10.19993,13.27129],[10.00373,13.18171],[9.65995,12.80614],[8.97413,12.83661],[8.64251,12.93985],[8.60431,13.01768],[8.49493,13.07519],[8.41853,13.06166],[8.25185,13.20369],[8.07997,13.30847],[7.81085,13.34902],[7.39241,13.09717],[7.22399,13.1293],[7.12676,13.02445],[7.0521,13.00076],[6.94445,12.99825],[6.69617,13.34057],[6.43053,13.6006],[6.27411,13.67835],[6.15771,13.64564]]]]}},{type:"Feature",properties:{iso1A2:"NI",iso1A3:"NIC",iso1N3:"558",wikidata:"Q811",nameEn:"Nicaragua",groups:["013","003","419","019","UN"],callingCodes:["505"]},geometry:{type:"MultiPolygon",coordinates:[[[[-83.13724,15.00002],[-83.49268,15.01158],[-83.62101,14.89448],[-83.89551,14.76697],[-84.10584,14.76353],[-84.48373,14.63249],[-84.70119,14.68078],[-84.82596,14.82212],[-84.90082,14.80489],[-85.1575,14.53934],[-85.18602,14.24929],[-85.32149,14.2562],[-85.45762,14.11304],[-85.73964,13.9698],[-85.75477,13.8499],[-86.03458,13.99181],[-86.00685,14.08474],[-86.14801,14.04317],[-86.35219,13.77157],[-86.76812,13.79605],[-86.71267,13.30348],[-86.87066,13.30641],[-86.93383,13.18677],[-86.93197,13.05313],[-87.03785,12.98682],[-87.06306,13.00892],[-87.37107,12.98646],[-87.55124,13.12523],[-87.7346,13.13228],[-88.11443,12.63306],[-86.14524,11.09059],[-85.71223,11.06868],[-85.60529,11.22607],[-84.92439,10.9497],[-84.68197,11.07568],[-83.90838,10.71161],[-83.66597,10.79916],[-83.68276,11.01562],[-82.56142,11.91792],[-82.06974,14.49418],[-83.04763,15.03256],[-83.13724,15.00002]]]]}},{type:"Feature",properties:{iso1A2:"NL",iso1A3:"NLD",iso1N3:"528",wikidata:"Q29999",nameEn:"Kingdom of the Netherlands"},geometry:null},{type:"Feature",properties:{iso1A2:"NO",iso1A3:"NOR",iso1N3:"578",wikidata:"Q20",nameEn:"Norway"},geometry:null},{type:"Feature",properties:{iso1A2:"NP",iso1A3:"NPL",iso1N3:"524",wikidata:"Q837",nameEn:"Nepal",groups:["034","142","UN"],driveSide:"left",callingCodes:["977"]},geometry:{type:"MultiPolygon",coordinates:[[[[88.13378,27.88015],[87.82681,27.95248],[87.72718,27.80938],[87.56996,27.84517],[87.11696,27.84104],[87.03757,27.94835],[86.75582,28.04182],[86.74181,28.10638],[86.56265,28.09569],[86.51609,27.96623],[86.42736,27.91122],[86.22966,27.9786],[86.18607,28.17364],[86.088,28.09264],[86.08333,28.02121],[86.12069,27.93047],[86.06309,27.90021],[85.94946,27.9401],[85.97813,27.99023],[85.90743,28.05144],[85.84672,28.18187],[85.74864,28.23126],[85.71907,28.38064],[85.69105,28.38475],[85.60854,28.25045],[85.59765,28.30529],[85.4233,28.32996],[85.38127,28.28336],[85.10729,28.34092],[85.18668,28.54076],[85.19135,28.62825],[85.06059,28.68562],[84.85511,28.58041],[84.62317,28.73887],[84.47528,28.74023],[84.2231,28.89571],[84.24801,29.02783],[84.18107,29.23451],[83.97559,29.33091],[83.82303,29.30513],[83.63156,29.16249],[83.44787,29.30513],[83.28131,29.56813],[83.07116,29.61957],[82.73024,29.81695],[82.5341,29.9735],[82.38622,30.02608],[82.16984,30.0692],[82.19475,30.16884],[82.10757,30.23745],[82.10135,30.35439],[81.99082,30.33423],[81.62033,30.44703],[81.5459,30.37688],[81.41018,30.42153],[81.39928,30.21862],[81.33355,30.15303],[81.2623,30.14596],[81.29032,30.08806],[81.24362,30.0126],[81.12842,30.01395],[81.03953,30.20059],[80.92547,30.17193],[80.91143,30.22173],[80.86673,30.17321],[80.8778,30.13384],[80.67076,29.95732],[80.60226,29.95732],[80.57179,29.91422],[80.56247,29.86661],[80.48997,29.79566],[80.43458,29.80466],[80.41554,29.79451],[80.36803,29.73865],[80.38428,29.68513],[80.41858,29.63581],[80.37939,29.57098],[80.24322,29.44299],[80.31428,29.30784],[80.28626,29.20327],[80.24112,29.21414],[80.26602,29.13938],[80.23178,29.11626],[80.18085,29.13649],[80.05743,28.91479],[80.06957,28.82763],[80.12125,28.82346],[80.37188,28.63371],[80.44504,28.63098],[80.52443,28.54897],[80.50575,28.6706],[80.55142,28.69182],[81.03471,28.40054],[81.19847,28.36284],[81.32923,28.13521],[81.38683,28.17638],[81.48179,28.12148],[81.47867,28.08303],[81.91223,27.84995],[81.97214,27.93322],[82.06554,27.92222],[82.46405,27.6716],[82.70378,27.72122],[82.74119,27.49838],[82.93261,27.50328],[82.94938,27.46036],[83.19413,27.45632],[83.27197,27.38309],[83.2673,27.36235],[83.29999,27.32778],[83.35136,27.33885],[83.38872,27.39276],[83.39495,27.4798],[83.61288,27.47013],[83.85595,27.35797],[83.86182,27.4241],[83.93306,27.44939],[84.02229,27.43836],[84.10791,27.52399],[84.21376,27.45218],[84.25735,27.44941],[84.29315,27.39],[84.62161,27.33885],[84.69166,27.21294],[84.64496,27.04669],[84.793,26.9968],[84.82913,27.01989],[84.85754,26.98984],[84.96687,26.95599],[84.97186,26.9149],[85.00536,26.89523],[85.05592,26.88991],[85.02635,26.85381],[85.15883,26.86966],[85.19291,26.86909],[85.18046,26.80519],[85.21159,26.75933],[85.34302,26.74954],[85.47752,26.79292],[85.56471,26.84133],[85.5757,26.85955],[85.59461,26.85161],[85.61621,26.86721],[85.66239,26.84822],[85.73483,26.79613],[85.72315,26.67471],[85.76907,26.63076],[85.83126,26.61134],[85.85126,26.60866],[85.8492,26.56667],[86.02729,26.66756],[86.13596,26.60651],[86.22513,26.58863],[86.26235,26.61886],[86.31564,26.61925],[86.49726,26.54218],[86.54258,26.53819],[86.57073,26.49825],[86.61313,26.48658],[86.62686,26.46891],[86.69124,26.45169],[86.74025,26.42386],[86.76797,26.45892],[86.82898,26.43919],[86.94543,26.52076],[86.95912,26.52076],[87.01559,26.53228],[87.04691,26.58685],[87.0707,26.58571],[87.09147,26.45039],[87.14751,26.40542],[87.18863,26.40558],[87.24682,26.4143],[87.26587,26.40592],[87.26568,26.37294],[87.34568,26.34787],[87.37314,26.40815],[87.46566,26.44058],[87.51571,26.43106],[87.55274,26.40596],[87.59175,26.38342],[87.66803,26.40294],[87.67893,26.43501],[87.76004,26.40711],[87.7918,26.46737],[87.84193,26.43663],[87.89085,26.48565],[87.90115,26.44923],[88.00895,26.36029],[88.09414,26.43732],[88.09963,26.54195],[88.16452,26.64111],[88.1659,26.68177],[88.19107,26.75516],[88.12302,26.95324],[88.13422,26.98705],[88.11719,26.98758],[87.9887,27.11045],[88.01587,27.21388],[88.01646,27.21612],[88.07277,27.43007],[88.04008,27.49223],[88.19107,27.79285],[88.1973,27.85067],[88.13378,27.88015]]]]}},{type:"Feature",properties:{iso1A2:"NR",iso1A3:"NRU",iso1N3:"520",wikidata:"Q697",nameEn:"Nauru",groups:["057","009","UN"],driveSide:"left",callingCodes:["674"]},geometry:{type:"MultiPolygon",coordinates:[[[[166.95155,.14829],[166.21778,-.7977],[167.60042,-.88259],[166.95155,.14829]]]]}},{type:"Feature",properties:{iso1A2:"NU",iso1A3:"NIU",iso1N3:"570",wikidata:"Q34020",nameEn:"Niue",country:"NZ",groups:["061","009","UN"],driveSide:"left",callingCodes:["683"]},geometry:{type:"MultiPolygon",coordinates:[[[[-170.83899,-18.53439],[-170.82274,-20.44429],[-168.63096,-18.60489],[-170.83899,-18.53439]]]]}},{type:"Feature",properties:{iso1A2:"NZ",iso1A3:"NZL",iso1N3:"554",wikidata:"Q664",nameEn:"New Zealand"},geometry:null},{type:"Feature",properties:{iso1A2:"OM",iso1A3:"OMN",iso1N3:"512",wikidata:"Q842",nameEn:"Oman",groups:["145","142","UN"],callingCodes:["968"]},geometry:{type:"MultiPolygon",coordinates:[[[[56.82555,25.7713],[56.79239,26.41236],[56.68954,26.76645],[56.2644,26.58649],[55.81777,26.18798],[56.08666,26.05038],[56.15498,26.06828],[56.19334,25.9795],[56.13963,25.82765],[56.17416,25.77239],[56.13579,25.73524],[56.14826,25.66351],[56.18363,25.65508],[56.20473,25.61119],[56.25365,25.60211],[56.26636,25.60643],[56.25341,25.61443],[56.26534,25.62825],[56.82555,25.7713]]],[[[56.26062,25.33108],[56.23362,25.31253],[56.25008,25.28843],[56.24465,25.27505],[56.20838,25.25668],[56.20872,25.24104],[56.24341,25.22867],[56.27628,25.23404],[56.34438,25.26653],[56.35172,25.30681],[56.3111,25.30107],[56.3005,25.31815],[56.26062,25.33108]],[[56.28423,25.26344],[56.27086,25.26128],[56.2716,25.27916],[56.28102,25.28486],[56.29379,25.2754],[56.28423,25.26344]]],[[[61.45114,22.55394],[56.86325,25.03856],[56.3227,24.97284],[56.34873,24.93205],[56.30269,24.88334],[56.20568,24.85063],[56.20062,24.78565],[56.13684,24.73699],[56.06128,24.74457],[56.03535,24.81161],[55.97836,24.87673],[55.97467,24.89639],[56.05106,24.87461],[56.05715,24.95727],[55.96316,25.00857],[55.90849,24.96771],[55.85094,24.96858],[55.81116,24.9116],[55.81348,24.80102],[55.83408,24.77858],[55.83271,24.68567],[55.76461,24.5287],[55.83271,24.41521],[55.83395,24.32776],[55.80747,24.31069],[55.79145,24.27914],[55.76781,24.26209],[55.75939,24.26114],[55.75382,24.2466],[55.75257,24.23466],[55.76558,24.23227],[55.77658,24.23476],[55.83367,24.20193],[55.95472,24.2172],[56.01799,24.07426],[55.8308,24.01633],[55.73301,24.05994],[55.48677,23.94946],[55.57358,23.669],[55.22634,23.10378],[55.2137,22.71065],[55.66469,21.99658],[54.99756,20.00083],[52.00311,19.00083],[52.78009,17.35124],[52.74267,17.29519],[52.81185,17.28568],[57.49095,8.14549],[61.45114,22.55394]]]]}},{type:"Feature",properties:{iso1A2:"PA",iso1A3:"PAN",iso1N3:"591",wikidata:"Q804",nameEn:"Panama",groups:["013","003","419","019","UN"],callingCodes:["507"]},geometry:{type:"MultiPolygon",coordinates:[[[[-77.32389,8.81247],[-77.58292,9.22278],[-78.79327,9.93766],[-82.51044,9.65379],[-82.56507,9.57279],[-82.61345,9.49881],[-82.66667,9.49746],[-82.77206,9.59573],[-82.87919,9.62645],[-82.84871,9.4973],[-82.93516,9.46741],[-82.93516,9.07687],[-82.72126,8.97125],[-82.88253,8.83331],[-82.91377,8.774],[-82.92068,8.74832],[-82.8794,8.6981],[-82.82739,8.60153],[-82.83975,8.54755],[-82.83322,8.52464],[-82.8382,8.48117],[-82.8679,8.44042],[-82.93056,8.43465],[-83.05209,8.33394],[-82.9388,8.26634],[-82.88641,8.10219],[-82.89137,8.05755],[-82.89978,8.04083],[-82.94503,7.93865],[-82.13751,6.97312],[-78.06168,7.07793],[-77.89178,7.22681],[-77.81426,7.48319],[-77.72157,7.47612],[-77.72514,7.72348],[-77.57185,7.51147],[-77.17257,7.97422],[-77.45064,8.49991],[-77.32389,8.81247]]]]}},{type:"Feature",properties:{iso1A2:"PE",iso1A3:"PER",iso1N3:"604",wikidata:"Q419",nameEn:"Peru",groups:["005","419","019","UN"],callingCodes:["51"]},geometry:{type:"MultiPolygon",coordinates:[[[[-74.26675,-.97229],[-74.42701,-.50218],[-75.18513,-.0308],[-75.25764,-.11943],[-75.40192,-.17196],[-75.61997,-.10012],[-75.60169,-.18708],[-75.53615,-.19213],[-75.22862,-.60048],[-75.22862,-.95588],[-75.3872,-.9374],[-75.57429,-1.55961],[-76.05203,-2.12179],[-76.6324,-2.58397],[-77.94147,-3.05454],[-78.19369,-3.36431],[-78.14324,-3.47653],[-78.22642,-3.51113],[-78.24589,-3.39907],[-78.34362,-3.38633],[-78.68394,-4.60754],[-78.85149,-4.66795],[-79.01659,-5.01481],[-79.1162,-4.97774],[-79.26248,-4.95167],[-79.59402,-4.46848],[-79.79722,-4.47558],[-80.13945,-4.29786],[-80.39256,-4.48269],[-80.46386,-4.41516],[-80.32114,-4.21323],[-80.45023,-4.20938],[-80.4822,-4.05477],[-80.46386,-4.01342],[-80.13232,-3.90317],[-80.19926,-3.68894],[-80.18741,-3.63994],[-80.19848,-3.59249],[-80.21642,-3.5888],[-80.20535,-3.51667],[-80.22629,-3.501],[-80.23651,-3.48652],[-80.24586,-3.48677],[-80.24123,-3.46124],[-80.20647,-3.431],[-80.30602,-3.39149],[-84.52388,-3.36941],[-85.71054,-21.15413],[-70.59118,-18.35072],[-70.378,-18.3495],[-70.31267,-18.31258],[-70.16394,-18.31737],[-69.96732,-18.25992],[-69.81607,-18.12582],[-69.75305,-17.94605],[-69.82868,-17.72048],[-69.79087,-17.65563],[-69.66483,-17.65083],[-69.46897,-17.4988],[-69.46863,-17.37466],[-69.62883,-17.28142],[-69.16896,-16.72233],[-69.00853,-16.66769],[-69.04027,-16.57214],[-68.98358,-16.42165],[-68.79464,-16.33272],[-68.96238,-16.194],[-69.09986,-16.22693],[-69.20291,-16.16668],[-69.40336,-15.61358],[-69.14856,-15.23478],[-69.36254,-14.94634],[-68.88135,-14.18639],[-69.05265,-13.68546],[-68.8864,-13.40792],[-68.85615,-12.87769],[-68.65044,-12.50689],[-68.98115,-11.8979],[-69.57156,-10.94555],[-69.57835,-10.94051],[-69.90896,-10.92744],[-70.38791,-11.07096],[-70.51395,-10.92249],[-70.64134,-11.0108],[-70.62487,-9.80666],[-70.55429,-9.76692],[-70.58453,-9.58303],[-70.53373,-9.42628],[-71.23394,-9.9668],[-72.14742,-9.98049],[-72.31883,-9.5184],[-72.72216,-9.41397],[-73.21498,-9.40904],[-72.92886,-9.04074],[-73.76576,-7.89884],[-73.65485,-7.77897],[-73.96938,-7.58465],[-73.77011,-7.28944],[-73.73986,-6.87919],[-73.12983,-6.43852],[-73.24579,-6.05764],[-72.83973,-5.14765],[-72.64391,-5.0391],[-71.87003,-4.51661],[-70.96814,-4.36915],[-70.77601,-4.15717],[-70.33236,-4.15214],[-70.19582,-4.3607],[-70.11305,-4.27281],[-70.00888,-4.37833],[-69.94708,-4.2431],[-70.3374,-3.79505],[-70.52393,-3.87553],[-70.71396,-3.7921],[-70.04609,-2.73906],[-70.94377,-2.23142],[-71.75223,-2.15058],[-72.92587,-2.44514],[-73.65312,-1.26222],[-74.26675,-.97229]]]]}},{type:"Feature",properties:{iso1A2:"PF",iso1A3:"PYF",iso1N3:"258",wikidata:"Q30971",nameEn:"French Polynesia",country:"FR",groups:["Q1451600","061","009","UN"],callingCodes:["689"]},geometry:{type:"MultiPolygon",coordinates:[[[[-135.59706,-4.70473],[-156.48634,-15.52824],[-156.45576,-31.75456],[-133.59543,-28.4709],[-135.59706,-4.70473]]]]}},{type:"Feature",properties:{iso1A2:"PG",iso1A3:"PNG",iso1N3:"598",wikidata:"Q691",nameEn:"Papua New Guinea",groups:["054","009","UN"],driveSide:"left",callingCodes:["675"]},geometry:{type:"MultiPolygon",coordinates:[[[[141.03157,2.12829],[140.99813,-6.3233],[140.85295,-6.72996],[140.90448,-6.85033],[141.01763,-6.90181],[141.01842,-9.35091],[141.88934,-9.36111],[142.19246,-9.15378],[142.48658,-9.36754],[143.29772,-9.33993],[143.87386,-9.02382],[145.2855,-9.62524],[156.73836,-14.50464],[154.74815,-7.33315],[155.60735,-6.92266],[155.69784,-6.92661],[155.92557,-6.84664],[156.03993,-6.65703],[156.03296,-6.55528],[160.43769,-4.17974],[141.03157,2.12829]]]]}},{type:"Feature",properties:{iso1A2:"PH",iso1A3:"PHL",iso1N3:"608",wikidata:"Q928",nameEn:"Philippines",aliases:["PI","RP"],groups:["035","142","UN"],callingCodes:["63"]},geometry:{type:"MultiPolygon",coordinates:[[[[129.19694,7.84182],[121.8109,21.77688],[120.69238,21.52331],[118.82252,14.67191],[115.39742,10.92666],[116.79524,7.43869],[117.17735,7.52841],[117.93857,6.89845],[117.98544,6.27477],[119.52945,5.35672],[118.93936,4.09009],[118.06469,4.16638],[121.14448,2.12444],[129.19694,7.84182]]]]}},{type:"Feature",properties:{iso1A2:"PK",iso1A3:"PAK",iso1N3:"586",wikidata:"Q843",nameEn:"Pakistan",groups:["034","142","UN"],driveSide:"left",callingCodes:["92"]},geometry:{type:"MultiPolygon",coordinates:[[[[75.72737,36.7529],[75.45562,36.71971],[75.40481,36.95382],[75.13839,37.02622],[74.56453,37.03023],[74.53739,36.96224],[74.43389,37.00977],[74.04856,36.82648],[73.82685,36.91421],[72.6323,36.84601],[72.18135,36.71838],[71.80267,36.49924],[71.60491,36.39429],[71.19505,36.04134],[71.37969,35.95865],[71.55273,35.71483],[71.49917,35.6267],[71.65435,35.4479],[71.54294,35.31037],[71.5541,35.28776],[71.67495,35.21262],[71.52938,35.09023],[71.55273,35.02615],[71.49917,35.00478],[71.50329,34.97328],[71.29472,34.87728],[71.28356,34.80882],[71.08718,34.69034],[71.11602,34.63047],[71.0089,34.54568],[71.02401,34.44835],[71.17662,34.36769],[71.12815,34.26619],[71.13078,34.16503],[71.09453,34.13524],[71.09307,34.11961],[71.06933,34.10564],[71.07345,34.06242],[70.88119,33.97933],[70.54336,33.9463],[69.90203,34.04194],[69.87307,33.9689],[69.85671,33.93719],[70.00503,33.73528],[70.14236,33.71701],[70.14785,33.6553],[70.20141,33.64387],[70.17062,33.53535],[70.32775,33.34496],[70.13686,33.21064],[70.07369,33.22557],[70.02563,33.14282],[69.85259,33.09451],[69.79766,33.13247],[69.71526,33.09911],[69.57656,33.09911],[69.49004,33.01509],[69.49854,32.88843],[69.5436,32.8768],[69.47082,32.85834],[69.38018,32.76601],[69.43649,32.7302],[69.44747,32.6678],[69.38155,32.56601],[69.2868,32.53938],[69.23599,32.45946],[69.27932,32.29119],[69.27032,32.14141],[69.3225,31.93186],[69.20577,31.85957],[69.11514,31.70782],[69.00939,31.62249],[68.95995,31.64822],[68.91078,31.59687],[68.79997,31.61665],[68.6956,31.75687],[68.57475,31.83158],[68.44222,31.76446],[68.27605,31.75863],[68.25614,31.80357],[68.1655,31.82691],[68.00071,31.6564],[67.86887,31.63536],[67.72056,31.52304],[67.58323,31.52772],[67.62374,31.40473],[67.7748,31.4188],[67.78854,31.33203],[67.29964,31.19586],[67.03323,31.24519],[67.04147,31.31561],[66.83273,31.26867],[66.72561,31.20526],[66.68166,31.07597],[66.58175,30.97532],[66.42645,30.95309],[66.39194,30.9408],[66.28413,30.57001],[66.34869,30.404],[66.23609,30.06321],[66.36042,29.9583],[66.24175,29.85181],[65.04005,29.53957],[64.62116,29.58903],[64.19796,29.50407],[64.12966,29.39157],[63.5876,29.50456],[62.47751,29.40782],[60.87231,29.86514],[61.31508,29.38903],[61.53765,29.00507],[61.65978,28.77937],[61.93581,28.55284],[62.40259,28.42703],[62.59499,28.24842],[62.79412,28.28108],[62.7638,28.02992],[62.84905,27.47627],[62.79684,27.34381],[62.80604,27.22412],[63.19649,27.25674],[63.32283,27.14437],[63.25005,27.08692],[63.25005,26.84212],[63.18688,26.83844],[63.1889,26.65072],[62.77352,26.64099],[62.31484,26.528],[62.21304,26.26601],[62.05117,26.31647],[61.89391,26.26251],[61.83831,26.07249],[61.83968,25.7538],[61.683,25.66638],[61.6433,25.27541],[61.46682,24.57869],[68.11329,23.53945],[68.20763,23.85849],[68.39339,23.96838],[68.74643,23.97027],[68.7416,24.31904],[68.90914,24.33156],[68.97781,24.26021],[69.07806,24.29777],[69.19341,24.25646],[69.29778,24.28712],[69.59579,24.29777],[69.73335,24.17007],[70.03428,24.172],[70.11712,24.30915],[70.5667,24.43787],[70.57906,24.27774],[70.71502,24.23517],[70.88393,24.27398],[70.85784,24.30903],[70.94985,24.3791],[71.04461,24.34657],[71.12838,24.42662],[71.00341,24.46038],[70.97594,24.60904],[71.09405,24.69017],[70.94002,24.92843],[70.89148,25.15064],[70.66695,25.39314],[70.67382,25.68186],[70.60378,25.71898],[70.53649,25.68928],[70.37444,25.67443],[70.2687,25.71156],[70.0985,25.93238],[70.08193,26.08094],[70.17532,26.24118],[70.17532,26.55362],[70.05584,26.60398],[69.88555,26.56836],[69.50904,26.74892],[69.58519,27.18109],[70.03136,27.56627],[70.12502,27.8057],[70.37307,28.01208],[70.60927,28.02178],[70.79054,27.68423],[71.89921,27.96035],[71.9244,28.11555],[72.20329,28.3869],[72.29495,28.66367],[72.40402,28.78283],[72.94272,29.02487],[73.01337,29.16422],[73.05886,29.1878],[73.28094,29.56646],[73.3962,29.94707],[73.58665,30.01848],[73.80299,30.06969],[73.97225,30.19829],[73.95736,30.28466],[73.88993,30.36305],[74.5616,31.04153],[74.67971,31.05479],[74.6852,31.12771],[74.60006,31.13711],[74.60281,31.10419],[74.56023,31.08303],[74.51629,31.13829],[74.53223,31.30321],[74.59773,31.4136],[74.64713,31.45605],[74.59319,31.50197],[74.61517,31.55698],[74.57498,31.60382],[74.47771,31.72227],[74.58907,31.87824],[74.79919,31.95983],[74.86236,32.04485],[74.9269,32.0658],[75.00793,32.03786],[75.25649,32.10187],[75.38046,32.26836],[75.28259,32.36556],[75.03265,32.49538],[74.97634,32.45367],[74.84725,32.49075],[74.68362,32.49298],[74.67431,32.56676],[74.65251,32.56416],[74.64424,32.60985],[74.69542,32.66792],[74.65345,32.71225],[74.7113,32.84219],[74.64675,32.82604],[74.6289,32.75561],[74.45312,32.77755],[74.41467,32.90563],[74.31227,32.92795],[74.34875,32.97823],[74.31854,33.02891],[74.17571,33.07495],[74.15374,33.13477],[74.02144,33.18908],[74.01366,33.25199],[74.08782,33.26232],[74.17983,33.3679],[74.18121,33.4745],[74.10115,33.56392],[74.03576,33.56718],[73.97367,33.64061],[73.98968,33.66155],[73.96423,33.73071],[74.00891,33.75437],[74.05898,33.82089],[74.14001,33.83002],[74.26086,33.92237],[74.25262,34.01577],[74.21554,34.03853],[73.91341,34.01235],[73.88732,34.05105],[73.90677,34.10504],[73.98208,34.2522],[73.90517,34.35317],[73.8475,34.32935],[73.74862,34.34183],[73.74999,34.3781],[73.88732,34.48911],[73.89419,34.54568],[73.93951,34.57169],[73.93401,34.63386],[73.96423,34.68244],[74.12897,34.70073],[74.31239,34.79626],[74.58083,34.77386],[74.6663,34.703],[75.01479,34.64629],[75.38009,34.55021],[75.75438,34.51827],[76.04614,34.67566],[76.15463,34.6429],[76.47186,34.78965],[76.67648,34.76371],[76.74377,34.84039],[76.74514,34.92488],[76.87193,34.96906],[76.99251,34.93349],[77.11796,35.05419],[76.93465,35.39866],[76.85088,35.39754],[76.75475,35.52617],[76.77323,35.66062],[76.50961,35.8908],[76.33453,35.84296],[76.14913,35.82848],[76.15325,35.9264],[75.93028,36.13136],[76.00906,36.17511],[76.0324,36.41198],[75.92391,36.56986],[75.72737,36.7529]]]]}},{type:"Feature",properties:{iso1A2:"PL",iso1A3:"POL",iso1N3:"616",wikidata:"Q36",nameEn:"Poland",groups:["EU","151","150","UN"],callingCodes:["48"]},geometry:{type:"MultiPolygon",coordinates:[[[[18.57853,55.25302],[14.20811,54.12784],[14.22634,53.9291],[14.20647,53.91671],[14.18544,53.91258],[14.20823,53.90776],[14.21323,53.8664],[14.27249,53.74464],[14.26782,53.69866],[14.2836,53.67721],[14.27133,53.66613],[14.28477,53.65955],[14.2853,53.63392],[14.31904,53.61581],[14.30416,53.55499],[14.3273,53.50587],[14.35209,53.49506],[14.4215,53.27724],[14.44133,53.27427],[14.45125,53.26241],[14.40662,53.21098],[14.37853,53.20405],[14.36696,53.16444],[14.38679,53.13669],[14.35044,53.05829],[14.25954,53.00264],[14.14056,52.95786],[14.15873,52.87715],[14.12256,52.84311],[14.13806,52.82392],[14.22071,52.81175],[14.61073,52.59847],[14.6289,52.57136],[14.60081,52.53116],[14.63056,52.48993],[14.54423,52.42568],[14.55228,52.35264],[14.56378,52.33838],[14.58149,52.28007],[14.70139,52.25038],[14.71319,52.22144],[14.68344,52.19612],[14.70616,52.16927],[14.67683,52.13936],[14.6917,52.10283],[14.72971,52.09167],[14.76026,52.06624],[14.71339,52.00337],[14.70488,51.97679],[14.7139,51.95643],[14.71836,51.95606],[14.72163,51.95188],[14.7177,51.94048],[14.70601,51.92944],[14.6933,51.9044],[14.6588,51.88359],[14.59089,51.83302],[14.60493,51.80473],[14.64625,51.79472],[14.66386,51.73282],[14.69065,51.70842],[14.75392,51.67445],[14.75759,51.62318],[14.7727,51.61263],[14.71125,51.56209],[14.73047,51.54606],[14.72652,51.53902],[14.73219,51.52922],[14.94749,51.47155],[14.9652,51.44793],[14.96899,51.38367],[14.98008,51.33449],[15.04288,51.28387],[15.01242,51.21285],[15.0047,51.16874],[14.99311,51.16249],[14.99414,51.15813],[15.00083,51.14974],[14.99646,51.14365],[14.99079,51.14284],[14.99689,51.12205],[14.98229,51.11354],[14.97938,51.07742],[14.95529,51.04552],[14.92942,50.99744],[14.89252,50.94999],[14.89681,50.9422],[14.81664,50.88148],[14.82803,50.86966],[14.99852,50.86817],[15.01088,50.97984],[14.96419,50.99108],[15.02433,51.0242],[15.03895,51.0123],[15.06218,51.02269],[15.10152,51.01095],[15.11937,50.99021],[15.16744,51.01959],[15.1743,50.9833],[15.2361,50.99886],[15.27043,50.97724],[15.2773,50.8907],[15.36656,50.83956],[15.3803,50.77187],[15.43798,50.80833],[15.73186,50.73885],[15.81683,50.75666],[15.87331,50.67188],[15.97219,50.69799],[16.0175,50.63009],[15.98317,50.61528],[16.02437,50.60046],[16.10265,50.66405],[16.20839,50.63096],[16.23174,50.67101],[16.33611,50.66579],[16.44597,50.58041],[16.34572,50.49575],[16.31413,50.50274],[16.19526,50.43291],[16.21585,50.40627],[16.22821,50.41054],[16.28118,50.36891],[16.30289,50.38292],[16.36495,50.37679],[16.3622,50.34875],[16.39379,50.3207],[16.42674,50.32509],[16.56407,50.21009],[16.55446,50.16613],[16.63137,50.1142],[16.7014,50.09659],[16.8456,50.20834],[16.98018,50.24172],[17.00353,50.21449],[17.02825,50.23118],[16.99803,50.25753],[17.02138,50.27772],[16.99803,50.30316],[16.94448,50.31281],[16.90877,50.38642],[16.85933,50.41093],[16.89229,50.45117],[17.1224,50.39494],[17.14498,50.38117],[17.19579,50.38817],[17.19991,50.3654],[17.27681,50.32246],[17.34273,50.32947],[17.34548,50.2628],[17.3702,50.28123],[17.58889,50.27837],[17.67764,50.28977],[17.69292,50.32859],[17.74648,50.29966],[17.72176,50.25665],[17.76296,50.23382],[17.70528,50.18812],[17.59404,50.16437],[17.66683,50.10275],[17.6888,50.12037],[17.7506,50.07896],[17.77669,50.02253],[17.86886,49.97452],[18.00191,50.01723],[18.04585,50.01194],[18.04585,50.03311],[18.00396,50.04954],[18.03212,50.06574],[18.07898,50.04535],[18.10628,50.00223],[18.20241,49.99958],[18.21752,49.97309],[18.27107,49.96779],[18.27794,49.93863],[18.31914,49.91565],[18.33278,49.92415],[18.33562,49.94747],[18.41604,49.93498],[18.53423,49.89906],[18.54495,49.9079],[18.54299,49.92537],[18.57697,49.91565],[18.57045,49.87849],[18.60341,49.86256],[18.57183,49.83334],[18.61278,49.7618],[18.61368,49.75426],[18.62645,49.75002],[18.62943,49.74603],[18.62676,49.71983],[18.69817,49.70473],[18.72838,49.68163],[18.80479,49.6815],[18.84786,49.5446],[18.84521,49.51672],[18.94536,49.52143],[18.97283,49.49914],[18.9742,49.39557],[19.18019,49.41165],[19.25435,49.53391],[19.36009,49.53747],[19.37795,49.574],[19.45348,49.61583],[19.52626,49.57311],[19.53313,49.52856],[19.57845,49.46077],[19.64162,49.45184],[19.6375,49.40897],[19.72127,49.39288],[19.78581,49.41701],[19.82237,49.27806],[19.75286,49.20751],[19.86409,49.19316],[19.90529,49.23532],[19.98494,49.22904],[20.08238,49.1813],[20.13738,49.31685],[20.21977,49.35265],[20.31453,49.34817],[20.31728,49.39914],[20.39939,49.3896],[20.46422,49.41612],[20.5631,49.375],[20.61666,49.41791],[20.72274,49.41813],[20.77971,49.35383],[20.9229,49.29626],[20.98733,49.30774],[21.09799,49.37176],[21.041,49.41791],[21.12477,49.43666],[21.19756,49.4054],[21.27858,49.45988],[21.43376,49.41433],[21.62328,49.4447],[21.77983,49.35443],[21.82927,49.39467],[21.96385,49.3437],[22.04427,49.22136],[22.56155,49.08865],[22.89122,49.00725],[22.86336,49.10513],[22.72009,49.20288],[22.748,49.32759],[22.69444,49.49378],[22.64534,49.53094],[22.78304,49.65543],[22.80261,49.69098],[22.83179,49.69875],[22.99329,49.84249],[23.28221,50.0957],[23.67635,50.33385],[23.71382,50.38248],[23.79445,50.40481],[23.99563,50.41289],[24.03668,50.44507],[24.07048,50.5071],[24.0996,50.60752],[24.0595,50.71625],[23.95925,50.79271],[23.99254,50.83847],[24.0952,50.83262],[24.14524,50.86128],[24.04576,50.90196],[23.92217,51.00836],[23.90376,51.07697],[23.80678,51.18405],[23.63858,51.32182],[23.69905,51.40871],[23.62751,51.50512],[23.56236,51.53673],[23.57053,51.55938],[23.53198,51.74298],[23.62691,51.78208],[23.61523,51.92066],[23.68733,51.9906],[23.64066,52.07626],[23.61,52.11264],[23.54314,52.12148],[23.47859,52.18215],[23.20071,52.22848],[23.18196,52.28812],[23.34141,52.44845],[23.45112,52.53774],[23.58296,52.59868],[23.73615,52.6149],[23.93763,52.71332],[23.91805,52.94016],[23.94689,52.95919],[23.92184,53.02079],[23.87548,53.0831],[23.91393,53.16469],[23.85657,53.22923],[23.81995,53.24131],[23.62004,53.60942],[23.51284,53.95052],[23.48261,53.98855],[23.52702,54.04622],[23.49196,54.14764],[23.45223,54.17775],[23.42418,54.17911],[23.39525,54.21672],[23.3494,54.25155],[23.24656,54.25701],[23.15938,54.29894],[23.15526,54.31076],[23.13905,54.31567],[23.104,54.29794],[23.04323,54.31567],[23.05726,54.34565],[22.99649,54.35927],[23.00584,54.38514],[22.83756,54.40827],[22.79705,54.36264],[21.41123,54.32395],[20.63871,54.3706],[19.8038,54.44203],[19.64312,54.45423],[18.57853,55.25302]]]]}},{type:"Feature",properties:{iso1A2:"PM",iso1A3:"SPM",iso1N3:"666",wikidata:"Q34617",nameEn:"Saint Pierre and Miquelon",country:"FR",groups:["Q1451600","021","003","019","UN"],callingCodes:["508"]},geometry:{type:"MultiPolygon",coordinates:[[[[-56.72993,46.65575],[-55.90758,46.6223],[-56.27503,47.39728],[-56.72993,46.65575]]]]}},{type:"Feature",properties:{iso1A2:"PN",iso1A3:"PCN",iso1N3:"612",wikidata:"Q35672",nameEn:"Pitcairn Islands",country:"GB",groups:["BOTS","061","009","UN"],driveSide:"left",callingCodes:["64"]},geometry:{type:"MultiPolygon",coordinates:[[[[-133.59543,-28.4709],[-122.0366,-24.55017],[-133.61511,-21.93325],[-133.59543,-28.4709]]]]}},{type:"Feature",properties:{iso1A2:"PR",iso1A3:"PRI",iso1N3:"630",wikidata:"Q1183",nameEn:"Puerto Rico",aliases:["US-PR"],country:"US",groups:["Q1352230","029","003","419","019","UN"],roadSpeedUnit:"mph",callingCodes:["1 787","1 939"]},geometry:{type:"MultiPolygon",coordinates:[[[[-65.27974,17.56928],[-65.02435,18.73231],[-67.99519,18.97186],[-68.23894,17.84663],[-65.27974,17.56928]]]]}},{type:"Feature",properties:{iso1A2:"PS",iso1A3:"PSE",iso1N3:"275",wikidata:"Q219060",nameEn:"Palestine"},geometry:null},{type:"Feature",properties:{iso1A2:"PT",iso1A3:"PRT",iso1N3:"620",wikidata:"Q45",nameEn:"Portugal"},geometry:null},{type:"Feature",properties:{iso1A2:"PW",iso1A3:"PLW",iso1N3:"585",wikidata:"Q695",nameEn:"Palau",groups:["057","009","UN"],roadSpeedUnit:"mph",callingCodes:["680"]},geometry:{type:"MultiPolygon",coordinates:[[[[128.97621,3.08804],[136.39296,1.54187],[136.04605,12.45908],[128.97621,3.08804]]]]}},{type:"Feature",properties:{iso1A2:"PY",iso1A3:"PRY",iso1N3:"600",wikidata:"Q733",nameEn:"Paraguay",groups:["005","419","019","UN"],callingCodes:["595"]},geometry:{type:"MultiPolygon",coordinates:[[[[-58.16225,-20.16193],[-58.23216,-19.80058],[-59.06965,-19.29148],[-60.00638,-19.2981],[-61.73723,-19.63958],[-61.93912,-20.10053],[-62.26883,-20.55311],[-62.2757,-21.06657],[-62.64455,-22.25091],[-62.51761,-22.37684],[-62.22768,-22.55807],[-61.9756,-23.0507],[-61.0782,-23.62932],[-60.99754,-23.80934],[-60.28163,-24.04436],[-60.03367,-24.00701],[-59.45482,-24.34787],[-59.33886,-24.49935],[-58.33055,-24.97099],[-58.25492,-24.92528],[-57.80821,-25.13863],[-57.57431,-25.47269],[-57.87176,-25.93604],[-58.1188,-26.16704],[-58.3198,-26.83443],[-58.65321,-27.14028],[-58.59549,-27.29973],[-58.04205,-27.2387],[-56.85337,-27.5165],[-56.18313,-27.29851],[-55.89195,-27.3467],[-55.74475,-27.44485],[-55.59094,-27.32444],[-55.62322,-27.1941],[-55.39611,-26.97679],[-55.25243,-26.93808],[-55.16948,-26.96068],[-55.06351,-26.80195],[-55.00584,-26.78754],[-54.80868,-26.55669],[-54.70732,-26.45099],[-54.69333,-26.37705],[-54.67359,-25.98607],[-54.60664,-25.9691],[-54.62063,-25.91213],[-54.59398,-25.59224],[-54.59509,-25.53696],[-54.60196,-25.48397],[-54.62033,-25.46026],[-54.4423,-25.13381],[-54.28207,-24.07305],[-54.32807,-24.01865],[-54.6238,-23.83078],[-55.02691,-23.97317],[-55.0518,-23.98666],[-55.12292,-23.99669],[-55.41784,-23.9657],[-55.44117,-23.9185],[-55.43585,-23.87157],[-55.5555,-23.28237],[-55.52288,-23.2595],[-55.5446,-23.22811],[-55.63849,-22.95122],[-55.62493,-22.62765],[-55.68742,-22.58407],[-55.6986,-22.56268],[-55.72366,-22.5519],[-55.741,-22.52018],[-55.74941,-22.46436],[-55.8331,-22.29008],[-56.23206,-22.25347],[-56.45893,-22.08072],[-56.5212,-22.11556],[-56.6508,-22.28387],[-57.98625,-22.09157],[-57.94642,-21.73799],[-57.88239,-21.6868],[-57.93492,-21.65505],[-57.84536,-20.93155],[-58.16225,-20.16193]]]]}},{type:"Feature",properties:{iso1A2:"QA",iso1A3:"QAT",iso1N3:"634",wikidata:"Q846",nameEn:"Qatar",groups:["145","142","UN"],callingCodes:["974"]},geometry:{type:"MultiPolygon",coordinates:[[[[50.92992,24.54396],[51.09638,24.46907],[51.29972,24.50747],[51.39468,24.62785],[51.58834,24.66608],[51.83108,24.71675],[51.83682,26.70231],[50.93865,26.30758],[50.81266,25.88946],[50.86149,25.6965],[50.7801,25.595],[50.80824,25.54641],[50.57069,25.57887],[50.8133,24.74049],[50.92992,24.54396]]]]}},{type:"Feature",properties:{iso1A2:"RE",iso1A3:"REU",iso1N3:"638",wikidata:"Q17070",nameEn:"R\xE9union",country:"FR",groups:["Q3320166","EU","014","202","002","UN"],callingCodes:["262"]},geometry:{type:"MultiPolygon",coordinates:[[[[53.37984,-21.23941],[56.73473,-21.9174],[56.62373,-20.2711],[53.37984,-21.23941]]]]}},{type:"Feature",properties:{iso1A2:"RO",iso1A3:"ROU",iso1N3:"642",wikidata:"Q218",nameEn:"Romania",groups:["EU","151","150","UN"],callingCodes:["40"]},geometry:{type:"MultiPolygon",coordinates:[[[[27.15622,47.98538],[27.02985,48.09083],[27.04118,48.12522],[26.96119,48.13003],[26.98042,48.15752],[26.94265,48.1969],[26.87708,48.19919],[26.81161,48.25049],[26.62823,48.25804],[26.55202,48.22445],[26.33504,48.18418],[26.17711,47.99246],[26.05901,47.9897],[25.77723,47.93919],[25.63878,47.94924],[25.23778,47.89403],[25.11144,47.75203],[24.88896,47.7234],[24.81893,47.82031],[24.70632,47.84428],[24.61994,47.95062],[24.43578,47.97131],[24.34926,47.9244],[24.22566,47.90231],[24.11281,47.91487],[24.06466,47.95317],[24.02999,47.95087],[24.00801,47.968],[23.98553,47.96076],[23.96337,47.96672],[23.94192,47.94868],[23.89352,47.94512],[23.8602,47.9329],[23.80904,47.98142],[23.75188,47.99705],[23.66262,47.98786],[23.63894,48.00293],[23.5653,48.00499],[23.52803,48.01818],[23.4979,47.96858],[23.33577,48.0237],[23.27397,48.08245],[23.15999,48.12188],[23.1133,48.08061],[23.08858,48.00716],[23.0158,47.99338],[22.92241,48.02002],[22.94301,47.96672],[22.89849,47.95851],[22.77991,47.87211],[22.76617,47.8417],[22.67247,47.7871],[22.46559,47.76583],[22.41979,47.7391],[22.31816,47.76126],[22.00917,47.50492],[22.03389,47.42508],[22.01055,47.37767],[21.94463,47.38046],[21.78395,47.11104],[21.648,47.03902],[21.68645,46.99595],[21.59581,46.91628],[21.59307,46.86935],[21.52028,46.84118],[21.48935,46.7577],[21.5151,46.72147],[21.43926,46.65109],[21.33214,46.63035],[21.26929,46.4993],[21.28061,46.44941],[21.16872,46.30118],[21.06572,46.24897],[20.86797,46.28884],[20.74574,46.25467],[20.76085,46.21002],[20.63863,46.12728],[20.49718,46.18721],[20.45377,46.14405],[20.35573,46.16629],[20.28324,46.1438],[20.26068,46.12332],[20.35862,45.99356],[20.54818,45.89939],[20.65645,45.82801],[20.70069,45.7493],[20.77416,45.75601],[20.78446,45.78522],[20.82364,45.77738],[20.80361,45.65875],[20.76798,45.60969],[20.83321,45.53567],[20.77217,45.49788],[20.86026,45.47295],[20.87948,45.42743],[21.09894,45.30144],[21.17612,45.32566],[21.20392,45.2677],[21.29398,45.24148],[21.48278,45.19557],[21.51299,45.15345],[21.4505,45.04294],[21.35855,45.01941],[21.54938,44.9327],[21.56328,44.89502],[21.48202,44.87199],[21.44013,44.87613],[21.35643,44.86364],[21.38802,44.78133],[21.55007,44.77304],[21.60019,44.75208],[21.61942,44.67059],[21.67504,44.67107],[21.71692,44.65349],[21.7795,44.66165],[21.99364,44.63395],[22.08016,44.49844],[22.13234,44.47444],[22.18315,44.48179],[22.30844,44.6619],[22.45301,44.7194],[22.61917,44.61489],[22.69196,44.61587],[22.76749,44.54446],[22.70981,44.51852],[22.61368,44.55719],[22.56493,44.53419],[22.54021,44.47836],[22.45436,44.47258],[22.56012,44.30712],[22.68166,44.28206],[22.67173,44.21564],[23.04988,44.07694],[23.01674,44.01946],[22.87873,43.9844],[22.83753,43.88055],[22.85314,43.84452],[23.05288,43.79494],[23.26772,43.84843],[23.4507,43.84936],[23.61687,43.79289],[23.73978,43.80627],[24.18149,43.68218],[24.35364,43.70211],[24.50264,43.76314],[24.62281,43.74082],[24.73542,43.68523],[24.96682,43.72693],[25.10718,43.6831],[25.17144,43.70261],[25.39528,43.61866],[25.72792,43.69263],[25.94911,43.85745],[26.05584,43.90925],[26.10115,43.96908],[26.38764,44.04356],[26.62712,44.05698],[26.95141,44.13555],[27.26845,44.12602],[27.39757,44.0141],[27.60834,44.01206],[27.64542,44.04958],[27.73468,43.95326],[27.92008,44.00761],[27.99558,43.84193],[28.23293,43.76],[29.24336,43.70874],[30.04414,45.08461],[29.69272,45.19227],[29.65428,45.25629],[29.68175,45.26885],[29.59798,45.38857],[29.42632,45.44545],[29.24779,45.43388],[28.96077,45.33164],[28.94292,45.28045],[28.81383,45.3384],[28.78911,45.24179],[28.71358,45.22631],[28.5735,45.24759],[28.34554,45.32102],[28.28504,45.43907],[28.21139,45.46895],[28.18741,45.47358],[28.08927,45.6051],[28.16568,45.6421],[28.13111,45.92819],[28.08612,46.01105],[28.13684,46.18099],[28.10937,46.22852],[28.19864,46.31869],[28.18902,46.35283],[28.25769,46.43334],[28.22281,46.50481],[28.24808,46.64305],[28.12173,46.82283],[28.09095,46.97621],[27.81892,47.1381],[27.73172,47.29248],[27.68706,47.28962],[27.60263,47.32507],[27.55731,47.46637],[27.47942,47.48113],[27.3979,47.59473],[27.32202,47.64009],[27.25519,47.71366],[27.29069,47.73722],[27.1618,47.92391],[27.15622,47.98538]]]]}},{type:"Feature",properties:{iso1A2:"RS",iso1A3:"SRB",iso1N3:"688",wikidata:"Q403",nameEn:"Serbia",groups:["039","150","UN"],callingCodes:["381"]},geometry:{type:"MultiPolygon",coordinates:[[[[19.66007,46.19005],[19.56113,46.16824],[19.52473,46.1171],[19.28826,45.99694],[19.14543,45.9998],[19.10388,46.04015],[19.0791,45.96458],[19.01284,45.96529],[18.99712,45.93537],[18.81394,45.91329],[18.85783,45.85493],[18.90305,45.71863],[18.96691,45.66731],[18.88776,45.57253],[18.94562,45.53712],[19.07471,45.53086],[19.08364,45.48804],[18.99918,45.49333],[18.97446,45.37528],[19.10774,45.29547],[19.28208,45.23813],[19.41941,45.23475],[19.43589,45.17137],[19.19144,45.17863],[19.14063,45.12972],[19.07952,45.14668],[19.1011,45.01191],[19.05205,44.97692],[19.15573,44.95409],[19.06853,44.89915],[19.02871,44.92541],[18.98957,44.90645],[19.01994,44.85493],[19.18183,44.92055],[19.36722,44.88164],[19.32543,44.74058],[19.26388,44.65412],[19.16699,44.52197],[19.13369,44.52521],[19.12278,44.50132],[19.14837,44.45253],[19.14681,44.41463],[19.11785,44.40313],[19.10749,44.39421],[19.10704,44.38249],[19.10365,44.37795],[19.10298,44.36924],[19.11865,44.36712],[19.1083,44.3558],[19.11547,44.34218],[19.13556,44.338],[19.13332,44.31492],[19.16741,44.28648],[19.18328,44.28383],[19.20508,44.2917],[19.23306,44.26097],[19.26945,44.26957],[19.32464,44.27185],[19.34773,44.23244],[19.3588,44.18353],[19.40927,44.16722],[19.43905,44.13088],[19.47338,44.15034],[19.48386,44.14332],[19.47321,44.1193],[19.51167,44.08158],[19.55999,44.06894],[19.57467,44.04716],[19.61991,44.05254],[19.61836,44.01464],[19.56498,43.99922],[19.52515,43.95573],[19.38439,43.96611],[19.24363,44.01502],[19.23465,43.98764],[19.3986,43.79668],[19.5176,43.71403],[19.50455,43.58385],[19.42696,43.57987],[19.41941,43.54056],[19.36653,43.60921],[19.33426,43.58833],[19.2553,43.5938],[19.24774,43.53061],[19.22807,43.5264],[19.22229,43.47926],[19.44315,43.38846],[19.48171,43.32644],[19.52962,43.31623],[19.54598,43.25158],[19.62661,43.2286],[19.64063,43.19027],[19.76918,43.16044],[19.79255,43.11951],[19.92576,43.08539],[19.96549,43.11098],[19.98887,43.0538],[20.04729,43.02732],[20.05431,42.99571],[20.12325,42.96237],[20.14896,42.99058],[20.16415,42.97177],[20.34528,42.90676],[20.35692,42.8335],[20.40594,42.84853],[20.43734,42.83157],[20.53484,42.8885],[20.48692,42.93208],[20.59929,43.01067],[20.64557,43.00826],[20.69515,43.09641],[20.59929,43.20492],[20.68688,43.21335],[20.73811,43.25068],[20.82145,43.26769],[20.88685,43.21697],[20.83727,43.17842],[20.96287,43.12416],[21.00749,43.13984],[21.05378,43.10707],[21.08952,43.13471],[21.14465,43.11089],[21.16734,42.99694],[21.2041,43.02277],[21.23877,43.00848],[21.23534,42.95523],[21.2719,42.8994],[21.32974,42.90424],[21.36941,42.87397],[21.44047,42.87276],[21.39045,42.74888],[21.47498,42.74695],[21.59154,42.72643],[21.58755,42.70418],[21.6626,42.67813],[21.75025,42.70125],[21.79413,42.65923],[21.75672,42.62695],[21.7327,42.55041],[21.70522,42.54176],[21.7035,42.51899],[21.62556,42.45106],[21.64209,42.41081],[21.62887,42.37664],[21.59029,42.38042],[21.57021,42.3647],[21.53467,42.36809],[21.5264,42.33634],[21.56772,42.30946],[21.58992,42.25915],[21.70111,42.23789],[21.77176,42.2648],[21.84654,42.3247],[21.91595,42.30392],[21.94405,42.34669],[22.02908,42.29848],[22.16384,42.32103],[22.29605,42.37477],[22.29275,42.34913],[22.34773,42.31725],[22.45919,42.33822],[22.47498,42.3915],[22.51961,42.3991],[22.55669,42.50144],[22.43983,42.56851],[22.4997,42.74144],[22.43309,42.82057],[22.54302,42.87774],[22.74826,42.88701],[22.78397,42.98253],[22.89521,43.03625],[22.98104,43.11199],[23.00806,43.19279],[22.89727,43.22417],[22.82036,43.33665],[22.53397,43.47225],[22.47582,43.6558],[22.41043,43.69566],[22.35558,43.81281],[22.41449,44.00514],[22.61688,44.06534],[22.61711,44.16938],[22.67173,44.21564],[22.68166,44.28206],[22.56012,44.30712],[22.45436,44.47258],[22.54021,44.47836],[22.56493,44.53419],[22.61368,44.55719],[22.70981,44.51852],[22.76749,44.54446],[22.69196,44.61587],[22.61917,44.61489],[22.45301,44.7194],[22.30844,44.6619],[22.18315,44.48179],[22.13234,44.47444],[22.08016,44.49844],[21.99364,44.63395],[21.7795,44.66165],[21.71692,44.65349],[21.67504,44.67107],[21.61942,44.67059],[21.60019,44.75208],[21.55007,44.77304],[21.38802,44.78133],[21.35643,44.86364],[21.44013,44.87613],[21.48202,44.87199],[21.56328,44.89502],[21.54938,44.9327],[21.35855,45.01941],[21.4505,45.04294],[21.51299,45.15345],[21.48278,45.19557],[21.29398,45.24148],[21.20392,45.2677],[21.17612,45.32566],[21.09894,45.30144],[20.87948,45.42743],[20.86026,45.47295],[20.77217,45.49788],[20.83321,45.53567],[20.76798,45.60969],[20.80361,45.65875],[20.82364,45.77738],[20.78446,45.78522],[20.77416,45.75601],[20.70069,45.7493],[20.65645,45.82801],[20.54818,45.89939],[20.35862,45.99356],[20.26068,46.12332],[20.09713,46.17315],[20.03533,46.14509],[20.01816,46.17696],[19.93508,46.17553],[19.81491,46.1313],[19.66007,46.19005]]]]}},{type:"Feature",properties:{iso1A2:"RU",iso1A3:"RUS",iso1N3:"643",wikidata:"Q159",nameEn:"Russia"},geometry:null},{type:"Feature",properties:{iso1A2:"RW",iso1A3:"RWA",iso1N3:"646",wikidata:"Q1037",nameEn:"Rwanda",groups:["014","202","002","UN"],callingCodes:["250"]},geometry:{type:"MultiPolygon",coordinates:[[[[30.47194,-1.0555],[30.35212,-1.06896],[30.16369,-1.34303],[29.912,-1.48269],[29.82657,-1.31187],[29.59061,-1.39016],[29.53062,-1.40499],[29.45038,-1.5054],[29.36322,-1.50887],[29.24323,-1.66826],[29.24458,-1.69663],[29.11847,-1.90576],[29.17562,-2.12278],[29.105,-2.27043],[29.00051,-2.29001],[28.95642,-2.37321],[28.89601,-2.37321],[28.86826,-2.41888],[28.86846,-2.44866],[28.89132,-2.47557],[28.89342,-2.49017],[28.88846,-2.50493],[28.87497,-2.50887],[28.86209,-2.5231],[28.86193,-2.53185],[28.87943,-2.55165],[28.89288,-2.55848],[28.90226,-2.62385],[28.89793,-2.66111],[28.94346,-2.69124],[29.00357,-2.70596],[29.04081,-2.7416],[29.0562,-2.58632],[29.32234,-2.6483],[29.36805,-2.82933],[29.88237,-2.75105],[29.95911,-2.33348],[30.14034,-2.43626],[30.42933,-2.31064],[30.54501,-2.41404],[30.83915,-2.35795],[30.89303,-2.08223],[30.80802,-1.91477],[30.84079,-1.64652],[30.71974,-1.43244],[30.57123,-1.33264],[30.50889,-1.16412],[30.45116,-1.10641],[30.47194,-1.0555]]]]}},{type:"Feature",properties:{iso1A2:"SA",iso1A3:"SAU",iso1N3:"682",wikidata:"Q851",nameEn:"Saudi Arabia",groups:["145","142","UN"],callingCodes:["966"]},geometry:{type:"MultiPolygon",coordinates:[[[[40.01521,32.05667],[39.29903,32.23259],[38.99233,31.99721],[36.99791,31.50081],[37.99354,30.49998],[37.66395,30.33245],[37.4971,29.99949],[36.75083,29.86903],[36.50005,29.49696],[36.07081,29.18469],[34.8812,29.36878],[34.4454,27.91479],[37.8565,22.00903],[39.63762,18.37348],[40.99158,15.81743],[42.15205,16.40211],[42.76801,16.40371],[42.94625,16.39721],[42.94351,16.49467],[42.97215,16.51093],[43.11601,16.53166],[43.15274,16.67248],[43.22066,16.65179],[43.21325,16.74416],[43.25857,16.75304],[43.26303,16.79479],[43.24801,16.80613],[43.22956,16.80613],[43.22012,16.83932],[43.18338,16.84852],[43.1398,16.90696],[43.19328,16.94703],[43.1813,16.98438],[43.18233,17.02673],[43.23967,17.03428],[43.17787,17.14717],[43.20156,17.25901],[43.32653,17.31179],[43.22533,17.38343],[43.29185,17.53224],[43.43005,17.56148],[43.70631,17.35762],[44.50126,17.47475],[46.31018,17.20464],[46.76494,17.29151],[47.00571,16.94765],[47.48245,17.10808],[47.58351,17.50366],[48.19996,18.20584],[49.04884,18.59899],[52.00311,19.00083],[54.99756,20.00083],[55.66469,21.99658],[55.2137,22.71065],[55.13599,22.63334],[52.56622,22.94341],[51.59617,24.12041],[51.58871,24.27256],[51.41644,24.39615],[51.58834,24.66608],[51.39468,24.62785],[51.29972,24.50747],[51.09638,24.46907],[50.92992,24.54396],[50.8133,24.74049],[50.57069,25.57887],[50.302,25.87592],[50.26923,26.08243],[50.38162,26.53976],[50.71771,26.73086],[50.37726,27.89227],[49.98877,27.87827],[49.00421,28.81495],[48.42991,28.53628],[47.70561,28.5221],[47.59863,28.66798],[47.58376,28.83382],[47.46202,29.0014],[46.5527,29.10283],[46.42415,29.05947],[44.72255,29.19736],[42.97796,30.48295],[42.97601,30.72204],[40.01521,32.05667]]]]}},{type:"Feature",properties:{iso1A2:"SB",iso1A3:"SLB",iso1N3:"090",wikidata:"Q685",nameEn:"Solomon Islands",groups:["054","009","UN"],driveSide:"left",callingCodes:["677"]},geometry:{type:"MultiPolygon",coordinates:[[[[172.71443,-12.01327],[160.43769,-4.17974],[156.03296,-6.55528],[156.03993,-6.65703],[155.92557,-6.84664],[155.69784,-6.92661],[155.60735,-6.92266],[154.74815,-7.33315],[156.73836,-14.50464],[172.71443,-12.01327]]]]}},{type:"Feature",properties:{iso1A2:"SC",iso1A3:"SYC",iso1N3:"690",wikidata:"Q1042",nameEn:"Seychelles",groups:["014","202","002","UN"],driveSide:"left",callingCodes:["248"]},geometry:{type:"MultiPolygon",coordinates:[[[[43.75112,-10.38913],[54.83239,-10.93575],[66.3222,5.65313],[43.75112,-10.38913]]]]}},{type:"Feature",properties:{iso1A2:"SD",iso1A3:"SDN",iso1N3:"729",wikidata:"Q1049",nameEn:"Sudan",groups:["015","002","UN"],callingCodes:["249"]},geometry:{type:"MultiPolygon",coordinates:[[[[37.8565,22.00903],[34.0765,22.00501],[33.99686,21.76784],[33.57251,21.72406],[33.17563,22.00405],[24.99885,21.99535],[24.99794,19.99661],[23.99715,20.00038],[23.99539,19.49944],[23.99997,15.69575],[23.62785,15.7804],[23.38812,15.69649],[23.10792,15.71297],[22.93201,15.55107],[22.92579,15.47007],[22.99584,15.40105],[22.99584,15.22989],[22.66115,14.86308],[22.70474,14.69149],[22.38562,14.58907],[22.44944,14.24986],[22.55997,14.23024],[22.5553,14.11704],[22.22995,13.96754],[22.08674,13.77863],[22.29689,13.3731],[22.1599,13.19281],[22.02914,13.13976],[21.94819,13.05637],[21.81432,12.81362],[21.89371,12.68001],[21.98711,12.63292],[22.15679,12.66634],[22.22684,12.74682],[22.46345,12.61925],[22.38873,12.45514],[22.50548,12.16769],[22.48369,12.02766],[22.64092,12.07485],[22.54907,11.64372],[22.7997,11.40424],[22.93124,11.41645],[22.97249,11.21955],[22.87758,10.91915],[23.02221,10.69235],[23.3128,10.45214],[23.67164,9.86923],[23.69155,9.67566],[24.09319,9.66572],[24.12744,9.73784],[24.49389,9.79962],[24.84653,9.80643],[24.97739,9.9081],[25.05688,10.06776],[25.0918,10.33718],[25.78141,10.42599],[25.93163,10.38159],[25.93241,10.17941],[26.21338,9.91545],[26.35815,9.57946],[26.70685,9.48735],[27.14427,9.62858],[27.90704,9.61323],[28.99983,9.67155],[29.06988,9.74826],[29.53844,9.75133],[29.54,10.07949],[29.94629,10.29245],[30.00389,10.28633],[30.53005,9.95992],[30.82893,9.71451],[30.84605,9.7498],[31.28504,9.75287],[31.77539,10.28939],[31.99177,10.65065],[32.46967,11.04662],[32.39358,11.18207],[32.39578,11.70208],[32.10079,11.95203],[32.73921,11.95203],[32.73921,12.22757],[33.25876,12.22111],[33.13988,11.43248],[33.26977,10.83632],[33.24645,10.77913],[33.52294,10.64382],[33.66604,10.44254],[33.80913,10.32994],[33.90159,10.17179],[33.96984,10.15446],[33.99185,9.99623],[33.96323,9.80972],[33.9082,9.762],[33.87958,9.49937],[34.10229,9.50238],[34.08717,9.55243],[34.13186,9.7492],[34.20484,9.9033],[34.22718,10.02506],[34.32102,10.11599],[34.34783,10.23914],[34.2823,10.53508],[34.4372,10.781],[34.59062,10.89072],[34.77383,10.74588],[34.77532,10.69027],[34.86618,10.74588],[34.86916,10.78832],[34.97491,10.86147],[34.97789,10.91559],[34.93172,10.95946],[35.01215,11.19626],[34.95704,11.24448],[35.09556,11.56278],[35.05832,11.71158],[35.11492,11.85156],[35.24302,11.91132],[35.70476,12.67101],[36.01458,12.72478],[36.14268,12.70879],[36.16651,12.88019],[36.13374,12.92665],[36.24545,13.36759],[36.38993,13.56459],[36.48824,13.83954],[36.44653,13.95666],[36.54376,14.25597],[36.44337,15.14963],[36.54276,15.23478],[36.69761,15.75323],[36.76371,15.80831],[36.92193,16.23451],[36.99777,17.07172],[37.42694,17.04041],[37.50967,17.32199],[38.13362,17.53906],[38.37133,17.66269],[38.45916,17.87167],[38.57727,17.98125],[39.63762,18.37348],[37.8565,22.00903]]]]}},{type:"Feature",properties:{iso1A2:"SE",iso1A3:"SWE",iso1N3:"752",wikidata:"Q34",nameEn:"Sweden",groups:["EU","154","150","UN"],callingCodes:["46"]},geometry:{type:"MultiPolygon",coordinates:[[[[24.15791,65.85385],[23.90497,66.15802],[23.71339,66.21299],[23.64982,66.30603],[23.67591,66.3862],[23.63776,66.43568],[23.85959,66.56434],[23.89488,66.772],[23.98059,66.79585],[23.98563,66.84149],[23.56214,67.17038],[23.58735,67.20752],[23.54701,67.25435],[23.75372,67.29914],[23.75372,67.43688],[23.39577,67.46974],[23.54701,67.59306],[23.45627,67.85297],[23.65793,67.9497],[23.40081,68.05545],[23.26469,68.15134],[23.15377,68.14759],[23.10336,68.26551],[22.73028,68.40881],[22.00429,68.50692],[21.03001,68.88969],[20.90649,68.89696],[20.85104,68.93142],[20.91658,68.96764],[20.78802,69.03087],[20.55258,69.06069],[20.0695,69.04469],[20.28444,68.93283],[20.33435,68.80174],[20.22027,68.67246],[19.95647,68.55546],[20.22027,68.48759],[19.93508,68.35911],[18.97255,68.52416],[18.63032,68.50849],[18.39503,68.58672],[18.1241,68.53721],[18.13836,68.20874],[17.90787,67.96537],[17.30416,68.11591],[16.7409,67.91037],[16.38441,67.52923],[16.12774,67.52106],[16.09922,67.4364],[16.39154,67.21653],[16.35589,67.06419],[15.37197,66.48217],[15.49318,66.28509],[15.05113,66.15572],[14.53778,66.12399],[14.50926,65.31786],[13.64276,64.58402],[14.11117,64.46674],[14.16051,64.18725],[13.98222,64.00953],[13.23411,64.09087],[12.74105,64.02171],[12.14928,63.59373],[12.19919,63.47935],[11.98529,63.27487],[12.19919,63.00104],[12.07085,62.6297],[12.29187,62.25699],[12.14746,61.7147],[12.40595,61.57226],[12.57707,61.56547],[12.86939,61.35427],[12.69115,61.06584],[12.2277,61.02442],[12.59133,60.50559],[12.52003,60.13846],[12.36317,59.99259],[12.15641,59.8926],[11.87121,59.86039],[11.92112,59.69531],[11.69297,59.59442],[11.8213,59.24985],[11.65732,58.90177],[11.45199,58.89604],[11.4601,58.99022],[11.34459,59.11672],[11.15367,59.07862],[11.08911,58.98745],[10.64958,58.89391],[10.40861,58.38489],[12.16597,56.60205],[12.07466,56.29488],[12.65312,56.04345],[12.6372,55.91371],[12.88472,55.63369],[12.60345,55.42675],[12.84405,55.13257],[14.28399,55.1553],[14.89259,55.5623],[15.79951,55.54655],[19.64795,57.06466],[19.84909,57.57876],[20.5104,59.15546],[19.08191,60.19152],[19.23413,60.61414],[20.15877,63.06556],[24.14112,65.39731],[24.15107,65.81427],[24.14798,65.83466],[24.15791,65.85385]]]]}},{type:"Feature",properties:{iso1A2:"SG",iso1A3:"SGP",iso1N3:"702",wikidata:"Q334",nameEn:"Singapore",groups:["035","142","UN"],driveSide:"left",callingCodes:["65"]},geometry:{type:"MultiPolygon",coordinates:[[[[104.00131,1.42405],[103.93384,1.42926],[103.89565,1.42841],[103.86383,1.46288],[103.81181,1.47953],[103.76395,1.45183],[103.74161,1.4502],[103.7219,1.46108],[103.67468,1.43166],[103.62738,1.35255],[103.56591,1.19719],[103.66049,1.18825],[103.74084,1.12902],[104.03085,1.26954],[104.12282,1.27714],[104.08072,1.35998],[104.09162,1.39694],[104.08871,1.42015],[104.07348,1.43322],[104.04622,1.44691],[104.02277,1.4438],[104.00131,1.42405]]]]}},{type:"Feature",properties:{iso1A2:"SH",iso1A3:"SHN",iso1N3:"654",wikidata:"Q192184",nameEn:"Saint Helena, Ascension and Tristan da Cunha",country:"GB"},geometry:null},{type:"Feature",properties:{iso1A2:"SI",iso1A3:"SVN",iso1N3:"705",wikidata:"Q215",nameEn:"Slovenia",groups:["EU","039","150","UN"],callingCodes:["386"]},geometry:{type:"MultiPolygon",coordinates:[[[[16.50139,46.56684],[16.39217,46.63673],[16.38594,46.6549],[16.41863,46.66238],[16.42641,46.69228],[16.37816,46.69975],[16.30966,46.7787],[16.31303,46.79838],[16.3408,46.80641],[16.34547,46.83836],[16.2941,46.87137],[16.2365,46.87775],[16.21892,46.86961],[16.15711,46.85434],[16.14365,46.8547],[16.10983,46.867],[16.05786,46.83927],[15.99054,46.82772],[15.99126,46.78199],[15.98432,46.74991],[15.99769,46.7266],[16.02808,46.71094],[16.04347,46.68694],[16.04036,46.6549],[15.99988,46.67947],[15.98512,46.68463],[15.94864,46.68769],[15.87691,46.7211],[15.8162,46.71897],[15.78518,46.70712],[15.76771,46.69863],[15.73823,46.70011],[15.72279,46.69548],[15.69523,46.69823],[15.67411,46.70735],[15.6543,46.70616],[15.6543,46.69228],[15.6365,46.6894],[15.63255,46.68069],[15.62317,46.67947],[15.59826,46.68908],[15.54533,46.66985],[15.55333,46.64988],[15.54431,46.6312],[15.46906,46.61321],[15.45514,46.63697],[15.41235,46.65556],[15.23711,46.63994],[15.14215,46.66131],[15.01451,46.641],[14.98024,46.6009],[14.96002,46.63459],[14.92283,46.60848],[14.87129,46.61],[14.86419,46.59411],[14.83549,46.56614],[14.81836,46.51046],[14.72185,46.49974],[14.66892,46.44936],[14.5942,46.43434],[14.56463,46.37208],[14.52176,46.42617],[14.45877,46.41717],[14.42608,46.44614],[14.314,46.43327],[14.28326,46.44315],[14.15989,46.43327],[14.12097,46.47724],[14.04002,46.49117],[14.00422,46.48474],[13.89837,46.52331],[13.7148,46.5222],[13.68684,46.43881],[13.59777,46.44137],[13.5763,46.42613],[13.5763,46.40915],[13.47019,46.3621],[13.43418,46.35992],[13.44808,46.33507],[13.37671,46.29668],[13.42218,46.20758],[13.47587,46.22725],[13.56114,46.2054],[13.56682,46.18703],[13.64451,46.18966],[13.66472,46.17392],[13.64053,46.13587],[13.57072,46.09022],[13.50104,46.05986],[13.49568,46.04839],[13.50998,46.04498],[13.49702,46.01832],[13.47474,46.00546],[13.50104,45.98078],[13.52963,45.96588],[13.56759,45.96991],[13.58903,45.99009],[13.62074,45.98388],[13.63458,45.98947],[13.64307,45.98326],[13.6329,45.94894],[13.63815,45.93607],[13.61931,45.91782],[13.60857,45.89907],[13.59565,45.89446],[13.58644,45.88173],[13.57563,45.8425],[13.58858,45.83503],[13.59784,45.8072],[13.66986,45.79955],[13.8235,45.7176],[13.83332,45.70855],[13.83422,45.68703],[13.87933,45.65207],[13.9191,45.6322],[13.8695,45.60835],[13.86771,45.59898],[13.84106,45.58185],[13.78445,45.5825],[13.74587,45.59811],[13.7198,45.59352],[13.6076,45.64761],[13.45644,45.59464],[13.56979,45.4895],[13.62902,45.45898],[13.67398,45.4436],[13.7785,45.46787],[13.81742,45.43729],[13.88124,45.42637],[13.90771,45.45149],[13.97309,45.45258],[13.99488,45.47551],[13.96063,45.50825],[14.00578,45.52352],[14.07116,45.48752],[14.20348,45.46896],[14.22371,45.50388],[14.24239,45.50607],[14.26611,45.48239],[14.27681,45.4902],[14.32487,45.47142],[14.36693,45.48642],[14.49769,45.54424],[14.5008,45.60852],[14.53816,45.6205],[14.57397,45.67165],[14.60977,45.66403],[14.59576,45.62812],[14.69694,45.57366],[14.68605,45.53006],[14.71718,45.53442],[14.80124,45.49515],[14.81992,45.45913],[14.90554,45.47769],[14.92266,45.52788],[15.02385,45.48533],[15.05187,45.49079],[15.16862,45.42309],[15.27758,45.46678],[15.33051,45.45258],[15.38188,45.48752],[15.30249,45.53224],[15.29837,45.5841],[15.27747,45.60504],[15.31027,45.6303],[15.34695,45.63382],[15.34214,45.64702],[15.38952,45.63682],[15.4057,45.64727],[15.34919,45.71623],[15.30872,45.69014],[15.25423,45.72275],[15.40836,45.79491],[15.47531,45.79802],[15.47325,45.8253],[15.52234,45.82195],[15.57952,45.84953],[15.64185,45.82915],[15.66662,45.84085],[15.70411,45.8465],[15.68232,45.86819],[15.68383,45.88867],[15.67967,45.90455],[15.70636,45.92116],[15.70327,46.00015],[15.71246,46.01196],[15.72977,46.04682],[15.62317,46.09103],[15.6083,46.11992],[15.59909,46.14761],[15.64904,46.19229],[15.6434,46.21396],[15.67395,46.22478],[15.75436,46.21969],[15.75479,46.20336],[15.78817,46.21719],[15.79284,46.25811],[15.97965,46.30652],[16.07616,46.3463],[16.07314,46.36458],[16.05065,46.3833],[16.05281,46.39141],[16.14859,46.40547],[16.18824,46.38282],[16.30233,46.37837],[16.30162,46.40437],[16.27329,46.41467],[16.27398,46.42875],[16.25124,46.48067],[16.23961,46.49653],[16.26759,46.50566],[16.26733,46.51505],[16.29793,46.5121],[16.37193,46.55008],[16.38771,46.53608],[16.44036,46.5171],[16.5007,46.49644],[16.52604,46.47831],[16.59527,46.47524],[16.52604,46.5051],[16.52885,46.53303],[16.50139,46.56684]]]]}},{type:"Feature",properties:{iso1A2:"SJ",iso1A3:"SJM",iso1N3:"744",wikidata:"Q842829",nameEn:"Svalbard and Jan Mayen",country:"NO"},geometry:null},{type:"Feature",properties:{iso1A2:"SK",iso1A3:"SVK",iso1N3:"703",wikidata:"Q214",nameEn:"Slovakia",groups:["EU","151","150","UN"],callingCodes:["421"]},geometry:{type:"MultiPolygon",coordinates:[[[[19.82237,49.27806],[19.78581,49.41701],[19.72127,49.39288],[19.6375,49.40897],[19.64162,49.45184],[19.57845,49.46077],[19.53313,49.52856],[19.52626,49.57311],[19.45348,49.61583],[19.37795,49.574],[19.36009,49.53747],[19.25435,49.53391],[19.18019,49.41165],[18.9742,49.39557],[18.97283,49.49914],[18.94536,49.52143],[18.84521,49.51672],[18.74761,49.492],[18.67757,49.50895],[18.6144,49.49824],[18.57183,49.51162],[18.53063,49.49022],[18.54848,49.47059],[18.44686,49.39467],[18.4084,49.40003],[18.4139,49.36517],[18.36446,49.3267],[18.18456,49.28909],[18.15022,49.24518],[18.1104,49.08624],[18.06885,49.03157],[17.91814,49.01784],[17.87831,48.92679],[17.77944,48.92318],[17.73126,48.87885],[17.7094,48.86721],[17.5295,48.81117],[17.45671,48.85004],[17.3853,48.80936],[17.29054,48.85546],[17.19355,48.87602],[17.11202,48.82925],[17.00215,48.70887],[16.93955,48.60371],[16.94611,48.53614],[16.85204,48.44968],[16.8497,48.38321],[16.83588,48.3844],[16.83317,48.38138],[16.84243,48.35258],[16.90903,48.32519],[16.89461,48.31332],[16.97701,48.17385],[17.02919,48.13996],[17.05735,48.14179],[17.09168,48.09366],[17.07039,48.0317],[17.16001,48.00636],[17.23699,48.02094],[17.71215,47.7548],[18.02938,47.75665],[18.29305,47.73541],[18.56496,47.76588],[18.66521,47.76772],[18.74074,47.8157],[18.8506,47.82308],[18.76821,47.87469],[18.76134,47.97499],[18.82176,48.04206],[19.01952,48.07052],[19.23924,48.0595],[19.28182,48.08336],[19.47957,48.09437],[19.52489,48.19791],[19.63338,48.25006],[19.92452,48.1283],[20.24312,48.2784],[20.29943,48.26104],[20.5215,48.53336],[20.83248,48.5824],[21.11516,48.49546],[21.44063,48.58456],[21.6068,48.50365],[21.67134,48.3989],[21.72525,48.34628],[21.8279,48.33321],[21.83339,48.36242],[22.14689,48.4005],[22.16023,48.56548],[22.21379,48.6218],[22.34151,48.68893],[22.42934,48.92857],[22.48296,48.99172],[22.54338,49.01424],[22.56155,49.08865],[22.04427,49.22136],[21.96385,49.3437],[21.82927,49.39467],[21.77983,49.35443],[21.62328,49.4447],[21.43376,49.41433],[21.27858,49.45988],[21.19756,49.4054],[21.12477,49.43666],[21.041,49.41791],[21.09799,49.37176],[20.98733,49.30774],[20.9229,49.29626],[20.77971,49.35383],[20.72274,49.41813],[20.61666,49.41791],[20.5631,49.375],[20.46422,49.41612],[20.39939,49.3896],[20.31728,49.39914],[20.31453,49.34817],[20.21977,49.35265],[20.13738,49.31685],[20.08238,49.1813],[19.98494,49.22904],[19.90529,49.23532],[19.86409,49.19316],[19.75286,49.20751],[19.82237,49.27806]]]]}},{type:"Feature",properties:{iso1A2:"SL",iso1A3:"SLE",iso1N3:"694",wikidata:"Q1044",nameEn:"Sierra Leone",groups:["011","202","002","UN"],callingCodes:["232"]},geometry:{type:"MultiPolygon",coordinates:[[[[-10.27575,8.48711],[-10.37257,8.48941],[-10.54891,8.31174],[-10.63934,8.35326],[-10.70565,8.29235],[-10.61422,8.5314],[-10.47707,8.67669],[-10.56197,8.81225],[-10.5783,9.06386],[-10.74484,9.07998],[-10.6534,9.29919],[-11.2118,10.00098],[-11.89624,9.99763],[-11.91023,9.93927],[-12.12634,9.87203],[-12.24262,9.92386],[-12.47254,9.86834],[-12.76788,9.3133],[-12.94095,9.26335],[-13.08953,9.0409],[-13.18586,9.0925],[-13.29911,9.04245],[-14.36218,8.64107],[-12.15048,6.15992],[-11.50429,6.92704],[-11.4027,6.97746],[-11.29417,7.21576],[-10.60422,7.7739],[-10.60492,8.04072],[-10.57523,8.04829],[-10.51554,8.1393],[-10.45023,8.15627],[-10.35227,8.15223],[-10.29839,8.21283],[-10.31635,8.28554],[-10.30084,8.30008],[-10.27575,8.48711]]]]}},{type:"Feature",properties:{iso1A2:"SM",iso1A3:"SMR",iso1N3:"674",wikidata:"Q238",nameEn:"San Marino",groups:["039","150","UN"],callingCodes:["378"]},geometry:{type:"MultiPolygon",coordinates:[[[[12.45648,43.89369],[12.48771,43.89706],[12.49429,43.90973],[12.49247,43.91774],[12.49724,43.92248],[12.50269,43.92363],[12.50496,43.93017],[12.51553,43.94096],[12.51427,43.94897],[12.50655,43.95796],[12.50875,43.96198],[12.50622,43.97131],[12.51109,43.97201],[12.51064,43.98165],[12.5154,43.98508],[12.51463,43.99122],[12.50678,43.99113],[12.49406,43.98492],[12.47853,43.98052],[12.46205,43.97463],[12.44684,43.96597],[12.43662,43.95698],[12.42005,43.9578],[12.41414,43.95273],[12.40415,43.95485],[12.40506,43.94325],[12.41165,43.93769],[12.41551,43.92984],[12.40733,43.92379],[12.41233,43.90956],[12.40935,43.9024],[12.41641,43.89991],[12.44184,43.90498],[12.45648,43.89369]]]]}},{type:"Feature",properties:{iso1A2:"SN",iso1A3:"SEN",iso1N3:"686",wikidata:"Q1041",nameEn:"Senegal",groups:["011","202","002","UN"],callingCodes:["221"]},geometry:{type:"MultiPolygon",coordinates:[[[[-14.32144,16.61495],[-15.00557,16.64997],[-15.6509,16.50315],[-16.27016,16.51565],[-16.4429,16.20605],[-16.44814,16.09753],[-16.48967,16.0496],[-16.50854,16.09032],[-17.15288,16.07139],[-18.35085,14.63444],[-17.43598,13.59273],[-15.47902,13.58758],[-15.36504,13.79313],[-14.93719,13.80173],[-14.34721,13.46578],[-13.8955,13.59126],[-13.79409,13.34472],[-14.36795,13.23033],[-15.14917,13.57989],[-15.26908,13.37768],[-15.80478,13.34832],[-15.80355,13.16729],[-16.69343,13.16791],[-16.74676,13.06025],[-17.43966,13.04579],[-17.4623,11.92379],[-16.70562,12.34803],[-16.38191,12.36449],[-16.20591,12.46157],[-15.67302,12.42974],[-15.17582,12.6847],[-13.70523,12.68013],[-13.05296,12.64003],[-13.06603,12.49342],[-12.87336,12.51892],[-12.35415,12.32758],[-11.91331,12.42008],[-11.46267,12.44559],[-11.37536,12.40788],[-11.39935,12.97808],[-11.63025,13.39174],[-11.83345,13.33333],[-12.06897,13.71049],[-11.93043,13.84505],[-12.23936,14.76324],[-13.11029,15.52116],[-13.43135,16.09022],[-13.80075,16.13961],[-14.32144,16.61495]]]]}},{type:"Feature",properties:{iso1A2:"SO",iso1A3:"SOM",iso1N3:"706",wikidata:"Q1045",nameEn:"Somalia",groups:["014","202","002","UN"],callingCodes:["252"]},geometry:{type:"MultiPolygon",coordinates:[[[[51.12877,12.56479],[43.90659,12.3823],[42.95776,10.98533],[42.69452,10.62672],[42.87643,10.18441],[43.0937,9.90579],[43.23518,9.84605],[43.32613,9.59205],[44.19222,8.93028],[46.99339,7.9989],[47.92477,8.00111],[47.97917,8.00124],[44.98104,4.91821],[44.02436,4.9451],[43.40263,4.79289],[43.04177,4.57923],[42.97746,4.44032],[42.84526,4.28357],[42.55853,4.20518],[42.07619,4.17667],[41.89488,3.97375],[41.31368,3.14314],[40.98767,2.82959],[41.00099,-.83068],[41.56,-1.59812],[41.56362,-1.66375],[41.75542,-1.85308],[57.49095,8.14549],[51.12877,12.56479]]]]}},{type:"Feature",properties:{iso1A2:"SR",iso1A3:"SUR",iso1N3:"740",wikidata:"Q730",nameEn:"Suriname",groups:["005","419","019","UN"],driveSide:"left",callingCodes:["597"]},geometry:{type:"MultiPolygon",coordinates:[[[[-54.26916,5.26909],[-54.01877,5.52789],[-54.01074,5.68785],[-53.7094,6.2264],[-56.84822,6.73257],[-57.31629,5.33714],[-57.22536,5.15605],[-57.37442,5.0208],[-57.8699,4.89394],[-58.0307,3.95513],[-57.35891,3.32121],[-56.70519,2.02964],[-56.55439,2.02003],[-56.47045,1.95135],[-55.99278,1.83137],[-55.89863,1.89861],[-55.92159,2.05236],[-56.13054,2.27723],[-55.96292,2.53188],[-55.71493,2.40342],[-55.01919,2.564],[-54.6084,2.32856],[-54.42864,2.42442],[-54.28534,2.67798],[-53.9849,3.58697],[-53.98914,3.627],[-54.05128,3.63557],[-54.19367,3.84387],[-54.38444,4.13222],[-54.4717,4.91964],[-54.26916,5.26909]]]]}},{type:"Feature",properties:{iso1A2:"SS",iso1A3:"SSD",iso1N3:"728",wikidata:"Q958",nameEn:"South Sudan",groups:["014","202","002","UN"],callingCodes:["211"]},geometry:{type:"MultiPolygon",coordinates:[[[[34.10229,9.50238],[33.87958,9.49937],[33.9082,9.762],[33.96323,9.80972],[33.99185,9.99623],[33.96984,10.15446],[33.90159,10.17179],[33.80913,10.32994],[33.66604,10.44254],[33.52294,10.64382],[33.24645,10.77913],[33.26977,10.83632],[33.13988,11.43248],[33.25876,12.22111],[32.73921,12.22757],[32.73921,11.95203],[32.10079,11.95203],[32.39578,11.70208],[32.39358,11.18207],[32.46967,11.04662],[31.99177,10.65065],[31.77539,10.28939],[31.28504,9.75287],[30.84605,9.7498],[30.82893,9.71451],[30.53005,9.95992],[30.00389,10.28633],[29.94629,10.29245],[29.54,10.07949],[29.53844,9.75133],[29.06988,9.74826],[28.99983,9.67155],[27.90704,9.61323],[27.14427,9.62858],[26.70685,9.48735],[26.35815,9.57946],[26.21338,9.91545],[25.93241,10.17941],[25.93163,10.38159],[25.78141,10.42599],[25.0918,10.33718],[25.05688,10.06776],[24.97739,9.9081],[24.84653,9.80643],[24.49389,9.79962],[24.12744,9.73784],[24.09319,9.66572],[23.69155,9.67566],[23.62179,9.53823],[23.64981,9.44303],[23.64358,9.28637],[23.56263,9.19418],[23.4848,9.16959],[23.44744,8.99128],[23.59065,8.99743],[23.51905,8.71749],[24.25691,8.69288],[24.13238,8.36959],[24.35965,8.26177],[24.85156,8.16933],[24.98855,7.96588],[25.25319,7.8487],[25.29214,7.66675],[25.20649,7.61115],[25.20337,7.50312],[25.35281,7.42595],[25.37461,7.33024],[25.90076,7.09549],[26.38022,6.63493],[26.32729,6.36272],[26.58259,6.1987],[26.51721,6.09655],[27.22705,5.71254],[27.22705,5.62889],[27.28621,5.56382],[27.23017,5.37167],[27.26886,5.25876],[27.44012,5.07349],[27.56656,4.89375],[27.65462,4.89375],[27.76469,4.79284],[27.79551,4.59976],[28.20719,4.35614],[28.6651,4.42638],[28.8126,4.48784],[29.03054,4.48784],[29.22207,4.34297],[29.43341,4.50101],[29.49726,4.7007],[29.82087,4.56246],[29.79666,4.37809],[30.06964,4.13221],[30.1621,4.10586],[30.22374,3.93896],[30.27658,3.95653],[30.47691,3.83353],[30.55396,3.84451],[30.57378,3.74567],[30.56277,3.62703],[30.78512,3.67097],[30.80713,3.60506],[30.85997,3.5743],[30.85153,3.48867],[30.97601,3.693],[31.16666,3.79853],[31.29476,3.8015],[31.50478,3.67814],[31.50776,3.63652],[31.72075,3.74354],[31.81459,3.82083],[31.86821,3.78664],[31.96205,3.6499],[31.95907,3.57408],[32.05187,3.589],[32.08491,3.56287],[32.08866,3.53543],[32.19888,3.50867],[32.20782,3.6053],[32.41337,3.748],[32.72021,3.77327],[32.89746,3.81339],[33.02852,3.89296],[33.18356,3.77812],[33.51264,3.75068],[33.9873,4.23316],[34.47601,4.72162],[35.34151,5.02364],[35.30992,4.90402],[35.47843,4.91872],[35.42366,4.76969],[35.51424,4.61643],[35.9419,4.61933],[35.82118,4.77382],[35.81968,5.10757],[35.8576,5.33413],[35.50792,5.42431],[35.29938,5.34042],[35.31188,5.50106],[35.13058,5.62118],[35.12611,5.68937],[35.00546,5.89387],[34.96227,6.26415],[35.01738,6.46991],[34.87736,6.60161],[34.77459,6.5957],[34.65096,6.72589],[34.53776,6.74808],[34.53925,6.82794],[34.47669,6.91076],[34.35753,6.91963],[34.19369,7.04382],[34.19369,7.12807],[34.01495,7.25664],[34.03878,7.27437],[34.02984,7.36449],[33.87642,7.5491],[33.71407,7.65983],[33.44745,7.7543],[33.32531,7.71297],[33.24637,7.77939],[33.04944,7.78989],[33.0006,7.90333],[33.08401,8.05822],[33.18083,8.13047],[33.1853,8.29264],[33.19721,8.40317],[33.3119,8.45474],[33.54575,8.47094],[33.66938,8.44442],[33.71407,8.3678],[33.87195,8.41938],[33.89579,8.4842],[34.01346,8.50041],[34.14453,8.60204],[34.14304,9.04654],[34.10229,9.50238]]]]}},{type:"Feature",properties:{iso1A2:"ST",iso1A3:"STP",iso1N3:"678",wikidata:"Q1039",nameEn:"S\xE3o Tom\xE9 and Principe",groups:["017","202","002","UN"],callingCodes:["239"]},geometry:{type:"MultiPolygon",coordinates:[[[[4.34149,1.91417],[6.6507,-.28606],[7.9035,1.92304],[4.34149,1.91417]]]]}},{type:"Feature",properties:{iso1A2:"SV",iso1A3:"SLV",iso1N3:"222",wikidata:"Q792",nameEn:"El Salvador",groups:["013","003","419","019","UN"],callingCodes:["503"]},geometry:{type:"MultiPolygon",coordinates:[[[[-89.34776,14.43013],[-89.39028,14.44561],[-89.57441,14.41637],[-89.58814,14.33165],[-89.50614,14.26084],[-89.52397,14.22628],[-89.61844,14.21937],[-89.70756,14.1537],[-89.75569,14.07073],[-89.73251,14.04133],[-89.76103,14.02923],[-89.81807,14.07073],[-89.88937,14.0396],[-90.10505,13.85104],[-90.11344,13.73679],[-90.55276,12.8866],[-88.11443,12.63306],[-87.7346,13.13228],[-87.55124,13.12523],[-87.69751,13.25228],[-87.73714,13.32715],[-87.80177,13.35689],[-87.84675,13.41078],[-87.83467,13.44655],[-87.77354,13.45767],[-87.73841,13.44169],[-87.72115,13.46083],[-87.71657,13.50577],[-87.78148,13.52906],[-87.73106,13.75443],[-87.68821,13.80829],[-87.7966,13.91353],[-88.00331,13.86948],[-88.07641,13.98447],[-88.23018,13.99915],[-88.25791,13.91108],[-88.48982,13.86458],[-88.49738,13.97224],[-88.70661,14.04317],[-88.73182,14.10919],[-88.815,14.11652],[-88.85785,14.17763],[-88.94608,14.20207],[-89.04187,14.33644],[-89.34776,14.43013]]]]}},{type:"Feature",properties:{iso1A2:"SX",iso1A3:"SXM",iso1N3:"534",wikidata:"Q26273",nameEn:"Sint Maarten",aliases:["NL-SX"],country:"NL",groups:["Q1451600","029","003","419","019","UN"],callingCodes:["1 721"]},geometry:{type:"MultiPolygon",coordinates:[[[[-63.33064,17.9615],[-63.1055,17.86651],[-62.93924,18.02904],[-63.02323,18.05757],[-63.04039,18.05619],[-63.0579,18.06614],[-63.07759,18.04943],[-63.09686,18.04608],[-63.11042,18.05339],[-63.13502,18.05445],[-63.33064,17.9615]]]]}},{type:"Feature",properties:{iso1A2:"SY",iso1A3:"SYR",iso1N3:"760",wikidata:"Q858",nameEn:"Syria",groups:["145","142","UN"],callingCodes:["963"]},geometry:{type:"MultiPolygon",coordinates:[[[[42.23683,37.2863],[42.21548,37.28026],[42.20454,37.28715],[42.22381,37.30238],[42.22257,37.31395],[42.2112,37.32491],[42.19301,37.31323],[42.18225,37.28569],[42.00894,37.17209],[41.515,37.08084],[41.21937,37.07665],[40.90856,37.13147],[40.69136,37.0996],[39.81589,36.75538],[39.21538,36.66834],[39.03217,36.70911],[38.74042,36.70629],[38.55908,36.84429],[38.38859,36.90064],[38.21064,36.91842],[37.81974,36.76055],[37.68048,36.75065],[37.49103,36.66904],[37.47253,36.63243],[37.21988,36.6736],[37.16177,36.66069],[37.10894,36.6704],[37.08279,36.63495],[37.02088,36.66422],[37.01647,36.69512],[37.04619,36.71101],[37.04399,36.73483],[36.99886,36.74012],[36.99557,36.75997],[36.66727,36.82901],[36.61581,36.74629],[36.62681,36.71189],[36.57398,36.65186],[36.58829,36.58295],[36.54206,36.49539],[36.6081,36.33772],[36.65653,36.33861],[36.68672,36.23677],[36.6125,36.22592],[36.50463,36.2419],[36.4617,36.20461],[36.39206,36.22088],[36.37474,36.01163],[36.33956,35.98687],[36.30099,36.00985],[36.28338,36.00273],[36.29769,35.96086],[36.27678,35.94839],[36.25366,35.96264],[36.19973,35.95195],[36.17441,35.92076],[36.1623,35.80925],[36.14029,35.81015],[36.13919,35.83692],[36.11827,35.85923],[35.99829,35.88242],[36.01844,35.92403],[36.00514,35.94113],[35.98499,35.94107],[35.931,35.92109],[35.51152,36.10954],[35.48515,34.70851],[35.97386,34.63322],[35.98718,34.64977],[36.29165,34.62991],[36.32399,34.69334],[36.35135,34.68516],[36.35384,34.65447],[36.42941,34.62505],[36.46003,34.6378],[36.45299,34.59438],[36.41429,34.61175],[36.39846,34.55672],[36.3369,34.52629],[36.34745,34.5002],[36.4442,34.50165],[36.46179,34.46541],[36.55853,34.41609],[36.53039,34.3798],[36.56556,34.31881],[36.60778,34.31009],[36.58667,34.27667],[36.59195,34.2316],[36.62537,34.20251],[36.5128,34.09916],[36.50576,34.05982],[36.41078,34.05253],[36.28589,33.91981],[36.38263,33.86579],[36.3967,33.83365],[36.14517,33.85118],[36.06778,33.82927],[35.9341,33.6596],[36.05723,33.57904],[35.94465,33.52774],[35.94816,33.47886],[35.88668,33.43183],[35.82577,33.40479],[35.81324,33.36354],[35.77477,33.33609],[35.813,33.3172],[35.77513,33.27342],[35.81295,33.24841],[35.81647,33.2028],[35.83846,33.19397],[35.84285,33.16673],[35.81911,33.1336],[35.81911,33.11077],[35.84802,33.1031],[35.87188,32.98028],[35.89298,32.9456],[35.87012,32.91976],[35.84021,32.8725],[35.83758,32.82817],[35.78745,32.77938],[35.75983,32.74803],[35.88405,32.71321],[35.93307,32.71966],[35.96633,32.66237],[36.02239,32.65911],[36.08074,32.51463],[36.20379,32.52751],[36.20875,32.49529],[36.23948,32.50108],[36.40959,32.37908],[36.83946,32.31293],[38.79171,33.37328],[40.64314,34.31604],[40.97676,34.39788],[41.12388,34.65742],[41.2345,34.80049],[41.21654,35.1508],[41.26569,35.42708],[41.38184,35.62502],[41.37027,35.84095],[41.2564,36.06012],[41.28864,36.35368],[41.40058,36.52502],[41.81736,36.58782],[42.36697,37.0627],[42.35724,37.10998],[42.32313,37.17814],[42.34735,37.22548],[42.2824,37.2798],[42.26039,37.27017],[42.23683,37.2863]]]]}},{type:"Feature",properties:{iso1A2:"SZ",iso1A3:"SWZ",iso1N3:"748",wikidata:"Q1050",nameEn:"Eswatini",aliases:["Swaziland"],groups:["018","202","002","UN"],driveSide:"left",callingCodes:["268"]},geometry:{type:"MultiPolygon",coordinates:[[[[31.86881,-25.99973],[31.4175,-25.71886],[31.31237,-25.7431],[31.13073,-25.91558],[30.95819,-26.26303],[30.78927,-26.48271],[30.81101,-26.84722],[30.88826,-26.79622],[30.97757,-26.92706],[30.96088,-27.0245],[31.15027,-27.20151],[31.49834,-27.31549],[31.97592,-27.31675],[31.97463,-27.11057],[32.00893,-26.8096],[32.09664,-26.80721],[32.13315,-26.84345],[32.13409,-26.5317],[32.07352,-26.40185],[32.10435,-26.15656],[32.08599,-26.00978],[32.00916,-25.999],[31.974,-25.95387],[31.86881,-25.99973]]]]}},{type:"Feature",properties:{iso1A2:"TA",iso1A3:"TAA",wikidata:"Q220982",nameEn:"Tristan da Cunha",aliases:["SH-TA"],country:"GB",groups:["SH","BOTS","011","202","002","UN"],isoStatus:"excRes",driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["290 8","44 20"]},geometry:{type:"MultiPolygon",coordinates:[[[[-13.38232,-34.07258],[-16.67337,-41.9188],[-5.88482,-41.4829],[-13.38232,-34.07258]]]]}},{type:"Feature",properties:{iso1A2:"TC",iso1A3:"TCA",iso1N3:"796",wikidata:"Q18221",nameEn:"Turks and Caicos Islands",country:"GB",groups:["BOTS","029","003","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["1 649"]},geometry:{type:"MultiPolygon",coordinates:[[[[-71.70065,25.7637],[-72.98446,20.4801],[-69.80718,21.35956],[-71.70065,25.7637]]]]}},{type:"Feature",properties:{iso1A2:"TD",iso1A3:"TCD",iso1N3:"148",wikidata:"Q657",nameEn:"Chad",groups:["017","202","002","UN"],callingCodes:["235"]},geometry:{type:"MultiPolygon",coordinates:[[[[23.99539,19.49944],[15.99566,23.49639],[14.99751,23.00539],[15.19692,21.99339],[15.20213,21.49365],[15.28332,21.44557],[15.62515,20.95395],[15.57248,20.92138],[15.55382,20.86507],[15.56004,20.79488],[15.59841,20.74039],[15.6721,20.70069],[15.99632,20.35364],[15.75098,19.93002],[15.6032,18.77402],[15.50373,16.89649],[14.37425,15.72591],[13.86301,15.04043],[13.78991,14.87519],[13.809,14.72915],[13.67878,14.64013],[13.68573,14.55276],[13.48259,14.46704],[13.47559,14.40881],[13.6302,13.71094],[14.08251,13.0797],[14.46881,13.08259],[14.56101,12.91036],[14.55058,12.78256],[14.83314,12.62963],[14.90827,12.3269],[14.89019,12.16593],[14.96952,12.0925],[15.00146,12.1223],[15.0349,12.10698],[15.05786,12.0608],[15.04808,11.8731],[15.11579,11.79313],[15.06595,11.71126],[15.13149,11.5537],[15.0585,11.40481],[15.10021,11.04101],[15.04957,11.02347],[15.09127,10.87431],[15.06737,10.80921],[15.15532,10.62846],[15.14936,10.53915],[15.23724,10.47764],[15.30874,10.31063],[15.50535,10.1098],[15.68761,9.99344],[15.41408,9.92876],[15.24618,9.99246],[15.14043,9.99246],[15.05999,9.94845],[14.95722,9.97926],[14.80082,9.93818],[14.4673,10.00264],[14.20411,10.00055],[14.1317,9.82413],[14.01793,9.73169],[13.97544,9.6365],[14.37094,9.2954],[14.35707,9.19611],[14.83566,8.80557],[15.09484,8.65982],[15.20426,8.50892],[15.50743,7.79302],[15.59272,7.7696],[15.56964,7.58936],[15.49743,7.52179],[15.73118,7.52006],[15.79942,7.44149],[16.40703,7.68809],[16.41583,7.77971],[16.58315,7.88657],[16.59415,7.76444],[16.658,7.75353],[16.6668,7.67281],[16.8143,7.53971],[17.67288,7.98905],[17.93926,7.95853],[18.02731,8.01085],[18.6085,8.05009],[18.64153,8.08714],[18.62612,8.14163],[18.67455,8.22226],[18.79783,8.25929],[19.11044,8.68172],[18.86388,8.87971],[19.06421,9.00367],[20.36748,9.11019],[20.82979,9.44696],[21.26348,9.97642],[21.34934,9.95907],[21.52766,10.2105],[21.63553,10.217],[21.71479,10.29932],[21.72139,10.64136],[22.45889,11.00246],[22.87758,10.91915],[22.97249,11.21955],[22.93124,11.41645],[22.7997,11.40424],[22.54907,11.64372],[22.64092,12.07485],[22.48369,12.02766],[22.50548,12.16769],[22.38873,12.45514],[22.46345,12.61925],[22.22684,12.74682],[22.15679,12.66634],[21.98711,12.63292],[21.89371,12.68001],[21.81432,12.81362],[21.94819,13.05637],[22.02914,13.13976],[22.1599,13.19281],[22.29689,13.3731],[22.08674,13.77863],[22.22995,13.96754],[22.5553,14.11704],[22.55997,14.23024],[22.44944,14.24986],[22.38562,14.58907],[22.70474,14.69149],[22.66115,14.86308],[22.99584,15.22989],[22.99584,15.40105],[22.92579,15.47007],[22.93201,15.55107],[23.10792,15.71297],[23.38812,15.69649],[23.62785,15.7804],[23.99997,15.69575],[23.99539,19.49944]]]]}},{type:"Feature",properties:{iso1A2:"TF",iso1A3:"ATF",iso1N3:"260",wikidata:"Q129003",nameEn:"French Southern Territories",country:"FR"},geometry:null},{type:"Feature",properties:{iso1A2:"TG",iso1A3:"TGO",iso1N3:"768",wikidata:"Q945",nameEn:"Togo",groups:["011","202","002","UN"],callingCodes:["228"]},geometry:{type:"MultiPolygon",coordinates:[[[[.50388,11.01011],[-.13493,11.14075],[-.14462,11.10811],[-.05733,11.08628],[-.0275,11.11202],[-.00514,11.10763],[.00342,11.08317],[.02395,11.06229],[.03355,10.9807],[-.0063,10.96417],[-.00908,10.91644],[-.02685,10.8783],[-.0228,10.81916],[-.07183,10.76794],[-.07327,10.71845],[-.09141,10.7147],[-.05945,10.63458],[.12886,10.53149],[.18846,10.4096],[.29453,10.41546],[.33028,10.30408],[.39584,10.31112],[.35293,10.09412],[.41371,10.06361],[.41252,10.02018],[.36366,10.03309],[.32075,9.72781],[.34816,9.71607],[.34816,9.66907],[.32313,9.6491],[.28261,9.69022],[.26712,9.66437],[.29334,9.59387],[.36008,9.6256],[.38153,9.58682],[.23851,9.57389],[.2409,9.52335],[.30406,9.521],[.31241,9.50337],[.2254,9.47869],[.25758,9.42696],[.33148,9.44812],[.36485,9.49749],[.49118,9.48339],[.56388,9.40697],[.45424,9.04581],[.52455,8.87746],[.37319,8.75262],[.47211,8.59945],[.64731,8.48866],[.73432,8.29529],[.63897,8.25873],[.5913,8.19622],[.61156,8.18324],[.6056,8.13959],[.58891,8.12779],[.62943,7.85751],[.58295,7.62368],[.51979,7.58706],[.52455,7.45354],[.57223,7.39326],[.62943,7.41099],[.65327,7.31643],[.59606,7.01252],[.52217,6.9723],[.52098,6.94391],[.56508,6.92971],[.52853,6.82921],[.57406,6.80348],[.58176,6.76049],[.6497,6.73682],[.63659,6.63857],[.74862,6.56517],[.71048,6.53083],[.89283,6.33779],[.99652,6.33779],[1.03108,6.24064],[1.05969,6.22998],[1.09187,6.17074],[1.19966,6.17069],[1.19771,6.11522],[1.27574,5.93551],[1.67336,6.02702],[1.62913,6.24075],[1.79826,6.28221],[1.76906,6.43189],[1.58105,6.68619],[1.61812,6.74843],[1.55877,6.99737],[1.64249,6.99562],[1.61838,9.0527],[1.5649,9.16941],[1.41746,9.3226],[1.33675,9.54765],[1.36624,9.5951],[1.35507,9.99525],[.77666,10.37665],[.80358,10.71459],[.8804,10.803],[.91245,10.99597],[.66104,10.99964],[.4958,10.93269],[.50521,10.98035],[.48852,10.98561],[.50388,11.01011]]]]}},{type:"Feature",properties:{iso1A2:"TH",iso1A3:"THA",iso1N3:"764",wikidata:"Q869",nameEn:"Thailand",groups:["035","142","UN"],driveSide:"left",callingCodes:["66"]},geometry:{type:"MultiPolygon",coordinates:[[[[100.08404,20.36626],[99.95721,20.46301],[99.91616,20.44986],[99.90499,20.4487],[99.89692,20.44789],[99.89301,20.44311],[99.89168,20.44548],[99.88451,20.44596],[99.88211,20.44488],[99.86383,20.44371],[99.81096,20.33687],[99.68255,20.32077],[99.46008,20.39673],[99.46077,20.36198],[99.5569,20.20676],[99.52943,20.14811],[99.416,20.08614],[99.20328,20.12877],[99.0735,20.10298],[98.98679,19.7419],[98.83661,19.80931],[98.56065,19.67807],[98.51182,19.71303],[98.24884,19.67876],[98.13829,19.78541],[98.03314,19.80941],[98.04364,19.65755],[97.84715,19.55782],[97.88423,19.5041],[97.78769,19.39429],[97.84186,19.29526],[97.78606,19.26769],[97.84024,19.22217],[97.83479,19.09972],[97.73797,19.04261],[97.73654,18.9812],[97.66487,18.9371],[97.73836,18.88478],[97.76752,18.58097],[97.5258,18.4939],[97.36444,18.57138],[97.34522,18.54596],[97.50383,18.26844],[97.56219,18.33885],[97.64116,18.29778],[97.60841,18.23846],[97.73723,17.97912],[97.66794,17.88005],[97.76407,17.71595],[97.91829,17.54504],[98.11185,17.36829],[98.10439,17.33847],[98.34566,17.04822],[98.39441,17.06266],[98.52624,16.89979],[98.49603,16.8446],[98.53833,16.81934],[98.46994,16.73613],[98.50253,16.7139],[98.49713,16.69022],[98.51043,16.70107],[98.51579,16.69433],[98.51472,16.68521],[98.51833,16.676],[98.51113,16.64503],[98.5695,16.62826],[98.57912,16.55983],[98.63817,16.47424],[98.68074,16.27068],[98.84485,16.42354],[98.92656,16.36425],[98.8376,16.11706],[98.69585,16.13353],[98.57019,16.04578],[98.59853,15.87197],[98.541,15.65406],[98.58598,15.46821],[98.56027,15.33471],[98.4866,15.39154],[98.39351,15.34177],[98.41906,15.27103],[98.40522,15.25268],[98.30446,15.30667],[98.22,15.21327],[98.18821,15.13125],[98.24874,14.83013],[98.56762,14.37701],[98.97356,14.04868],[99.16695,13.72621],[99.20617,13.20575],[99.12225,13.19847],[99.10646,13.05804],[99.18748,12.9898],[99.18905,12.84799],[99.29254,12.68921],[99.409,12.60603],[99.47519,12.1353],[99.56445,12.14805],[99.53424,12.02317],[99.64891,11.82699],[99.64108,11.78948],[99.5672,11.62732],[99.47598,11.62434],[99.39485,11.3925],[99.31573,11.32081],[99.32756,11.28545],[99.06938,10.94857],[99.02337,10.97217],[98.99701,10.92962],[99.0069,10.85485],[98.86819,10.78336],[98.78511,10.68351],[98.77275,10.62548],[98.81944,10.52761],[98.7391,10.31488],[98.55174,9.92804],[98.52291,9.92389],[98.47298,9.95782],[98.33094,9.91973],[98.12555,9.44056],[97.63455,9.60854],[97.19814,8.18901],[99.31854,5.99868],[99.50117,6.44501],[99.91873,6.50233],[100.0756,6.4045],[100.12,6.42105],[100.19511,6.72559],[100.29651,6.68439],[100.30828,6.66462],[100.31618,6.66781],[100.31884,6.66423],[100.32671,6.66526],[100.32607,6.65933],[100.31929,6.65413],[100.35413,6.54932],[100.41152,6.52299],[100.41791,6.5189],[100.42351,6.51762],[100.43027,6.52389],[100.66986,6.45086],[100.74361,6.50811],[100.74822,6.46231],[100.81045,6.45086],[100.85884,6.24929],[101.10313,6.25617],[101.12618,6.19431],[101.06165,6.14161],[101.12388,6.11411],[101.087,5.9193],[101.02708,5.91013],[100.98815,5.79464],[101.14062,5.61613],[101.25755,5.71065],[101.25524,5.78633],[101.58019,5.93534],[101.69773,5.75881],[101.75074,5.79091],[101.80144,5.74505],[101.89188,5.8386],[101.91776,5.84269],[101.92819,5.85511],[101.94712,5.98421],[101.9714,6.00575],[101.97114,6.01992],[101.99209,6.04075],[102.01835,6.05407],[102.09182,6.14161],[102.07732,6.193],[102.08127,6.22679],[102.09086,6.23546],[102.46318,7.22462],[102.47649,9.66162],[102.52395,11.25257],[102.91449,11.65512],[102.90973,11.75613],[102.83957,11.8519],[102.78427,11.98746],[102.77026,12.06815],[102.70176,12.1686],[102.73134,12.37091],[102.78116,12.40284],[102.7796,12.43781],[102.57567,12.65358],[102.51963,12.66117],[102.4994,12.71736],[102.53053,12.77506],[102.49335,12.92711],[102.48694,12.97537],[102.52275,12.99813],[102.46011,13.08057],[102.43422,13.09061],[102.36146,13.26006],[102.36001,13.31142],[102.34611,13.35618],[102.35692,13.38274],[102.35563,13.47307],[102.361,13.50551],[102.33828,13.55613],[102.36859,13.57488],[102.44601,13.5637],[102.5358,13.56933],[102.57573,13.60461],[102.62483,13.60883],[102.58635,13.6286],[102.5481,13.6589],[102.56848,13.69366],[102.72727,13.77806],[102.77864,13.93374],[102.91251,14.01531],[102.93275,14.19044],[103.16469,14.33075],[103.39353,14.35639],[103.53518,14.42575],[103.71109,14.4348],[103.70175,14.38052],[103.93836,14.3398],[104.27616,14.39861],[104.55014,14.36091],[104.69335,14.42726],[104.97667,14.38806],[105.02804,14.23722],[105.08408,14.20402],[105.14012,14.23873],[105.17748,14.34432],[105.20894,14.34967],[105.43783,14.43865],[105.53864,14.55731],[105.5121,14.80802],[105.61162,15.00037],[105.46661,15.13132],[105.58043,15.32724],[105.50662,15.32054],[105.4692,15.33709],[105.47635,15.3796],[105.58191,15.41031],[105.60446,15.53301],[105.61756,15.68792],[105.46573,15.74742],[105.42285,15.76971],[105.37959,15.84074],[105.34115,15.92737],[105.38508,15.987],[105.42001,16.00657],[105.06204,16.09792],[105.00262,16.25627],[104.88057,16.37311],[104.73349,16.565],[104.76099,16.69302],[104.7397,16.81005],[104.76442,16.84752],[104.7373,16.91125],[104.73712,17.01404],[104.80716,17.19025],[104.80061,17.39367],[104.69867,17.53038],[104.45404,17.66788],[104.35432,17.82871],[104.2757,17.86139],[104.21776,17.99335],[104.10927,18.10826],[104.06533,18.21656],[103.97725,18.33631],[103.93916,18.33914],[103.85642,18.28666],[103.82449,18.33979],[103.699,18.34125],[103.60957,18.40528],[103.47773,18.42841],[103.41044,18.4486],[103.30977,18.4341],[103.24779,18.37807],[103.23818,18.34875],[103.29757,18.30475],[103.17093,18.2618],[103.14994,18.23172],[103.1493,18.17799],[103.07343,18.12351],[103.07823,18.03833],[103.0566,18.00144],[103.01998,17.97095],[102.9912,17.9949],[102.95812,18.0054],[102.86323,17.97531],[102.81988,17.94233],[102.79044,17.93612],[102.75954,17.89561],[102.68538,17.86653],[102.67543,17.84529],[102.69946,17.81686],[102.68194,17.80151],[102.59485,17.83537],[102.5896,17.84889],[102.61432,17.92273],[102.60971,17.95411],[102.59234,17.96127],[102.45523,17.97106],[102.11359,18.21532],[101.88485,18.02474],[101.78087,18.07559],[101.72294,17.92867],[101.44667,17.7392],[101.15108,17.47586],[100.96541,17.57926],[101.02185,17.87637],[101.1793,18.0544],[101.19118,18.2125],[101.15108,18.25624],[101.18227,18.34367],[101.06047,18.43247],[101.27585,18.68875],[101.22832,18.73377],[101.25803,18.89545],[101.35606,19.04716],[101.261,19.12717],[101.24911,19.33334],[101.20604,19.35296],[101.21347,19.46223],[101.26991,19.48324],[101.26545,19.59242],[101.08928,19.59748],[100.90302,19.61901],[100.77231,19.48324],[100.64606,19.55884],[100.58219,19.49164],[100.49604,19.53504],[100.398,19.75047],[100.5094,19.87904],[100.58808,20.15791],[100.55218,20.17741],[100.51052,20.14928],[100.47567,20.19133],[100.4537,20.19971],[100.44992,20.23644],[100.41473,20.25625],[100.37439,20.35156],[100.33383,20.4028],[100.25769,20.3992],[100.22076,20.31598],[100.16668,20.2986],[100.1712,20.24324],[100.11785,20.24787],[100.09337,20.26293],[100.09999,20.31614],[100.08404,20.36626]]]]}},{type:"Feature",properties:{iso1A2:"TJ",iso1A3:"TJK",iso1N3:"762",wikidata:"Q863",nameEn:"Tajikistan",groups:["143","142","UN"],callingCodes:["992"]},geometry:{type:"MultiPolygon",coordinates:[[[[70.45251,41.04438],[70.38028,41.02014],[70.36655,40.90296],[69.69434,40.62615],[69.59441,40.70181],[69.53021,40.77621],[69.38327,40.7918],[69.32834,40.70233],[69.3455,40.57988],[69.2643,40.57506],[69.21063,40.54469],[69.27066,40.49274],[69.28525,40.41894],[69.30774,40.36102],[69.33794,40.34819],[69.32833,40.29794],[69.30808,40.2821],[69.24817,40.30357],[69.25229,40.26362],[69.30104,40.24502],[69.30448,40.18774],[69.2074,40.21488],[69.15659,40.2162],[69.04544,40.22904],[68.85832,40.20885],[68.84357,40.18604],[68.79276,40.17555],[68.77902,40.20492],[68.5332,40.14826],[68.52771,40.11676],[68.62796,40.07789],[69.01523,40.15771],[69.01935,40.11466],[68.96579,40.06949],[68.84906,40.04952],[68.93695,39.91167],[68.88889,39.87163],[68.63071,39.85265],[68.61972,39.68905],[68.54166,39.53929],[68.12053,39.56317],[67.70992,39.66156],[67.62889,39.60234],[67.44899,39.57799],[67.46547,39.53564],[67.39681,39.52505],[67.46822,39.46146],[67.45998,39.315],[67.36522,39.31287],[67.33226,39.23739],[67.67833,39.14479],[67.68915,39.00775],[68.09704,39.02589],[68.19743,38.85985],[68.06948,38.82115],[68.12877,38.73677],[68.05598,38.71641],[68.0807,38.64136],[68.05873,38.56087],[68.11366,38.47169],[68.06274,38.39435],[68.13289,38.40822],[68.40343,38.19484],[68.27159,37.91477],[68.12635,37.93],[67.81566,37.43107],[67.8474,37.31594],[67.78329,37.1834],[67.7803,37.08978],[67.87917,37.0591],[68.02194,36.91923],[68.18542,37.02074],[68.27605,37.00977],[68.29253,37.10621],[68.41201,37.10402],[68.41888,37.13906],[68.61851,37.19815],[68.6798,37.27906],[68.81438,37.23862],[68.80889,37.32494],[68.91189,37.26704],[68.88168,37.33368],[68.96407,37.32603],[69.03274,37.25174],[69.25152,37.09426],[69.39529,37.16752],[69.45022,37.23315],[69.36645,37.40462],[69.44954,37.4869],[69.51888,37.5844],[69.80041,37.5746],[69.84435,37.60616],[69.93362,37.61378],[69.95971,37.5659],[70.15015,37.52519],[70.28243,37.66706],[70.27694,37.81258],[70.1863,37.84296],[70.17206,37.93276],[70.4898,38.12546],[70.54673,38.24541],[70.60407,38.28046],[70.61526,38.34774],[70.64966,38.34999],[70.69189,38.37031],[70.6761,38.39144],[70.67438,38.40597],[70.69807,38.41861],[70.72485,38.4131],[70.75455,38.4252],[70.77132,38.45548],[70.78581,38.45502],[70.78702,38.45031],[70.79766,38.44944],[70.80521,38.44447],[70.81697,38.44507],[70.82538,38.45394],[70.84376,38.44688],[70.88719,38.46826],[70.92728,38.43021],[70.98693,38.48862],[71.03545,38.44779],[71.0556,38.40176],[71.09542,38.42517],[71.10592,38.42077],[71.10957,38.40671],[71.1451,38.40106],[71.21291,38.32797],[71.33114,38.30339],[71.33869,38.27335],[71.37803,38.25641],[71.36444,38.15358],[71.29878,38.04429],[71.28922,38.01272],[71.27622,37.99946],[71.27278,37.96496],[71.24969,37.93031],[71.2809,37.91995],[71.296,37.93403],[71.32871,37.88564],[71.51565,37.95349],[71.58843,37.92425],[71.59255,37.79956],[71.55752,37.78677],[71.54324,37.77104],[71.53053,37.76534],[71.55234,37.73209],[71.54186,37.69691],[71.51972,37.61945],[71.5065,37.60912],[71.49693,37.53527],[71.50616,37.50733],[71.5256,37.47971],[71.49612,37.4279],[71.47685,37.40281],[71.4862,37.33405],[71.49821,37.31975],[71.50674,37.31502],[71.48536,37.26017],[71.4824,37.24921],[71.48339,37.23937],[71.47386,37.2269],[71.4555,37.21418],[71.4494,37.18137],[71.44127,37.11856],[71.43097,37.05855],[71.45578,37.03094],[71.46923,36.99925],[71.48481,36.93218],[71.51502,36.89128],[71.57195,36.74943],[71.67083,36.67346],[71.83229,36.68084],[72.31676,36.98115],[72.54095,37.00007],[72.66381,37.02014],[72.79693,37.22222],[73.06884,37.31729],[73.29633,37.46495],[73.77197,37.4417],[73.76647,37.33913],[73.61129,37.27469],[73.64974,37.23643],[73.82552,37.22659],[73.8564,37.26158],[74.20308,37.34208],[74.23339,37.41116],[74.41055,37.3948],[74.56161,37.37734],[74.68383,37.3948],[74.8294,37.3435],[74.88887,37.23275],[75.12328,37.31839],[75.09719,37.37297],[75.15899,37.41443],[75.06011,37.52779],[74.94338,37.55501],[74.8912,37.67576],[75.00935,37.77486],[74.92416,37.83428],[74.9063,38.03033],[74.82665,38.07359],[74.80331,38.19889],[74.69894,38.22155],[74.69619,38.42947],[74.51217,38.47034],[74.17022,38.65504],[73.97933,38.52945],[73.79806,38.61106],[73.80656,38.66449],[73.7033,38.84782],[73.7445,38.93867],[73.82964,38.91517],[73.81728,39.04007],[73.75823,39.023],[73.60638,39.24534],[73.54572,39.27567],[73.55396,39.3543],[73.5004,39.38402],[73.59241,39.40843],[73.59831,39.46425],[73.45096,39.46677],[73.31912,39.38615],[73.18454,39.35536],[72.85934,39.35116],[72.62027,39.39696],[72.33173,39.33093],[72.23834,39.17248],[72.17242,39.2661],[72.09689,39.26823],[72.04059,39.36704],[71.90601,39.27674],[71.79202,39.27355],[71.7522,39.32031],[71.80164,39.40631],[71.76816,39.45456],[71.62688,39.44056],[71.5517,39.45722],[71.55856,39.57588],[71.49814,39.61397],[71.08752,39.50704],[71.06418,39.41586],[70.7854,39.38933],[70.64087,39.58792],[70.44757,39.60128],[70.2869,39.53141],[70.11111,39.58223],[69.87491,39.53882],[69.68677,39.59281],[69.3594,39.52516],[69.26938,39.8127],[69.35649,40.01994],[69.43134,39.98431],[69.43557,39.92877],[69.53615,39.93991],[69.5057,40.03277],[69.53855,40.0887],[69.53794,40.11833],[69.55555,40.12296],[69.57615,40.10524],[69.64704,40.12165],[69.67001,40.10639],[70.01283,40.23288],[70.58297,40.00891],[70.57384,39.99394],[70.47557,39.93216],[70.55033,39.96619],[70.58912,39.95211],[70.65946,39.9878],[70.65827,40.0981],[70.7928,40.12797],[70.80495,40.16813],[70.9818,40.22392],[70.8607,40.217],[70.62342,40.17396],[70.56394,40.26421],[70.57149,40.3442],[70.37511,40.38605],[70.32626,40.45174],[70.49871,40.52503],[70.80009,40.72825],[70.45251,41.04438]]],[[[70.68112,40.90612],[70.6158,40.97661],[70.56077,41.00642],[70.54223,40.98787],[70.57501,40.98941],[70.6721,40.90555],[70.68112,40.90612]]],[[[70.74189,39.86319],[70.53651,39.89155],[70.52631,39.86989],[70.54998,39.85137],[70.59667,39.83542],[70.63105,39.77923],[70.74189,39.86319]]]]}},{type:"Feature",properties:{iso1A2:"TK",iso1A3:"TKL",iso1N3:"772",wikidata:"Q36823",nameEn:"Tokelau",country:"NZ",groups:["061","009","UN"],driveSide:"left",callingCodes:["690"]},geometry:{type:"MultiPolygon",coordinates:[[[[-168.251,-9.44289],[-174.18635,-7.80441],[-174.17993,-10.13616],[-168.251,-9.44289]]]]}},{type:"Feature",properties:{iso1A2:"TL",iso1A3:"TLS",iso1N3:"626",wikidata:"Q574",nameEn:"East Timor",aliases:["Timor-Leste","TP"],groups:["035","142","UN"],driveSide:"left",callingCodes:["670"]},geometry:{type:"MultiPolygon",coordinates:[[[[124.46701,-9.13002],[124.94011,-8.85617],[124.97742,-9.08128],[125.11764,-8.96359],[125.18632,-9.03142],[125.18907,-9.16434],[125.09434,-9.19669],[125.04044,-9.17093],[124.97892,-9.19281],[125.09025,-9.46406],[125.68138,-9.85176],[127.55165,-9.05052],[127.42116,-8.22471],[125.87691,-8.31789],[125.58506,-7.95311],[124.92337,-8.75859],[124.33472,-9.11416],[124.04628,-9.22671],[124.04286,-9.34243],[124.10539,-9.41206],[124.14517,-9.42324],[124.21247,-9.36904],[124.28115,-9.42189],[124.28115,-9.50453],[124.3535,-9.48493],[124.35258,-9.43002],[124.38554,-9.3582],[124.45971,-9.30263],[124.46701,-9.13002]]]]}},{type:"Feature",properties:{iso1A2:"TM",iso1A3:"TKM",iso1N3:"795",wikidata:"Q874",nameEn:"Turkmenistan",groups:["143","142","UN"],callingCodes:["993"]},geometry:{type:"MultiPolygon",coordinates:[[[[60.5078,41.21694],[60.06581,41.4363],[60.18117,41.60082],[60.06032,41.76287],[60.08504,41.80997],[60.33223,41.75058],[59.95046,41.97966],[60.0356,42.01028],[60.04659,42.08982],[59.96419,42.1428],[60.00539,42.212],[59.94633,42.27655],[59.4341,42.29738],[59.2955,42.37064],[59.17317,42.52248],[58.93422,42.5407],[58.6266,42.79314],[58.57991,42.64988],[58.27504,42.69632],[58.14321,42.62159],[58.29427,42.56497],[58.51674,42.30348],[58.40688,42.29535],[58.3492,42.43335],[57.99214,42.50021],[57.90975,42.4374],[57.92897,42.24047],[57.84932,42.18555],[57.6296,42.16519],[57.30275,42.14076],[57.03633,41.92043],[56.96218,41.80383],[57.03359,41.41777],[57.13796,41.36625],[57.03423,41.25435],[56.00314,41.32584],[55.45471,41.25609],[54.95182,41.92424],[54.20635,42.38477],[52.97575,42.1308],[52.47884,41.78034],[52.26048,41.69249],[51.7708,40.29239],[53.89734,37.3464],[54.24565,37.32047],[54.36211,37.34912],[54.58664,37.45809],[54.67247,37.43532],[54.77822,37.51597],[54.81804,37.61285],[54.77684,37.62264],[54.851,37.75739],[55.13412,37.94705],[55.44152,38.08564],[55.76561,38.12238],[55.97847,38.08024],[56.33278,38.08132],[56.32454,38.18502],[56.43303,38.26054],[56.62255,38.24005],[56.73928,38.27887],[57.03453,38.18717],[57.21169,38.28965],[57.37236,38.09321],[57.35042,37.98546],[57.79534,37.89299],[58.21399,37.77281],[58.22999,37.6856],[58.39959,37.63134],[58.47786,37.6433],[58.5479,37.70526],[58.6921,37.64548],[58.9338,37.67374],[59.22905,37.51161],[59.33507,37.53146],[59.39797,37.47892],[59.39385,37.34257],[59.55178,37.13594],[59.74678,37.12499],[60.00768,37.04102],[60.34767,36.63214],[61.14516,36.64644],[61.18187,36.55348],[61.1393,36.38782],[61.22719,36.12759],[61.12007,35.95992],[61.22444,35.92879],[61.26152,35.80749],[61.22719,35.67038],[61.27371,35.61482],[61.58742,35.43803],[61.77693,35.41341],[61.97743,35.4604],[62.05709,35.43803],[62.15871,35.33278],[62.29191,35.25964],[62.29878,35.13312],[62.48006,35.28796],[62.62288,35.22067],[62.74098,35.25432],[62.90853,35.37086],[63.0898,35.43131],[63.12276,35.53196],[63.10079,35.63024],[63.23262,35.67487],[63.10318,35.81782],[63.12276,35.86208],[63.29579,35.85985],[63.53475,35.90881],[63.56496,35.95106],[63.98519,36.03773],[64.05385,36.10433],[64.43288,36.24401],[64.57295,36.34362],[64.62514,36.44311],[64.61141,36.6351],[64.97945,37.21913],[65.51778,37.23881],[65.64263,37.34388],[65.64137,37.45061],[65.72274,37.55438],[66.30993,37.32409],[66.55743,37.35409],[66.52303,37.39827],[66.65761,37.45497],[66.52852,37.58568],[66.53676,37.80084],[66.67684,37.96776],[66.56697,38.0435],[66.41042,38.02403],[66.24013,38.16238],[65.83913,38.25733],[65.55873,38.29052],[64.32576,38.98691],[64.19086,38.95561],[63.70778,39.22349],[63.6913,39.27666],[62.43337,39.98528],[62.34273,40.43206],[62.11751,40.58242],[61.87856,41.12257],[61.4446,41.29407],[61.39732,41.19873],[61.33199,41.14946],[61.22212,41.14946],[61.03261,41.25691],[60.5078,41.21694]]]]}},{type:"Feature",properties:{iso1A2:"TN",iso1A3:"TUN",iso1N3:"788",wikidata:"Q948",nameEn:"Tunisia",groups:["015","002","UN"],callingCodes:["216"]},geometry:{type:"MultiPolygon",coordinates:[[[[11.2718,37.6713],[7.89009,38.19924],[8.59123,37.14286],[8.64044,36.9401],[8.62972,36.86499],[8.67706,36.8364],[8.57613,36.78062],[8.46537,36.7706],[8.47609,36.66607],[8.16167,36.48817],[8.18936,36.44939],[8.40731,36.42208],[8.2626,35.91733],[8.26472,35.73669],[8.35371,35.66373],[8.36086,35.47774],[8.30329,35.29884],[8.47318,35.23376],[8.3555,35.10007],[8.30727,34.95378],[8.25189,34.92009],[8.29655,34.72798],[8.20482,34.57575],[7.86264,34.3987],[7.81242,34.21841],[7.74207,34.16492],[7.66174,34.20167],[7.52851,34.06493],[7.54088,33.7726],[7.73687,33.42114],[7.83028,33.18851],[8.11433,33.10175],[8.1179,33.05086],[8.31895,32.83483],[8.35999,32.50101],[9.07483,32.07865],[9.55544,30.23971],[9.76848,30.34366],[9.88152,30.34074],[10.29516,30.90337],[10.12239,31.42098],[10.31364,31.72648],[10.48497,31.72956],[10.62788,31.96629],[10.7315,31.97235],[11.04234,32.2145],[11.53898,32.4138],[11.57828,32.48013],[11.46037,32.6307],[11.51549,33.09826],[11.55852,33.1409],[11.58941,33.36891],[11.2718,37.6713]]]]}},{type:"Feature",properties:{iso1A2:"TO",iso1A3:"TON",iso1N3:"776",wikidata:"Q678",nameEn:"Tonga",groups:["061","009","UN"],driveSide:"left",callingCodes:["676"]},geometry:{type:"MultiPolygon",coordinates:[[[[-176.74538,-22.89767],[-180,-22.90585],[-180,-24.21376],[-173.10761,-24.19665],[-173.13438,-14.94228],[-176.76826,-14.95183],[-176.74538,-22.89767]]]]}},{type:"Feature",properties:{iso1A2:"TR",iso1A3:"TUR",iso1N3:"792",wikidata:"Q43",nameEn:"Turkey",groups:["145","142","UN"],callingCodes:["90"]},geometry:{type:"MultiPolygon",coordinates:[[[[41.54366,41.52185],[40.89217,41.72528],[34.8305,42.4581],[28.32297,41.98371],[28.02971,41.98066],[27.91479,41.97902],[27.83492,41.99709],[27.81235,41.94803],[27.69949,41.97515],[27.55191,41.90928],[27.52379,41.93756],[27.45478,41.96591],[27.27411,42.10409],[27.22376,42.10152],[27.19251,42.06028],[27.08486,42.08735],[27.03277,42.0809],[26.95638,42.00741],[26.79143,41.97386],[26.62996,41.97644],[26.56051,41.92995],[26.57961,41.90024],[26.53968,41.82653],[26.36952,41.82265],[26.33589,41.76802],[26.32952,41.73637],[26.35957,41.71149],[26.47958,41.67037],[26.5209,41.62592],[26.59196,41.60491],[26.59742,41.48058],[26.61767,41.42281],[26.62997,41.34613],[26.5837,41.32131],[26.5209,41.33993],[26.39861,41.25053],[26.32259,41.24929],[26.31928,41.07386],[26.3606,41.02027],[26.33297,40.98388],[26.35894,40.94292],[26.32259,40.94042],[26.28623,40.93005],[26.29441,40.89119],[26.26169,40.9168],[26.20856,40.86048],[26.21351,40.83298],[26.15685,40.80709],[26.12854,40.77339],[26.12495,40.74283],[26.08638,40.73214],[26.0754,40.72772],[26.03489,40.73051],[25.94795,40.72797],[26.04292,40.3958],[25.61285,40.17161],[25.94257,39.39358],[26.43357,39.43096],[26.70773,39.0312],[26.61814,38.81372],[26.21136,38.65436],[26.32173,38.48731],[26.24183,38.44695],[26.21136,38.17558],[27.05537,37.9131],[27.16428,37.72343],[26.99377,37.69034],[26.95583,37.64989],[27.14757,37.32],[27.20312,36.94571],[27.45627,36.9008],[27.24613,36.71622],[27.46117,36.53789],[27.89482,36.69898],[27.95037,36.46155],[28.23708,36.56812],[29.30783,36.01033],[29.48192,36.18377],[29.61002,36.1731],[29.61805,36.14179],[29.69611,36.10365],[29.73302,35.92555],[32.82353,35.70297],[35.51152,36.10954],[35.931,35.92109],[35.98499,35.94107],[36.00514,35.94113],[36.01844,35.92403],[35.99829,35.88242],[36.11827,35.85923],[36.13919,35.83692],[36.14029,35.81015],[36.1623,35.80925],[36.17441,35.92076],[36.19973,35.95195],[36.25366,35.96264],[36.27678,35.94839],[36.29769,35.96086],[36.28338,36.00273],[36.30099,36.00985],[36.33956,35.98687],[36.37474,36.01163],[36.39206,36.22088],[36.4617,36.20461],[36.50463,36.2419],[36.6125,36.22592],[36.68672,36.23677],[36.65653,36.33861],[36.6081,36.33772],[36.54206,36.49539],[36.58829,36.58295],[36.57398,36.65186],[36.62681,36.71189],[36.61581,36.74629],[36.66727,36.82901],[36.99557,36.75997],[36.99886,36.74012],[37.04399,36.73483],[37.04619,36.71101],[37.01647,36.69512],[37.02088,36.66422],[37.08279,36.63495],[37.10894,36.6704],[37.16177,36.66069],[37.21988,36.6736],[37.47253,36.63243],[37.49103,36.66904],[37.68048,36.75065],[37.81974,36.76055],[38.21064,36.91842],[38.38859,36.90064],[38.55908,36.84429],[38.74042,36.70629],[39.03217,36.70911],[39.21538,36.66834],[39.81589,36.75538],[40.69136,37.0996],[40.90856,37.13147],[41.21937,37.07665],[41.515,37.08084],[42.00894,37.17209],[42.18225,37.28569],[42.19301,37.31323],[42.2112,37.32491],[42.22257,37.31395],[42.22381,37.30238],[42.20454,37.28715],[42.21548,37.28026],[42.23683,37.2863],[42.26039,37.27017],[42.2824,37.2798],[42.34735,37.22548],[42.32313,37.17814],[42.35724,37.10998],[42.56725,37.14878],[42.78887,37.38615],[42.93705,37.32015],[43.11403,37.37436],[43.30083,37.30629],[43.33508,37.33105],[43.50787,37.24436],[43.56702,37.25675],[43.63085,37.21957],[43.7009,37.23692],[43.8052,37.22825],[43.82699,37.19477],[43.84878,37.22205],[43.90949,37.22453],[44.02002,37.33229],[44.13521,37.32486],[44.2613,37.25055],[44.27998,37.16501],[44.22239,37.15756],[44.18503,37.09551],[44.25975,36.98119],[44.30645,36.97373],[44.35937,37.02843],[44.35315,37.04955],[44.38117,37.05825],[44.42631,37.05825],[44.63179,37.19229],[44.76698,37.16162],[44.78319,37.1431],[44.7868,37.16644],[44.75986,37.21549],[44.81021,37.2915],[44.58449,37.45018],[44.61401,37.60165],[44.56887,37.6429],[44.62096,37.71985],[44.55498,37.783],[44.45948,37.77065],[44.3883,37.85433],[44.22509,37.88859],[44.42476,38.25763],[44.50115,38.33939],[44.44386,38.38295],[44.38309,38.36117],[44.3119,38.37887],[44.3207,38.49799],[44.32058,38.62752],[44.28065,38.6465],[44.26155,38.71427],[44.30322,38.81581],[44.18863,38.93881],[44.20946,39.13975],[44.1043,39.19842],[44.03667,39.39223],[44.22452,39.4169],[44.29818,39.378],[44.37921,39.4131],[44.42832,39.4131],[44.41849,39.56659],[44.48111,39.61579],[44.47298,39.68788],[44.6137,39.78393],[44.65422,39.72163],[44.71806,39.71124],[44.81043,39.62677],[44.80977,39.65768],[44.75779,39.7148],[44.61845,39.8281],[44.46635,39.97733],[44.26973,40.04866],[44.1778,40.02845],[44.1057,40.03555],[43.92307,40.01787],[43.65688,40.11199],[43.65221,40.14889],[43.71136,40.16673],[43.59928,40.34019],[43.60862,40.43267],[43.54791,40.47413],[43.63664,40.54159],[43.7425,40.66805],[43.74872,40.7365],[43.67712,40.84846],[43.67712,40.93084],[43.58683,40.98961],[43.47319,41.02251],[43.44984,41.0988],[43.4717,41.12611],[43.44973,41.17666],[43.36118,41.2028],[43.23096,41.17536],[43.1945,41.25242],[43.13373,41.25503],[43.21707,41.30331],[43.02956,41.37891],[42.8785,41.50516],[42.84899,41.47265],[42.78995,41.50126],[42.84471,41.58912],[42.72794,41.59714],[42.59202,41.58183],[42.51772,41.43606],[42.26387,41.49346],[41.95134,41.52466],[41.81939,41.43621],[41.7124,41.47417],[41.7148,41.4932],[41.54366,41.52185]]]]}},{type:"Feature",properties:{iso1A2:"TT",iso1A3:"TTO",iso1N3:"780",wikidata:"Q754",nameEn:"Trinidad and Tobago",groups:["029","003","419","019","UN"],driveSide:"left",callingCodes:["1 868"]},geometry:{type:"MultiPolygon",coordinates:[[[[-61.62505,11.18974],[-62.08693,10.04435],[-60.89962,9.81445],[-60.07172,11.77667],[-61.62505,11.18974]]]]}},{type:"Feature",properties:{iso1A2:"TV",iso1A3:"TUV",iso1N3:"798",wikidata:"Q672",nameEn:"Tuvalu",groups:["061","009","UN"],driveSide:"left",callingCodes:["688"]},geometry:{type:"MultiPolygon",coordinates:[[[[174,-5],[174,-11.5],[179.99999,-11.5],[179.99999,-5],[174,-5]]]]}},{type:"Feature",properties:{iso1A2:"TW",iso1A3:"TWN",iso1N3:"158",wikidata:"Q865",nameEn:"Taiwan",aliases:["RC"],groups:["030","142"],callingCodes:["886"]},geometry:{type:"MultiPolygon",coordinates:[[[[121.8109,21.77688],[122.26612,25.98197],[120.49232,25.22863],[118.56434,24.49266],[118.42453,24.54644],[118.35291,24.51645],[118.28244,24.51231],[118.11703,24.39734],[120.69238,21.52331],[121.8109,21.77688]]]]}},{type:"Feature",properties:{iso1A2:"TZ",iso1A3:"TZA",iso1N3:"834",wikidata:"Q924",nameEn:"Tanzania",groups:["014","202","002","UN"],driveSide:"left",callingCodes:["255"]},geometry:{type:"MultiPolygon",coordinates:[[[[30.80408,-.99911],[30.76635,-.9852],[30.70631,-1.01175],[30.64166,-1.06601],[30.47194,-1.0555],[30.45116,-1.10641],[30.50889,-1.16412],[30.57123,-1.33264],[30.71974,-1.43244],[30.84079,-1.64652],[30.80802,-1.91477],[30.89303,-2.08223],[30.83915,-2.35795],[30.54501,-2.41404],[30.41789,-2.66266],[30.52747,-2.65841],[30.40662,-2.86151],[30.4987,-2.9573],[30.57926,-2.89791],[30.6675,-2.98987],[30.83823,-2.97837],[30.84165,-3.25152],[30.45915,-3.56532],[30.22042,-4.01738],[30.03323,-4.26631],[29.88172,-4.35743],[29.82885,-4.36153],[29.77289,-4.41733],[29.75109,-4.45836],[29.63827,-4.44681],[29.43673,-4.44845],[29.52552,-6.2731],[30.2567,-7.14121],[30.79243,-8.27382],[31.00796,-8.58615],[31.37533,-8.60769],[31.57147,-8.70619],[31.57147,-8.81388],[31.71158,-8.91386],[31.81587,-8.88618],[31.94663,-8.93846],[31.94196,-9.02303],[31.98866,-9.07069],[32.08206,-9.04609],[32.16146,-9.05993],[32.25486,-9.13371],[32.43543,-9.11988],[32.49147,-9.14754],[32.53661,-9.24281],[32.75611,-9.28583],[32.76233,-9.31963],[32.95389,-9.40138],[32.99397,-9.36712],[33.14925,-9.49322],[33.31581,-9.48554],[33.48052,-9.62442],[33.76677,-9.58516],[33.93298,-9.71647],[33.9638,-9.62206],[33.95829,-9.54066],[34.03865,-9.49398],[34.54499,-10.0678],[34.51911,-10.12279],[34.57581,-10.56271],[34.65946,-10.6828],[34.67047,-10.93796],[34.61161,-11.01611],[34.63305,-11.11731],[34.79375,-11.32245],[34.91153,-11.39799],[34.96296,-11.57354],[35.63599,-11.55927],[35.82767,-11.41081],[36.19094,-11.57593],[36.19094,-11.70008],[36.62068,-11.72884],[36.80309,-11.56836],[37.3936,-11.68949],[37.76614,-11.53352],[37.8388,-11.3123],[37.93618,-11.26228],[38.21598,-11.27289],[38.47258,-11.4199],[38.88996,-11.16978],[39.24395,-11.17433],[39.58249,-10.96043],[40.00295,-10.80255],[40.44265,-10.4618],[40.74206,-10.25691],[40.14328,-4.64201],[39.62121,-4.68136],[39.44306,-4.93877],[39.21631,-4.67835],[37.81321,-3.69179],[37.75036,-3.54243],[37.63099,-3.50723],[37.5903,-3.42735],[37.71745,-3.304],[37.67199,-3.06222],[34.0824,-1.02264],[34.03084,-1.05101],[34.02286,-1.00779],[33.93107,-.99298],[30.80408,-.99911]]]]}},{type:"Feature",properties:{iso1A2:"UA",iso1A3:"UKR",iso1N3:"804",wikidata:"Q212",nameEn:"Ukraine",groups:["151","150","UN"],callingCodes:["380"]},geometry:{type:"MultiPolygon",coordinates:[[[[33.57318,46.10317],[33.61467,46.13561],[33.63854,46.14147],[33.61517,46.22615],[33.646,46.23028],[33.74047,46.18555],[33.79715,46.20482],[33.85234,46.19863],[33.91549,46.15938],[34.05272,46.10838],[34.07311,46.11769],[34.12929,46.10494],[34.181,46.06804],[34.25111,46.0532],[34.33912,46.06114],[34.41221,46.00245],[34.44155,45.95995],[34.48729,45.94267],[34.52011,45.95097],[34.55889,45.99347],[34.60861,45.99347],[34.66679,45.97136],[34.75479,45.90705],[34.80153,45.90047],[34.79905,45.81009],[34.96015,45.75634],[35.23066,45.79231],[37.62608,46.82615],[38.12112,46.86078],[38.3384,46.98085],[38.22955,47.12069],[38.23049,47.2324],[38.32112,47.2585],[38.33074,47.30508],[38.22225,47.30788],[38.28954,47.39255],[38.28679,47.53552],[38.35062,47.61631],[38.76379,47.69346],[38.79628,47.81109],[38.87979,47.87719],[39.73935,47.82876],[39.82213,47.96396],[39.77544,48.04206],[39.88256,48.04482],[39.83724,48.06501],[39.94847,48.22811],[40.00752,48.22445],[39.99241,48.31768],[39.97325,48.31399],[39.9693,48.29904],[39.95248,48.29972],[39.91465,48.26743],[39.90041,48.3049],[39.84273,48.30947],[39.84136,48.33321],[39.94847,48.35055],[39.88794,48.44226],[39.86196,48.46633],[39.84548,48.57821],[39.79764,48.58668],[39.67226,48.59368],[39.71765,48.68673],[39.73104,48.7325],[39.79466,48.83739],[39.97182,48.79398],[40.08168,48.87443],[40.03636,48.91957],[39.98967,48.86901],[39.78368,48.91596],[39.74874,48.98675],[39.72649,48.9754],[39.71353,48.98959],[39.6683,48.99454],[39.6836,49.05121],[39.93437,49.05709],[40.01988,49.1761],[40.22176,49.25683],[40.18331,49.34996],[40.14912,49.37681],[40.1141,49.38798],[40.03087,49.45452],[40.03636,49.52321],[40.16683,49.56865],[40.13249,49.61672],[39.84548,49.56064],[39.65047,49.61761],[39.59142,49.73758],[39.44496,49.76067],[39.27968,49.75976],[39.1808,49.88911],[38.9391,49.79524],[38.90477,49.86787],[38.73311,49.90238],[38.68677,50.00904],[38.65688,49.97176],[38.35408,50.00664],[38.32524,50.08866],[38.18517,50.08161],[38.21675,49.98104],[38.02999,49.90592],[38.02999,49.94482],[37.90776,50.04194],[37.79515,50.08425],[37.75807,50.07896],[37.61113,50.21976],[37.62879,50.24481],[37.62486,50.29966],[37.47243,50.36277],[37.48204,50.46079],[37.08468,50.34935],[36.91762,50.34963],[36.69377,50.26982],[36.64571,50.218],[36.56655,50.2413],[36.58371,50.28563],[36.47817,50.31457],[36.30101,50.29088],[36.20763,50.3943],[36.06893,50.45205],[35.8926,50.43829],[35.80388,50.41356],[35.73659,50.35489],[35.61711,50.35707],[35.58003,50.45117],[35.47463,50.49247],[35.39464,50.64751],[35.48116,50.66405],[35.47704,50.77274],[35.41367,50.80227],[35.39307,50.92145],[35.32598,50.94524],[35.40837,51.04119],[35.31774,51.08434],[35.20375,51.04723],[35.12685,51.16191],[35.14058,51.23162],[34.97304,51.2342],[34.82472,51.17483],[34.6874,51.18],[34.6613,51.25053],[34.38802,51.2746],[34.31661,51.23936],[34.23009,51.26429],[34.33446,51.363],[34.22048,51.4187],[34.30562,51.5205],[34.17599,51.63253],[34.07765,51.67065],[34.42922,51.72852],[34.41136,51.82793],[34.09413,52.00835],[34.11199,52.14087],[34.05239,52.20132],[33.78789,52.37204],[33.55718,52.30324],[33.48027,52.31499],[33.51323,52.35779],[33.18913,52.3754],[32.89937,52.2461],[32.85405,52.27888],[32.69475,52.25535],[32.54781,52.32423],[32.3528,52.32842],[32.38988,52.24946],[32.33083,52.23685],[32.34044,52.1434],[32.2777,52.10266],[32.23331,52.08085],[32.08813,52.03319],[31.92159,52.05144],[31.96141,52.08015],[31.85018,52.11305],[31.81722,52.09955],[31.7822,52.11406],[31.38326,52.12991],[31.25142,52.04131],[31.13332,52.1004],[30.95589,52.07775],[30.90897,52.00699],[30.76443,51.89739],[30.68804,51.82806],[30.51946,51.59649],[30.64992,51.35014],[30.56203,51.25655],[30.36153,51.33984],[30.34642,51.42555],[30.17888,51.51025],[29.77376,51.4461],[29.7408,51.53417],[29.54372,51.48372],[29.49773,51.39814],[29.42357,51.4187],[29.32881,51.37843],[29.25191,51.49828],[29.25603,51.57089],[29.20659,51.56918],[29.16402,51.64679],[29.1187,51.65872],[28.99098,51.56833],[28.95528,51.59222],[28.81795,51.55552],[28.76027,51.48802],[28.78224,51.45294],[28.75615,51.41442],[28.73143,51.46236],[28.69161,51.44695],[28.64429,51.5664],[28.47051,51.59734],[28.37592,51.54505],[28.23452,51.66988],[28.10658,51.57857],[27.95827,51.56065],[27.91844,51.61952],[27.85253,51.62293],[27.76052,51.47604],[27.67125,51.50854],[27.71932,51.60672],[27.55727,51.63486],[27.51058,51.5854],[27.47212,51.61184],[27.24828,51.60161],[27.26613,51.65957],[27.20948,51.66713],[27.20602,51.77291],[26.99422,51.76933],[26.9489,51.73788],[26.80043,51.75777],[26.69759,51.82284],[26.46962,51.80501],[26.39367,51.87315],[26.19084,51.86781],[26.00408,51.92967],[25.83217,51.92587],[25.80574,51.94556],[25.73673,51.91973],[25.46163,51.92205],[25.20228,51.97143],[24.98784,51.91273],[24.37123,51.88222],[24.29021,51.80841],[24.3163,51.75063],[24.13075,51.66979],[23.99907,51.58369],[23.8741,51.59734],[23.91118,51.63316],[23.7766,51.66809],[23.60906,51.62122],[23.6736,51.50255],[23.62751,51.50512],[23.69905,51.40871],[23.63858,51.32182],[23.80678,51.18405],[23.90376,51.07697],[23.92217,51.00836],[24.04576,50.90196],[24.14524,50.86128],[24.0952,50.83262],[23.99254,50.83847],[23.95925,50.79271],[24.0595,50.71625],[24.0996,50.60752],[24.07048,50.5071],[24.03668,50.44507],[23.99563,50.41289],[23.79445,50.40481],[23.71382,50.38248],[23.67635,50.33385],[23.28221,50.0957],[22.99329,49.84249],[22.83179,49.69875],[22.80261,49.69098],[22.78304,49.65543],[22.64534,49.53094],[22.69444,49.49378],[22.748,49.32759],[22.72009,49.20288],[22.86336,49.10513],[22.89122,49.00725],[22.56155,49.08865],[22.54338,49.01424],[22.48296,48.99172],[22.42934,48.92857],[22.34151,48.68893],[22.21379,48.6218],[22.16023,48.56548],[22.14689,48.4005],[22.2083,48.42534],[22.38133,48.23726],[22.49806,48.25189],[22.59007,48.15121],[22.58733,48.10813],[22.66835,48.09162],[22.73427,48.12005],[22.81804,48.11363],[22.87847,48.04665],[22.84276,47.98602],[22.89849,47.95851],[22.94301,47.96672],[22.92241,48.02002],[23.0158,47.99338],[23.08858,48.00716],[23.1133,48.08061],[23.15999,48.12188],[23.27397,48.08245],[23.33577,48.0237],[23.4979,47.96858],[23.52803,48.01818],[23.5653,48.00499],[23.63894,48.00293],[23.66262,47.98786],[23.75188,47.99705],[23.80904,47.98142],[23.8602,47.9329],[23.89352,47.94512],[23.94192,47.94868],[23.96337,47.96672],[23.98553,47.96076],[24.00801,47.968],[24.02999,47.95087],[24.06466,47.95317],[24.11281,47.91487],[24.22566,47.90231],[24.34926,47.9244],[24.43578,47.97131],[24.61994,47.95062],[24.70632,47.84428],[24.81893,47.82031],[24.88896,47.7234],[25.11144,47.75203],[25.23778,47.89403],[25.63878,47.94924],[25.77723,47.93919],[26.05901,47.9897],[26.17711,47.99246],[26.33504,48.18418],[26.55202,48.22445],[26.62823,48.25804],[26.6839,48.35828],[26.79239,48.29071],[26.82809,48.31629],[26.71274,48.40388],[26.85556,48.41095],[26.93384,48.36558],[27.03821,48.37653],[27.0231,48.42485],[27.08078,48.43214],[27.13434,48.37288],[27.27855,48.37534],[27.32159,48.4434],[27.37604,48.44398],[27.37741,48.41026],[27.44333,48.41209],[27.46942,48.454],[27.5889,48.49224],[27.59027,48.46311],[27.6658,48.44034],[27.74422,48.45926],[27.79225,48.44244],[27.81902,48.41874],[27.87533,48.4037],[27.88391,48.36699],[27.95883,48.32368],[28.04527,48.32661],[28.09873,48.3124],[28.07504,48.23494],[28.17666,48.25963],[28.19314,48.20749],[28.2856,48.23202],[28.32508,48.23384],[28.35519,48.24957],[28.36996,48.20543],[28.34912,48.1787],[28.30586,48.1597],[28.30609,48.14018],[28.34009,48.13147],[28.38712,48.17567],[28.43701,48.15832],[28.42454,48.12047],[28.48428,48.0737],[28.53921,48.17453],[28.69896,48.13106],[28.85232,48.12506],[28.8414,48.03392],[28.9306,47.96255],[29.1723,47.99013],[29.19839,47.89261],[29.27804,47.88893],[29.20663,47.80367],[29.27255,47.79953],[29.22242,47.73607],[29.22414,47.60012],[29.11743,47.55001],[29.18603,47.43387],[29.3261,47.44664],[29.39889,47.30179],[29.47854,47.30366],[29.48678,47.36043],[29.5733,47.36508],[29.59665,47.25521],[29.54996,47.24962],[29.57696,47.13581],[29.49732,47.12878],[29.53044,47.07851],[29.61038,47.09932],[29.62137,47.05069],[29.57056,46.94766],[29.72986,46.92234],[29.75458,46.8604],[29.87405,46.88199],[29.98814,46.82358],[29.94522,46.80055],[29.9743,46.75325],[29.94409,46.56002],[29.88916,46.54302],[30.02511,46.45132],[30.16794,46.40967],[30.09103,46.38694],[29.94114,46.40114],[29.88329,46.35851],[29.74496,46.45605],[29.66359,46.4215],[29.6763,46.36041],[29.5939,46.35472],[29.49914,46.45889],[29.35357,46.49505],[29.24886,46.37912],[29.23547,46.55435],[29.02409,46.49582],[29.01241,46.46177],[28.9306,46.45699],[29.004,46.31495],[28.98478,46.31803],[28.94953,46.25852],[29.06656,46.19716],[28.94643,46.09176],[29.00613,46.04962],[28.98004,46.00385],[28.74383,45.96664],[28.78503,45.83475],[28.69852,45.81753],[28.70401,45.78019],[28.52823,45.73803],[28.47879,45.66994],[28.51587,45.6613],[28.54196,45.58062],[28.49252,45.56716],[28.51449,45.49982],[28.43072,45.48538],[28.41836,45.51715],[28.30201,45.54744],[28.21139,45.46895],[28.28504,45.43907],[28.34554,45.32102],[28.5735,45.24759],[28.71358,45.22631],[28.78911,45.24179],[28.81383,45.3384],[28.94292,45.28045],[28.96077,45.33164],[29.24779,45.43388],[29.42632,45.44545],[29.59798,45.38857],[29.68175,45.26885],[29.65428,45.25629],[29.69272,45.19227],[30.04414,45.08461],[31.62627,45.50633],[33.54017,46.0123],[33.59087,46.06013],[33.57318,46.10317]]]]}},{type:"Feature",properties:{iso1A2:"UG",iso1A3:"UGA",iso1N3:"800",wikidata:"Q1036",nameEn:"Uganda",groups:["014","202","002","UN"],driveSide:"left",callingCodes:["256"]},geometry:{type:"MultiPolygon",coordinates:[[[[33.93107,-.99298],[33.9264,-.54188],[33.98449,-.13079],[33.90936,.10581],[34.10067,.36372],[34.08727,.44713],[34.11408,.48884],[34.13493,.58118],[34.20196,.62289],[34.27345,.63182],[34.31516,.75693],[34.40041,.80266],[34.43349,.85254],[34.52369,1.10692],[34.57427,1.09868],[34.58029,1.14712],[34.67562,1.21265],[34.80223,1.22754],[34.82606,1.26626],[34.82606,1.30944],[34.7918,1.36752],[34.87819,1.5596],[34.92734,1.56109],[34.9899,1.6668],[34.98692,1.97348],[34.90947,2.42447],[34.95267,2.47209],[34.77244,2.70272],[34.78137,2.76223],[34.73967,2.85447],[34.65774,2.8753],[34.60114,2.93034],[34.56242,3.11478],[34.45815,3.18319],[34.40006,3.37949],[34.41794,3.44342],[34.39112,3.48802],[34.44922,3.51627],[34.45815,3.67385],[34.15429,3.80464],[34.06046,4.15235],[33.9873,4.23316],[33.51264,3.75068],[33.18356,3.77812],[33.02852,3.89296],[32.89746,3.81339],[32.72021,3.77327],[32.41337,3.748],[32.20782,3.6053],[32.19888,3.50867],[32.08866,3.53543],[32.08491,3.56287],[32.05187,3.589],[31.95907,3.57408],[31.96205,3.6499],[31.86821,3.78664],[31.81459,3.82083],[31.72075,3.74354],[31.50776,3.63652],[31.50478,3.67814],[31.29476,3.8015],[31.16666,3.79853],[30.97601,3.693],[30.85153,3.48867],[30.94081,3.50847],[30.93486,3.40737],[30.84251,3.26908],[30.77101,3.04897],[30.8574,2.9508],[30.8857,2.83923],[30.75612,2.5863],[30.74271,2.43601],[30.83059,2.42559],[30.91102,2.33332],[30.96911,2.41071],[31.06593,2.35862],[31.07934,2.30207],[31.12104,2.27676],[31.1985,2.29462],[31.20148,2.2217],[31.28042,2.17853],[31.30127,2.11006],[30.48503,1.21675],[30.24671,1.14974],[30.22139,.99635],[30.1484,.89805],[29.98307,.84295],[29.95477,.64486],[29.97413,.52124],[29.87284,.39166],[29.81922,.16824],[29.77454,.16675],[29.7224,.07291],[29.72687,-.08051],[29.65091,-.46777],[29.67474,-.47969],[29.67176,-.55714],[29.62708,-.71055],[29.63006,-.8997],[29.58388,-.89821],[29.59061,-1.39016],[29.82657,-1.31187],[29.912,-1.48269],[30.16369,-1.34303],[30.35212,-1.06896],[30.47194,-1.0555],[30.64166,-1.06601],[30.70631,-1.01175],[30.76635,-.9852],[30.80408,-.99911],[33.93107,-.99298]]]]}},{type:"Feature",properties:{iso1A2:"UM",iso1A3:"UMI",iso1N3:"581",wikidata:"Q16645",nameEn:"United States Minor Outlying Islands",country:"US"},geometry:null},{type:"Feature",properties:{iso1A2:"UN",wikidata:"Q1065",nameEn:"United Nations",level:"unitedNations",isoStatus:"excRes"},geometry:null},{type:"Feature",properties:{iso1A2:"US",iso1A3:"USA",iso1N3:"840",wikidata:"Q30",nameEn:"United States of America"},geometry:null},{type:"Feature",properties:{iso1A2:"UY",iso1A3:"URY",iso1N3:"858",wikidata:"Q77",nameEn:"Uruguay",groups:["005","419","019","UN"],callingCodes:["598"]},geometry:{type:"MultiPolygon",coordinates:[[[[-57.65132,-30.19229],[-57.61478,-30.25165],[-57.64859,-30.35095],[-57.89115,-30.49572],[-57.8024,-30.77193],[-57.89476,-30.95994],[-57.86729,-31.06352],[-57.9908,-31.34924],[-57.98127,-31.3872],[-58.07569,-31.44916],[-58.0023,-31.53084],[-58.00076,-31.65016],[-58.20252,-31.86966],[-58.10036,-32.25338],[-58.22362,-32.52416],[-58.1224,-32.98842],[-58.40475,-33.11777],[-58.44442,-33.84033],[-58.34425,-34.15035],[-57.83001,-34.69099],[-54.78916,-36.21945],[-52.83257,-34.01481],[-53.37138,-33.74313],[-53.39593,-33.75169],[-53.44031,-33.69344],[-53.52794,-33.68908],[-53.53459,-33.16843],[-53.1111,-32.71147],[-53.37671,-32.57005],[-53.39572,-32.58596],[-53.76024,-32.0751],[-54.17384,-31.86168],[-55.50821,-30.91349],[-55.50841,-30.9027],[-55.51862,-30.89828],[-55.52712,-30.89997],[-55.53276,-30.90218],[-55.53431,-30.89714],[-55.54572,-30.89051],[-55.55218,-30.88193],[-55.55373,-30.8732],[-55.5634,-30.8686],[-55.58866,-30.84117],[-55.87388,-31.05053],[-56.4619,-30.38457],[-56.4795,-30.3899],[-56.49267,-30.39471],[-56.90236,-30.02578],[-57.22502,-30.26121],[-57.65132,-30.19229]]]]}},{type:"Feature",properties:{iso1A2:"UZ",iso1A3:"UZB",iso1N3:"860",wikidata:"Q265",nameEn:"Uzbekistan",groups:["143","142","UN"],callingCodes:["998"]},geometry:{type:"MultiPolygon",coordinates:[[[[65.85194,42.85481],[65.53277,43.31856],[65.18666,43.48835],[64.96464,43.74748],[64.53885,43.56941],[63.34656,43.64003],[62.01711,43.51008],[61.01475,44.41383],[58.59711,45.58671],[55.97842,44.99622],[55.97832,44.99622],[55.97822,44.99617],[55.97811,44.99617],[55.97801,44.99612],[55.97801,44.99607],[55.97791,44.99607],[55.9778,44.99607],[55.9777,44.99601],[55.9777,44.99596],[55.9776,44.99591],[55.97749,44.99591],[55.97739,44.99591],[55.97739,44.99586],[55.97729,44.99586],[55.97718,44.99581],[55.97708,44.99576],[55.97698,44.9957],[55.97698,44.99565],[55.97687,44.9956],[55.97677,44.9956],[55.97677,44.99555],[55.97677,44.9955],[55.97667,44.99545],[55.97656,44.99539],[55.97646,44.99534],[55.97646,44.99529],[55.97636,44.99524],[55.97636,44.99519],[55.97625,44.99514],[55.97615,44.99508],[55.97615,44.99503],[55.97615,44.99498],[55.97615,44.99493],[55.97615,44.99483],[55.97615,44.99477],[55.97605,44.99477],[55.97605,44.99467],[55.97605,44.99462],[55.97605,44.99457],[55.97605,44.99452],[55.97594,44.99446],[55.97584,44.99441],[55.97584,44.99436],[55.97584,44.99431],[55.97584,44.99426],[55.97584,44.99421],[55.97584,44.99415],[55.97584,44.99405],[55.97584,44.994],[55.97584,44.9939],[55.97584,44.99384],[55.97584,44.99374],[55.97584,44.99369],[55.97584,44.99359],[55.97584,44.99353],[55.97584,44.99348],[55.97584,44.99343],[55.97584,44.99338],[55.97584,44.99328],[55.97584,44.99322],[56.00314,41.32584],[57.03423,41.25435],[57.13796,41.36625],[57.03359,41.41777],[56.96218,41.80383],[57.03633,41.92043],[57.30275,42.14076],[57.6296,42.16519],[57.84932,42.18555],[57.92897,42.24047],[57.90975,42.4374],[57.99214,42.50021],[58.3492,42.43335],[58.40688,42.29535],[58.51674,42.30348],[58.29427,42.56497],[58.14321,42.62159],[58.27504,42.69632],[58.57991,42.64988],[58.6266,42.79314],[58.93422,42.5407],[59.17317,42.52248],[59.2955,42.37064],[59.4341,42.29738],[59.94633,42.27655],[60.00539,42.212],[59.96419,42.1428],[60.04659,42.08982],[60.0356,42.01028],[59.95046,41.97966],[60.33223,41.75058],[60.08504,41.80997],[60.06032,41.76287],[60.18117,41.60082],[60.06581,41.4363],[60.5078,41.21694],[61.03261,41.25691],[61.22212,41.14946],[61.33199,41.14946],[61.39732,41.19873],[61.4446,41.29407],[61.87856,41.12257],[62.11751,40.58242],[62.34273,40.43206],[62.43337,39.98528],[63.6913,39.27666],[63.70778,39.22349],[64.19086,38.95561],[64.32576,38.98691],[65.55873,38.29052],[65.83913,38.25733],[66.24013,38.16238],[66.41042,38.02403],[66.56697,38.0435],[66.67684,37.96776],[66.53676,37.80084],[66.52852,37.58568],[66.65761,37.45497],[66.52303,37.39827],[66.55743,37.35409],[66.64699,37.32958],[66.95598,37.40162],[67.08232,37.35469],[67.13039,37.27168],[67.2224,37.24545],[67.2581,37.17216],[67.51868,37.26102],[67.78329,37.1834],[67.8474,37.31594],[67.81566,37.43107],[68.12635,37.93],[68.27159,37.91477],[68.40343,38.19484],[68.13289,38.40822],[68.06274,38.39435],[68.11366,38.47169],[68.05873,38.56087],[68.0807,38.64136],[68.05598,38.71641],[68.12877,38.73677],[68.06948,38.82115],[68.19743,38.85985],[68.09704,39.02589],[67.68915,39.00775],[67.67833,39.14479],[67.33226,39.23739],[67.36522,39.31287],[67.45998,39.315],[67.46822,39.46146],[67.39681,39.52505],[67.46547,39.53564],[67.44899,39.57799],[67.62889,39.60234],[67.70992,39.66156],[68.12053,39.56317],[68.54166,39.53929],[68.61972,39.68905],[68.63071,39.85265],[68.88889,39.87163],[68.93695,39.91167],[68.84906,40.04952],[68.96579,40.06949],[69.01935,40.11466],[69.01523,40.15771],[68.62796,40.07789],[68.52771,40.11676],[68.5332,40.14826],[68.77902,40.20492],[68.79276,40.17555],[68.84357,40.18604],[68.85832,40.20885],[69.04544,40.22904],[69.15659,40.2162],[69.2074,40.21488],[69.30448,40.18774],[69.30104,40.24502],[69.25229,40.26362],[69.24817,40.30357],[69.30808,40.2821],[69.32833,40.29794],[69.33794,40.34819],[69.30774,40.36102],[69.28525,40.41894],[69.27066,40.49274],[69.21063,40.54469],[69.2643,40.57506],[69.3455,40.57988],[69.32834,40.70233],[69.38327,40.7918],[69.53021,40.77621],[69.59441,40.70181],[69.69434,40.62615],[70.36655,40.90296],[70.38028,41.02014],[70.45251,41.04438],[70.80009,40.72825],[70.49871,40.52503],[70.32626,40.45174],[70.37511,40.38605],[70.57149,40.3442],[70.56394,40.26421],[70.62342,40.17396],[70.8607,40.217],[70.9818,40.22392],[70.95789,40.28761],[71.05901,40.28765],[71.13042,40.34106],[71.36663,40.31593],[71.4246,40.28619],[71.51215,40.26943],[71.51549,40.22986],[71.61725,40.20615],[71.61931,40.26775],[71.68386,40.26984],[71.70569,40.20391],[71.69621,40.18492],[71.71719,40.17886],[71.73054,40.14818],[71.82646,40.21872],[71.85002,40.25647],[72.05464,40.27586],[71.96401,40.31907],[72.18648,40.49893],[72.24368,40.46091],[72.40346,40.4007],[72.44191,40.48222],[72.41513,40.50856],[72.38384,40.51535],[72.41714,40.55736],[72.34406,40.60144],[72.40517,40.61917],[72.47795,40.5532],[72.66713,40.5219],[72.66713,40.59076],[72.69579,40.59778],[72.73995,40.58409],[72.74768,40.58051],[72.74862,40.57131],[72.75982,40.57273],[72.74894,40.59592],[72.74866,40.60873],[72.80137,40.67856],[72.84754,40.67229],[72.85372,40.7116],[72.8722,40.71111],[72.93296,40.73089],[72.99133,40.76457],[73.0612,40.76678],[73.13412,40.79122],[73.13267,40.83512],[73.01869,40.84681],[72.94454,40.8094],[72.84291,40.85512],[72.68157,40.84942],[72.59136,40.86947],[72.55109,40.96046],[72.48742,40.97136],[72.45206,41.03018],[72.38511,41.02785],[72.36138,41.04384],[72.34757,41.06104],[72.34026,41.04539],[72.324,41.03381],[72.18339,40.99571],[72.17594,41.02377],[72.21061,41.05607],[72.1792,41.10621],[72.14864,41.13363],[72.17594,41.15522],[72.16433,41.16483],[72.10745,41.15483],[72.07249,41.11739],[71.85964,41.19081],[71.91457,41.2982],[71.83914,41.3546],[71.76625,41.4466],[71.71132,41.43012],[71.73054,41.54713],[71.65914,41.49599],[71.6787,41.42111],[71.57227,41.29175],[71.46688,41.31883],[71.43814,41.19644],[71.46148,41.13958],[71.40198,41.09436],[71.34877,41.16807],[71.27187,41.11015],[71.25813,41.18796],[71.11806,41.15359],[71.02193,41.19494],[70.9615,41.16393],[70.86263,41.23833],[70.77885,41.24813],[70.78572,41.36419],[70.67586,41.47953],[70.48909,41.40335],[70.17682,41.5455],[70.69777,41.92554],[71.28719,42.18033],[71.13263,42.28356],[70.94483,42.26238],[69.49545,41.545],[69.45751,41.56863],[69.39485,41.51518],[69.45081,41.46246],[69.37468,41.46555],[69.35554,41.47211],[69.29778,41.43673],[69.25059,41.46693],[69.23332,41.45847],[69.22671,41.46298],[69.20439,41.45391],[69.18528,41.45175],[69.17701,41.43769],[69.15137,41.43078],[69.05006,41.36183],[69.01308,41.22804],[68.7217,41.05025],[68.73945,40.96989],[68.65662,40.93861],[68.62221,41.03019],[68.49983,40.99669],[68.58444,40.91447],[68.63,40.59358],[68.49983,40.56437],[67.96736,40.83798],[68.1271,41.0324],[68.08273,41.08148],[67.98511,41.02794],[67.9644,41.14611],[66.69129,41.1311],[66.53302,41.87388],[66.00546,41.94455],[66.09482,42.93426],[65.85194,42.85481]],[[70.68112,40.90612],[70.6721,40.90555],[70.57501,40.98941],[70.54223,40.98787],[70.56077,41.00642],[70.6158,40.97661],[70.68112,40.90612]]],[[[71.21139,40.03369],[71.12218,40.03052],[71.06305,40.1771],[71.00236,40.18154],[71.01035,40.05481],[71.11037,40.01984],[71.11668,39.99291],[71.09063,39.99],[71.10501,39.95568],[71.04979,39.89808],[71.10531,39.91354],[71.16101,39.88423],[71.23067,39.93581],[71.1427,39.95026],[71.21139,40.03369]]],[[[71.86463,39.98598],[71.78838,40.01404],[71.71511,39.96348],[71.7504,39.93701],[71.84316,39.95582],[71.86463,39.98598]]]]}},{type:"Feature",properties:{iso1A2:"VA",iso1A3:"VAT",iso1N3:"336",wikidata:"Q237",nameEn:"Vatican City",aliases:["Holy See"],groups:["039","150"],callingCodes:["379","39 06"]},geometry:{type:"MultiPolygon",coordinates:[[[[12.45181,41.90056],[12.45446,41.90028],[12.45435,41.90143],[12.45626,41.90172],[12.45691,41.90125],[12.4577,41.90115],[12.45834,41.90174],[12.45826,41.90281],[12.45755,41.9033],[12.45762,41.9058],[12.45561,41.90629],[12.45543,41.90738],[12.45091,41.90625],[12.44984,41.90545],[12.44815,41.90326],[12.44582,41.90194],[12.44834,41.90095],[12.45181,41.90056]]]]}},{type:"Feature",properties:{iso1A2:"VC",iso1A3:"VCT",iso1N3:"670",wikidata:"Q757",nameEn:"St. Vincent and the Grenadines",aliases:["WV"],groups:["029","003","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",callingCodes:["1 784"]},geometry:{type:"MultiPolygon",coordinates:[[[[-62.64026,12.69984],[-59.94058,12.34011],[-61.69315,14.26451],[-62.64026,12.69984]]]]}},{type:"Feature",properties:{iso1A2:"VE",iso1A3:"VEN",iso1N3:"862",wikidata:"Q717",nameEn:"Venezuela",aliases:["YV"],groups:["005","419","019","UN"],callingCodes:["58"]},geometry:{type:"MultiPolygon",coordinates:[[[[-71.22331,13.01387],[-70.92579,11.96275],[-71.3275,11.85],[-71.9675,11.65536],[-72.24983,11.14138],[-72.4767,11.1117],[-72.88002,10.44309],[-72.98085,9.85253],[-73.36905,9.16636],[-73.02119,9.27584],[-72.94052,9.10663],[-72.77415,9.10165],[-72.65474,8.61428],[-72.4042,8.36513],[-72.36987,8.19976],[-72.35163,8.01163],[-72.39137,8.03534],[-72.47213,7.96106],[-72.48801,7.94329],[-72.48183,7.92909],[-72.47042,7.92306],[-72.45806,7.91141],[-72.46183,7.90682],[-72.44454,7.86031],[-72.46763,7.79518],[-72.47827,7.65604],[-72.45321,7.57232],[-72.47415,7.48928],[-72.43132,7.40034],[-72.19437,7.37034],[-72.04895,7.03837],[-71.82441,7.04314],[-71.44118,7.02116],[-71.42212,7.03854],[-71.37234,7.01588],[-71.03941,6.98163],[-70.7596,7.09799],[-70.10716,6.96516],[-69.41843,6.1072],[-67.60654,6.2891],[-67.4625,6.20625],[-67.43513,5.98835],[-67.58558,5.84537],[-67.63914,5.64963],[-67.59141,5.5369],[-67.83341,5.31104],[-67.85358,4.53249],[-67.62671,3.74303],[-67.50067,3.75812],[-67.30945,3.38393],[-67.85862,2.86727],[-67.85862,2.79173],[-67.65696,2.81691],[-67.21967,2.35778],[-66.85795,1.22998],[-66.28507,.74585],[-65.6727,1.01353],[-65.50158,.92086],[-65.57288,.62856],[-65.11657,1.12046],[-64.38932,1.5125],[-64.34654,1.35569],[-64.08274,1.64792],[-64.06135,1.94722],[-63.39827,2.16098],[-63.39114,2.4317],[-64.0257,2.48156],[-64.02908,2.79797],[-64.48379,3.7879],[-64.84028,4.24665],[-64.72977,4.28931],[-64.57648,4.12576],[-64.14512,4.12932],[-63.99183,3.90172],[-63.86082,3.94796],[-63.70218,3.91417],[-63.67099,4.01731],[-63.50611,3.83592],[-63.42233,3.89995],[-63.4464,3.9693],[-63.21111,3.96219],[-62.98296,3.59935],[-62.7655,3.73099],[-62.74411,4.03331],[-62.57656,4.04754],[-62.44822,4.18621],[-62.13094,4.08309],[-61.54629,4.2822],[-61.48569,4.43149],[-61.29675,4.44216],[-61.31457,4.54167],[-61.15703,4.49839],[-60.98303,4.54167],[-60.86539,4.70512],[-60.5802,4.94312],[-60.73204,5.20931],[-61.4041,5.95304],[-61.15058,6.19558],[-61.20762,6.58174],[-61.13632,6.70922],[-60.54873,6.8631],[-60.39419,6.94847],[-60.28074,7.1162],[-60.44116,7.20817],[-60.54098,7.14804],[-60.63367,7.25061],[-60.59802,7.33194],[-60.71923,7.55817],[-60.64793,7.56877],[-60.51959,7.83373],[-60.38056,7.8302],[-60.02407,8.04557],[-59.97059,8.20791],[-59.83156,8.23261],[-59.80661,8.28906],[-59.85562,8.35213],[-59.98508,8.53046],[-59.54058,8.6862],[-60.89962,9.81445],[-62.08693,10.04435],[-61.62505,11.18974],[-63.73917,11.92623],[-63.19938,16.44103],[-67.89186,12.4116],[-68.01417,11.77722],[-68.33524,11.78151],[-68.99639,11.79035],[-71.22331,13.01387]]]]}},{type:"Feature",properties:{iso1A2:"VG",iso1A3:"VGB",iso1N3:"092",wikidata:"Q25305",nameEn:"British Virgin Islands",country:"GB",groups:["BOTS","029","003","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["1 284"]},geometry:{type:"MultiPolygon",coordinates:[[[[-64.47127,17.55688],[-63.88746,19.15706],[-65.02435,18.73231],[-64.86027,18.39056],[-64.64673,18.36549],[-64.47127,17.55688]]]]}},{type:"Feature",properties:{iso1A2:"VI",iso1A3:"VIR",iso1N3:"850",wikidata:"Q11703",nameEn:"United States Virgin Islands",aliases:["US-VI"],country:"US",groups:["Q1352230","029","003","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["1 340"]},geometry:{type:"MultiPolygon",coordinates:[[[[-65.02435,18.73231],[-65.27974,17.56928],[-64.47127,17.55688],[-64.64673,18.36549],[-64.86027,18.39056],[-65.02435,18.73231]]]]}},{type:"Feature",properties:{iso1A2:"VN",iso1A3:"VNM",iso1N3:"704",wikidata:"Q881",nameEn:"Vietnam",groups:["035","142","UN"],callingCodes:["84"]},geometry:{type:"MultiPolygon",coordinates:[[[[108.10003,21.47338],[108.0569,21.53604],[108.02926,21.54997],[107.97932,21.54503],[107.97383,21.53961],[107.97074,21.54072],[107.96774,21.53601],[107.95232,21.5388],[107.92652,21.58906],[107.90006,21.5905],[107.86114,21.65128],[107.80355,21.66141],[107.66967,21.60787],[107.56537,21.61945],[107.54047,21.5934],[107.49065,21.59774],[107.49532,21.62958],[107.47197,21.6672],[107.41593,21.64839],[107.38636,21.59774],[107.35989,21.60063],[107.35834,21.6672],[107.29296,21.74674],[107.24625,21.7077],[107.20734,21.71493],[107.10771,21.79879],[107.02615,21.81981],[107.00964,21.85948],[107.06101,21.88982],[107.05634,21.92303],[106.99252,21.95191],[106.97228,21.92592],[106.92714,21.93459],[106.9178,21.97357],[106.81038,21.97934],[106.74345,22.00965],[106.72551,21.97923],[106.69276,21.96013],[106.68274,21.99811],[106.70142,22.02409],[106.6983,22.15102],[106.67495,22.1885],[106.69986,22.22309],[106.6516,22.33977],[106.55976,22.34841],[106.57221,22.37],[106.55665,22.46498],[106.58395,22.474],[106.61269,22.60301],[106.65316,22.5757],[106.71698,22.58432],[106.72321,22.63606],[106.76293,22.73491],[106.82404,22.7881],[106.83685,22.8098],[106.81271,22.8226],[106.78422,22.81532],[106.71128,22.85982],[106.71387,22.88296],[106.6734,22.89587],[106.6516,22.86862],[106.60179,22.92884],[106.55976,22.92311],[106.51306,22.94891],[106.49749,22.91164],[106.34961,22.86718],[106.27022,22.87722],[106.19705,22.98475],[106.00179,22.99049],[105.99568,22.94178],[105.90119,22.94168],[105.8726,22.92756],[105.72382,23.06641],[105.57594,23.075],[105.56037,23.16806],[105.49966,23.20669],[105.42805,23.30824],[105.40782,23.28107],[105.32376,23.39684],[105.22569,23.27249],[105.17276,23.28679],[105.11672,23.25247],[105.07002,23.26248],[104.98712,23.19176],[104.96532,23.20463],[104.9486,23.17235],[104.91435,23.18666],[104.87992,23.17141],[104.87382,23.12854],[104.79478,23.12934],[104.8334,23.01484],[104.86765,22.95178],[104.84942,22.93631],[104.77114,22.90017],[104.72755,22.81984],[104.65283,22.83419],[104.60457,22.81841],[104.58122,22.85571],[104.47225,22.75813],[104.35593,22.69353],[104.25683,22.76534],[104.27084,22.8457],[104.11384,22.80363],[104.03734,22.72945],[104.01088,22.51823],[103.99247,22.51958],[103.97384,22.50634],[103.96783,22.51173],[103.96352,22.50584],[103.95191,22.5134],[103.94513,22.52553],[103.93286,22.52703],[103.87904,22.56683],[103.64506,22.79979],[103.56255,22.69499],[103.57812,22.65764],[103.52675,22.59155],[103.43646,22.70648],[103.43179,22.75816],[103.32282,22.8127],[103.28079,22.68063],[103.18895,22.64471],[103.15782,22.59873],[103.17961,22.55705],[103.07843,22.50097],[103.0722,22.44775],[102.9321,22.48659],[102.8636,22.60735],[102.60675,22.73376],[102.57095,22.7036],[102.51802,22.77969],[102.46665,22.77108],[102.42618,22.69212],[102.38415,22.67919],[102.41061,22.64184],[102.25339,22.4607],[102.26428,22.41321],[102.16621,22.43336],[102.14099,22.40092],[102.18712,22.30403],[102.51734,22.02676],[102.49092,21.99002],[102.62301,21.91447],[102.67145,21.65894],[102.74189,21.66713],[102.82115,21.73667],[102.81894,21.83888],[102.85637,21.84501],[102.86077,21.71213],[102.97965,21.74076],[102.98846,21.58936],[102.86297,21.4255],[102.94223,21.46034],[102.88939,21.3107],[102.80794,21.25736],[102.89825,21.24707],[102.97745,21.05821],[103.03469,21.05821],[103.12055,20.89994],[103.21497,20.89832],[103.38032,20.79501],[103.45737,20.82382],[103.68633,20.66324],[103.73478,20.6669],[103.82282,20.8732],[103.98024,20.91531],[104.11121,20.96779],[104.27412,20.91433],[104.63957,20.6653],[104.38199,20.47155],[104.40621,20.3849],[104.47886,20.37459],[104.66158,20.47774],[104.72102,20.40554],[104.62195,20.36633],[104.61315,20.24452],[104.86852,20.14121],[104.91695,20.15567],[104.9874,20.09573],[104.8465,19.91783],[104.8355,19.80395],[104.68359,19.72729],[104.64837,19.62365],[104.53169,19.61743],[104.41281,19.70035],[104.23229,19.70242],[104.06498,19.66926],[104.05617,19.61743],[104.10832,19.51575],[104.06058,19.43484],[103.87125,19.31854],[104.5361,18.97747],[104.64617,18.85668],[105.12829,18.70453],[105.19654,18.64196],[105.1327,18.58355],[105.10408,18.43533],[105.15942,18.38691],[105.38366,18.15315],[105.46292,18.22008],[105.64784,17.96687],[105.60381,17.89356],[105.76612,17.67147],[105.85744,17.63221],[106.09019,17.36399],[106.18991,17.28227],[106.24444,17.24714],[106.29287,17.3018],[106.31929,17.20509],[106.43597,17.01362],[106.50862,16.9673],[106.55045,17.0031],[106.54824,16.92729],[106.51963,16.92097],[106.52183,16.87884],[106.55265,16.86831],[106.55485,16.68704],[106.59013,16.62259],[106.58267,16.6012],[106.61477,16.60713],[106.66052,16.56892],[106.65832,16.47816],[106.74418,16.41904],[106.84104,16.55415],[106.88727,16.52671],[106.88067,16.43594],[106.96638,16.34938],[106.97385,16.30204],[107.02597,16.31132],[107.09091,16.3092],[107.15035,16.26271],[107.14595,16.17816],[107.25822,16.13587],[107.33968,16.05549],[107.44975,16.08511],[107.46296,16.01106],[107.39471,15.88829],[107.34188,15.89464],[107.21419,15.83747],[107.21859,15.74638],[107.27143,15.71459],[107.27583,15.62769],[107.34408,15.62345],[107.3815,15.49832],[107.50699,15.48771],[107.53341,15.40496],[107.62367,15.42193],[107.60605,15.37524],[107.62587,15.2266],[107.58844,15.20111],[107.61926,15.13949],[107.61486,15.0566],[107.46516,15.00982],[107.48277,14.93751],[107.59285,14.87795],[107.51579,14.79282],[107.54361,14.69092],[107.55371,14.628],[107.52102,14.59034],[107.52569,14.54665],[107.48521,14.40346],[107.44941,14.41552],[107.39493,14.32655],[107.40427,14.24509],[107.33577,14.11832],[107.37158,14.07906],[107.35757,14.02319],[107.38247,13.99147],[107.44318,13.99751],[107.46498,13.91593],[107.45252,13.78897],[107.53503,13.73908],[107.61909,13.52577],[107.62843,13.3668],[107.49144,13.01215],[107.49611,12.88926],[107.55993,12.7982],[107.5755,12.52177],[107.55059,12.36824],[107.4463,12.29373],[107.42917,12.24657],[107.34511,12.33327],[107.15831,12.27547],[106.99953,12.08983],[106.92325,12.06548],[106.79405,12.0807],[106.70687,11.96956],[106.4111,11.97413],[106.4687,11.86751],[106.44068,11.86294],[106.44535,11.8279],[106.41577,11.76999],[106.45158,11.68616],[106.44691,11.66787],[106.37219,11.69836],[106.30525,11.67549],[106.26478,11.72122],[106.18539,11.75171],[106.13158,11.73283],[106.06708,11.77761],[106.02038,11.77457],[106.00792,11.7197],[105.95188,11.63738],[105.88962,11.67854],[105.8507,11.66635],[105.80867,11.60536],[105.81645,11.56876],[105.87328,11.55953],[105.88962,11.43605],[105.86782,11.28343],[106.10444,11.07879],[106.1527,11.10476],[106.1757,11.07301],[106.20095,10.97795],[106.14301,10.98176],[106.18539,10.79451],[106.06708,10.8098],[105.94535,10.9168],[105.93403,10.83853],[105.84603,10.85873],[105.86376,10.89839],[105.77751,11.03671],[105.50045,10.94586],[105.42884,10.96878],[105.34011,10.86179],[105.11449,10.96332],[105.08326,10.95656],[105.02722,10.89236],[105.09571,10.72722],[104.95094,10.64003],[104.87933,10.52833],[104.59018,10.53073],[104.49869,10.4057],[104.47963,10.43046],[104.43778,10.42386],[103.99198,10.48391],[102.47649,9.66162],[104.81582,8.03101],[109.55486,8.10026],[111.60491,13.57105],[108.00365,17.98159],[108.10003,21.47338]]]]}},{type:"Feature",properties:{iso1A2:"VU",iso1A3:"VUT",iso1N3:"548",wikidata:"Q686",nameEn:"Vanuatu",groups:["054","009","UN"],callingCodes:["678"]},geometry:{type:"MultiPolygon",coordinates:[[[[156.73836,-14.50464],[174.245,-23.1974],[172.71443,-12.01327],[156.73836,-14.50464]]]]}},{type:"Feature",properties:{iso1A2:"WF",iso1A3:"WLF",iso1N3:"876",wikidata:"Q35555",nameEn:"Wallis and Futuna",country:"FR",groups:["Q1451600","061","009","UN"],callingCodes:["681"]},geometry:{type:"MultiPolygon",coordinates:[[[[-178.66551,-14.32452],[-176.76826,-14.95183],[-175.59809,-12.61507],[-178.66551,-14.32452]]]]}},{type:"Feature",properties:{iso1A2:"WS",iso1A3:"WSM",iso1N3:"882",wikidata:"Q683",nameEn:"Samoa",groups:["061","009","UN"],driveSide:"left",callingCodes:["685"]},geometry:{type:"MultiPolygon",coordinates:[[[[-173.74402,-14.26669],[-170.99605,-15.1275],[-171.39864,-10.21587],[-173.74402,-14.26669]]]]}},{type:"Feature",properties:{iso1A2:"XK",iso1A3:"XKX",wikidata:"Q1246",nameEn:"Kosovo",aliases:["KV"],groups:["039","150"],isoStatus:"usrAssn",callingCodes:["383"]},geometry:{type:"MultiPolygon",coordinates:[[[[21.39045,42.74888],[21.44047,42.87276],[21.36941,42.87397],[21.32974,42.90424],[21.2719,42.8994],[21.23534,42.95523],[21.23877,43.00848],[21.2041,43.02277],[21.16734,42.99694],[21.14465,43.11089],[21.08952,43.13471],[21.05378,43.10707],[21.00749,43.13984],[20.96287,43.12416],[20.83727,43.17842],[20.88685,43.21697],[20.82145,43.26769],[20.73811,43.25068],[20.68688,43.21335],[20.59929,43.20492],[20.69515,43.09641],[20.64557,43.00826],[20.59929,43.01067],[20.48692,42.93208],[20.53484,42.8885],[20.43734,42.83157],[20.40594,42.84853],[20.35692,42.8335],[20.27869,42.81945],[20.2539,42.76245],[20.04898,42.77701],[20.02088,42.74789],[20.02915,42.71147],[20.0969,42.65559],[20.07761,42.55582],[20.17127,42.50469],[20.21797,42.41237],[20.24399,42.32168],[20.34479,42.32656],[20.3819,42.3029],[20.48857,42.25444],[20.56955,42.12097],[20.55633,42.08173],[20.59434,42.03879],[20.63069,41.94913],[20.57946,41.91593],[20.59524,41.8818],[20.68523,41.85318],[20.76786,41.91839],[20.75464,42.05229],[21.11491,42.20794],[21.16614,42.19815],[21.22728,42.08909],[21.31983,42.10993],[21.29913,42.13954],[21.30496,42.1418],[21.38428,42.24465],[21.43882,42.23609],[21.43882,42.2789],[21.50823,42.27156],[21.52145,42.24465],[21.58992,42.25915],[21.56772,42.30946],[21.5264,42.33634],[21.53467,42.36809],[21.57021,42.3647],[21.59029,42.38042],[21.62887,42.37664],[21.64209,42.41081],[21.62556,42.45106],[21.7035,42.51899],[21.70522,42.54176],[21.7327,42.55041],[21.75672,42.62695],[21.79413,42.65923],[21.75025,42.70125],[21.6626,42.67813],[21.58755,42.70418],[21.59154,42.72643],[21.47498,42.74695],[21.39045,42.74888]]]]}},{type:"Feature",properties:{iso1A2:"YE",iso1A3:"YEM",iso1N3:"887",wikidata:"Q805",nameEn:"Yemen",groups:["145","142","UN"],callingCodes:["967"]},geometry:{type:"MultiPolygon",coordinates:[[[[57.49095,8.14549],[52.81185,17.28568],[52.74267,17.29519],[52.78009,17.35124],[52.00311,19.00083],[49.04884,18.59899],[48.19996,18.20584],[47.58351,17.50366],[47.48245,17.10808],[47.00571,16.94765],[46.76494,17.29151],[46.31018,17.20464],[44.50126,17.47475],[43.70631,17.35762],[43.43005,17.56148],[43.29185,17.53224],[43.22533,17.38343],[43.32653,17.31179],[43.20156,17.25901],[43.17787,17.14717],[43.23967,17.03428],[43.18233,17.02673],[43.1813,16.98438],[43.19328,16.94703],[43.1398,16.90696],[43.18338,16.84852],[43.22012,16.83932],[43.22956,16.80613],[43.24801,16.80613],[43.26303,16.79479],[43.25857,16.75304],[43.21325,16.74416],[43.22066,16.65179],[43.15274,16.67248],[43.11601,16.53166],[42.97215,16.51093],[42.94351,16.49467],[42.94625,16.39721],[42.76801,16.40371],[42.15205,16.40211],[40.99158,15.81743],[43.29075,12.79154],[43.32909,12.59711],[43.90659,12.3823],[51.12877,12.56479],[57.49095,8.14549]]]]}},{type:"Feature",properties:{iso1A2:"YT",iso1A3:"MYT",iso1N3:"175",wikidata:"Q17063",nameEn:"Mayotte",country:"FR",groups:["Q3320166","EU","014","202","002","UN"],callingCodes:["262"]},geometry:{type:"MultiPolygon",coordinates:[[[[43.28731,-13.97126],[45.54824,-13.22353],[45.4971,-11.75965],[43.28731,-13.97126]]]]}},{type:"Feature",properties:{iso1A2:"ZA",iso1A3:"ZAF",iso1N3:"710",wikidata:"Q258",nameEn:"South Africa",groups:["018","202","002","UN"],driveSide:"left",callingCodes:["27"]},geometry:{type:"MultiPolygon",coordinates:[[[[31.30611,-22.422],[31.16344,-22.32599],[31.08932,-22.34884],[30.86696,-22.28907],[30.6294,-22.32599],[30.48686,-22.31368],[30.38614,-22.34533],[30.28351,-22.35587],[30.2265,-22.2961],[30.13147,-22.30841],[29.92242,-22.19408],[29.76848,-22.14128],[29.64609,-22.12917],[29.37703,-22.19581],[29.21955,-22.17771],[29.18974,-22.18599],[29.15268,-22.21399],[29.10881,-22.21202],[29.0151,-22.22907],[28.91889,-22.44299],[28.63287,-22.55887],[28.34874,-22.5694],[28.04562,-22.8394],[28.04752,-22.90243],[27.93729,-22.96194],[27.93539,-23.04941],[27.74154,-23.2137],[27.6066,-23.21894],[27.52393,-23.37952],[27.33768,-23.40917],[26.99749,-23.65486],[26.84165,-24.24885],[26.51667,-24.47219],[26.46346,-24.60358],[26.39409,-24.63468],[25.8515,-24.75727],[25.84295,-24.78661],[25.88571,-24.87802],[25.72702,-25.25503],[25.69661,-25.29284],[25.6643,-25.4491],[25.58543,-25.6343],[25.33076,-25.76616],[25.12266,-25.75931],[25.01718,-25.72507],[24.8946,-25.80723],[24.67319,-25.81749],[24.44703,-25.73021],[24.36531,-25.773],[24.18287,-25.62916],[23.9244,-25.64286],[23.47588,-25.29971],[23.03497,-25.29971],[22.86012,-25.50572],[22.70808,-25.99186],[22.56365,-26.19668],[22.41921,-26.23078],[22.21206,-26.3773],[22.06192,-26.61882],[21.90703,-26.66808],[21.83291,-26.65959],[21.77114,-26.69015],[21.7854,-26.79199],[21.69322,-26.86152],[21.37869,-26.82083],[21.13353,-26.86661],[20.87031,-26.80047],[20.68596,-26.9039],[20.63275,-26.78181],[20.61754,-26.4692],[20.86081,-26.14892],[20.64795,-25.47827],[20.29826,-24.94869],[20.03678,-24.81004],[20.02809,-24.78725],[19.99817,-24.76768],[19.99882,-28.42622],[18.99885,-28.89165],[17.4579,-28.68718],[17.15405,-28.08573],[16.90446,-28.057],[16.59922,-28.53246],[16.46592,-28.57126],[16.45332,-28.63117],[12.51595,-32.27486],[38.88176,-48.03306],[34.51034,-26.91792],[32.35222,-26.86027],[32.29584,-26.852],[32.22302,-26.84136],[32.19409,-26.84032],[32.13315,-26.84345],[32.09664,-26.80721],[32.00893,-26.8096],[31.97463,-27.11057],[31.97592,-27.31675],[31.49834,-27.31549],[31.15027,-27.20151],[30.96088,-27.0245],[30.97757,-26.92706],[30.88826,-26.79622],[30.81101,-26.84722],[30.78927,-26.48271],[30.95819,-26.26303],[31.13073,-25.91558],[31.31237,-25.7431],[31.4175,-25.71886],[31.86881,-25.99973],[31.974,-25.95387],[31.92649,-25.84216],[32.00631,-25.65044],[31.97875,-25.46356],[32.01676,-25.38117],[32.03196,-25.10785],[31.9835,-24.29983],[31.90368,-24.18892],[31.87707,-23.95293],[31.77445,-23.90082],[31.70223,-23.72695],[31.67942,-23.60858],[31.56539,-23.47268],[31.55779,-23.176],[31.30611,-22.422]],[[29.33204,-29.45598],[29.28545,-29.58456],[29.12553,-29.76266],[29.16548,-29.91706],[28.9338,-30.05072],[28.80222,-30.10579],[28.68627,-30.12885],[28.399,-30.1592],[28.2319,-30.28476],[28.12073,-30.68072],[27.74814,-30.60635],[27.69467,-30.55862],[27.67819,-30.53437],[27.6521,-30.51707],[27.62137,-30.50509],[27.56781,-30.44562],[27.56901,-30.42504],[27.45452,-30.32239],[27.38108,-30.33456],[27.36649,-30.27246],[27.37293,-30.19401],[27.40778,-30.14577],[27.32555,-30.14785],[27.29603,-30.05473],[27.22719,-30.00718],[27.09489,-29.72796],[27.01016,-29.65439],[27.33464,-29.48161],[27.4358,-29.33465],[27.47254,-29.31968],[27.45125,-29.29708],[27.48679,-29.29349],[27.54258,-29.25575],[27.5158,-29.2261],[27.55974,-29.18954],[27.75458,-28.89839],[27.8907,-28.91612],[27.88933,-28.88156],[27.9392,-28.84864],[27.98675,-28.8787],[28.02503,-28.85991],[28.1317,-28.7293],[28.2348,-28.69471],[28.30518,-28.69531],[28.40612,-28.6215],[28.65091,-28.57025],[28.68043,-28.58744],[29.40524,-29.21246],[29.44883,-29.3772],[29.33204,-29.45598]]]]}},{type:"Feature",properties:{iso1A2:"ZM",iso1A3:"ZMB",iso1N3:"894",wikidata:"Q953",nameEn:"Zambia",groups:["014","202","002","UN"],driveSide:"left",callingCodes:["260"]},geometry:{type:"MultiPolygon",coordinates:[[[[32.95389,-9.40138],[32.76233,-9.31963],[32.75611,-9.28583],[32.53661,-9.24281],[32.49147,-9.14754],[32.43543,-9.11988],[32.25486,-9.13371],[32.16146,-9.05993],[32.08206,-9.04609],[31.98866,-9.07069],[31.94196,-9.02303],[31.94663,-8.93846],[31.81587,-8.88618],[31.71158,-8.91386],[31.57147,-8.81388],[31.57147,-8.70619],[31.37533,-8.60769],[31.00796,-8.58615],[30.79243,-8.27382],[28.88917,-8.4831],[28.9711,-8.66935],[28.38526,-9.23393],[28.36562,-9.30091],[28.52636,-9.35379],[28.51627,-9.44726],[28.56208,-9.49122],[28.68532,-9.78],[28.62795,-9.92942],[28.65032,-10.65133],[28.37241,-11.57848],[28.48357,-11.87532],[29.18592,-12.37921],[29.4992,-12.43843],[29.48404,-12.23604],[29.8139,-12.14898],[29.81551,-13.44683],[29.65078,-13.41844],[29.60531,-13.21685],[29.01918,-13.41353],[28.33199,-12.41375],[27.59932,-12.22123],[27.21025,-11.76157],[27.22541,-11.60323],[27.04351,-11.61312],[26.88687,-12.01868],[26.01777,-11.91488],[25.33058,-11.65767],[25.34069,-11.19707],[24.42612,-11.44975],[24.34528,-11.06816],[24.00027,-10.89356],[24.02603,-11.15368],[23.98804,-12.13149],[24.06672,-12.29058],[23.90937,-12.844],[24.03339,-12.99091],[21.97988,-13.00148],[22.00323,-16.18028],[22.17217,-16.50269],[23.20038,-17.47563],[23.47474,-17.62877],[24.23619,-17.47489],[24.32811,-17.49082],[24.38712,-17.46818],[24.5621,-17.52963],[24.70864,-17.49501],[25.00198,-17.58221],[25.26433,-17.79571],[25.51646,-17.86232],[25.6827,-17.81987],[25.85738,-17.91403],[25.85892,-17.97726],[26.08925,-17.98168],[26.0908,-17.93021],[26.21601,-17.88608],[26.55918,-17.99638],[26.68403,-18.07411],[26.74314,-18.0199],[26.89926,-17.98756],[27.14196,-17.81398],[27.30736,-17.60487],[27.61377,-17.34378],[27.62795,-17.24365],[27.83141,-16.96274],[28.73725,-16.5528],[28.76199,-16.51575],[28.81454,-16.48611],[28.8501,-16.04537],[28.9243,-15.93987],[29.01298,-15.93805],[29.21955,-15.76589],[29.4437,-15.68702],[29.8317,-15.6126],[30.35574,-15.6513],[30.41902,-15.62269],[30.22098,-14.99447],[33.24249,-14.00019],[33.16749,-13.93992],[33.07568,-13.98447],[33.02977,-14.05022],[32.99042,-13.95689],[32.88985,-13.82956],[32.79015,-13.80755],[32.76962,-13.77224],[32.84528,-13.71576],[32.7828,-13.64805],[32.68654,-13.64268],[32.66468,-13.60019],[32.68436,-13.55769],[32.73683,-13.57682],[32.84176,-13.52794],[32.86113,-13.47292],[33.0078,-13.19492],[32.98289,-13.12671],[33.02181,-12.88707],[32.96733,-12.88251],[32.94397,-12.76868],[33.05917,-12.59554],[33.18837,-12.61377],[33.28177,-12.54692],[33.37517,-12.54085],[33.54485,-12.35996],[33.47636,-12.32498],[33.3705,-12.34931],[33.25998,-12.14242],[33.33937,-11.91252],[33.32692,-11.59248],[33.24252,-11.59302],[33.23663,-11.40637],[33.29267,-11.43536],[33.29267,-11.3789],[33.39697,-11.15296],[33.25998,-10.88862],[33.28022,-10.84428],[33.47636,-10.78465],[33.70675,-10.56896],[33.54797,-10.36077],[33.53863,-10.20148],[33.31297,-10.05133],[33.37902,-9.9104],[33.36581,-9.81063],[33.31517,-9.82364],[33.2095,-9.61099],[33.12144,-9.58929],[33.10163,-9.66525],[33.05485,-9.61316],[33.00256,-9.63053],[33.00476,-9.5133],[32.95389,-9.40138]]]]}},{type:"Feature",properties:{iso1A2:"ZW",iso1A3:"ZWE",iso1N3:"716",wikidata:"Q954",nameEn:"Zimbabwe",groups:["014","202","002","UN"],driveSide:"left",callingCodes:["263"]},geometry:{type:"MultiPolygon",coordinates:[[[[30.41902,-15.62269],[30.35574,-15.6513],[29.8317,-15.6126],[29.4437,-15.68702],[29.21955,-15.76589],[29.01298,-15.93805],[28.9243,-15.93987],[28.8501,-16.04537],[28.81454,-16.48611],[28.76199,-16.51575],[28.73725,-16.5528],[27.83141,-16.96274],[27.62795,-17.24365],[27.61377,-17.34378],[27.30736,-17.60487],[27.14196,-17.81398],[26.89926,-17.98756],[26.74314,-18.0199],[26.68403,-18.07411],[26.55918,-17.99638],[26.21601,-17.88608],[26.0908,-17.93021],[26.08925,-17.98168],[25.85892,-17.97726],[25.85738,-17.91403],[25.6827,-17.81987],[25.51646,-17.86232],[25.26433,-17.79571],[25.23909,-17.90832],[25.31799,-18.07091],[25.39972,-18.12691],[25.53465,-18.39041],[25.68859,-18.56165],[25.79217,-18.6355],[25.82353,-18.82808],[25.94326,-18.90362],[25.99837,-19.02943],[25.96226,-19.08152],[26.17227,-19.53709],[26.72246,-19.92707],[27.21278,-20.08244],[27.29831,-20.28935],[27.28865,-20.49873],[27.69361,-20.48531],[27.72972,-20.51735],[27.69171,-21.08409],[27.91407,-21.31621],[28.01669,-21.57624],[28.29416,-21.59037],[28.49942,-21.66634],[28.58114,-21.63455],[29.07763,-21.81877],[29.04023,-21.85864],[29.02191,-21.90647],[29.02191,-21.95665],[29.04108,-22.00563],[29.08495,-22.04867],[29.14501,-22.07275],[29.1974,-22.07472],[29.24648,-22.05967],[29.3533,-22.18363],[29.37703,-22.19581],[29.64609,-22.12917],[29.76848,-22.14128],[29.92242,-22.19408],[30.13147,-22.30841],[30.2265,-22.2961],[30.28351,-22.35587],[30.38614,-22.34533],[30.48686,-22.31368],[30.6294,-22.32599],[30.86696,-22.28907],[31.08932,-22.34884],[31.16344,-22.32599],[31.30611,-22.422],[31.38336,-22.36919],[32.41234,-21.31246],[32.48236,-21.32873],[32.37115,-21.133],[32.51644,-20.91929],[32.48122,-20.63319],[32.55167,-20.56312],[32.66174,-20.56106],[32.85987,-20.27841],[32.85987,-20.16686],[32.93032,-20.03868],[33.01178,-20.02007],[33.06461,-19.77787],[32.95013,-19.67219],[32.84666,-19.68462],[32.84446,-19.48343],[32.78282,-19.47513],[32.77966,-19.36098],[32.85107,-19.29238],[32.87088,-19.09279],[32.84006,-19.0262],[32.72118,-19.02204],[32.69917,-18.94293],[32.73439,-18.92628],[32.70137,-18.84712],[32.82465,-18.77419],[32.9017,-18.7992],[32.95013,-18.69079],[32.88629,-18.58023],[32.88629,-18.51344],[33.02278,-18.4696],[33.03159,-18.35054],[32.94133,-17.99705],[33.0492,-17.60298],[32.98536,-17.55891],[32.96554,-17.48964],[33.0426,-17.3468],[33.00517,-17.30477],[32.96554,-17.11971],[32.84113,-16.92259],[32.91051,-16.89446],[32.97655,-16.70689],[32.78943,-16.70267],[32.69917,-16.66893],[32.71017,-16.59932],[32.42838,-16.4727],[32.28529,-16.43892],[32.02772,-16.43892],[31.91324,-16.41569],[31.90223,-16.34388],[31.67988,-16.19595],[31.42451,-16.15154],[31.30563,-16.01193],[31.13171,-15.98019],[30.97761,-16.05848],[30.91597,-15.99924],[30.42568,-15.9962],[30.41902,-15.62269]]]]}}],TD={type:SD,features:FD},MD=TD,V9={},Or={},ID=/(?=(?!^(and|the|of|el|la|de)$))(\b(and|the|of|el|la|de)\b)|[-_ .,'()&[\]/]/gi;function Gh(e){var t=e||"";return t.charAt(0)==="."?t.toUpperCase():t.replace(ID,"").toUpperCase()}var Ma=["subterritory","territory","subcountryGroup","country","sharedLandform","intermediateRegion","subregion","region","subunion","union","unitedNations","world"];ND(MD);function ND(e){var t=["iso1A2","iso1A3","m49","wikidata","emojiFlag","ccTLD","nameEn"],r=[];for(var n in e.features){var i=e.features[n];i.properties.id=i.properties.iso1A2||i.properties.m49||i.properties.wikidata,m(i),w(i),b(i),h(i),p(i),E(i),A(i),i.geometry&&r.push(i)}for(var a in e.features){var o=e.features[a];o.properties.groups=o.properties.groups.map(function(C){return Or[C].properties.id}),k(o)}for(var s in e.features){var l=e.features[s];v(l),x(l),_(l),y(l),g(l)}for(var u in e.features){var c=e.features[u];c.properties.groups.sort(function(C,D){return Ma.indexOf(Or[C].properties.level)-Ma.indexOf(Or[D].properties.level)}),c.properties.members&&c.properties.members.sort(function(C,D){var S=Ma.indexOf(Or[C].properties.level)-Ma.indexOf(Or[D].properties.level);return S===0?e.features.indexOf(Or[C])-e.features.indexOf(Or[D]):S})}var d={type:"FeatureCollection",features:r};V9=(0,Qh.default)(d);function p(C){var D=C.properties;D.groups||(D.groups=[]),C.geometry&&D.country&&D.groups.push(D.country),D.m49!=="001"&&D.groups.push("001")}function m(C){var D=C.properties;!D.m49&&D.iso1N3&&(D.m49=D.iso1N3)}function w(C){var D=C.properties;D.level!=="unitedNations"&&!D.ccTLD&&D.iso1A2&&(D.ccTLD="."+D.iso1A2.toLowerCase())}function b(C){var D=C.properties;!D.isoStatus&&D.iso1A2&&(D.isoStatus="official")}function h(C){var D=C.properties;D.level||(D.country?!D.iso1A2||D.isoStatus==="official"?D.level="territory":D.level="subterritory":D.level="country")}function g(C){var D=C.properties;if(!(C.geometry||!D.members)){var S=Ma.indexOf(D.level),N=[],R=function(U){var T=D.members[U],M=Or[T],I=M.properties.groups.filter(function(z){return z!==C.properties.id&&S<Ma.indexOf(Or[z].properties.level)});U==="0"?N=I:N=N.filter(function(z){return I.indexOf(z)!==-1})};for(var P in D.members)R(P);D.groups=D.groups.concat(N.filter(function(O){return D.groups.indexOf(O)===-1}));for(var L in N){var B=Or[N[L]];B.properties.members.indexOf(D.id)===-1&&B.properties.members.push(D.id)}}}function v(C){var D=C.properties;if(C.geometry)D.roadSpeedUnit||(D.roadSpeedUnit="km/h");else if(D.members){var S=Array.from(new Set(D.members.map(function(N){var R=Or[N];if(R.geometry)return R.properties.roadSpeedUnit||"km/h"}).filter(Boolean)));S.length===1&&(D.roadSpeedUnit=S[0])}}function x(C){var D=C.properties;if(C.geometry)D.roadHeightUnit||(D.roadHeightUnit="m");else if(D.members){var S=Array.from(new Set(D.members.map(function(N){var R=Or[N];if(R.geometry)return R.properties.roadHeightUnit||"m"}).filter(Boolean)));S.length===1&&(D.roadHeightUnit=S[0])}}function _(C){var D=C.properties;if(C.geometry)D.driveSide||(D.driveSide="right");else if(D.members){var S=Array.from(new Set(D.members.map(function(N){var R=Or[N];if(R.geometry)return R.properties.driveSide||"right"}).filter(Boolean)));S.length===1&&(D.driveSide=S[0])}}function y(C){var D=C.properties;!C.geometry&&D.members&&(D.callingCodes=Array.from(new Set(D.members.reduce(function(S,N){var R=Or[N];return R.geometry&&R.properties.callingCodes?S.concat(R.properties.callingCodes):S},[]))))}function E(C){if(!!C.properties.iso1A2){var D=C.properties.iso1A2.replace(/./g,function(S){return String.fromCodePoint(S.charCodeAt(0)+127397)});C.properties.emojiFlag=D}}function k(C){for(var D in C.properties.groups){var S=C.properties.groups[D],N=Or[S];N.properties.members||(N.properties.members=[]),N.properties.members.push(C.properties.id)}}function A(C){var D=[];for(var S in t){var N=t[S],R=C.properties[N];R&&D.push(R)}if(C.properties.aliases)for(var P in C.properties.aliases)D.push(C.properties.aliases[P]);for(var L in D){var B=Gh(D[L]);Or[B]=C}}}function OD(e){return Array.isArray(e)?e:e.coordinates?e.coordinates:e.geometry.coordinates}function Hh(e){var t=OD(e),r=V9(t);return r?Or[r.id]:null}function PD(e){var t=Hh(e);if(!t)return null;var r=t.properties.country||t.properties.iso1A2;return Or[r]||null}var Wh={level:void 0,maxLevel:void 0,withProp:void 0};function BD(e,t){var r=t.level||"country",n=t.maxLevel||"world",i=t.withProp,a=Ma.indexOf(r);if(a===-1)return null;var o=Ma.indexOf(n);if(o===-1||o<a)return null;if(r==="country"){var s=PD(e);if(s&&(!i||s.properties[i]))return s}var l=LD(e);for(var u in l){var c=l[u],d=Ma.indexOf(c.properties.level);if((c.properties.level===r||d>a&&d<=o)&&(!i||c.properties[i]))return c}return null}function K9(e){var t;return typeof e=="number"?(t=e.toString(),t.length===1?t="00"+t:t.length===2&&(t="0"+t)):t=Gh(e),Or[t]||null}function RD(e){return V9.bbox(e).map(function(t){return Or[t.id]})}function Vh(e){return Se(e)==="object"?Hh(e):K9(e)}function Jl(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Wh;return Se(e)==="object"?BD(e,t):K9(e)}function fo(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Wh;t.withProp="iso1A2";var r=Jl(e,t);return r&&r.properties.iso1A2||null}function LD(e,t){var r;if(Array.isArray(e)&&e.length===4)r=RD(e);else{var n=Vh(e);r=n?[n]:[]}if(!r.length)return[];var i;!t||Se(e)==="object"?i=r.slice():i=[];for(var a in r){var o=r[a].properties;for(var s in o.groups){var l=o.groups[s],u=Or[l];i.indexOf(u)===-1&&i.push(u)}}return i}function jD(e,t){var r=K9(e);if(!r)return[];var n=[];t||n.push(r);var i=r.properties;if(i.members)for(var a in i.members){var o=i.members[a];n.push(Or[o])}return n}function Kh(e){var t=jD(e,!1);if(t.length===0)return null;var r=[];for(var n in t){var i=t[n];i.geometry&&i.geometry.type==="MultiPolygon"&&i.geometry.coordinates&&(r=r.concat(i.geometry.coordinates))}return{type:"Feature",properties:t[0].properties,geometry:{type:"MultiPolygon",coordinates:r}}}function Yh(e){var t=Vh(e);return t&&t.properties.roadSpeedUnit||null}var e0=Xe($9()),kg=Xe(yg()),oc=Xe(ic()),Eg=Xe(bg()),Ag=Xe(_g()),Cg=function(){function e(t){var r=this;kn(this,e),this._cache={},this._strict=!0,t&&t.type==="FeatureCollection"&&Array.isArray(t.features)&&t.features.forEach(function(i){i.properties=i.properties||{};var a=i.properties,o=i.id||a.id;if(!(!o||!/^\S+\.geojson$/i.test(o))){if(o=o.toLowerCase(),i.id=o,a.id=o,!a.area){var s=e0.default.geometry(i.geometry)/1e6;a.area=Number(s.toFixed(2))}r._cache[o]=i}});var n=Dg(Jl("Q2"));n.geometry={type:"Polygon",coordinates:[[[-180,-90],[180,-90],[180,90],[-180,90],[-180,-90]]]},n.id="Q2",n.properties.id="Q2",n.properties.area=e0.default.geometry(n.geometry)/1e6,this._cache.Q2=n}return En(e,[{key:"validateLocation",value:function(r){if(Array.isArray(r)&&(r.length===2||r.length===3)){var n=r[0],i=r[1],a=r[2];if(Number.isFinite(n)&&n>=-180&&n<=180&&Number.isFinite(i)&&i>=-90&&i<=90&&(r.length===2||Number.isFinite(a)&&a>0)){var o="["+r.toString()+"]";return{type:"point",location:r,id:o}}}else if(typeof r=="string"&&/^\S+\.geojson$/i.test(r)){var s=r.toLowerCase();if(this._cache[s])return{type:"geojson",location:r,id:s}}else if(typeof r=="string"||typeof r=="number"){var l=Jl(r);if(l){var u=l.properties.wikidata;return{type:"countrycoder",location:r,id:u}}}if(this._strict)throw new Error('validateLocation:  Invalid location: "'.concat(r,'".'));return null}},{key:"resolveLocation",value:function(r){var n=this.validateLocation(r);if(!n)return null;var i=n.id;if(this._cache[i])return Object.assign(n,{feature:this._cache[i]});if(n.type==="point"){var a=r[0],o=r[1],s=r[2]||25,l=10,u=3,c=Math.PI*s*s,d=this._cache[i]=(0,Eg.default)({type:"Feature",id:i,properties:{id:i,area:Number(c.toFixed(2))},geometry:(0,kg.default)([a,o],s*1e3,l)},u);return Object.assign(n,{feature:d})}else if(n.type!=="geojson"){if(n.type==="countrycoder"){var p=Dg(Jl(i)),m=p.properties;if(Array.isArray(m.members)){var w=Kh(i);w.geometry.coordinates=wu([w],"UNION").geometry.coordinates,p.geometry=w.geometry}if(!m.area){var b=e0.default.geometry(p.geometry)/1e6;m.area=Number(b.toFixed(2))}return p.id=i,m.id=i,this._cache[i]=p,Object.assign(n,{feature:p})}}if(this._strict)throw new Error("resolveLocation:  Couldn't resolve location \"".concat(r,'".'));return null}},{key:"validateLocationSet",value:function(r){r=r||{};var n=this.validateLocation.bind(this),i=(r.include||[]).map(n).filter(Boolean),a=(r.exclude||[]).map(n).filter(Boolean);if(!i.length){if(this._strict)throw new Error("validateLocationSet:  LocationSet includes nothing.");r.include=["Q2"],i=[{type:"countrycoder",location:"Q2",id:"Q2"}]}i.sort(Sg);var o="+["+i.map(function(s){return s.id}).join(",")+"]";return a.length&&(a.sort(Sg),o+="-["+a.map(function(s){return s.id}).join(",")+"]"),{type:"locationset",locationSet:r,id:o}}},{key:"resolveLocationSet",value:function(r){r=r||{};var n=this.validateLocationSet(r);if(!n)return null;var i=n.id;if(this._cache[i])return Object.assign(n,{feature:this._cache[i]});var a=this.resolveLocation.bind(this),o=(r.include||[]).map(a).filter(Boolean),s=(r.exclude||[]).map(a).filter(Boolean);if(o.length===1&&s.length===0)return Object.assign(n,{feature:o[0].feature});var l=wu(o.map(function(p){return p.feature}),"UNION"),u=wu(s.map(function(p){return p.feature}),"UNION"),c=u?wu([l,u],"DIFFERENCE"):l,d=e0.default.geometry(c.geometry)/1e6;return c.id=i,c.properties={id:i,area:Number(d.toFixed(2))},this._cache[i]=c,Object.assign(n,{feature:c})}},{key:"strict",value:function(r){return r===void 0?this._strict:(this._strict=r,this)}},{key:"cache",value:function(){return this._cache}},{key:"stringify",value:function(r,n){return(0,Ag.default)(r,n)}}]),e}();function wu(e,t){if(!Array.isArray(e)||!e.length)return null;var r={UNION:oc.default.union,DIFFERENCE:oc.default.difference}[t],n=e.map(function(o){return o.geometry.coordinates}),i=r.apply(null,n);return{type:"Feature",properties:{},geometry:{type:a(i),coordinates:i}};function a(o){var s=Array.isArray(o),l=s&&Array.isArray(o[0]),u=l&&Array.isArray(o[0][0]),c=u&&Array.isArray(o[0][0][0]);return c?"MultiPolygon":"Polygon"}}function Dg(e){return JSON.parse(JSON.stringify(e))}function Sg(e,t){var r={countrycoder:1,geojson:2,point:3},n=r[e.type],i=r[t.type];return n>i?1:n<i?-1:e.id.localeCompare(t.id)}var Fg=Xe($l()),Tg=Xe($9());var tn=sc();function sc(){var e={},t={},r=new Cg,n,i={locationSet:{include:["Q2"]}};u(i),c();var a=[],o=new Set,s;function l(){if(!a.length)return Promise.resolve();var d=a.pop();return new Promise(function(p){var m=window.requestIdleCallback(function(){o.delete(m),d.forEach(u),p()});o.add(m)}).then(function(){return l()})}function u(d){if(!d.locationSetID)try{var p=d.locationSet;if(!p)throw new Error("object missing locationSet property");p.include||(p.include=["Q2"]);var m=r.resolveLocationSet(p),w=m.id;if(d.locationSetID=w,!m.feature.geometry.coordinates.length||!m.feature.properties.area)throw new Error("locationSet ".concat(w," resolves to an empty feature."));if(!t[w]){var b=JSON.parse(JSON.stringify(m.feature));b.id=w,b.properties.id=w,t[w]=b}}catch(h){d.locationSet={include:["Q2"]},d.locationSetID="+[Q2]"}}function c(){n=(0,Fg.default)({features:Object.values(t)})}return e.mergeCustomGeoJSON=function(d){d&&d.type==="FeatureCollection"&&Array.isArray(d.features)&&d.features.forEach(function(p){p.properties=p.properties||{};var m=p.properties,w=p.id||m.id;if(!(!w||!/^\S+\.geojson$/i.test(w))){if(w=w.toLowerCase(),p.id=w,m.id=w,!m.area){var b=Tg.default.geometry(p.geometry)/1e6;m.area=Number(b.toFixed(2))}r._cache[w]=p}})},e.mergeLocationSets=function(d){return Array.isArray(d)?(a=a.concat(zo(d,200)),s||(s=l().then(function(){return c(),s=null,d})),s):Promise.reject("nothing to do")},e.locationSetID=function(d){var p;try{p=r.validateLocationSet(d).id}catch(m){p="+[Q2]"}return p},e.feature=function(d){return t[d]||t["+[Q2]"]},e.locationsAt=function(d){var p={};return(n(d,!0)||[]).forEach(function(m){return p[m.id]=m.area}),p},e.query=function(d,p){return n(d,p)},e.loco=function(){return r},e.wp=function(){return n},e}pt();var st;function qt(e){if(st&&!e)return st;st={};var t=navigator.userAgent,r=null;r=t.match(/(edge)\/?\s*(\.?\d+(\.\d+)*)/i),r!==null&&(st.browser=r[1],st.version=r[2]),st.browser||(r=t.match(/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/i),r!==null&&(st.browser="msie",st.version=r[1])),st.browser||(r=t.match(/(opr)\/?\s*(\.?\d+(\.\d+)*)/i),r!==null&&(st.browser="Opera",st.version=r[2])),st.browser||(r=t.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i),r!==null&&(st.browser=r[1],st.version=r[2],r=t.match(/version\/([\.\d]+)/i),r!==null&&(st.version=r[1]))),st.browser||(st.browser=navigator.appName,st.version=navigator.appVersion),st.version=st.version.split(/\W/).slice(0,2).join("."),st.opera=st.browser.toLowerCase()==="opera"&&parseFloat(st.version)<15,st.browser.toLowerCase()==="msie"?(st.ie=!0,st.browser="Internet Explorer",st.support=parseFloat(st.version)>=11):(st.ie=!1,st.support=!0),st.filedrop=window.FileReader&&"ondrop"in window,st.download=!(st.ie||st.browser.toLowerCase()==="edge"),st.cssfilters=!(st.ie||st.browser.toLowerCase()==="edge"),/Win/.test(t)?(st.os="win",st.platform="Windows"):/Mac/.test(t)?(st.os="mac",st.platform="Macintosh"):/X11/.test(t)||/Linux/.test(t)?(st.os="linux",st.platform="Linux"):(st.os="win",st.platform="Unknown"),st.isMobileWebKit=(/\b(iPad|iPhone|iPod)\b/.test(t)||navigator.platform==="MacIntel"&&"maxTouchPoints"in navigator&&navigator.maxTouchPoints>1)&&/WebKit/.test(t)&&!/Edge/.test(t)&&!window.MSStream,st.browserLocales=Array.from(new Set([navigator.language].concat(navigator.languages||[]).concat([navigator.userLanguage]).filter(Boolean)));var n=window.top.location,i=n.origin;return i||(i=n.protocol+"//"+n.hostname+(n.port?":"+n.port:"")),st.host=i+n.pathname,st}var _e=lc(),F=_e.t;function lc(){var e={},t={},r={},n={},i="en-US",a=["en-US","en"],o="en",s="ltr",l=!1,u={},c={};e.localeCode=function(){return i},e.localeCodes=function(){return a},e.languageCode=function(){return o},e.textDirection=function(){return s},e.usesMetric=function(){return l},e.languageNames=function(){return u},e.scriptNames=function(){return c};var d=[];e.preferredLocaleCodes=function(h){return arguments.length?(typeof h=="string"?d=h.split(/,|;| /gi).filter(Boolean):d=h,e):d};var p;e.ensureLoaded=function(){if(p)return p;var h=["languages","locales"],g={general:"locales",tagging:"https://cdn.jsdelivr.net/npm/@openstreetmap/id-tagging-schema@3/dist/translations"},v=Je.fileMap();for(var x in g){var _="locales_index_".concat(x);v[_]||(v[_]=g[x]+"/index.min.json"),h.push(_)}return p=Promise.all(h.map(function(y){return Je.get(y)})).then(function(y){t=y[0],r=y[1];var E=y.slice(2),k=(d||[]).concat(qt().browserLocales).concat(["en"]);a=m(k),i=a[0];var A=[];return E.forEach(function(C,D){var S=a.length-1;a.slice(0,S+1).forEach(function(N){var R=Object.keys(g)[D],P=Object.values(g)[D];C[N]&&A.push(e.loadLocale(N,R,P))})}),Promise.all(A)}).then(function(){w()}).catch(function(y){return console.error(y)})};function m(h){var g=r,v=[];for(var x in h){var _=h[x];if(g[_]&&v.push(_),_.includes("-")){var y=_.split("-")[0];g[y]&&v.push(y)}}return Ve(v)}function w(){if(!!i){o=i.split("-")[0];var h=r[i]||r[o],g=Bt(window.location.hash);g.rtl==="true"?s="rtl":g.rtl==="false"?s="ltr":s=h&&h.rtl?"rtl":"ltr";var v=i;v.toLowerCase().startsWith("en")&&(v="en"),u=n.general[v].languageNames,c=n.general[v].scriptNames,l=i.slice(-3).toLowerCase()!=="-us"}}e.loadLocale=function(h,g,v){if(h.toLowerCase().startsWith("en")&&(h="en"),n[g]&&n[g][h])return Promise.resolve(h);var x=Je.fileMap(),_="locale_".concat(g,"_").concat(h);return x[_]||(x[_]="".concat(v,"/").concat(h,".min.json")),Je.get(_).then(function(y){return n[g]||(n[g]={}),n[g][h]=y[h],h})},e.pluralRule=function(h){return b(h,i)};function b(h,g){var v="Intl"in window&&Intl.PluralRules&&new Intl.PluralRules(g);return v?v.select(h):h===1?"one":"other"}return e.tInfo=function(h,g,v){var x=h.trim(),_="general";if(x[0]==="_"){var y=x.split(".");_=y[0].slice(1),x=y.slice(1).join(".")}v=v||i;var E=x.split(".").map(function(U){return U.replace(/<TX_DOT>/g,".")}).reverse(),k=v;k.toLowerCase().startsWith("en")&&(k="en");for(var A=n&&n[_]&&n[_][k];A!==void 0&&E.length;)A=A[E.pop()];if(A!==void 0){if(g){if(Se(A)==="object"&&Object.keys(A).length){var C=Object.values(g).find(function(U){return typeof U=="number"});if(C!==void 0){var D=b(C,v);A[D]?A=A[D]:A=Object.values(A)[0]}}if(typeof A=="string")for(var S in g){var N=g[S];typeof N=="number"&&(N.toLocaleString?N=N.toLocaleString(v,{style:"decimal",useGrouping:!0,minimumFractionDigits:0}):N=N.toString());var R="{".concat(S,"}"),P=new RegExp(R,"g");A=A.replace(P,N)}}if(typeof A=="string")return{text:A,locale:v}}var L=a.indexOf(v);if(L>=0&&L<a.length-1){var B=a[L+1];return e.tInfo(h,g,B)}if(g&&"default"in g)return{text:g.default,locale:null};var O="Missing ".concat(v," translation: ").concat(h);return typeof console!="undefined"&&console.error(O),{text:O,locale:"en"}},e.hasTextForStringId=function(h){return!!e.tInfo(h,{default:"nothing found"}).locale},e.t=function(h,g,v){return e.tInfo(h,g,v).text},e.t.html=function(h,g,v){var x=e.tInfo(h,g,v);return x.text?e.htmlForLocalizedText(x.text,x.locale):""},e.htmlForLocalizedText=function(h,g){return'<span class="localized-text" lang="'.concat(g||"unknown",'">').concat(h,"</span>")},e.languageName=function(h,g){if(u[h])return u[h];if(g&&g.localOnly)return null;var v=t[h];if(v){if(v.nativeName)return e.t("translate.language_and_code",{language:v.nativeName,code:h});if(v.base&&v.script){var x=v.base;if(u[x]){var _=v.script,y=c[_]||_;return e.t("translate.language_and_code",{language:u[x],code:y})}else if(t[x]&&t[x].nativeName)return e.t("translate.language_and_code",{language:t[x].nativeName,code:h})}}return h},e}function cn(e){var t=50,r={},n={};return r.collection=e,r.item=function(i){if(n[i])return n[i];var a=r.collection.find(function(o){return o.id===i});return a&&(n[i]=a),a},r.index=function(i){return r.collection.findIndex(function(a){return a.id===i})},r.matchGeometry=function(i){return cn(r.collection.filter(function(a){return a.matchGeometry(i)}))},r.matchAllGeometry=function(i){return cn(r.collection.filter(function(a){return a&&a.matchAllGeometry(i)}))},r.matchAnyGeometry=function(i){return cn(r.collection.filter(function(a){return i.some(function(o){return a.matchGeometry(o)})}))},r.fallback=function(i){var a=i;return a==="vertex"&&(a="point"),r.item(a)},r.search=function(i,a,o){if(!i)return r;i=i.toLowerCase().trim();function s(C){var D=C.indexOf(i);return D===0||C[D-1]===" "}function l(C){var D=C.indexOf(i);return D===0}function u(C){return function(S,N){var R=S[C](),P=N[C]();if(i===R)return-1;if(i===P)return 1;var L=N.originalScore-S.originalScore;return L!==0||(L=R.indexOf(i)-P.indexOf(i),L!==0)?L:R.length-P.length}}var c=r.collection;if(Array.isArray(o)){var d=tn.locationsAt(o);c=c.filter(function(C){return!C.locationSetID||d[C.locationSetID]})}var p=c.filter(function(C){return C.searchable!==!1&&C.suggestion!==!0}),m=c.filter(function(C){return C.suggestion===!0}),w=p.filter(function(C){return s(C.searchName())}).sort(u("searchName")),b=m.filter(function(C){return l(C.searchName())}).sort(u("searchName")),h=p.filter(function(C){return s(C.searchNameStripped())}).sort(u("searchNameStripped")),g=m.filter(function(C){return l(C.searchNameStripped())}).sort(u("searchNameStripped")),v=p.filter(function(C){return(C.terms()||[]).some(s)}),x=m.filter(function(C){return(C.terms()||[]).some(s)}),_=p.filter(function(C){return Object.values(C.tags||{}).filter(function(D){return D!=="*"}).some(s)}),y=p.map(function(C){return{preset:C,dist:K0(i,C.searchName())}}).filter(function(C){return C.dist+Math.min(i.length-C.preset.searchName().length,0)<3}).sort(function(C,D){return C.dist-D.dist}).map(function(C){return C.preset}),E=m.map(function(C){return{preset:C,dist:K0(i,C.searchName())}}).filter(function(C){return C.dist+Math.min(i.length-C.preset.searchName().length,0)<1}).sort(function(C,D){return C.dist-D.dist}).map(function(C){return C.preset}),k=p.filter(function(C){return(C.terms()||[]).some(function(D){return K0(i,D)+Math.min(i.length-D.length,0)<3})}),A=w.concat(b,h,g,v,x,_,y,E,k).slice(0,t-1);return a&&(typeof a=="string"?A.push(r.fallback(a)):a.forEach(function(C){return A.push(r.fallback(C))})),cn(Ve(A))},r}function uc(e,t,r){var n=Object.assign({},t),i,a;return n.id=e,n.members=cn((t.members||[]).map(function(o){return r[o]}).filter(Boolean)),n.geometry=n.members.collection.reduce(function(o,s){for(var l in s.geometry){var u=s.geometry[l];o.indexOf(u)===-1&&o.push(u)}return o},[]),n.matchGeometry=function(o){return n.geometry.indexOf(o)>=0},n.matchAllGeometry=function(o){return n.members.collection.some(function(s){return s.matchAllGeometry(o)})},n.matchScore=function(){return-1},n.name=function(){return F("_tagging.presets.categories.".concat(e,".name"),{default:e})},n.nameLabel=function(){return F.html("_tagging.presets.categories.".concat(e,".name"),{default:e})},n.terms=function(){return[]},n.searchName=function(){return i||(i=(n.suggestion?n.originalName:n.name()).toLowerCase()),i},n.searchNameStripped=function(){return a||(a=n.searchName(),a.normalize&&(a=a.normalize("NFD")),a=a.replace(/[\u0300-\u036f]/g,"")),a},n}function cc(e,t){var r=Object.assign({},t);r.id=e,r.safeid=Y4(e),r.matchGeometry=function(i){return!r.geometry||r.geometry.indexOf(i)!==-1},r.matchAllGeometry=function(i){return!r.geometry||i.every(function(a){return r.geometry.indexOf(a)!==-1})},r.t=function(i,a){return F("_tagging.presets.fields.".concat(e,".").concat(i),a)},r.t.html=function(i,a){return F.html("_tagging.presets.fields.".concat(e,".").concat(i),a)},r.hasTextForStringId=function(i){return _e.hasTextForStringId("_tagging.presets.fields.".concat(e,".").concat(i))},r.title=function(){return r.overrideLabel||r.t("label",{default:e})},r.label=function(){return r.overrideLabel||r.t.html("label",{default:e})};var n=r.placeholder;return r.placeholder=function(){return r.t("placeholder",{default:n})},r.originalTerms=(r.terms||[]).join(),r.terms=function(){return r.t("terms",{default:r.originalTerms}).toLowerCase().trim().split(/\s*,+\s*/)},r.increment=r.type==="number"?r.increment||1:void 0,r}function t1(e,t,r,n,i){n=n||{},i=i||{};var a=Object.assign({},t),o=r||!1,s,l,u,c;a.id=e,a.safeid=Y4(e),a.originalTerms=(a.terms||[]).join(),a.originalName=a.name||"",a.originalScore=a.matchScore||1,a.originalReference=a.reference||{},a.originalFields=a.fields||[],a.originalMoreFields=a.moreFields||[],a.fields=function(){return s||(s=d("fields"))},a.moreFields=function(){return l||(l=d("moreFields"))},a.resetFields=function(){return s=l=null},a.tags=a.tags||{},a.addTags=a.addTags||a.tags,a.removeTags=a.removeTags||a.addTags,a.geometry=a.geometry||[],a.matchGeometry=function(p){return a.geometry.indexOf(p)>=0},a.matchAllGeometry=function(p){return p.every(a.matchGeometry)},a.matchScore=function(p){var m=a.tags,w={},b=0;for(var h in m)if(w[h]=!0,p[h]===m[h])b+=a.originalScore;else if(m[h]==="*"&&h in p)b+=a.originalScore/2;else return-1;var g=a.addTags;for(var v in g)!w[v]&&p[v]===g[v]&&(b+=a.originalScore);return b},a.t=function(p,m){var w="_tagging.presets.presets.".concat(e,".").concat(p);return F(w,m)},a.t.html=function(p,m){var w="_tagging.presets.presets.".concat(e,".").concat(p);return F.html(w,m)},a.name=function(){return a.t("name",{default:a.originalName})},a.nameLabel=function(){return a.t.html("name",{default:a.originalName})},a.subtitle=function(){if(a.suggestion){var p=e.split("/");return p.pop(),F("_tagging.presets.presets."+p.join("/")+".name")}return null},a.subtitleLabel=function(){if(a.suggestion){var p=e.split("/");return p.pop(),F.html("_tagging.presets.presets."+p.join("/")+".name")}return null},a.terms=function(){return a.t("terms",{default:a.originalTerms}).toLowerCase().trim().split(/\s*,+\s*/)},a.searchName=function(){return u||(u=(a.suggestion?a.originalName:a.name()).toLowerCase()),u},a.searchNameStripped=function(){return c||(c=a.searchName(),c.normalize&&(c=c.normalize("NFD")),c=c.replace(/[\u0300-\u036f]/g,"")),c},a.isFallback=function(){var p=Object.keys(a.tags).length;return p===0||p===1&&a.tags.hasOwnProperty("area")},a.addable=function(p){return arguments.length?(o=p,a):o},a.reference=function(){var p=a.tags.wikidata||a.tags["flag:wikidata"]||a.tags["brand:wikidata"]||a.tags["network:wikidata"]||a.tags["operator:wikidata"];if(p)return{qid:p};var m=a.originalReference.key||Object.keys(Ln(a.tags,"name"))[0],w=a.originalReference.value||a.tags[m];return w==="*"?{key:m}:{key:m,value:w}},a.unsetTags=function(p,m,w,b){var h=w?Ln(a.removeTags,w):a.removeTags;return p=Ln(p,Object.keys(h)),m&&!b&&a.fields().forEach(function(g){g.matchGeometry(m)&&g.key&&g.default===p[g.key]&&delete p[g.key]}),delete p.area,p},a.setTags=function(p,m,w){var b=a.addTags;p=Object.assign({},p);for(var h in b)b[h]==="*"?(a.tags[h]||!p[h]||p[h]==="no")&&(p[h]="yes"):p[h]=b[h];if(!b.hasOwnProperty("area")&&(delete p.area,m==="area")){var g=!0;if(a.geometry.indexOf("line")===-1){for(var v in b)if(v in _a){g=!1;break}}g&&(p.area="yes")}return m&&!w&&a.fields().forEach(function(x){x.matchGeometry(m)&&x.key&&!p[x.key]&&x.default&&(p[x.key]=x.default)}),p};function d(p){var m=p==="fields"?a.originalFields:a.originalMoreFields,w=[];if(m.forEach(function(x){var _=x.match(/\{(.*)\}/);_!==null?w=w.concat(g(_[1],p)):n[x]?w.push(n[x]):console.log('Cannot resolve "'.concat(x,'" found in ').concat(a.id,".").concat(p))}),!w.length){var b=a.id.lastIndexOf("/"),h=b&&a.id.substring(0,b);h&&(w=g(h,p))}return Ve(w);function g(x,_){var y=i[x];return y?_==="fields"?y.fields().filter(v):_==="moreFields"?y.moreFields():[]:[]}function v(x){return!(x.key&&a.tags[x.key]!==void 0&&x.type!=="multiCombo"&&x.type!=="semiCombo"&&x.type!=="manyCombo"&&x.type!=="check")}}return a}var Ie=Mg();function Mg(){var e=be("favoritePreset","recentsChange"),t=30,r=t1("point",{name:"Point",tags:{},geometry:["point","vertex"],matchScore:.1}),n=t1("line",{name:"Line",tags:{},geometry:["line"],matchScore:.1}),i=t1("area",{name:"Area",tags:{area:"yes"},geometry:["area"],matchScore:.1}),a=t1("relation",{name:"Relation",tags:{},geometry:["relation"],matchScore:.1}),o=cn([r,n,i,a]),s={point:r,line:n,area:i,relation:a},l={point:cn([r]),vertex:cn([r]),line:cn([n]),area:cn([i]),relation:cn([a])},u={},c={},d=[],p=null,m,w,b={point:{},vertex:{},line:{},area:{},relation:{}},h;o.ensureLoaded=function(){return h||(h=Promise.all([Je.get("preset_categories"),Je.get("preset_defaults"),Je.get("preset_presets"),Je.get("preset_fields")]).then(function(y){o.merge({categories:y[0],defaults:y[1],presets:y[2],fields:y[3]}),Z0(o.areaKeys()),X0(o.pointTags()),$0(o.vertexTags())}))},o.merge=function(y){var E=[];return y.fields&&Object.keys(y.fields).forEach(function(k){var A=y.fields[k];A?(A=cc(k,A),A.locationSet&&E.push(A),u[k]=A):delete u[k]}),y.presets&&Object.keys(y.presets).forEach(function(k){var A=y.presets[k];if(A){var C=!p||p.has(k);A=t1(k,A,C,u,s),A.locationSet&&E.push(A),s[k]=A}else{var D=s[k];D&&!D.isFallback()&&delete s[k]}}),y.categories&&Object.keys(y.categories).forEach(function(k){var A=y.categories[k];A?(A=uc(k,A,s),A.locationSet&&E.push(A),c[k]=A):delete c[k]}),o.collection=Object.values(s).concat(Object.values(c)),y.defaults&&Object.keys(y.defaults).forEach(function(k){var A=y.defaults[k];Array.isArray(A)?l[k]=cn(A.map(function(C){return s[C]||c[C]}).filter(Boolean)):delete l[k]}),d=Object.values(u).filter(function(k){return k.universal}),Object.values(s).forEach(function(k){return k.resetFields()}),b={point:{},vertex:{},line:{},area:{},relation:{}},o.collection.forEach(function(k){(k.geometry||[]).forEach(function(A){var C=b[A];for(var D in k.tags){C[D]=C[D]||{};var S=k.tags[D];(C[D][S]=C[D][S]||[]).push(k)}})}),y.featureCollection&&Array.isArray(y.featureCollection.features)&&tn.mergeCustomGeoJSON(y.featureCollection),E.length&&tn.mergeLocationSets(E),o},o.match=function(y,E){return E.transient(y,"presetMatch",function(){var k=y.geometry(E);k==="vertex"&&y.isOnAddressLine(E)&&(k="point");var A=y.extent(E);return o.matchTags(y.tags,k,A.center())})},o.matchTags=function(y,E,k){var A=b[E],C=-1,D,S=[];for(var N in y){var R=[],P=A[N];if(!!P){var L=P[y[N]];L&&R.push.apply(R,$t(L));var B=P["*"];if(B&&R.push.apply(R,$t(B)),R.length!==0)for(var O=0;O<R.length;O++){var U=R[O],T=U.matchScore(y);T!==-1&&(S.push({score:T,candidate:U}),T>C&&(C=T,D=U))}}}if(D&&D.locationSetID&&D.locationSetID!=="+[Q2]"&&Array.isArray(k)){var M=tn.locationsAt(k);if(!M[D.locationSetID]){S.sort(function(V,Y){return V.score<Y.score?1:-1});for(var I=0;I<S.length;I++){var z=S[I];if(!z.candidate.locationSetID||M[z.candidate.locationSetID]){D=z.candidate,C=z.score;break}}}}if(!D||D.isFallback()){for(var q in y)if(/^addr:/.test(q)&&A["addr:*"]&&A["addr:*"]["*"]){D=A["addr:*"]["*"][0];break}}return D||o.fallback(E)},o.allowsVertex=function(y,E){return y.type!=="node"?!1:Object.keys(y.tags).length===0?!0:E.transient(y,"vertexMatch",function(){if(y.isOnAddressLine(E))return!0;var k=Xa(y.tags);return k.vertex?!0:!k.point})},o.areaKeys=function(){var y=["barrier","highway","footway","railway","junction","type"],E={},k=o.collection.filter(function(A){return!A.suggestion&&!A.replacement});return k.forEach(function(A){var C=A.tags&&Object.keys(A.tags),D=C&&C.length&&C[0];!D||y.indexOf(D)===-1&&A.geometry.indexOf("area")!==-1&&(E[D]=E[D]||{})}),k.forEach(function(A){var C;for(C in A.addTags){var D=A.addTags[C];C in E&&A.geometry.indexOf("line")!==-1&&D!=="*"&&(E[C][D]=!0)}}),E},o.pointTags=function(){return o.collection.reduce(function(y,E){if(E.suggestion||E.replacement||E.searchable===!1)return y;var k=E.tags&&Object.keys(E.tags),A=k&&k.length&&k[0];return A&&E.geometry.indexOf("point")!==-1&&(y[A]=y[A]||{},y[A][E.tags[A]]=!0),y},{})},o.vertexTags=function(){return o.collection.reduce(function(y,E){if(E.suggestion||E.replacement||E.searchable===!1)return y;var k=E.tags&&Object.keys(E.tags),A=k&&k.length&&k[0];return A&&E.geometry.indexOf("vertex")!==-1&&(y[A]=y[A]||{},y[A][E.tags[A]]=!0),y},{})},o.field=function(y){return u[y]},o.universal=function(){return d},o.defaults=function(y,E,k,A){var C=[];k&&(C=o.recent().matchGeometry(y).collection.slice(0,4));var D;p?D=Array.from(p).map(function(R){var P=o.item(R);return P&&P.matchGeometry(y)?P:null}).filter(Boolean):D=l[y].collection.concat(o.fallback(y));var S=cn(Ve(C.concat(D)).slice(0,E-1));if(Array.isArray(A)){var N=tn.locationsAt(A);S.collection=S.collection.filter(function(R){return!R.locationSetID||N[R.locationSetID]})}return S},o.addablePresetIDs=function(y){return arguments.length?(Array.isArray(y)&&(y=new Set(y)),p=y,p?o.collection.forEach(function(E){E.addable&&E.addable(p.has(E.id))}):o.collection.forEach(function(E){E.addable&&E.addable(!0)}),o):p},o.recent=function(){return cn(Ve(o.getRecents().map(function(y){return y.preset})))};function g(y,E){var k={};return k.preset=y,k.source=E,k.isFavorite=function(){return k.source==="favorite"},k.isRecent=function(){return k.source==="recent"},k.matches=function(A){return k.preset.id===A.id},k.minified=function(){return{pID:k.preset.id}},k}function v(y,E){if(y&&y.pID){var k=o.item(y.pID);return k?g(k,E):null}return null}o.getGenericRibbonItems=function(){return["point","line","area"].map(function(y){return g(o.item(y),"generic")})},o.getAddable=function(){return p?p.map(function(y){var E=o.item(y);return E?g(E,"addable"):null}).filter(Boolean):[]};function x(y){m=y;var E=y.map(function(k){return k.minified()});pe("preset_recents",JSON.stringify(E)),e.call("recentsChange")}o.getRecents=function(){return m||(m=(JSON.parse(pe("preset_recents"))||[]).reduce(function(y,E){var k=v(E,"recent");return k&&k.preset.addable()&&y.push(k),y},[])),m},o.addRecent=function(y,E,k){var A=o.getRecents(),C=o.recentMatching(E),D=A.indexOf(C);k&&(D+=1);var S=g(y,"recent");A.splice(D,0,S),x(A)},o.removeRecent=function(y){var E=o.recentMatching(y);if(E){var k=o.getRecents();k.splice(k.indexOf(E),1),x(k)}},o.recentMatching=function(y){var E=o.getRecents();for(var k in E)if(E[k].matches(y))return E[k];return null},o.moveItem=function(y,E,k){return E===k||E<0||k<0||E>=y.length||k>=y.length?null:(y.splice(k,0,y.splice(E,1)[0]),y)},o.moveRecent=function(y,E){var k=o.getRecents(),A=k.indexOf(y),C=k.indexOf(E),D=o.moveItem(k,A,C);D&&x(D)},o.setMostRecent=function(y){if(y.searchable!==!1){var E=o.getRecents(),k=o.recentMatching(y);for(k?E.splice(E.indexOf(k),1):k=g(y,"recent");E.length>=t;)E.pop();E.unshift(k),x(E)}};function _(y){w=y;var E=y.map(function(k){return k.minified()});pe("preset_favorites",JSON.stringify(E)),e.call("favoritePreset")}return o.addFavorite=function(y,E,k){var A=o.getFavorites(),C=o.favoriteMatching(E),D=A.indexOf(C);k&&(D+=1);var S=g(y,"favorite");A.splice(D,0,S),_(A)},o.toggleFavorite=function(y){var E=o.getFavorites(),k=o.favoriteMatching(y);k?E.splice(E.indexOf(k),1):(E.length===10&&E.pop(),E.push(g(y,"favorite"))),_(E)},o.removeFavorite=function(y){var E=o.favoriteMatching(y);if(E){var k=o.getFavorites();k.splice(k.indexOf(E),1),_(k)}},o.getFavorites=function(){if(!w){var y=JSON.parse(pe("preset_favorites"));y||(y=[],pe("preset_favorites",JSON.stringify(y))),w=y.reduce(function(E,k){var A=v(k,"favorite");return A&&A.preset.addable()&&E.push(A),E},[])}return w},o.favoriteMatching=function(y){var E=o.getFavorites();for(var k in E)if(E[k].matches(y))return E[k];return null},ke(o,e,"on")}function St(e,t){return e.reduce(function(r,n){var i=typeof n=="string"?t.hasEntity(n):n;if(i){var a=i.extent(t);r.min=[Math.min(r.min[0],a.min[0]),Math.min(r.min[1],a.min[1])],r.max=[Math.max(r.max[0],a.max[0]),Math.max(r.max[1],a.max[1])]}return r},new Ne)}function ot(e,t,r){r.surface().selectAll(V0(e,r.graph())).classed("highlighted",t)}function nr(e,t){var r="name:"+_e.languageCode().toLowerCase(),n=e.tags[r]||e.tags.name||"",i={name:n,direction:e.tags.direction,from:e.tags.from,network:t?void 0:e.tags.cycle_network||e.tags.network,ref:e.tags.ref,to:e.tags.to,via:e.tags.via};if(n&&i.ref&&e.tags.route)return i.network?F("inspector.display_name.network_ref_name",i):F("inspector.display_name.ref_name",i);if(n)return n;var a=[];return i.network&&a.push("network"),i.ref&&a.push("ref"),e.tags.route&&(i.direction?a.push("direction"):i.from&&i.to&&(a.push("from"),a.push("to"),i.via&&a.push("via"))),a.length&&(n=F("inspector.display_name."+a.join("_"),i)),!n&&e.tags["addr:housename"]&&(n=e.tags["addr:housename"]),!n&&e.tags["ref:linz:address_id"]&&(n="".concat(e.tags["addr:housenumber"]," ").concat(e.tags["addr:street"]," \uD83E\uDD5D ").concat(e.tags["ref:linz:address_id"])),!n&&e.tags["addr:housenumber"]&&e.tags["addr:street"]&&(n=e.tags["addr:housenumber"]+" "+e.tags["addr:street"]+" \u274C NO REF"),n}function t0(e){var t=nr(e),r=qt().browser.toLowerCase().indexOf("firefox")>-1,n=Number(qt().version.split(".")[0])>=96;return!r&&!n&&t&&j9.test(t)&&(t=Mh(t)),t}function Un(e){return{n:F("inspector.node"),w:F("inspector.way"),r:F("inspector.relation")}[e.charAt(0)]}function lt(e,t,r){var n,i=nr(e),a=typeof t=="string"?Ie.matchTags(e.tags,t):Ie.match(e,t),o=a&&(a.suggestion?a.subtitle():a.name());return r?n=[o,i].filter(Boolean).join(" "):n=i||o,n||Un(e.id)}function xu(e){var t=["webkit","ms","moz","o"],r=-1,n=t.length,i=document.body;if(e in i)return e;for(e=e.substr(0,1).toUpperCase()+e.substr(1);++r<n;)if(t[r]+e in i)return t[r]+e;return!1}function r1(e){var t=["webkit","ms","Moz","O"],r=-1,n=t.length,i=document.body.style;if(e.toLowerCase()in i)return e.toLowerCase();for(;++r<n;)if(t[r]+e in i)return"-"+t[r].toLowerCase()+e.replace(/([A-Z])/g,"-$1").toLowerCase();return!1}var Ig;function ei(e,t,r,n){var i=Ig=Ig||r1("Transform"),a=qt().opera?"translate("+t+"px,"+r+"px)":"translate3d("+t+"px,"+r+"px,0)";return e.style(i,a+(n?" scale("+n+")":""))}function Dr(e){var t=e.getBoundingClientRect(),r=t.left,n=t.top,i=+e.clientLeft,a=+e.clientTop;return function(o){return[o.clientX-r-i,o.clientY-n-a]}}function Ng(e,t,r){var n=e.length,i=[],a=[];e.forEach(function(o,s){t(o,function(u,c){a[s]=u,i[s]=c,n--,n||r(a,i)})})}function vs(e,t){return e<0&&(e+=Math.ceil(-e/t)*t),e%t}function _t(e){return typeof e=="function"?e:function(){return e}}function et(e){var t=e.size()&&e.node().tagName.toLowerCase()==="textarea";return e.attr("autocomplete","new-password").attr("autocorrect","off").attr("autocapitalize","off").attr("spellcheck",t?"true":"false")}function Qe(e,t){function r(n){function i(){delete this.value}function a(){this.value!==n&&(this.value=n)}function o(){var s=n.apply(this,arguments);s==null?delete this.value:this.value!==s&&(this.value=s)}return n==null?i:typeof n=="function"?o:a}return arguments.length===1?e.property("value"):e.each(r(t))}function Re(e){var t={};function r(o,s){var l=!1,u=Object.keys(t).map(function(m){return t[m]}),c,d;for(c=0;c<u.length;c++)if(d=u[c],!!d.event.modifiers.shiftKey&&!!d.capture===s&&p(o,d,!0)){d.callback(o),l=!0;break}if(l)return;for(c=0;c<u.length;c++)if(d=u[c],!d.event.modifiers.shiftKey&&!!d.capture===s&&p(o,d,!1)){d.callback(o);break}function p(m,w,b){var h=m,g=!1,v=!0;return h.key!==void 0&&(v=h.key.charCodeAt(0)>255,g=!0,w.event.key===void 0?g=!1:Array.isArray(w.event.key)?w.event.key.map(function(x){return x.toLowerCase()}).indexOf(h.key.toLowerCase())===-1&&(g=!1):h.key.toLowerCase()!==w.event.key.toLowerCase()&&(g=!1)),!g&&v&&(g=h.keyCode===w.event.keyCode),!(!g||!(h.ctrlKey&&h.altKey)&&(h.ctrlKey!==w.event.modifiers.ctrlKey||h.altKey!==w.event.modifiers.altKey)||h.metaKey!==w.event.modifiers.metaKey||b&&h.shiftKey!==w.event.modifiers.shiftKey)}}function n(o){r(o,!0)}function i(o){var s=G(o.target).node().tagName;s==="INPUT"||s==="SELECT"||s==="TEXTAREA"||r(o,!1)}function a(o){return o=o||G(document),o.on("keydown.capture."+e,n,!0),o.on("keydown.bubble."+e,i,!1),a}return a.unbind=function(o){return t=[],o=o||G(document),o.on("keydown.capture."+e,null),o.on("keydown.bubble."+e,null),a},a.clear=function(){return t={},a},a.off=function(o,s){for(var l=Ve([].concat(o)),u=0;u<l.length;u++){var c=l[u]+(s?"-capture":"-bubble");delete t[c]}return a},a.on=function(o,s,l){if(typeof s!="function")return a.off(o,l);for(var u=Ve([].concat(o)),c=0;c<u.length;c++){var d=u[c]+(l?"-capture":"-bubble"),p={id:d,capture:l,callback:s,event:{key:void 0,keyCode:0,modifiers:{shiftKey:!1,ctrlKey:!1,altKey:!1,metaKey:!1}}};t[d]&&console.warn('warning: duplicate keybinding for "'+d+'"'),t[d]=p;for(var m=u[c].toLowerCase().match(/(?:(?:[^+⇧⌃⌥⌘])+|[⇧⌃⌥⌘]|\+\+|^\+$)/g),w=0;w<m.length;w++)if(m[w]==="++"&&(m[w]="+"),m[w]in Re.modifierCodes){var b=Re.modifierProperties[Re.modifierCodes[m[w]]];p.event.modifiers[b]=!0}else p.event.key=Re.keys[m[w]]||m[w],m[w]in Re.keyCodes&&(p.event.keyCode=Re.keyCodes[m[w]])}return a},a}Re.modifierCodes={"\u21E7":16,shift:16,"\u2303":17,ctrl:17,"\u2325":18,alt:18,option:18,"\u2318":91,meta:91,cmd:91,super:91,win:91};Re.modifierProperties={16:"shiftKey",17:"ctrlKey",18:"altKey",91:"metaKey"};Re.plusKeys=["plus","ffplus","=","ffequals","\u2260","\xB1"];Re.minusKeys=["_","-","ffminus","dash","\u2013","\u2014"];Re.keys={"\u232B":"Backspace",backspace:"Backspace","\u21E5":"Tab","\u21C6":"Tab",tab:"Tab","\u21A9":"Enter","\u21B5":"Enter","\u23CE":"Enter",return:"Enter",enter:"Enter","\u2305":"Enter",pause:"Pause","pause-break":"Pause","\u21EA":"CapsLock",caps:"CapsLock","caps-lock":"CapsLock","\u238B":["Escape","Esc"],escape:["Escape","Esc"],esc:["Escape","Esc"],space:[" ","Spacebar"],"\u2196":"PageUp",pgup:"PageUp","page-up":"PageUp","\u2198":"PageDown",pgdown:"PageDown","page-down":"PageDown","\u21DF":"End",end:"End","\u21DE":"Home",home:"Home",ins:"Insert",insert:"Insert","\u2326":["Delete","Del"],del:["Delete","Del"],delete:["Delete","Del"],"\u2190":["ArrowLeft","Left"],left:["ArrowLeft","Left"],"arrow-left":["ArrowLeft","Left"],"\u2191":["ArrowUp","Up"],up:["ArrowUp","Up"],"arrow-up":["ArrowUp","Up"],"\u2192":["ArrowRight","Right"],right:["ArrowRight","Right"],"arrow-right":["ArrowRight","Right"],"\u2193":["ArrowDown","Down"],down:["ArrowDown","Down"],"arrow-down":["ArrowDown","Down"],"*":["*","Multiply"],star:["*","Multiply"],asterisk:["*","Multiply"],multiply:["*","Multiply"],"+":["+","Add"],plus:["+","Add"],"-":["-","Subtract"],subtract:["-","Subtract"],dash:["-","Subtract"],semicolon:";",equals:"=",comma:",",period:".","full-stop":".",slash:"/","forward-slash":"/",tick:"`","back-quote":"`","open-bracket":"[","back-slash":"\\","close-bracket":"]",quote:"'",apostrophe:"'","num-0":"0","num-1":"1","num-2":"2","num-3":"3","num-4":"4","num-5":"5","num-6":"6","num-7":"7","num-8":"8","num-9":"9",f1:"F1",f2:"F2",f3:"F3",f4:"F4",f5:"F5",f6:"F6",f7:"F7",f8:"F8",f9:"F9",f10:"F10",f11:"F11",f12:"F12",f13:"F13",f14:"F14",f15:"F15",f16:"F16",f17:"F17",f18:"F18",f19:"F19",f20:"F20",f21:"F21",f22:"F22",f23:"F23",f24:"F24",f25:"F25"};Re.keyCodes={"\u232B":8,backspace:8,"\u21E5":9,"\u21C6":9,tab:9,"\u21A9":13,"\u21B5":13,"\u23CE":13,return:13,enter:13,"\u2305":13,pause:19,"pause-break":19,"\u21EA":20,caps:20,"caps-lock":20,"\u238B":27,escape:27,esc:27,space:32,"\u2196":33,pgup:33,"page-up":33,"\u2198":34,pgdown:34,"page-down":34,"\u21DF":35,end:35,"\u21DE":36,home:36,ins:45,insert:45,"\u2326":46,del:46,delete:46,"\u2190":37,left:37,"arrow-left":37,"\u2191":38,up:38,"arrow-up":38,"\u2192":39,right:39,"arrow-right":39,"\u2193":40,down:40,"arrow-down":40,ffequals:61,"*":106,star:106,asterisk:106,multiply:106,"+":107,plus:107,"-":109,subtract:109,"|":124,ffplus:171,ffminus:173,";":186,semicolon:186,"=":187,equals:187,",":188,comma:188,dash:189,".":190,period:190,"full-stop":190,"/":191,slash:191,"forward-slash":191,"`":192,tick:192,"back-quote":192,"[":219,"open-bracket":219,"\\":220,"back-slash":220,"]":221,"close-bracket":221,"'":222,quote:222,apostrophe:222};var hi=95,po=0;for(;++hi<106;)Re.keyCodes["num-"+po]=hi,++po;hi=47;po=0;for(;++hi<58;)Re.keyCodes[po]=hi,++po;hi=111;po=1;for(;++hi<136;)Re.keyCodes["f"+po]=hi,++po;hi=64;for(;++hi<91;)Re.keyCodes[String.fromCharCode(hi).toLowerCase()]=hi;function ke(e,t){for(var r=1,n=arguments.length,i;++r<n;)e[i=arguments[r]]=$D(e,t,t[i]);return e}function $D(e,t,r){return function(){var n=r.apply(t,arguments);return n===t?e:n}}function ys(e,t){e.each(function(){var r=document.createEvent("HTMLEvents");r.initEvent(t,!0,!0),this.dispatchEvent(r)})}function Pt(){if(this instanceof Pt)arguments.length&&this.initialize(arguments);else return new Pt().initialize(arguments)}Me.way=Pt;Pt.prototype=Object.create(Me.prototype);Object.assign(Pt.prototype,{type:"way",nodes:[],copy:function(t,r){if(r[this.id])return r[this.id];var n=Me.prototype.copy.call(this,t,r),i=this.nodes.map(function(a){return t.entity(a).copy(t,r).id});return n=n.update({nodes:i}),r[this.id]=n,n},extent:function(t){return t.transient(this,"extent",function(){return St(this.nodes,t)})},first:function(){return this.nodes[0]},last:function(){return this.nodes[this.nodes.length-1]},contains:function(t){return this.nodes.indexOf(t)>=0},affix:function(t){if(this.nodes[0]===t)return"prefix";if(this.nodes[this.nodes.length-1]===t)return"suffix"},layer:function(){return isFinite(this.tags.layer)?Math.max(-10,Math.min(+this.tags.layer,10)):this.tags.covered==="yes"?-1:this.tags.location==="overground"?1:this.tags.location==="underground"?-1:this.tags.location==="underwater"?-10:this.tags.power==="line"||this.tags.power==="minor_line"||this.tags.aerialway?10:this.tags.bridge?1:this.tags.cutting||this.tags.tunnel||this.tags.waterway?-1:this.tags.man_made==="pipeline"||this.tags.boundary?-10:0},impliedLineWidthMeters:function(){var t={highway:{motorway:5,motorway_link:5,trunk:4.5,trunk_link:4.5,primary:4,secondary:4,tertiary:4,primary_link:4,secondary_link:4,tertiary_link:4,unclassified:4,road:4,living_street:4,bus_guideway:4,pedestrian:4,residential:3.5,service:3.5,track:3,cycleway:2.5,bridleway:2,corridor:2,steps:2,path:1.5,footway:1.5},railway:{rail:2.5,light_rail:2.5,tram:2.5,subway:2.5,monorail:2.5,funicular:2.5,disused:2.5,preserved:2.5,miniature:1.5,narrow_gauge:1.5},waterway:{river:50,canal:25,stream:5,tidal_channel:5,fish_pass:2.5,drain:2.5,ditch:1.5}};for(var r in t)if(this.tags[r]&&t[r][this.tags[r]]){var n=t[r][this.tags[r]];if(r==="highway"){var i=this.tags.lanes&&parseInt(this.tags.lanes,10);return i||(i=this.isOneWay()?1:2),n*i}return n}return null},isOneWay:function(){var t={yes:!0,"1":!0,"-1":!0,reversible:!0,alternating:!0,no:!1,"0":!1};if(t[this.tags.oneway]!==void 0)return t[this.tags.oneway];for(var r in this.tags)if(r in Ti&&this.tags[r]in Ti[r])return!0;return!1},sidednessIdentifier:function(){for(var t in this.tags){var r=this.tags[t];if(t in X4&&r in X4[t])return X4[t][r]===!0?t:X4[t][r]}return null},isSided:function(){return this.tags.two_sided==="yes"?!1:this.sidednessIdentifier()!==null},lanes:function(){return uu(this)},isClosed:function(){return this.nodes.length>1&&this.first()===this.last()},isConvex:function(t){if(!this.isClosed()||this.isDegenerate())return null;for(var r=Ve(t.childNodes(this)),n=r.map(function(d){return d.loc}),i=0,a=0,o=0;o<n.length;o++){var s=n[(o+1)%n.length],l=n[o],u=n[(o+2)%n.length],c=J1(l,u,s);if(i=c>0?1:c<0?-1:0,i!==0){if(a&&i!==a)return!1;a=i}}return!0},tagSuggestingArea:function(){return Za(this.tags)},isArea:function(){return this.tags.area==="yes"?!0:!this.isClosed()||this.tags.area==="no"?!1:this.tagSuggestingArea()!==null},isDegenerate:function(){return new Set(this.nodes).size<(this.isArea()?3:2)},areAdjacent:function(t,r){for(var n=0;n<this.nodes.length;n++)if(this.nodes[n]===t&&(this.nodes[n-1]===r||this.nodes[n+1]===r))return!0;return!1},geometry:function(t){return t.transient(this,"geometry",function(){return this.isArea()?"area":"line"})},segments:function(t){function r(n){var i=n.hasEntity(this.nodes[0]),a=n.hasEntity(this.nodes[1]);return i&&a&&new Ne([Math.min(i.loc[0],a.loc[0]),Math.min(i.loc[1],a.loc[1])],[Math.max(i.loc[0],a.loc[0]),Math.max(i.loc[1],a.loc[1])])}return t.transient(this,"segments",function(){for(var n=[],i=0;i<this.nodes.length-1;i++)n.push({id:this.id+"-"+i,wayId:this.id,index:i,nodes:[this.nodes[i],this.nodes[i+1]],extent:r});return n})},close:function(){if(this.isClosed()||!this.nodes.length)return this;var t=this.nodes.slice();return t=t.filter(bs),t.push(t[0]),this.update({nodes:t})},unclose:function(){if(!this.isClosed())return this;for(var t=this.nodes.slice(),r=this.first(),n=t.length-1;n>0&&t.length>1&&t[n]===r;)t.splice(n,1),n=t.length-1;return t=t.filter(bs),this.update({nodes:t})},addNode:function(t,r){var n=this.nodes.slice(),i=this.isClosed(),a=i?n.length-1:n.length;if(r===void 0&&(r=a),r<0||r>a)throw new RangeError("index "+r+" out of range 0.."+a);if(i){for(var o=this.first(),s=1;s<n.length&&n.length>2&&n[s]===o;)n.splice(s,1),r>s&&r--;for(s=n.length-1;s>0&&n.length>1&&n[s]===o;)n.splice(s,1),r>s&&r--,s=n.length-1}return n.splice(r,0,t),n=n.filter(bs),i&&(n.length===1||n[0]!==n[n.length-1])&&n.push(n[0]),this.update({nodes:n})},updateNode:function(t,r){var n=this.nodes.slice(),i=this.isClosed(),a=n.length-1;if(r===void 0||r<0||r>a)throw new RangeError("index "+r+" out of range 0.."+a);if(i){for(var o=this.first(),s=1;s<n.length&&n.length>2&&n[s]===o;)n.splice(s,1),r>s&&r--;for(s=n.length-1;s>0&&n.length>1&&n[s]===o;)n.splice(s,1),r===s&&(r=0),s=n.length-1}return n.splice(r,1,t),n=n.filter(bs),i&&(n.length===1||n[0]!==n[n.length-1])&&n.push(n[0]),this.update({nodes:n})},replaceNode:function(t,r){for(var n=this.nodes.slice(),i=this.isClosed(),a=0;a<n.length;a++)n[a]===t&&(n[a]=r);return n=n.filter(bs),i&&(n.length===1||n[0]!==n[n.length-1])&&n.push(n[0]),this.update({nodes:n})},removeNode:function(t){var r=this.nodes.slice(),n=this.isClosed();return r=r.filter(function(i){return i!==t}).filter(bs),n&&(r.length===1||r[0]!==r[r.length-1])&&r.push(r[0]),this.update({nodes:r})},asJXON:function(t){var r={way:{"@id":this.osmId(),"@version":this.version||0,nd:this.nodes.map(function(n){return{keyAttributes:{ref:Me.id.toOSM(n)}}},this),tag:Object.keys(this.tags).map(function(n){return{keyAttributes:{k:n,v:this.tags[n]}}},this)}};return t&&(r.way["@changeset"]=t),r},asGeoJSON:function(t){return t.transient(this,"GeoJSON",function(){var r=t.childNodes(this).map(function(n){return n.loc});return this.isArea()&&this.isClosed()?{type:"Polygon",coordinates:[r]}:{type:"LineString",coordinates:r}})},area:function(t){return t.transient(this,"area",function(){var r=t.childNodes(this),n={type:"Polygon",coordinates:[r.map(function(a){return a.loc})]};!this.isClosed()&&r.length&&n.coordinates[0].push(r[0].loc);var i=Zi(n);return i>2*Math.PI&&(n.coordinates[0]=n.coordinates[0].reverse(),i=Zi(n)),isNaN(i)?0:i})}});function bs(e,t,r){return t===0||e!==r[t-1]}function ws(e,t){if(e.type!=="relation"||!e.isMultipolygon()||Object.keys(e.tags).filter(_n).length>1)return!1;var r;for(var n in e.members){var i=e.members[n];if((!i.role||i.role==="outer")&&(r||i.type!=="way"||!t.hasEntity(i.id)||(r=t.entity(i.id),Object.keys(r.tags).filter(_n).length===0)))return!1}return r}function mo(e,t){if(e.type!=="way"||Object.keys(e.tags).filter(_n).length===0)return!1;var r=t.parentRelations(e);if(r.length!==1)return!1;var n=r[0];if(!n.isMultipolygon()||Object.keys(n.tags).filter(_n).length>1)return!1;for(var i=n.members,a,o=0;o<i.length;o++)if(a=i[o],a.id===e.id&&a.role&&a.role!=="outer"||a.id!==e.id&&(!a.role||a.role==="outer"))return!1;return n}function _u(e,t){if(e.type!=="way")return!1;var r=t.parentRelations(e);if(r.length!==1)return!1;var n=r[0];if(!n.isMultipolygon()||Object.keys(n.tags).filter(_n).length>1)return!1;for(var i=n.members,a,o,s=0;s<i.length;s++)if(a=i[s],!a.role||a.role==="outer"){if(o)return!1;o=a}if(!o)return!1;var l=t.hasEntity(o.id);return!l||!Object.keys(l.tags).filter(_n).length?!1:l}function gn(e,t){function r(w){return t.childNodes(t.entity(w.id))}function n(w){var b=ui(w.id,{reverseOneway:!0});return o.actions.push(b),w instanceof Pt?b(t).entity(w.id):w}e=e.filter(function(w){return w.type==="way"&&t.hasEntity(w.id)});var i,a=!0;for(i=0;i<e.length;i++)if(e[i]instanceof Pt){a=!1;break}var o=[];for(o.actions=[];e.length;){for(var s=e.shift(),l=[s],u=r(s).slice();e.length;){var c=u[0],d=u[u.length-1],p=null,m=null;for(i=0;i<e.length;i++)if(s=e[i],m=r(s),a&&l.length===1&&m[0]!==d&&m[m.length-1]!==d&&(m[m.length-1]===c||m[0]===c)&&(l[0]=n(l[0]),u.reverse(),c=u[0],d=u[u.length-1]),m[0]===d){p=u.push,m=m.slice(1);break}else if(m[m.length-1]===d){p=u.push,m=m.slice(0,-1).reverse(),s=n(s);break}else if(m[m.length-1]===c){p=u.unshift,m=m.slice(0,-1);break}else if(m[0]===c){p=u.unshift,m=m.slice(1).reverse(),s=n(s);break}else p=m=null;if(!m)break;p.apply(l,[s]),p.apply(u,m),e.splice(i,1)}l.nodes=u,o.push(l)}return o}function n1(e,t,r,n){return function(o){var s=o.entity(e),l=/stop|platform/.test(t.role);return(isNaN(r)||n)&&t.type==="way"&&!l?o=i(s,o):(l&&isNaN(r)&&(r=0),o=o.replace(s.addMember(t,r))),o};function i(a,o){var s,l,u,c,d,p,m=[],w=[];for(c=0;c<a.members.length;c++){var b=a.members[c];/stop|platform/.test(b.role)?m.push(b):w.push(b)}if(a=a.update({members:w}),n){l=Pt({id:"wTemp",nodes:n.nodes}),o=o.replace(l);var h={id:l.id,type:"way",role:t.role},g=a.replaceMember({id:n.originalID},h,!0);s=ar(g.members,"type"),s.way=s.way||[]}else s=ar(a.members,"type"),s.way=s.way||[],s.way.push(t);w=D(s.way);var v=gn(w,o);for(c=0;c<v.length;c++){var x=v[c],_=x.nodes.slice(),y=x[0].index;for(d=0;d<w.length&&w[d].index!==y;d++);for(p=0;p<x.length;p++){u=x[p];var E=o.entity(u.id);l&&u.id===l.id&&(_[0].id===n.nodes[0]?u.pair=[{id:n.originalID,type:"way",role:u.role},{id:n.insertedID,type:"way",role:u.role}]:u.pair=[{id:n.insertedID,type:"way",role:u.role},{id:n.originalID,type:"way",role:u.role}]),p>0&&(d+p>=w.length||u.index!==w[d+p].index)&&C(w,u.index,d+p),_.splice(0,E.nodes.length-1)}}l&&(o=o.remove(l));var k=[];for(c=0;c<w.length;c++)u=w[c],u.index!==-1&&(u.pair?(k.push(u.pair[0]),k.push(u.pair[1])):k.push(Ln(u,["index"])));var A=m.concat(s.node||[],k,s.relation||[]);return o.replace(a.update({members:A}));function C(S,N,R){var P;for(P=0;P<S.length&&S[P].index!==N;P++);var L=Object.assign({},S[P]);S[P].index=-1,L.index=R,S.splice(R,0,L)}function D(S){for(var N=new Array(S.length),R=0;R<S.length;R++)N[R]=Object.assign({},S[R]),N[R].index=R;return N}}}function Sr(e,t){return function(r){r=r.replace(t.move(e.loc));var n=Ar(r.parentWays(r.entity(e.edge[0])),r.parentWays(r.entity(e.edge[1])));return n.forEach(function(i){for(var a=0;a<i.nodes.length-1;a++)if(xp([i.nodes[a],i.nodes[a+1]],e.edge)){r=r.replace(r.entity(i.id).addNode(t.id,a+1));return}}),r}}function gi(e,t,r){return function(n){return n.replace(n.entity(e).addNode(t,r))}}function ho(e,t,r){return function(n){return n.replace(n.entity(e).updateMember(t,r))}}function go(e,t,r,n){return function(a){var o=a.entity(e),s=o.geometry(a),l=o.tags;return t&&(l=t.unsetTags(l,s,r&&r.addTags?Object.keys(r.addTags):null)),r&&(l=r.setTags(l,s,n)),a.replace(o.update({tags:l}))}}function Qt(e,t){return function(r){var n=r.entity(e);return r.replace(n.update({tags:t}))}}function ut(){if(this instanceof ut)arguments.length&&this.initialize(arguments);else return new ut().initialize(arguments)}Me.node=ut;ut.prototype=Object.create(Me.prototype);Object.assign(ut.prototype,{type:"node",loc:[9999,9999],extent:function(){return new Ne(this.loc)},geometry:function(t){return t.transient(this,"geometry",function(){return t.isPoi(this)?"point":"vertex"})},move:function(t){return this.update({loc:t})},isDegenerate:function(){return!(Array.isArray(this.loc)&&this.loc.length===2&&this.loc[0]>=-180&&this.loc[0]<=180&&this.loc[1]>=-90&&this.loc[1]<=90)},directions:function(t,r){var n,i;if(this.isHighwayIntersection(t)&&(this.tags.stop||"").toLowerCase()==="all")n="all";else{n=(this.tags.direction||"").toLowerCase();var a=/:direction$/i,o=Object.keys(this.tags);for(i=0;i<o.length;i++)if(a.test(o[i])){n=this.tags[o[i]].toLowerCase();break}}if(n==="")return[];var s={north:0,n:0,northnortheast:22,nne:22,northeast:45,ne:45,eastnortheast:67,ene:67,east:90,e:90,eastsoutheast:112,ese:112,southeast:135,se:135,southsoutheast:157,sse:157,south:180,s:180,southsouthwest:202,ssw:202,southwest:225,sw:225,westsouthwest:247,wsw:247,west:270,w:270,westnorthwest:292,wnw:292,northwest:315,nw:315,northnorthwest:337,nnw:337},l=n.split(";"),u=[];return l.forEach(function(c){if(s[c]!==void 0&&(c=s[c]),c!==""&&!isNaN(+c)){u.push(+c);return}var d=this.tags["traffic_sign:backward"]||c==="backward"||c==="both"||c==="all",p=this.tags["traffic_sign:forward"]||c==="forward"||c==="both"||c==="all";if(!(!p&&!d)){var m={};t.parentWays(this).forEach(function(w){var b=w.nodes;for(i=0;i<b.length;i++)b[i]===this.id&&(p&&i>0&&(m[b[i-1]]=!0),d&&i<b.length-1&&(m[b[i+1]]=!0))},this),Object.keys(m).forEach(function(w){var b=r(this.loc),h=r(t.entity(w).loc);u.push(pr(b,h)*180/Math.PI+90)},this)}},this),Ve(u)},isCrossing:function(){return this.tags.highway==="crossing"||this.tags.railway&&this.tags.railway.indexOf("crossing")!==-1},isEndpoint:function(t){return t.transient(this,"isEndpoint",function(){var r=this.id;return t.parentWays(this).filter(function(n){return!n.isClosed()&&!!n.affix(r)}).length>0})},isConnected:function(t){return t.transient(this,"isConnected",function(){var r=t.parentWays(this);if(r.length>1){for(var n in r)if(r[n].geometry(t)==="line"&&r[n].hasInterestingTags())return!0}else if(r.length===1){var i=r[0],a=i.nodes.slice();return i.isClosed()&&a.pop(),a.indexOf(this.id)!==a.lastIndexOf(this.id)}return!1})},parentIntersectionWays:function(t){return t.transient(this,"parentIntersectionWays",function(){return t.parentWays(this).filter(function(r){return(r.tags.highway||r.tags.waterway||r.tags.railway||r.tags.aeroway)&&r.geometry(t)==="line"})})},isIntersection:function(t){return this.parentIntersectionWays(t).length>1},isHighwayIntersection:function(t){return t.transient(this,"isHighwayIntersection",function(){return t.parentWays(this).filter(function(r){return r.tags.highway&&r.geometry(t)==="line"}).length>1})},isOnAddressLine:function(t){return t.transient(this,"isOnAddressLine",function(){return t.parentWays(this).filter(function(r){return r.tags.hasOwnProperty("addr:interpolation")&&r.geometry(t)==="line"}).length>0})},asJXON:function(t){var r={node:{"@id":this.osmId(),"@lon":this.loc[0],"@lat":this.loc[1],"@version":this.version||0,tag:Object.keys(this.tags).map(function(n){return{keyAttributes:{k:n,v:this.tags[n]}}},this)}};return t&&(r.node["@changeset"]=t),r},asGeoJSON:function(){return{type:"Point",coordinates:this.loc}}});function ku(e,t,r){r=(r||20)*Math.PI/180;var n=function i(a,o){(o===null||!isFinite(o))&&(o=1),o=Math.min(Math.max(+o,0),1);var s=a.entity(e),l={};a.childNodes(s).forEach(function($){l[$.id]||(l[$.id]=$)}),s.isConvex(a)||(a=i.makeConvex(a));var u=Ve(a.childNodes(s)),c=u.filter(function($){return a.parentWays($).length!==1}),d=u.map(function($){return t($.loc)}),p=c.map(function($){return t($.loc)}),m=d.length===2?jt(d[0],d[1],.5):ta(d),w=s2(d,function($){return it(m,$)}),b=X1(d)>0?1:-1,h,g,v,x;if(c.length||(c=[u[0]],p=[d[0]]),c.length===1){var _=u.indexOf(c[0]),y=Math.floor((_+u.length/2)%u.length);c.push(u[y]),p.push(d[y])}for(g=0;g<p.length;g++){var E=(g+1)%c.length,k=c[g],A=c[E],C=u.indexOf(k),D=u.indexOf(A),S=-1,N=D-C,R={},P=[],L,B,O,U,T,M,I,z;N<0&&(N+=u.length);var q=it(m,p[g])||1e-4;p[g]=[m[0]+(p[g][0]-m[0])/q*w,m[1]+(p[g][1]-m[1])/q*w],M=t.invert(p[g]),I=c[g],z=l[I.id],I=I.move(jt(z.loc,M,o)),a=a.replace(I),L=Math.atan2(p[g][1]-m[1],p[g][0]-m[0]),B=Math.atan2(p[E][1]-m[1],p[E][0]-m[0]),O=B-L,O*b>0&&(O=-b*(2*Math.PI-Math.abs(O)));do S++,U=O/(N+S);while(Math.abs(U)>r);for(v=1;v<N;v++)T=L+v*U,M=t.invert([m[0]+Math.cos(T)*w,m[1]+Math.sin(T)*w]),I=u[(v+C)%u.length],z=l[I.id],R[I.id]=T,I=I.move(jt(z.loc,M,o)),a=a.replace(I);for(v=0;v<S;v++){T=L+(N+v)*U,M=t.invert([m[0]+Math.cos(T)*w,m[1]+Math.sin(T)*w]);var V=1/0;for(var Y in R){var ee=R[Y],ie=Math.abs(ee-T);ie<V&&(V=ie,z=l[Y])}I=ut({loc:jt(z.loc,M,o)}),a=a.replace(I),u.splice(D+v,0,I),P.push(I.id)}if(N===1&&P.length){var se=s.nodes.lastIndexOf(k.id),ve=s.nodes.lastIndexOf(A.id),le=ve-se;le<-1&&(le=1);var re=a.parentWays(c[g]);for(v=0;v<re.length;v++){var Ae=re[v];if(Ae!==s&&Ae.areAdjacent(k.id,A.id)){var ae=Ae.nodes.lastIndexOf(k.id),he=Ae.nodes.lastIndexOf(A.id),Ce=he-ae,Te=he;for(Ce<-1&&(Ce=1),le!==Ce&&(P.reverse(),Te=ae),x=0;x<P.length;x++)Ae=Ae.addNode(P[x],Te+x);a=a.replace(Ae)}}}}return h=u.map(function($){return $.id}),h.push(h[0]),s=s.update({nodes:h}),a=a.replace(s),a};return n.makeConvex=function(i){var a=i.entity(e),o=Ve(i.childNodes(a)),s=o.map(function(g){return t(g.loc)}),l=X1(s)>0?1:-1,u=Sa(s),c,d;for(l===-1&&(o.reverse(),s.reverse()),c=0;c<u.length-1;c++){var p=s.indexOf(u[c]),m=s.indexOf(u[c+1]),w=m-p;for(w<0&&(w+=o.length),d=1;d<w;d++){var b=jt(u[c],u[c+1],d/w),h=o[(d+p)%o.length].move(t.invert(b));i=i.replace(h)}}return i},n.disabled=function(i){if(!i.entity(e).isClosed())return"not_closed";var a=i.entity(e),o=Ve(i.childNodes(a)),s=o.map(function(_){return t(_.loc)}),l=Sa(s),u=Math.PI/180;if(l.length!==s.length||l.length<3)return!1;var c=ta(s),d=o9(c,s[0]),p,m;for(p=0;p<l.length;p++){m=l[p];var w=o9(m,c),b=Math.abs(w-d);if(b>.05*d)return!1}for(p=0;p<l.length;p++){m=l[p];var h=l[(p+1)%l.length],g=Math.atan2(m[1]-c[1],m[0]-c[0]),v=Math.atan2(h[1]-c[1],h[0]-c[0]),x=v-g;if(x<0&&(x=-x),x>Math.PI&&(x=2*Math.PI-x),x>r+u)return!1}return"already_circular"},n.transitionable=!0,n}function vi(e){function t(n,i){if(i.parentWays(n).length||i.parentRelations(n).length)return!1;var a=Xa(n.tags);return a.point?!1:a.vertex?!0:!n.hasInterestingTags()}var r=function(i){var a=i.entity(e);return i.parentRelations(a).forEach(function(o){o=o.removeMembersWithID(e),i=i.replace(o),o.isDegenerate()&&(i=Rr(o.id)(i))}),new Set(a.nodes).forEach(function(o){i=i.replace(a.removeNode(o));var s=i.entity(o);t(s,i)&&(i=i.remove(s))}),i.remove(a)};return r}function Ia(e){var t={way:vi,node:yi,relation:Rr},r=function(i){return e.forEach(function(a){i.hasEntity(a)&&(i=t[i.entity(a).type](a)(i))}),i};return r}function Rr(e,t){function r(i,a){return!a.parentWays(i).length&&!a.parentRelations(i).length&&!i.hasInterestingTags()&&!t}var n=function(a){var o=a.entity(e);a.parentRelations(o).forEach(function(l){l=l.removeMembersWithID(e),a=a.replace(l),l.isDegenerate()&&(a=Rr(l.id)(a))});var s=Ve(o.members.map(function(l){return l.id}));return s.forEach(function(l){a=a.replace(o.removeMembersWithID(l));var u=a.entity(l);r(u,a)&&(a=Ia([l])(a))}),a.remove(o)};return n}function yi(e){var t=function(n){var i=n.entity(e);return n.parentWays(i).forEach(function(a){a=a.removeNode(e),n=n.replace(a),a.isDegenerate()&&(n=vi(a.id)(n))}),n.parentRelations(i).forEach(function(a){a=a.removeMembersWithID(e),n=n.replace(a),a.isDegenerate()&&(n=Rr(a.id)(n))}),n.remove(i)};return t}function vo(e){var t=function(n){var i,a,o,s,l;for(s=0;s<e.length&&(i=n.entity(e[s]),!i.version);s++);for(s=0;s<e.length;s++)if(a=n.entity(e[s]),a.id!==i.id){for(o=n.parentWays(a),l=0;l<o.length;l++)n=n.replace(o[l].replaceNode(a.id,i.id));for(o=n.parentRelations(a),l=0;l<o.length;l++)n=n.replace(o[l].replaceMember(a,i));i=i.mergeTags(a.tags),n=yi(a.id)(n)}for(n=n.replace(i),o=n.parentWays(i),s=0;s<o.length;s++)o[s].isDegenerate()&&(n=vi(o[s].id)(n));return n};return t.disabled=function(r){var n={},i=[],a,o,s,l,u,c,d,p,m;for(d=0;d<e.length&&(a=r.entity(e[d]),!a.version);d++);var w=0;for(d=0;d<e.length;d++)for(o=r.entity(e[d]),l=r.parentRelations(o),o.tags&&o.tags["ref:linz:address_id"]&&w++,p=0;p<l.length;p++){if(u=l[p],c=u.memberById(o.id).role||"",u.hasFromViaTo()&&i.push(u.id),n[u.id]!==void 0&&n[u.id]!==c)return"relation";n[u.id]=c}if(w>1)return"relation";for(d=0;d<e.length;d++){o=r.entity(e[d]);var b=r.parentWays(o);for(p=0;p<b.length;p++){var h=b[p];for(l=r.parentRelations(h),m=0;m<l.length;m++)u=l[m],u.hasFromViaTo()&&i.push(u.id)}}for(i=Ve(i),d=0;d<i.length;d++)if(u=r.entity(i[d]),!!u.isComplete(r)){var g=u.members.filter(function(T){return T.type==="way"}).map(function(T){return r.entity(T.id)});g=Ve(g);var v=u.memberByRole("from"),x=u.memberByRole("to"),_=v.id===x.id,y={from:[],via:[],to:[],keyfrom:[],keyto:[]};for(p=0;p<u.members.length;p++)U(u.members[p],y);y.keyfrom=Ve(y.keyfrom.filter(B)),y.keyto=Ve(y.keyto.filter(B));var E=O(y.keyfrom,y.keyto);y.from=y.from.filter(E),y.via=y.via.filter(E),y.to=y.to.filter(E);var k=!1,A=!1,C=!1,D=!1,S=!1;for(p=0;p<e.length;p++){var N=e[p];y.from.indexOf(N)!==-1&&(k=!0),y.via.indexOf(N)!==-1&&(A=!0),y.to.indexOf(N)!==-1&&(C=!0),y.keyfrom.indexOf(N)!==-1&&(D=!0),y.keyto.indexOf(N)!==-1&&(S=!0)}if(k&&C&&!_||k&&A||C&&A)return"restriction";if(D||S){if(e.length!==2)return"restriction";var R=null,P=null;for(p=0;p<g.length;p++)s=g[p],s.contains(e[0])&&(R=e[0]),s.contains(e[1])&&(P=e[1]);if(R&&P){var L=!1;for(p=0;p<g.length;p++)if(s=g[p],s.areAdjacent(R,P)){L=!0;break}if(!L)return"restriction"}}for(p=0;p<g.length;p++){for(s=g[p].update({}),m=0;m<e.length;m++)e[m]!==a.id&&(s.areAdjacent(e[m],a.id)?s=s.removeNode(e[m]):s=s.replaceNode(e[m],a.id));if(s.isDegenerate())return"restriction"}}return!1;function B(T,M,I){return I.indexOf(T)!==I.lastIndexOf(T)}function O(T,M){return function(I){return T.indexOf(I)===-1&&M.indexOf(I)===-1}}function U(T,M){var I=r.hasEntity(T.id);if(!!I){var z=T.role||"";M[z]||(M[z]=[]),T.type==="node"?(M[z].push(T.id),z==="via"&&(M.keyfrom.push(T.id),M.keyto.push(T.id))):T.type==="way"&&(M[z].push.apply(M[z],I.nodes),(z==="from"||z==="via")&&(M.keyfrom.push(I.first()),M.keyfrom.push(I.last())),(z==="to"||z==="via")&&(M.keyto.push(I.first()),M.keyto.push(I.last())))}}},t}function xs(e,t){var r={},n=function(a){e.forEach(function(s){t.entity(s).copy(t,r)});for(var o in r)a=a.replace(r[o]);return a};return n.copies=function(){return r},n}function yo(e,t){return function(r){var n=r.entity(e).removeMember(t);return r=r.replace(n),n.isDegenerate()&&(r=Rr(n.id)(r)),r}}var fc={attribution:{"http://wiki.osm.org/wiki/Attribution#LINZ":"LINZ","http://wiki.openstreetmap.org/wiki/Attribution#LINZ":"LINZ","http://www.aucklandcouncil.govt.nz/EN/ratesbuildingproperty/propertyinformation/GIS_maps/Pages/opendata.aspx":"Auckland Council","https://koordinates.com/publisher/wcc/":"Wellington City Council","http://wiki.openstreetmap.org/wiki/Contributors#Statistics_New_Zealand":"Statistics NZ"},source_ref:{"http://www.linz.govt.nz/topography/topo-maps/":"LINZ","http://www.linz.govt.nz/topography/topo-maps/index.aspx":"LINZ","http://www.linz.govt.nz/about-linz/linz-data-service/dataset-information":"LINZ","http://www.stats.govt.nz/browse_for_stats/people_and_communities/Geographic-areas/digital-boundary-files.aspx":"Statistics NZ"}},JD={"linz2osm:objectid":!0,"LINZ2OSM:dataset":!0,"LINZ2OSM:source_version":!0,"LINZ2OSM:layer":!0,"LINZ:layer":!0,"LINZ:source_version":!0,"LINZ:dataset":!0,"linz:garmin_type":!0,"linz:garmin_road_class":!0,"linz:sufi":!0,"linz:RoadID":!0,seamark:!0};function Na(e,t){return t=t||{},Object.assign(t,JD),function(r){return e.modified().forEach(n),e.created().forEach(n),r;function n(i){for(var a=Object.keys(i.tags),o=!1,s=!1,l={},u=0;u<a.length;u++){var c=a[u],d=i.tags[c];t[c]||!i.tags[c]?o=!0:c in fc&&d in fc[c]?(o=!0,s=fc[c][d]):l[c]=i.tags[c]}s&&(l.source?l.source=$t(new Set([s].concat($t(l.source.split(";"))))).join(";"):l.source=s),o&&(r=r.replace(i.update({tags:l})))}}}function r0(e,t){var r,n=function i(a){var o=a.entity(e),s=i.connections(a);return s.forEach(function(l){var u=a.entity(l.wayID),c=ut({id:t,loc:o.loc,tags:o.tags});a=a.replace(c),l.index===0&&u.isArea()?a=a.replace(u.replaceNode(u.nodes[0],c.id)):u.isClosed()&&l.index===u.nodes.length-1?a=a.replace(u.unclose().addNode(c.id)):a=a.replace(u.updateNode(c.id,l.index))}),a};return n.connections=function(i){for(var a=[],o=!1,s=i.parentWays(i.entity(e)),l,u,c=0;c<s.length;c++){if(l=s[c],r&&r.indexOf(l.id)===-1){o=!0;continue}if(l.isArea()&&l.nodes[0]===e)a.push({wayID:l.id,index:0});else for(var d=0;d<l.nodes.length;d++)if(u=l.nodes[d],u===e){if(l.isClosed()&&s.length>1&&r&&r.indexOf(l.id)!==-1&&d===l.nodes.length-1)continue;a.push({wayID:l.id,index:d})}}if(o)return a;if(e[1]!=="-"&&a.length>1&&a[0].wayID[1]==="-"){for(var p=1;p<a.length;p++)if(a[p].wayID[1]!=="-")return a.splice(p,1),a}return a.slice(1)},n.disabled=function(i){var a=n.connections(i);if(a.length===0)return"not_connected";var o=i.parentWays(i.entity(e)),s={},l;if(o.forEach(function(u){var c=i.parentRelations(u);c.forEach(function(d){d.id in s?r?(r.indexOf(u.id)!==-1||r.indexOf(s[d.id])!==-1)&&(l=d):l=d:s[d.id]=u.id})}),l)return"relation"},n.limitWays=function(i){return arguments.length?(r=i,n):r},n}function _s(e,t){var r,n=function(s){var l=s.entity(e);return l.type==="node"?i(l,s):a(l,s)};function i(o,s){r=o.id;var l=ut({loc:o.loc});return s=s.replace(l),s=s.parentWays(o).reduce(function(u,c){return u.replace(c.replaceNode(e,l.id))},s),s.parentRelations(o).reduce(function(u,c){return u.replace(c.replaceMember(o,l))},s)}function a(o,s){var l=o.geometry(s),u=["source","wheelchair"],c=["area"],d=["architect","building","height","layer"],p=Dn(t).centroid(o.asGeoJSON(s));p=p&&t.invert(p),(!p||!isFinite(p[0])||!isFinite(p[1]))&&(p=o.extent(s).center());var m={area:!0,corridor:!0,elevator:!0,level:!0,room:!0},w=o.tags.building&&o.tags.building!=="no"||o.tags["building:part"]&&o.tags["building:part"]!=="no",b=l==="area"&&o.tags.indoor&&m[o.tags.indoor],h=Object.assign({},o.tags),g={};for(var v in h)o.type==="relation"&&v==="type"||c.indexOf(v)===-1&&(w&&(d.indexOf(v)!==-1||v.match(/^building:.{1,}/)||v.match(/^roof:.{1,}/))||b&&v==="indoor"||(g[v]=h[v],!(u.indexOf(v)!==-1||v.match(/^addr:.{1,}/))&&(b&&v==="level"||delete h[v])));!w&&!b&&l==="area"&&(h.area="yes");var x=ut({loc:p,tags:g});return s=s.replace(x),r=x.id,s.replace(o.update({tags:h}))}return n.getExtractedNodeID=function(){return r},n}function Eu(e){function t(n){var i=e.map(function(a){return n.entity(a)});return Object.assign({line:[]},ar(i,function(a){return a.geometry(n)}))}var r=function(i){var a=e.map(i.entity,i);a.sort(function(m,w){var b=m.isSided(),h=w.isSided();return b&&!h?-1:h&&!b?1:0});var o=(a.filter(function(m){return!m.isNew()}).sort(function(m,w){return+m.osmId()-+w.osmId()})[0]||a[0]).id,s=gn(a,i),l=s[0];i=s.actions.reduce(function(m,w){return w(m)},i);var u=i.entity(o);u=u.update({nodes:l.nodes.map(function(m){return m.id})}),i=i.replace(u),l.forEach(function(m){m.id!==o&&(i.parentRelations(m).forEach(function(w){i=i.replace(w.replaceMember(m,u))}),u=u.mergeTags(m.tags),i=i.replace(u),i=vi(m.id)(i))});var c=pe("rapid-internal-feature.tagnosticRoadCombine")==="true";if(c&&a.length&&a[0].tags.highway){var d=Object.assign({},u.tags);d.highway=a[0].tags.highway,u=u.update({tags:d}),i=i.replace(u)}function p(){if(!!u.isClosed()){var m=i.parentMultipolygons(u).filter(function(g){return g.members.length===1});if(m.length===1){var w=m[0];for(var b in u.tags)if(w.tags[b]&&w.tags[b]!==u.tags[b])return;u=u.mergeTags(w.tags),i=i.replace(u),i=Rr(w.id,!0)(i);var h=Object.assign({},u.tags);u.geometry(i)!=="area"&&(h.area="yes"),delete h.type,u=u.update({tags:h}),i=i.replace(u)}}}return p(),i};return r.resultingWayNodesLength=function(n){return e.reduce(function(i,a){return i+n.entity(a).nodes.length},0)-e.length-1},r.disabled=function(n){var i=t(n);if(e.length<2||e.length!==i.line.length)return"not_eligible";var a=gn(e.map(n.entity,n),n);if(a.length>1)return"not_adjacent";var o,s=function(_){return n.parentRelations(n.entity(_)).filter(function(y){return!y.isRestriction()&&!y.isConnectivity()}).sort(function(y,E){return y.id-E.id})},l=s(e[0]);for(o=1;o<e.length;o++){var u=s(e[o]);if(!Jr(l,u))return"conflicting_relations"}for(o=0;o<e.length-1;o++)for(var c=o+1;c<e.length;c++){var d=n.childNodes(n.entity(e[o])).map(function(x){return x.loc}),p=n.childNodes(n.entity(e[c])).map(function(x){return x.loc}),m=B2(d,p),w=Ar(a[0].nodes.map(function(x){return x.loc.toString()}),m.map(function(x){return x.toString()}));if(w.length!==m.length)return"paths_intersect"}var b=a[0].nodes.map(function(x){return x.id}).slice(1,-1),h,g={},v=!1;if(a[0].forEach(function(x){var _=n.parentRelations(x);_.forEach(function(k){(k.isRestriction()||k.isConnectivity())&&k.members.some(function(A){return b.indexOf(A.id)>=0})&&(h=k)});for(var y in x.tags)if(!(y in g))g[y]=x.tags[y];else if(g[y]&&_n(y)&&g[y]!==x.tags[y]){v=!0;var E=pe("rapid-internal-feature.tagnosticRoadCombine")==="true";y==="highway"&&E&&!window.mocha&&(v=!1)}}),h)return h.isRestriction()?"restriction":"connectivity";if(v)return"conflicting_tags"},r}function Au(e){function t(n){var i=e.map(function(a){return n.entity(a)});return Object.assign({point:[],area:[],line:[],relation:[]},ar(i,function(a){return a.geometry(n)}))}var r=function(i){var a=t(i),o=a.area[0]||a.line[0],s=a.point;if(s.forEach(function(u){o=o.mergeTags(u.tags),i=i.replace(o),i.parentRelations(u).forEach(function(w){i=i.replace(w.replaceMember(u,o))});for(var c=Ve(i.childNodes(o)),d=u,p=0;p<c.length;p++){var m=c[p];if(!(i.parentWays(m).length>1||i.parentRelations(m).length||m.hasInterestingTags())){i=i.replace(u.update({tags:{},loc:m.loc})),o=o.replaceNode(m.id,u.id),i=i.replace(o),d=m;break}}i=i.remove(d)}),o.tags.area==="yes"){var l=Object.assign({},o.tags);delete l.area,Za(l)&&(o=o.update({tags:l}),i=i.replace(o))}return i};return r.disabled=function(n){var i=t(n);if(i.point.length===0||i.area.length+i.line.length!==1||i.relation.length!==0)return"not_eligible"},r}function ti(e,t){function r(i){if(!e.length)return null;for(var a=[0,0],o=0,s,l=0;l<e.length;l++){var u=i.entity(e[l]);u.hasInterestingTags()&&(s=++o==1?u.loc:null),a=kr(a,u.loc)}return s||Ni(a,1/e.length)}var n=function(a){if(e.length<2)return a;var o=t;o||(o=r(a));for(var s=0;s<e.length;s++){var l=a.entity(e[s]);l.loc!==o&&(a=a.replace(l.move(o)))}return vo(e)(a)};return n.disabled=function(i){if(e.length<2)return"not_eligible";for(var a=0;a<e.length;a++){var o=i.entity(e[a]);if(o.type!=="node")return"not_eligible"}return vo(e).disabled(i)},n}function Nn(){if(this instanceof Nn)arguments.length&&this.initialize(arguments);else return new Nn().initialize(arguments)}Me.changeset=Nn;Nn.prototype=Object.create(Me.prototype);Object.assign(Nn.prototype,{type:"changeset",extent:function(){return new new Ne()},geometry:function(){return"changeset"},asJXON:function(){return{osm:{changeset:{tag:Object.keys(this.tags).map(function(t){return{"@k":t,"@v":this.tags[t]}},this),"@version":.6,"@generator":"iD"}}}},osmChangeJXON:function(t){var r=this.id;function n(o,s){for(var l={},u=0;u<o.length;u++){var c=Object.keys(o[u])[0];l[c]||(l[c]=[]),l[c].push(o[u][c])}var d={};return s.forEach(function(p){l[p]&&(d[p]=l[p])}),d}function i(o){function s(h){return d.find(function(g){return h.keyAttributes.type==="relation"&&h.keyAttributes.ref===g["@id"]})}function l(h){return!c[h["@id"]]&&!u.find(function(g){return g["@id"]===h["@id"]})}var u=[],c={},d=o.relation;if(!d)return o;for(var p=0;p<d.length;p++){var m=d[p];for(c[m["@id"]]||u.push(m);u.length>0;){var w=u[0],b=w.member.map(s).filter(Boolean).filter(l);b.length===0?(c[w["@id"]]=w,u.shift()):u=b.concat(u)}}return o.relation=Object.values(c),o}function a(o){return o.asJXON(r)}return{osmChange:{"@version":.6,"@generator":"iD",create:i(n(t.created.map(a),["node","way","relation"])),modify:n(t.modified.map(a),["node","way","relation"]),delete:Object.assign(n(t.deleted.map(a),["relation","way","node"]),{"@if-unused":!0})}}},asGeoJSON:function(){return{}}});function or(){if(this instanceof or)arguments.length&&this.initialize(arguments);else return new or().initialize(arguments)}or.id=function(){return or.id.next--};or.id.next=-1;Object.assign(or.prototype,{type:"note",initialize:function(t){for(var r=0;r<t.length;++r){var n=t[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(n[i]===void 0?delete this[i]:this[i]=n[i])}return this.id||(this.id=or.id().toString()),this},extent:function(){return new Ne(this.loc)},update:function(t){return or(this,t)},isNew:function(){return this.id<0},move:function(t){return this.update({loc:t})}});function br(){if(this instanceof br)arguments.length&&this.initialize(arguments);else return new br().initialize(arguments)}Me.relation=br;br.prototype=Object.create(Me.prototype);br.creationOrder=function(e,t){var r=parseInt(Me.id.toOSM(e.id),10),n=parseInt(Me.id.toOSM(t.id),10);return r<0||n<0?r-n:n-r};Object.assign(br.prototype,{type:"relation",members:[],copy:function(t,r){if(r[this.id])return r[this.id];var n=Me.prototype.copy.call(this,t,r),i=this.members.map(function(a){return Object.assign({},a,{id:t.entity(a.id).copy(t,r).id})});return n=n.update({members:i}),r[this.id]=n,n},extent:function(t,r){return t.transient(this,"extent",function(){if(r&&r[this.id])return new Ne;r=r||{},r[this.id]=!0;for(var n=new Ne,i=0;i<this.members.length;i++){var a=t.hasEntity(this.members[i].id);a&&(n=n.extend(a.extent(t,r)))}return n})},geometry:function(t){return t.transient(this,"geometry",function(){return this.isMultipolygon()?"area":"relation"})},isDegenerate:function(){return this.members.length===0},indexedMembers:function(){for(var t=new Array(this.members.length),r=0;r<this.members.length;r++)t[r]=Object.assign({},this.members[r],{index:r});return t},memberByRole:function(t){for(var r=0;r<this.members.length;r++)if(this.members[r].role===t)return Object.assign({},this.members[r],{index:r})},membersByRole:function(t){for(var r=[],n=0;n<this.members.length;n++)this.members[n].role===t&&r.push(Object.assign({},this.members[n],{index:n}));return r},memberById:function(t){for(var r=0;r<this.members.length;r++)if(this.members[r].id===t)return Object.assign({},this.members[r],{index:r})},memberByIdAndRole:function(t,r){for(var n=0;n<this.members.length;n++)if(this.members[n].id===t&&this.members[n].role===r)return Object.assign({},this.members[n],{index:n})},addMember:function(t,r){var n=this.members.slice();return n.splice(r===void 0?n.length:r,0,t),this.update({members:n})},updateMember:function(t,r){var n=this.members.slice();return n.splice(r,1,Object.assign({},n[r],t)),this.update({members:n})},removeMember:function(t){var r=this.members.slice();return r.splice(t,1),this.update({members:r})},removeMembersWithID:function(t){var r=this.members.filter(function(n){return n.id!==t});return this.update({members:r})},moveMember:function(t,r){var n=this.members.slice();return n.splice(r,0,n.splice(t,1)[0]),this.update({members:n})},replaceMember:function(t,r,n){if(!this.memberById(t.id))return this;for(var i=[],a=0;a<this.members.length;a++){var o=this.members[a];o.id!==t.id?i.push(o):(n||!this.memberByIdAndRole(r.id,o.role))&&i.push({id:r.id,type:r.type,role:o.role})}return this.update({members:i})},asJXON:function(t){var r={relation:{"@id":this.osmId(),"@version":this.version||0,member:this.members.map(function(n){return{keyAttributes:{type:n.type,role:n.role,ref:Me.id.toOSM(n.id)}}},this),tag:Object.keys(this.tags).map(function(n){return{keyAttributes:{k:n,v:this.tags[n]}}},this)}};return t&&(r.relation["@changeset"]=t),r},asGeoJSON:function(t){return t.transient(this,"GeoJSON",function(){return this.isMultipolygon()?{type:"MultiPolygon",coordinates:this.multipolygon(t)}:{type:"FeatureCollection",properties:this.tags,features:this.members.map(function(r){return Object.assign({role:r.role},t.entity(r.id).asGeoJSON(t))})}})},area:function(t){return t.transient(this,"area",function(){return Zi(this.asGeoJSON(t))})},isMultipolygon:function(){return this.tags.type==="multipolygon"},isComplete:function(t){for(var r=0;r<this.members.length;r++)if(!t.hasEntity(this.members[r].id))return!1;return!0},hasFromViaTo:function(){return this.members.some(function(t){return t.role==="from"})&&this.members.some(function(t){return t.role==="via"})&&this.members.some(function(t){return t.role==="to"})},isRestriction:function(){return!!(this.tags.type&&this.tags.type.match(/^restriction:?/))},isValidRestriction:function(){if(!this.isRestriction())return!1;var t=this.members.filter(function(i){return i.role==="from"}),r=this.members.filter(function(i){return i.role==="via"}),n=this.members.filter(function(i){return i.role==="to"});return!(t.length!==1&&this.tags.restriction!=="no_entry"||t.some(function(i){return i.type!=="way"})||n.length!==1&&this.tags.restriction!=="no_exit"||n.some(function(i){return i.type!=="way"})||r.length===0||r.length>1&&r.some(function(i){return i.type!=="way"}))},isConnectivity:function(){return!!(this.tags.type&&this.tags.type.match(/^connectivity:?/))},multipolygon:function(t){var r=this.members.filter(function(c){return(c.role||"outer")==="outer"}),n=this.members.filter(function(c){return c.role==="inner"});r=gn(r,t),n=gn(n,t);var i=function(d){return d.nodes.length>2&&d.nodes[0]!==d.nodes[d.nodes.length-1]&&d.nodes.push(d.nodes[0]),d.nodes.map(function(p){return p.loc})};r=r.map(i),n=n.map(i);var a=r.map(function(c){return[Zi({type:"Polygon",coordinates:[c]})>2*Math.PI?c.reverse():c]});function o(c){var d,p;for(d=0;d<r.length;d++)if(p=r[d],R2(p,c))return d;for(d=0;d<r.length;d++)if(p=r[d],ts(p,c,!1))return d}for(var s=0;s<n.length;s++){var l=n[s];Zi({type:"Polygon",coordinates:[l]})<2*Math.PI&&(l=l.reverse());var u=o(n[s]);u!==void 0?a[u].push(n[s]):a.push([n[s]])}return a}});var lr=function(){function e(t,r,n,i,a){kn(this,e),this.loc=t,this.service=r.title,this.itemType=n,this.id=i||"".concat(e.id()),this.update(a),r&&typeof r.getIcon=="function"&&(this.icon=r.getIcon(n))}return En(e,[{key:"update",value:function(r){var n=this,i=this.loc,a=this.service,o=this.itemType,s=this.id;return Object.keys(r).forEach(function(l){return n[l]=r[l]}),this.loc=i,this.service=a,this.itemType=o,this.id=s,this}}],[{key:"id",value:function(){return this.nextId--}}]),e}();lr.nextId=-1;function Oa(e,t){typeof e=="string"&&(e=[e]);var r,n="longest",i=[];function a(c,d,p){var m=c.entity(d).loc,w=c.entity(p).loc,b=1e-6;return m&&w?bt(m,w):b}function o(c,d,p){var m=new Array(c.length),w,b,h=0,g;function v(_){return vs(_,c.length)}for(w=0,b=v(d+1);b!==d;b=v(b+1))w+=a(p,c[b],c[v(b-1)]),m[b]=w;for(w=0,b=v(d-1);b!==d;b=v(b-1))w+=a(p,c[b],c[v(b+1)]),w<m[b]&&(m[b]=w);for(b=0;b<c.length;b++){var x=m[b]/a(p,c[d],c[b]);x>h&&(g=b,h=x)}return g}function s(c,d){for(var p=0,m=0;m<d.length-1;m++)p+=a(c,d[m],d[m+1]);return p}function l(c,d,p,m){var w=Pt({id:m,tags:p.tags}),b=p.nodes.slice(),h,g,v=p.isArea(),x=mo(p,c);if(p.isClosed()){var _=p.nodes.slice(0,-1),y=_.indexOf(d),E=o(_,y,c);E<y?(h=_.slice(y).concat(_.slice(0,E+1)),g=_.slice(E,y+1)):(h=_.slice(y,E+1),g=_.slice(E).concat(_.slice(0,y+1)))}else{var k=p.nodes.indexOf(d,1);h=p.nodes.slice(0,k+1),g=p.nodes.slice(k)}var A=s(c,h),C=s(c,g);if(n==="longest"&&C>A){p=p.update({nodes:g}),w=w.update({nodes:h});var D=A;A=C,C=D}else p=p.update({nodes:h}),w=w.update({nodes:g});if(p.tags.step_count){var S=parseFloat(p.tags.step_count);if(S&&isFinite(S)&&S>0&&Math.round(S)===S){var N=Object.assign({},p.tags),R=Object.assign({},w.tags),P=A/(A+C),L=Math.round(S*P);N.step_count=L.toString(),R.step_count=(S-L).toString(),p=p.update({tags:N}),w=w.update({tags:R})}}if(c=c.replace(p),c=c.replace(w),c.parentRelations(p).forEach(function(O){var U;if(O.hasFromViaTo()){var T=O.memberByRole("from"),M=O.membersByRole("via"),I=O.memberByRole("to"),z;if(T.id===p.id||I.id===p.id){var q=!1;if(M.length===1&&M[0].type==="node")q=w.contains(M[0].id);else for(z=0;z<M.length;z++)if(M[z].type==="way"){var V=c.hasEntity(M[z].id);if(V&&Ar(w.nodes,V.nodes).length){q=!0;break}}q&&(O=O.replaceMember(p,w),c=c.replace(O))}else for(z=0;z<M.length;z++)if(M[z].type==="way"&&M[z].id===p.id){U={id:w.id,type:"way",role:"via"},c=n1(O.id,U,M[z].index+1)(c);break}}else{O===x&&(c=c.replace(O.mergeTags(p.tags)),c=c.replace(p.update({tags:{}})),c=c.replace(w.update({tags:{}}))),U={id:w.id,type:"way",role:O.memberById(p.id).role};var Y={originalID:p.id,insertedID:w.id,nodes:b};c=n1(O.id,U,void 0,Y)(c)}}),!x&&v){var B=br({tags:Object.assign({},p.tags,{type:"multipolygon"}),members:[{id:p.id,role:"outer",type:"way"},{id:w.id,role:"outer",type:"way"}]});c=c.replace(B),c=c.replace(p.update({tags:{}})),c=c.replace(w.update({tags:{}}))}return i.push(w.id),c}var u=function c(d){i=[];for(var p=0,m=0;m<e.length;m++)for(var w=e[m],b=c.waysForNode(w,d),h=0;h<b.length;h++)d=l(d,w,b[h],t&&t[p]),p+=1;return d};return u.getCreatedWayIDs=function(){return i},u.waysForNode=function(c,d){var p=d.entity(c),m=d.parentWays(p).filter(b);if(!r){var w=m.some(function(h){return h.geometry(d)==="line"});if(w)return m.filter(function(h){return h.geometry(d)==="line"})}return m;function b(h){if(r&&r.indexOf(h.id)===-1)return!1;if(h.isClosed())return!0;for(var g=1;g<h.nodes.length-1;g++)if(h.nodes[g]===c)return!0;return!1}},u.ways=function(c){return Ve([].concat.apply([],e.map(function(d){return u.waysForNode(d,c)})))},u.disabled=function(c){for(var d=0;d<e.length;d++){var p=e[d],m=u.waysForNode(p,c);if(m.length===0||r&&r.length!==m.length)return"not_eligible"}},u.limitWays=function(c){return arguments.length?(r=c,u):r},u.keepHistoryOn=function(c){return arguments.length?(n=c,u):n},u}function dr(e,t){if(!(this instanceof dr))return new dr(e,t);if(e instanceof dr){var r=e.base();this.entities=Object.assign(Object.create(r.entities),e.entities),this._parentWays=Object.assign(Object.create(r.parentWays),e._parentWays),this._parentRels=Object.assign(Object.create(r.parentRels),e._parentRels)}else this.entities=Object.create({}),this._parentWays=Object.create({}),this._parentRels=Object.create({}),this.rebase(e||[],[this]);this.transients={},this._childNodes={},this.frozen=!t}dr.prototype={hasEntity:function(t){return this.entities[t]},entity:function(t){var r=this.entities[t];if(r||(r=this.entities.__proto__[t]),!r)throw new Error("entity "+t+" not found");return r},geometry:function(t){return this.entity(t).geometry(this)},transient:function(t,r,n){var i=t.id,a=this.transients[i]||(this.transients[i]={});return a[r]!==void 0||(a[r]=n.call(t)),a[r]},parentWays:function(t){var r=this._parentWays[t.id],n=[];return r&&r.forEach(function(i){n.push(this.entity(i))},this),n},isPoi:function(t){var r=this._parentWays[t.id];return!r||r.size===0},isShared:function(t){var r=this._parentWays[t.id];return r&&r.size>1},parentRelations:function(t){var r=this._parentRels[t.id],n=[];return r&&r.forEach(function(i){n.push(this.entity(i))},this),n},parentMultipolygons:function(t){return this.parentRelations(t).filter(function(r){return r.isMultipolygon()})},childNodes:function(t){if(this._childNodes[t.id])return this._childNodes[t.id];if(!t.nodes)return[];for(var r=[],n=0;n<t.nodes.length;n++)r[n]=this.entity(t.nodes[n]);return Wl&&Object.freeze(r),this._childNodes[t.id]=r,this._childNodes[t.id]},base:function(){return{entities:Object.getPrototypeOf(this.entities),parentWays:Object.getPrototypeOf(this._parentWays),parentRels:Object.getPrototypeOf(this._parentRels)}},rebase:function(t,r,n){var i=this.base(),a,o,s,l;for(a=0;a<t.length;a++){var u=t[a];if(!(!u.visible||!n&&i.entities[u.id])&&(i.entities[u.id]=u,this._updateCalculated(void 0,u,i.parentWays,i.parentRels),u.type==="way"))for(o=0;o<u.nodes.length;o++)for(l=u.nodes[o],s=1;s<r.length;s++){var c=r[s].entities;c.hasOwnProperty(l)&&c[l]===void 0&&delete c[l]}}for(a=0;a<r.length;a++)r[a]._updateRebased()},_updateRebased:function(){var t=this.base();Object.keys(this._parentWays).forEach(function(r){t.parentWays[r]&&t.parentWays[r].forEach(function(n){this.entities.hasOwnProperty(n)||this._parentWays[r].add(n)},this)},this),Object.keys(this._parentRels).forEach(function(r){t.parentRels[r]&&t.parentRels[r].forEach(function(n){this.entities.hasOwnProperty(n)||this._parentRels[r].add(n)},this)},this),this.transients={}},_updateCalculated:function(t,r,n,i){n=n||this._parentWays,i=i||this._parentRels;var a=r&&r.type||t&&t.type,o,s,l;if(a==="way"){for(t&&r?(o=vr(t.nodes,r.nodes),s=vr(r.nodes,t.nodes)):t?(o=t.nodes,s=[]):r&&(o=[],s=r.nodes),l=0;l<o.length;l++)n[o[l]]=new Set(n[o[l]]),n[o[l]].delete(t.id);for(l=0;l<s.length;l++)n[s[l]]=new Set(n[s[l]]),n[s[l]].add(r.id)}else if(a==="relation"){var u=t?t.members.map(function(d){return d.id}):[],c=r?r.members.map(function(d){return d.id}):[];for(t&&r?(o=vr(u,c),s=vr(c,u)):t?(o=u,s=[]):r&&(o=[],s=c),l=0;l<o.length;l++)i[o[l]]=new Set(i[o[l]]),i[o[l]].delete(t.id);for(l=0;l<s.length;l++)i[s[l]]=new Set(i[s[l]]),i[s[l]].add(r.id)}},replace:function(t){return this.entities[t.id]===t?this:this.update(function(){this._updateCalculated(this.entities[t.id],t),this.entities[t.id]=t})},remove:function(t){return this.update(function(){this._updateCalculated(t,void 0),this.entities[t.id]=void 0})},revert:function(t){var r=this.base().entities[t],n=this.entities[t];return n===r?this:this.update(function(){this._updateCalculated(n,r),delete this.entities[t]})},update:function(){for(var t=this.frozen?dr(this,!0):this,r=0;r<arguments.length;r++)arguments[r].call(t,t);return this.frozen&&(t.frozen=!0),t},load:function(t){var r=this.base();this.entities=Object.create(r.entities);for(var n in t)this.entities[n]=t[n],this._updateCalculated(r.entities[n],this.entities[n]);return this}};function bo(e){if(!(this instanceof bo))return new bo(e);Object.assign(this,e)}function Cu(e,t,r){r=r||30;var n=dr(),i,a,o;function s(z){return e.parentRelations(z).some(function(q){return q.isRestriction()})}function l(z){if(z.isArea()||z.isDegenerate())return!1;var q={motorway:!0,motorway_link:!0,trunk:!0,trunk_link:!0,primary:!0,primary_link:!0,secondary:!0,secondary_link:!0,tertiary:!0,tertiary_link:!0,residential:!0,unclassified:!0,living_street:!0,service:!0,road:!0,track:!0};return q[z.tags.highway]}for(var u=e.entity(t),c=[u],d,p=[],m=[],w,b=[],h=[],g,v=[],x,_=[],y,E=[];c.length;){w=c.pop(),d=e.parentWays(w);var k=!1;for(i=0;i<d.length;i++)if(g=d[i],!(!l(g)&&!s(g))){for(b.push(g),k=!0,v=Ve(e.childNodes(g)),a=0;a<v.length;a++)if(x=v[a],x!==w&&p.indexOf(x)===-1&&!(bt(x.loc,u.loc)>r)){var A=!1;for(_=e.parentWays(x),o=0;o<_.length;o++)if(y=_[o],y!==g&&b.indexOf(y)===-1&&!!l(y)){A=!0;break}A&&c.push(x)}}k&&p.push(w)}p=Ve(p),b=Ve(b),b.forEach(function(z){e.childNodes(z).forEach(function(q){n=n.replace(q)}),n=n.replace(z),e.parentRelations(z).forEach(function(q){q.isRestriction()&&(q.isValidRestriction(e)?n=n.replace(q):q.isComplete(e)&&E.push(Rr(q.id)))})}),b.forEach(function(z){var q=n.entity(z.id);if(q.tags.oneway==="-1"){var V=ui(q.id,{reverseOneway:!0});E.push(V),n=V(n)}});var C=Me.id.next.way;p.forEach(function(z){var q=Oa([z.id]).keepHistoryOn("first");q.disabled(n)||q.ways(n).forEach(function(V){var Y=Oa([z.id]).limitWays([V.id]).keepHistoryOn("first");E.push(Y),n=Y(n)})}),Me.id.next.way=C,m=p.map(function(z){return z.id}),p=[],b=[],m.forEach(function(z){var q=n.entity(z),V=n.parentWays(q);p.push(q),b=b.concat(V)}),p=Ve(p),b=Ve(b),m=p.map(function(z){return z.id}),h=b.map(function(z){return z.id});function D(z,q){var V=z.isOneWay(),Y=q.indexOf(z.first())!==-1,ee=q.indexOf(z.last())!==-1,ie=Y&&ee,se=Y&&!V||ee,ve=Y||ee&&!V;return z.update({__first:Y,__last:ee,__from:se,__via:ie,__to:ve,__oneWay:V})}b=[],h.forEach(function(z){var q=D(n.entity(z),m);n=n.replace(q),b.push(q)});var S,N=[],R=[];do for(S=!1,c=m.slice(),i=0;i<c.length;i++){var P=c[i];if(w=n.hasEntity(P),!w){m.indexOf(P)!==-1&&m.splice(m.indexOf(P),1),R.push(P);continue}if(_=n.parentWays(w),_.length<3&&m.indexOf(P)!==-1&&m.splice(m.indexOf(P),1),_.length===2){var L=_[0],B=_[1],O=L&&!L.__via,U=B&&!B.__via,T,M;O&&!U?(T=L,M=B):!O&&U&&(T=B,M=L),T&&M&&(M=D(M,m),n=n.replace(M).remove(T),N.push(T.id),S=!0)}_=n.parentWays(w),_.length<2&&(m.indexOf(P)!==-1&&m.splice(m.indexOf(P),1),R.push(P),S=!0),_.length<1&&(n=n.remove(w))}while(S);p=p.filter(function(z){return R.indexOf(z.id)===-1}).map(function(z){return n.entity(z.id)}),b=b.filter(function(z){return N.indexOf(z.id)===-1}).map(function(z){return n.entity(z.id)});var I={graph:n,actions:E,vertices:p,ways:b};return I.turns=function(z,q){if(!z)return[];q||(q=0);var V=I.graph,Y=I.vertices.map(function(re){return re.id}),ee=V.entity(z);if(!ee||!(ee.__from||ee.__via))return[];var ie=q*2+3,se=[];return ve(ee),se;function ve(re,Ae,ae,he){if(Ae=(Ae||[]).slice(),!(Ae.length>=ie)){Ae.push(re.id),ae=(ae||[]).slice();var Ce,Te;if(re.type==="node"){var $=V.parentWays(re),W=[];for(Ce=0;Ce<$.length;Ce++){var Q=$[Ce];if(!(Q.__oneWay&&Q.nodes[0]!==re.id)&&!(Ae.indexOf(Q.id)!==-1&&Ae.length>=3)){var H=null;for(Te=0;Te<ae.length;Te++){var K=ae[Te],Z=K.memberByRole("from"),te=K.membersByRole("via"),fe=K.memberByRole("to"),de=/^only_/.test(K.tags.restriction),xe=Z.id===z,Oe=!1,Be=!1;if(fe.id===Q.id)if(te.length===1&&te[0].type==="node")Oe=te[0].id===re.id&&(xe&&Ae.length===2||!xe&&Ae.length>2);else{var Ge=[];for(o=2;o<Ae.length;o+=2)Ge.push(Ae[o]);var nt=[];for(o=0;o<te.length;o++)te[o].type==="way"&&nt.push(te[o].id);var Ye=vr(Ge,nt);Oe=!Ye.length}else if(de){for(o=0;o<te.length;o++)if(te[o].type==="way"&&te[o].id===Q.id){Be=!0;break}}if(Oe?de?H={id:K.id,direct:xe,from:Z.id,only:!0,end:!0}:H={id:K.id,direct:xe,from:Z.id,no:!0,end:!0}:Be?H={id:K.id,direct:!1,from:Z.id,only:!0,end:!1}:de&&(H={id:K.id,direct:!1,from:Z.id,no:!0,end:!0}),H&&H.direct)break}W.push({way:Q,restrict:H})}}W.forEach(function(sr){ve(sr.way,Ae,ae,sr.restrict)})}else{if(Ae.length>=3){var We=Ae.slice();if(he&&he.direct===!1){for(Ce=0;Ce<We.length;Ce++)if(We[Ce]===he.from){We=We.slice(Ce);break}}var Ke=le(We);if(Ke&&(he&&(Ke.restrictionID=he.id,Ke.no=he.no,Ke.only=he.only,Ke.direct=he.direct),se.push(bo(Ke))),Ae[0]===Ae[2])return}if(he&&he.end)return;var ft=V.entity(re.first()),wt=V.entity(re.last()),yt=bt(ft.loc,wt.loc),Tt=[];if(Ae.length>1&&(yt>r||!re.__via))return;!re.__oneWay&&Y.indexOf(ft.id)!==-1&&Ae.indexOf(ft.id)===-1&&Tt.push(ft),Y.indexOf(wt.id)!==-1&&Ae.indexOf(wt.id)===-1&&Tt.push(wt),Tt.forEach(function(sr){var Vt=V.parentRelations(re).filter(function(ir){if(!ir.isRestriction())return!1;var Ht=ir.memberByRole("from");if(!Ht||Ht.id!==re.id)return!1;var Er=/^only_/.test(ir.tags.restriction);if(!Er)return!0;var Hr=!1,Kt=ir.membersByRole("via");if(Kt.length===1&&Kt[0].type==="node")Hr=Kt[0].id===sr.id;else for(var Ze=0;Ze<Kt.length;Ze++)if(Kt[Ze].type==="way"){var Wr=V.entity(Kt[Ze].id);if(Wr.first()===sr.id||Wr.last()===sr.id){Hr=!0;break}}return Hr});ve(sr,Ae,ae.concat(Vt),!1)})}}}function le(re){if(re.length<3)return;var Ae,ae,he,Ce,Te,$,W,Q,H;if(Ae=re[0],Ce=re[re.length-1],re.length===3&&Ae===Ce){var K=V.entity(Ae);if(K.__oneWay)return null;H=!0,Q=he=$=re[1],ae=Te=Z(Ae,Q)}else H=!1,he=re[1],ae=Z(Ae,he),$=re[re.length-2],Te=Z(Ce,$),re.length===3?Q=re[1]:(W=re.filter(function(te){return te[0]==="w"}),W=W.slice(1,W.length-1));return{key:re.join("_"),path:re,from:{node:ae,way:Ae,vertex:he},via:{node:Q,ways:W},to:{node:Te,way:Ce,vertex:$},u:H};function Z(te,fe){var de=V.entity(te).nodes;return fe===de[0]?de[1]:de[de.length-2]}}},I}function ks(e,t,r){for(var n=e.entity(t.from.way),i=e.entity(t.from.node),a=e.entity(t.from.vertex),o=e.entity(t.to.way),s=e.entity(t.to.node),l=e.entity(t.to.vertex),u=n.tags.oneway==="yes",c=o.tags.oneway==="yes",d=(pr(r(a.loc),r(i.loc))-pr(r(l.loc),r(s.loc)))*(180/Math.PI);d<0;)d+=360;return i===s||(d<23||d>336)&&u&&c||(d<40||d>319)&&u&&c&&t.from.vertex!==t.to.vertex?"no_u_turn":d<158?"no_right_turn":d>202?"no_left_turn":"no_straight_on"}function Du(e,t){function r(i){var a=e.map(function(s){return i.entity(s)}),o=ar(a,function(s){return s.type==="way"&&s.isClosed()?"closedWay":s.type==="relation"&&s.isMultipolygon()?"multipolygon":"other"});return Object.assign({closedWay:[],multipolygon:[],other:[]},o)}var n=function(a){for(var o=r(a),s=o.multipolygon.reduce(function(b,h){return b.concat(gn(h.members,a))},[]).concat(o.closedWay.map(function(b){var h=[{id:b.id}];return h.nodes=a.childNodes(b),h})),l=s.map(function(b,h){return s.map(function(g,v){return h===v?null:R2(g.nodes.map(function(x){return x.loc}),b.nodes.map(function(x){return x.loc}))})}),u=[],c=!0;s.length;)m(s),s=s.filter(d),l=l.filter(d).map(p);function d(b,h){return l[h].some(function(g){return g})}function p(b){return b.filter(d)}function m(b){b.forEach(function(h,g){d(h,g)||h.forEach(function(v){u.push({type:"way",id:v.id,role:c?"outer":"inner"})})}),c=!c}var w=o.multipolygon[0]||br({id:t,tags:{type:"multipolygon"}});return o.multipolygon.slice(1).forEach(function(b){w=w.mergeTags(b.tags),a=a.remove(b)}),o.closedWay.forEach(function(b){function h(g){return g.id===b.id&&g.role!=="inner"}u.some(h)&&(w=w.mergeTags(b.tags),a=a.replace(b.update({tags:{}})))}),a.replace(w.update({members:u,tags:Ln(w.tags,["area"])}))};return n.disabled=function(i){var a=r(i);if(a.other.length>0||a.closedWay.length+a.multipolygon.length<2)return"not_eligible";if(!a.multipolygon.every(function(s){return s.isComplete(i)}))return"incomplete_relation";if(a.multipolygon.length){if(a.closedWay.some(function(s){return Ar(i.parentMultipolygons(s),a.multipolygon).length}))return"not_eligible"}else{var o=[];if(a.closedWay.forEach(function(s,l){l===0?o=i.parentMultipolygons(s):o=Ar(o,i.parentMultipolygons(s))}),o=o.filter(function(s){return s.members.length===a.closedWay.length}),o.length)return"not_eligible"}},n}var Es=Xe(bi());function eS(e,t){for(var r={},n=0;n<t.length;n++){var i=t[n];r[i]?r[i].push(n):r[i]=[n]}for(var a={buffer1index:-1,buffer2index:-1,chain:null},o=[a],s=0;s<e.length;s++){for(var l=e[s],u=r[l]||[],c=0,d=o[0],p=0;p<u.length;p++){var m=u[p],w=void 0;for(w=c;w<o.length&&!(o[w].buffer2index<m&&(w===o.length-1||o[w+1].buffer2index>m));w++);if(w<o.length){var b={buffer1index:s,buffer2index:m,chain:o[w]};if(c===o.length?o.push(d):o[c]=d,c=w+1,d=b,c===o.length)break}}o[c]=d}return o[o.length-1]}function Pg(e,t){for(var r=eS(e,t),n=[],i=e.length,a=t.length,o=r;o!==null;o=o.chain){var s=i-o.buffer1index-1,l=a-o.buffer2index-1;i=o.buffer1index,a=o.buffer2index,(s||l)&&n.push({buffer1:[i+1,s],buffer1Content:e.slice(i+1,i+1+s),buffer2:[a+1,l],buffer2Content:t.slice(a+1,a+1+l)})}return n.reverse(),n}function tS(e,t,r){var n=[];function i(D,S){n.push({ab:S,oStart:D.buffer1[0],oLength:D.buffer1[1],abStart:D.buffer2[0],abLength:D.buffer2[1]})}Pg(t,e).forEach(function(D){return i(D,"a")}),Pg(t,r).forEach(function(D){return i(D,"b")}),n.sort(function(D,S){return D.oStart-S.oStart});var a=[],o=0;function s(D){D>o&&(a.push({stable:!0,buffer:"o",bufferStart:o,bufferLength:D-o,bufferContent:t.slice(o,D)}),o=D)}for(;n.length;){var l=n.shift(),u=l.oStart,c=l.oStart+l.oLength,d=[l];for(s(u);n.length;){var p=n[0],m=p.oStart;if(m>c)break;c=Math.max(c,m+p.oLength),d.push(n.shift())}if(d.length===1){if(l.abLength>0){var w=l.ab==="a"?e:r;a.push({stable:!0,buffer:l.ab,bufferStart:l.abStart,bufferLength:l.abLength,bufferContent:w.slice(l.abStart,l.abStart+l.abLength)})}}else{for(var b={a:[e.length,-1,t.length,-1],b:[r.length,-1,t.length,-1]};d.length;){l=d.shift();var h=l.oStart,g=h+l.oLength,v=l.abStart,x=v+l.abLength,_=b[l.ab];_[0]=Math.min(v,_[0]),_[1]=Math.max(x,_[1]),_[2]=Math.min(h,_[2]),_[3]=Math.max(g,_[3])}var y=b.a[0]+(u-b.a[2]),E=b.a[1]+(c-b.a[3]),k=b.b[0]+(u-b.b[2]),A=b.b[1]+(c-b.b[3]),C={stable:!1,aStart:y,aLength:E-y,aContent:e.slice(y,E),oStart:u,oLength:c-u,oContent:t.slice(u,c),bStart:k,bLength:A-k,bContent:r.slice(k,A)};a.push(C)}o=c}return s(t.length),a}function Bg(e,t,r,n){var i={excludeFalseConflicts:!0,stringSeparator:/\s+/};n=Object.assign(i,n),typeof e=="string"&&(e=e.split(n.stringSeparator)),typeof t=="string"&&(t=t.split(n.stringSeparator)),typeof r=="string"&&(r=r.split(n.stringSeparator));var a=[],o=tS(e,t,r),s=[];function l(){s.length&&a.push({ok:s}),s=[]}function u(c,d){if(c.length!==d.length)return!1;for(var p=0;p<c.length;p++)if(c[p]!==d[p])return!1;return!0}return o.forEach(function(c){if(c.stable){var d;(d=s).push.apply(d,$t(c.bufferContent))}else if(n.excludeFalseConflicts&&u(c.aContent,c.bContent)){var p;(p=s).push.apply(p,$t(c.aContent))}else l(),a.push({conflict:{a:c.aContent,aIndex:c.aStart,o:c.oContent,oIndex:c.oStart,b:c.bContent,bIndex:c.bStart}})}),l(),a}function As(e,t,r,n,i){n=n||{};var a="safe",o=[];function s(b){return typeof i=="function"?i(b):b}function l(b,h){function g(v,x){var _=1e-6;return Math.abs(v[0]-x[0])<_&&Math.abs(v[1]-x[1])<_}return a==="force_local"||g(h.loc,b.loc)?h:a==="force_remote"?h.update({loc:b.loc}):(o.push(F("merge_remote_changes.conflict.location",{user:s(b.user)})),h)}function u(b,h,g){if(a==="force_local"||(0,Es.default)(g.nodes,h.nodes))return g;if(a==="force_remote")return g.update({nodes:h.nodes});for(var v=o.length,x=b.nodes||[],_=g.nodes||[],y=h.nodes||[],E=[],k=Bg(_,x,y,{excludeFalseConflicts:!0}),A=0;A<k.length;A++){var C=k[A];if(C.ok)E.push.apply(E,C.ok);else{var D=C.conflict;if((0,Es.default)(D.o,D.a))E.push.apply(E,D.b);else if((0,Es.default)(D.o,D.b))E.push.apply(E,D.a);else{o.push(F("merge_remote_changes.conflict.nodelist",{user:s(h.user)}));break}}}return o.length===v?g.update({nodes:E}):g}function c(b,h,g,v){function x(S,N){var R=v.parentWays(S).some(function(P){return P.id!==N.id});return S.hasInterestingTags()||R||v.parentRelations(S).length>0}for(var _=o.length,y=0;y<h.length;y++){var E=h[y],k=v.hasEntity(E);if(b.nodes.indexOf(E)===-1){k&&!x(k,b)&&g.removeIds.push(E);continue}var A=t.hasEntity(E),C=r.hasEntity(E),D;if(a==="force_remote"&&C&&C.visible)g.replacements.push(C);else if(a==="force_local"&&A)D=Me(A),C&&(D=D.update({version:C.version})),g.replacements.push(D);else if(a==="safe"&&A&&C&&A.version!==C.version){if(D=Me(A,{version:C.version}),C.visible?D=l(C,D):o.push(F("merge_remote_changes.conflict.deleted",{user:s(C.user)})),o.length!==_)break;g.replacements.push(D)}}return b}function d(b,h){for(var g=0;g<b.replacements.length;g++)h=h.replace(b.replacements[g]);return b.removeIds.length&&(h=Ia(b.removeIds)(h)),h}function p(b,h){return a==="force_local"||(0,Es.default)(h.members,b.members)?h:a==="force_remote"?h.update({members:b.members}):(o.push(F("merge_remote_changes.conflict.memberlist",{user:s(b.user)})),h)}function m(b,h,g){if(a==="force_local"||(0,Es.default)(g.tags,h.tags))return g;if(a==="force_remote")return g.update({tags:h.tags});for(var v=o.length,x=b.tags||{},_=g.tags||{},y=h.tags||{},E=Yt(Yt(Object.keys(x),Object.keys(_)),Object.keys(y)).filter(function(S){return!n[S]}),k=Object.assign({},_),A=!1,C=0;C<E.length;C++){var D=E[C];x[D]!==y[D]&&_[D]!==y[D]&&(x[D]!==_[D]?o.push(F("merge_remote_changes.conflict.tags",{tag:D,local:_[D],remote:y[D],user:s(h.user)})):(y.hasOwnProperty(D)?k[D]=y[D]:delete k[D],A=!0))}return A&&o.length===v?g.update({tags:k}):g}var w=function(h){var g={replacements:[],removeIds:[]},v=h.base().entities[e],x=t.entity(e),_=r.entity(e),y=Me(x,{version:_.version});return _.visible?(y.type==="node"?y=l(_,y):y.type==="way"?(h.rebase(r.childNodes(_),[h],!1),y=u(v,_,y),y=c(y,Yt(x.nodes,_.nodes),g,h)):y.type==="relation"&&(y=p(_,y)),y=m(v,_,y),o.length||(h=d(g,h).replace(y)),h):a==="force_remote"?Ia([e])(h):a==="force_local"?(y.type==="way"&&(y=c(y,Ve(x.nodes),g,h),h=d(g,h)),h.replace(y)):(o.push(F("merge_remote_changes.conflict.deleted",{user:s(_.user)})),h)};return w.withOption=function(b){return a=b,w},w.conflicts=function(){return o},w}function Zr(e,t,r,n){for(var i=it,a=e.map(function(g){return r(g.loc)}),o=e.map(function(g){return g.id}),s=1/0,l,u,c=0;c<a.length-1;c++)if(!(o[c]===n||o[c+1]===n)){var d=a[c],p=Lt(a[c+1],d),m=Lt(t,d),w=di(m,p)/di(p,p),b;w<0?b=d:w>1?b=a[c+1]:b=[d[0]+w*p[0],d[1]+w*p[1]];var h=i(b,t);h<s&&(s=h,l=c+1,u=r.invert(b))}return l!==void 0?{index:l,distance:s,loc:u}:null}function Su(e,t,r){var n=[],i=[],a,o,s,l,u;for(a=0;a<e.length-1;a++)s=e[a],l=e[a+1],u=[s.loc,l.loc],(s.id===r||l.id===r)&&n.push(u);for(a=0;a<t.length-1;a++)s=t[a],l=t[a+1],u=[s.loc,l.loc],i.push(u);for(a=0;a<n.length;a++)for(o=0;o<i.length;o++){var c=n[a],d=i[o],p=Oi(c,d);if(p)return!0}return!1}function wi(e,t){var r=[],n=[],i,a;for(i=0;i<e.length-1;i++){var o=e[i],s=e[i+1],l=[o.loc,s.loc];o.id===t||s.id===t?r.push(l):n.push(l)}for(i=0;i<r.length;i++)for(a=0;a<n.length;a++){var u=r[i],c=n[a];if(!(Kr(u[1],c[0])||Kr(u[0],c[1])||Kr(u[0],c[0])||Kr(u[1],c[1]))){var d=Oi(u,c);if(d){var p=1e-8;if(Kr(u[1],d,p)||Kr(u[0],d,p)||Kr(c[1],d,p)||Kr(c[0],d,p))continue;return!0}}}return!1}function xi(){var e=Ji,t=512/Math.PI,r=0,n=0,i=[[0,0],[0,0]];function a(o){return o=e(o[0]*Math.PI/180,o[1]*Math.PI/180),[o[0]*t+r,n-o[1]*t]}return a.invert=function(o){return o=e.invert((o[0]-r)/t,(n-o[1])/t),o&&[o[0]*180/Math.PI,o[1]*180/Math.PI]},a.scale=function(o){return arguments.length?(t=+o,a):t},a.translate=function(o){return arguments.length?(r=+o[0],n=+o[1],a):[r,n]},a.clipExtent=function(o){return arguments.length?(i=o,a):i},a.transform=function(o){return arguments.length?(r=+o.x,n=+o.y,t=+o.k,a):Ir.translate(r,n).scale(t)},a.stream=hl({point:function(s,l){var u=a([s,l]);this.stream.point(u[0],u[1])}}).stream,a}function i1(e,t,r){return Kr(r,e)||Kr(r,t)?1:P2(e,t,r)}function Rg(e,t,r,n,i){var a=Math.abs(e);return a<t||i&&Math.abs(a-1)<t?0:a<r||a>n?e:null}function Fu(e,t,r,n){for(var i=0,a=t?0:1,o=t?e.length:e.length-1,s=e.map(function(b){return b.coord}),l=Math.cos((90-n)*Math.PI/180),u=Math.cos(n*Math.PI/180),c=a;c<o;c++){var d=s[(c-1+s.length)%s.length],p=s[c],m=s[(c+1)%s.length],w=Rg(i1(d,m,p),r,l,u);w!==null&&(i=i+2*Math.min(Math.abs(w-1),Math.min(Math.abs(w),Math.abs(w+1))))}return i}function Lg(e,t,r){for(var n=-1/0,i=t?0:1,a=t?e.length:e.length-1,o=i;o<a;o++){var s=e[(o-1+e.length)%e.length],l=e[o],u=e[(o+1)%e.length],c=i1(s,u,l),d=Math.acos(Math.abs(c))*180/Math.PI;d>45&&(d=90-d),!(d>=r)&&d>n&&(n=d)}return n===-1/0?null:n}function Cs(e,t,r,n,i){for(var a=null,o=t?0:1,s=t?e.length:e.length-1,l=Math.cos((90-n)*Math.PI/180),u=Math.cos(n*Math.PI/180),c=o;c<s;c++){var d=e[(c-1+e.length)%e.length],p=e[c],m=e[(c+1)%e.length],w=Rg(i1(d,m,p),r,l,u,i);if(w!==null){if(Math.abs(w)>0)return 1;a=0}}return a}function oa(e,t,r,n){var i=t;function a(p){function m(h){if(e.indexOf(h)!==-1)return!0;var g=p.parentWays(p.entity(h));if(g.length<3)return!0;var v=g.every(function(x){return n.moving[x.id]});return v||delete n.moving[h],v}function w(h){for(var g=0;g<h.length;g++){var v=h[g];if(!n.moving[v]){n.moving[v]=!0;var x=p.hasEntity(v);!x||(x.type==="node"?(n.nodes.push(v),n.startLoc[v]=x.loc):x.type==="way"?(n.ways.push(v),w(x.nodes)):w(x.members.map(function(_){return _.id})))}}}function b(h){function g(N,R){return!N.isClosed()&&!!N.affix(R)}for(var v=0;v<h.length;v++)for(var x=h[v],_=p.childNodes(p.entity(x)),y=0;y<_.length;y++){var E=_[y],k=p.parentWays(E);if(k.length===2){for(var A=p.entity(x),C=null,D=0;D<k.length;D++){var S=k[D];if(!n.moving[S.id]){C=S;break}}!C||Ar(A.nodes,C.nodes).length>2||A.isArea()||C.isArea()||n.intersections.push({nodeId:E.id,movedId:A.id,unmovedId:C.id,movedIsEP:g(A,E.id),unmovedIsEP:g(C,E.id)})}}}n||(n={}),n.ok||(n.moving={},n.intersections=[],n.replacedVertex={},n.startLoc={},n.nodes=[],n.ways=[],w(e),b(n.ways),n.nodes=n.nodes.filter(m),n.ok=!0)}function o(p,m,w,b){var h=w.entity(m),g=w.entity(p),v=h.nodes.indexOf(p),x,_,y;h.isClosed()?(x=h.nodes.length-1,_=(v+x-1)%x,y=(v+x+1)%x):(x=h.nodes.length,_=v-1,y=v+1);var E=w.hasEntity(h.nodes[_]),k=w.hasEntity(h.nodes[y]);if(!E||!k)return w;var A=m+"_"+p,C=n.replacedVertex[A];C||(C=ut(),n.replacedVertex[A]=C,n.startLoc[C.id]=n.startLoc[p]);var D,S;b?(D=r(n.startLoc[p]),S=r.invert(kr(D,b))):S=n.startLoc[p],C=C.move(S);var N=r(C.loc),R=r(E.loc),P=r(k.loc),L=Math.abs(pr(N,R)-pr(N,P))*(180/Math.PI);if(L>175&&L<185)return w;var B=[E.loc,C.loc,g.loc,k.loc].map(r),O=[E.loc,g.loc,C.loc,k.loc].map(r),U=Ko(B),T=Ko(O),M=U<=T?v:y;return h.isClosed()&&M===0&&(M=x),h=h.addNode(C.id,M),w.replace(C).replace(h)}function s(p,m){var w=m.entity(p),b=1e-6,h,g;function v(_,y){return y.parentWays(_).length>1||y.parentRelations(_).length||_.hasInterestingTags()}for(var x=0;x<w.nodes.length;x++)g=m.entity(w.nodes[x]),h&&g&&Kr(h.loc,g.loc,b)&&(v(h,m)?v(g,m)||(w=w.removeNode(g.id),m=m.replace(w).remove(g)):(w=w.removeNode(h.id),m=m.replace(w).remove(h))),h=g;return m}function l(p,m){var w=m.entity(p.nodeId),b=m.entity(p.movedId),h=m.entity(p.unmovedId),g=p.movedIsEP,v=p.unmovedIsEP;if(g&&v)return m;var x=m.childNodes(b).filter(function(S){return S!==w}),_=m.childNodes(h).filter(function(S){return S!==w});b.isClosed()&&b.first()===w.id&&x.push(x[0]),h.isClosed()&&h.first()===w.id&&_.push(_[0]);var y=!g&&Zr(x,r(w.loc),r),E=!v&&Zr(_,r(w.loc),r),k;if(!g&&!v)for(var A=1e-6,C=10,D=0;D<C&&(k=jt(y.loc,E.loc,.5),y=Zr(x,r(k),r),E=Zr(_,r(k),r),!(Math.abs(y.distance-E.distance)<A));D++);else g?k=E.loc:k=y.loc;return m=m.replace(w.move(k)),!g&&y.index!==b.nodes.indexOf(w.id)&&(b=b.removeNode(w.id).addNode(w.id,y.index),m=m.replace(b)),!v&&E.index!==h.nodes.indexOf(w.id)&&(h=h.removeNode(w.id).addNode(w.id,E.index),m=m.replace(h)),m}function u(p){for(var m=0;m<n.intersections.length;m++){var w=n.intersections[m];p=o(w.nodeId,w.movedId,p,i),p=o(w.nodeId,w.unmovedId,p,null),p=l(w,p),p=s(w.movedId,p),p=s(w.unmovedId,p)}return p}function c(p){function m(D){return kr(r(D),i)}for(var w=0;w<n.intersections.length;w++){var b=n.intersections[w];if(!(b.movedIsEP&&b.unmovedIsEP)&&!!b.movedIsEP){for(var h=p.entity(b.nodeId),g=r(h.loc),v=kr(g,i),x=p.childNodes(p.entity(b.movedId)),_=x.map(function(D){return m(D.loc)}),y=p.childNodes(p.entity(b.unmovedId)),E=y.map(function(D){return r(D.loc)}),k=B2(_,E),A=0;w<k.length;w++)if(!Kr(k[A],v)){var C=Zr(y,v,r);i=Lt(r(C.loc),g)}}}}var d=function(m){if(i[0]===0&&i[1]===0)return m;a(m),n.intersections.length&&c(m);for(var w=0;w<n.nodes.length;w++){var b=m.entity(n.nodes[w]),h=r(b.loc),g=kr(h,i);m=m.replace(b.move(r.invert(g)))}return n.intersections.length&&(m=u(m)),m};return d.delta=function(){return i},d}function Tu(e,t,r){return function(n){return n.replace(n.entity(e).moveMember(t,r))}}function wo(e,t){var r=function(i,a){(a===null||!isFinite(a))&&(a=1),a=Math.min(Math.max(+a,0),1);var o=i.entity(e);return i.replace(o.move(jt(o.loc,t,a)))};return r.transitionable=!0,r}function Fr(){return function(e){return e}}function xo(e,t,r,n,i){var a=i||1e-4,o=n||13,s=Math.cos((90-o)*Math.PI/180),l=Math.cos(o*Math.PI/180),u=function(p,m){(m===null||!isFinite(m))&&(m=1),m=Math.min(Math.max(+m,0),1);var w=p.entity(e);if(w=w.removeNode(""),w.tags.nonsquare){var b=Object.assign({},w.tags);delete b.nonsquare,w=w.update({tags:b})}p=p.replace(w);var h=w.isClosed(),g=p.childNodes(w).slice();if(h&&g.pop(),r!==void 0&&(g=c(g,r,h),g.length!==3))return p;var v={},x=[],_={i:0,dotp:1},y,E,k,A,C,D,S;for(D=0;D<g.length;D++)y=g[D],v[y.id]=(v[y.id]||0)+1,x.push({id:y.id,coord:t(y.loc)});if(x.length===3){for(D=0;D<1e3&&(C=x.map(q),x[_.i].coord=kr(x[_.i].coord,C[_.i]),A=_.dotp,!(A<a));D++);y=p.entity(g[_.i].id),k=t.invert(x[_.i].coord),p=p.replace(y.move(jt(y.loc,k,m)))}else{var N=[],R=[];for(D=0;D<x.length;D++){E=x[D];var P=0;if(h||D>0&&D<x.length-1){var L=x[(D-1+x.length)%x.length],B=x[(D+1)%x.length];P=Math.abs(i1(L.coord,B.coord,E.coord))}P>l?N.push(E):R.push(E)}var O=z(R),U=z(R);for(A=1/0,D=0;D<1e3;D++){for(C=R.map(q),S=0;S<C.length;S++)R[S].coord=kr(R[S].coord,C[S]);var T=Fu(R,h,a,o);if(T<A&&(O=z(R),A=T),A<a)break}var M=O.map(function(V){return V.coord});for(h&&M.push(M[0]),D=0;D<O.length;D++)E=O[D],Kr(U[D].coord,E.coord)||(y=p.entity(E.id),k=t.invert(E.coord),p=p.replace(y.move(jt(y.loc,k,m))));for(D=0;D<N.length;D++)if(E=N[D],!(v[E.id]>1))if(y=p.entity(E.id),m===1&&p.parentWays(y).length===1&&p.parentRelations(y).length===0&&!y.hasInterestingTags())p=yi(y.id)(p);else{var I=wp(E.coord,M);I&&(k=t.invert(I.target),p=p.replace(y.move(jt(y.loc,k,m))))}}return p;function z(V){return V.map(function(Y){return{id:Y.id,coord:[Y.coord[0],Y.coord[1]]}})}function q(V,Y,ee){if(!h&&(Y===0||Y===ee.length-1))return[0,0];if(v[ee[Y].id]>1)return[0,0];var ie=ee[(Y-1+ee.length)%ee.length].coord,se=V.coord,ve=ee[(Y+1)%ee.length].coord,le=Lt(ie,se),re=Lt(ve,se),Ae=2*Math.min(it(le),it(re));le=$1(le),re=$1(re);var ae=le[0]*re[0]+le[1]*re[1],he=Math.abs(ae);if(he<s){_.i=Y,_.dotp=he;var Ce=$1(kr(le,re));return Ni(Ce,.1*ae*Ae)}return[0,0]}};function c(d,p,m){for(var w=m?0:1,b=m?d.length:d.length-1,h=w;h<b;h++)if(d[h].id===p)return[d[(h-1+d.length)%d.length],d[h],d[(h+1)%d.length]];return[]}return u.disabled=function(d){var p=d.entity(e);p=p.removeNode(""),d=d.replace(p);var m=p.isClosed(),w=d.childNodes(p).slice();m&&w.pop();var b=!1;if(r!==void 0&&(b=!0,w=c(w,r,m),w.length!==3))return"end_vertex";var h=w.map(function(v){return t(v.loc)}),g=Cs(h,m,a,o,b);return g===null?"not_squarish":g===0?"square_enough":!1},u.transitionable=!0,u}function Ds(e,t,r){return function(n){var i=n.entity(e.from.way),a=n.entity(e.to.way),o=e.via.node&&n.entity(e.via.node),s=e.via.ways&&e.via.ways.map(function(u){return n.entity(u)}),l=[];return l.push({id:i.id,type:"way",role:"from"}),o?l.push({id:o.id,type:"node",role:"via"}):s&&s.forEach(function(u){l.push({id:u.id,type:"way",role:"via"})}),l.push({id:a.id,type:"way",role:"to"}),n.replace(br({id:r,tags:{type:"restriction",restriction:t},members:l}))}}function n0(e){var t=function(n){var i=n.hasEntity(e),a=n.base().entities[e];return i&&!a&&(i.type==="node"&&n.parentWays(i).forEach(function(o){o=o.removeNode(e),n=n.replace(o),o.isDegenerate()&&(n=vi(o.id)(n))}),n.parentRelations(i).forEach(function(o){o=o.removeMembersWithID(e),n=n.replace(o),o.isDegenerate()&&(n=Rr(o.id)(n))})),n.revert(e)};return t}function Mu(e,t,r,n){var i=function(o){return o.update(function(s){Xt(e,s).forEach(function(l){var u=es([n(l.loc)],r,t)[0];s=s.replace(l.move(n.invert(u)))})})};return i}function Iu(e,t,r,n){return function(i){return i.update(function(a){var o,s;Xt(e,a).forEach(function(l){o=n(l.loc),s=[o[0]-t[0],o[1]-t[1]],o=[t[0]+r*s[0],t[1]+r*s[1]],a=a.replace(l.move(n.invert(o)))})})}}function Nu(e,t){function r(a,o,s){return di(a,s,o)/di(s,s,o)}function n(a){var o=L2(a),s=[(o.poly[0][0]+o.poly[1][0])/2,(o.poly[0][1]+o.poly[1][1])/2],l=[(o.poly[2][0]+o.poly[3][0])/2,(o.poly[2][1]+o.poly[3][1])/2],u=[(o.poly[3][0]+o.poly[4][0])/2,(o.poly[3][1]+o.poly[4][1])/2],c=[(o.poly[1][0]+o.poly[2][0])/2,(o.poly[1][1]+o.poly[2][1])/2],d=it(s,l)>it(u,c);return d?[s,l]:[u,c]}var i=function(o,s){(s===null||!isFinite(s))&&(s=1),s=Math.min(Math.max(+s,0),1);for(var l=e.map(function(x){return o.entity(x)}),u=l.map(function(x){return t(x.loc)}),c=n(u),d=c[0],p=c[1],m=0;m<u.length;m++){var w=l[m],b=u[m],h=r(b,d,p),g=jt(d,p,h),v=t.invert(g);o=o.replace(w.move(jt(w.loc,v,s)))}return o};return i.disabled=function(a){for(var o=e.map(function(g){return a.entity(g)}),s=o.map(function(g){return t(g.loc)}),l=n(s),u=l[0],c=l[1],d=0,p=0;p<s.length;p++){var m=s[p],w=r(m,u,c),b=jt(u,c,w),h=it(b,m);!isNaN(h)&&h>d&&(d=h)}if(d<1e-4)return"straight_enough"},i.transitionable=!0,i}function Ou(e,t){function r(o,s,l){return di(o,l,s)/di(l,l,s)}function n(o){for(var s=[],l=[],u=[],c=[],d=e.filter(function(y){return o.entity(y).type==="way"}),p=e.filter(function(y){return o.entity(y).type==="node"}),m=0;m<d.length;m++){var w=o.entity(d[m]);s=w.nodes.slice(0),c.push(s),l.push(s[0]),u.push(s[s.length-1])}l=l.filter(function(y){return l.indexOf(y)===l.lastIndexOf(y)}),u=u.filter(function(y){return u.indexOf(y)===u.lastIndexOf(y)});var b=vr(l,u).concat(vr(u,l))[0],h=[];s=[];for(var g=function(E,k){return k.filter(function(A){return A[0]===E||A[A.length-1]===E})[0]};c.length;)h=g(b,c),c=vr(c,[h]),h[0]!==b&&h.reverse(),s=s.concat(h),b=s[s.length-1];if(p.length===2){var v=s.indexOf(p[0]),x=s.indexOf(p[1]),_=[v,x];_.sort(function(y,E){return y-E}),s=s.slice(_[0],_[1]+1)}return s.map(function(y){return o.entity(y)})}function i(o,s){return s.parentWays(o).length>1||s.parentRelations(o).length||o.hasInterestingTags()}var a=function(s,l){(l===null||!isFinite(l))&&(l=1),l=Math.min(Math.max(+l,0),1);var u=n(s),c=u.map(function(_){return t(_.loc)}),d=c[0],p=c[c.length-1],m=[],w;for(w=1;w<c.length-1;w++){var b=u[w],h=c[w];if(l<1||i(b,s)){var g=r(h,d,p),v=jt(d,p,g),x=t.invert(v);s=s.replace(b.move(jt(b.loc,x,l)))}else m.indexOf(b)===-1&&m.push(b)}for(w=0;w<m.length;w++)s=yi(m[w].id)(s);return s};return a.disabled=function(o){var s=n(o),l=s.map(function(x){return t(x.loc)}),u=l[0],c=l[l.length-1],d=.2*it(u,c),p;if(d===0)return"too_bendy";var m=0;for(p=1;p<l.length-1;p++){var w=l[p],b=r(w,u,c),h=jt(u,c,b),g=it(h,w);if(isNaN(g)||g>d)return"too_bendy";g>m&&(m=g)}var v=s.every(function(x,_){return _===0||_===s.length-1||i(x,o)});if(m<1e-4&&v)return"straight_enough"},a.transitionable=!0,a}function i0(e){return function(t){return Rr(e.restrictionID)(t)}}function Pu(e,t){var r=!0,n=function(a,o){(o===null||!isFinite(o))&&(o=1),o=Math.min(Math.max(+o,0),1);var s=Xt(e,a),l=s.map(function(D){return t(D.loc)}),u=L2(l),c=[(u.poly[0][0]+u.poly[1][0])/2,(u.poly[0][1]+u.poly[1][1])/2],d=[(u.poly[2][0]+u.poly[3][0])/2,(u.poly[2][1]+u.poly[3][1])/2],p=[(u.poly[3][0]+u.poly[4][0])/2,(u.poly[3][1]+u.poly[4][1])/2],m=[(u.poly[1][0]+u.poly[2][0])/2,(u.poly[1][1]+u.poly[2][1])/2],w,b,h=it(c,d)>it(p,m);r&&h||!r&&!h?(w=c,b=d):(w=p,b=m);for(var g=b[0]-w[0],v=b[1]-w[1],x=(g*g-v*v)/(g*g+v*v),_=2*g*v/(g*g+v*v),y=0;y<s.length;y++){var E=s[y],k=t(E.loc),A=[x*(k[0]-w[0])+_*(k[1]-w[1])+w[0],_*(k[0]-w[0])-x*(k[1]-w[1])+w[1]],C=t.invert(A);E=E.move(jt(E.loc,C,o)),a=a.replace(E)}return a};return n.useLongAxis=function(i){return arguments.length?(r=i,n):r},n.transitionable=!0,n}function Bu(e,t,r){return function(n){var i=n.entity(e),a=Object.assign({},i.tags),o,s;for(var l in t)if(l in a)if(t[l]==="*")o=a[l],delete a[l];else if(t[l]===a[l])delete a[l];else{var u=a[l].split(";").filter(Boolean),c=u.indexOf(t[l]);u.length===1||c===-1?delete a[l]:(r&&r[l]&&(s=c),u.splice(c,1),a[l]=u.join(";"))}if(r)for(var d in r){var p=r[d];if(p==="*"){if(a[d]&&a[d]!=="no")continue;a[d]="yes"}else if(p==="$1")a[d]=o;else if(a[d]&&t[d]&&s!==void 0){var m=a[d].split(";").filter(Boolean);m.indexOf(p)===-1&&(m.splice(s,0,p),a[d]=m.join(";"))}else a[d]=p}return n.replace(i.update({tags:a}))}}function rS(e,t,r,n,i){var a=Math.abs(n.loc[0]-i.loc[0])>Math.abs(n.loc[1]-i.loc[1]),o=a?function(h,g){return n.loc[0]<i.loc[0]?h.loc[0]-g.loc[0]:g.loc[0]-h.loc[0]}:function(h,g){return n.loc[1]<i.loc[1]?h.loc[1]-g.loc[1]:g.loc[1]-h.loc[1]},s=r.nodes,l=s.indexOf(n.id),u=s.indexOf(i.id);if(l===-1||u===-1||l>=u||o(n,i)>=0)return null;for(var c=l+1;c<u&&o(t,e.entity(s[c]))>0;)c++;var d=e.entity(s[c-1]).loc,p=e.entity(s[c]).loc,m=t.loc,w=Math.abs(d[0]-p[0])>Math.abs(d[1]-p[1])?(m[0]-d[0])/(p[0]-d[0]):(m[1]-d[1])/(p[1]-d[1]),b=jt(d,p,w);return{insertIdx:c,interpLoc:b}}function dc(e,t){return Math.abs(e[0]-t[0])>2e-5||Math.abs(e[1]-t[1])>2e-5}function Ru(e){delete e.__fbid__,delete e.__origid__,delete e.__service__,delete e.__datasetid__,delete e.tags.conn,delete e.tags.dupe}function Lu(e,t){return function(r){var n={},i=t.entity(e);return i.type==="node"?a(i):i.type==="way"?o(i):i.type==="relation"&&s(i),r;function a(l){var u=ut(l);return u.tags=Object.assign({},u.tags),Ru(u),r=r.replace(u),u}function o(l){var u=Pt(l);u.nodes=l.nodes.slice(),u.tags=Object.assign({},u.tags),Ru(u);var c=u.nodes.map(function(d){var p=ut(t.entity(d));p.tags=Object.assign({},p.tags);var m=p.tags.conn&&p.tags.conn.split(","),w=p.tags.dupe;if(Ru(p),w&&r.hasEntity(w)&&!dc(r.entity(w).loc,p.loc)?p=r.entity(w):r.hasEntity(p.id)&&dc(r.entity(p.id).loc,p.loc)&&(p=ut({loc:p.loc})),m&&r.hasEntity(m[0])){var b=r.entities[m[0]],h=r.entities[m[1]],g=r.entities[m[2]];if(b&&h&&g){var v=rS(r,p,b,h,g);v&&!dc(v.interpLoc,p.loc)&&(p.loc=v.interpLoc,r=r.replace(b.addNode(p.id,v.insertIdx)))}}return r=r.replace(p),p.id});return u=u.update({nodes:c}),r=r.replace(u),u}function s(l){var u=n[l.id];if(u)return u;var c=br(l);c.members=l.members.slice(),c.tags=Object.assign({},l.tags),Ru(c);var d=c.members.map(function(p){var m=t.entity(p.id),w;return m.type==="node"?w=a(m):m.type==="way"?w=o(m):m.type==="relation"&&(w=s(m)),Object.assign(p,{id:w.id})});return c=c.update({members:d}),r=r.replace(c),n[l.id]=c,c}}}function _i(e){function t(){e.map().minzoom(e.minEditableZoom())}return t.off=function(){e.map().minzoom(0)},t}pt();function rn(e){var t=be("hover"),r=G(null),n=null,i=null,a,o,s=[],l="PointerEvent"in window?"pointer":"mouse";function u(p){a&&p.keyCode===Re.modifierCodes.alt&&(r.selectAll(".hover").classed("hover-suppressed",!0).classed("hover",!1),r.classed("hover-disabled",!0),t.call("hover",this,null))}function c(p){a&&p.keyCode===Re.modifierCodes.alt&&(r.selectAll(".hover-suppressed").classed("hover-suppressed",!1).classed("hover",!0),r.classed("hover-disabled",!1),t.call("hover",this,s))}function d(p){r=p,s=[],i?(n=i,i=null):n=null,r.on(l+"over.hover",w).on(l+"out.hover",b).on(l+"down.hover",w),G(window).on(l+"up.hover pointercancel.hover",b,!0).on("keydown.hover",u).on("keyup.hover",c);function m(x){var _=x.target&&x.target.__data__;return Se(_)!=="object"?null:!(_ instanceof Me)&&_.properties&&_.properties.entity instanceof Me?_.properties.entity:_}function w(x){if(!(e.mode().id.indexOf("drag")===-1&&(!x.pointerType||x.pointerType==="mouse")&&x.buttons)){var _=m(x);_&&s.indexOf(_)===-1&&(s.push(_),v(x,s))}}function b(x){var _=m(x),y=s.indexOf(_);y!==-1&&(s.splice(y),v(x,s))}function h(x){return x.geometry(e.graph())==="vertex"||Ie.allowsVertex(x,e.graph())}function g(x){var _=e.mode();return _.id==="add-point"?_.preset.matchGeometry("vertex")||x.type!=="way"&&x.geometry(e.graph())!=="vertex":!0}function v(x,_){r.selectAll(".hover").classed("hover",!1),r.selectAll(".hover-suppressed").classed("hover-suppressed",!1);var y=e.mode();if(!n&&(y.id==="draw-line"||y.id==="draw-area")){var E=_.find(function(N){return N instanceof Me&&N.type==="node"});n=E&&E.id}_=_.filter(function(N){return N instanceof Me?N.id!==n&&(N.type!=="node"||!o||h(N))&&g(N):!0});var k="";for(var A in _){var C=_[A];if(C.__fbid__)k+=", .data"+window.toBase64(C.__fbid__).replace(/\=/g,"");else if(C.__featurehash__)k+=", .data"+window.toBase64(C.__featurehash__).replace(/\=/g,"");else if(C instanceof lr)k+=", ."+C.service+".itemId-"+C.id;else if(C instanceof or)k+=", .note-"+C.id;else if(C instanceof Me&&(k+=", ."+C.id,C.type==="relation"))for(var D in C.members)k+=", ."+C.members[D].id}var S=a&&x&&x.altKey;k.trim().length&&(k=k.slice(1),r.selectAll(k).classed(S?"hover-suppressed":"hover",!0)),t.call("hover",this,!S&&_)}}return d.off=function(p){p.selectAll(".hover").classed("hover",!1),p.selectAll(".hover-suppressed").classed("hover-suppressed",!1),p.classed("hover-disabled",!1),p.on(l+"over.hover",null).on(l+"out.hover",null).on(l+"down.hover",null),G(window).on(l+"up.hover pointercancel.hover",null,!0).on("keydown.hover",null).on("keyup.hover",null)},d.altDisables=function(p){return arguments.length?(a=p,d):a},d.ignoreVertex=function(p){return arguments.length?(o=p,d):o},d.initialNodeID=function(p){return i=p,d},ke(d,t,"on")}var a0=!1,pc=null;function sa(e){var t=be("move","down","downcancel","click","clickWay","clickNode","undo","cancel","finish"),r=Re("draw"),n=rn(e).altDisables(!0).ignoreVertex(!0).on("hover",e.ui().sidebar.hover),i=_i(e),a=4,o=12,s=!1,l=null,u,c,d="PointerEvent"in window?"pointer":"mouse";function p(D){var S=e.mode(),N=S&&S.id.indexOf("note")!==-1;if(D.altKey||N)return{};var R;D.type==="keydown"?R=l&&l.target:R=D.target;var P=R.__data__;return P&&P.properties&&P.properties.target?P:{}}function m(D){if(!c){var S=Dr(this);c={id:D.pointerId||"mouse",pointerLocGetter:S,downTime:+new Date,downLoc:S(D)},t.call("down",this,D,p(D))}}function w(D){if(!(!c||c.id!==(D.pointerId||"mouse"))){var S=c;if(c=null,u=D,!S.isCancelled){var N=+new Date,R=S.pointerLocGetter(D),P=it(S.downLoc,R);(P<a||P<o&&N-S.downTime<500)&&(G(window).on("click.draw-block",function(){D.stopPropagation()},!0),e.map().dblclickZoomEnable(!1),window.setTimeout(function(){e.map().dblclickZoomEnable(!0),G(window).on("click.draw-block",null)},500),_(D,R))}}}function b(D){if(c&&c.id===(D.pointerId||"mouse")&&!c.isCancelled){var S=c.pointerLocGetter(D),N=it(c.downLoc,S);N>=a&&(c.isCancelled=!0,t.call("downcancel",this))}D.pointerType&&D.pointerType!=="mouse"||D.buttons||c||u&&u.pointerType!=="mouse"&&D.timeStamp-u.timeStamp<100||(l=D,t.call("move",this,D,p(D)))}function h(D){c&&c.id===(D.pointerId||"mouse")&&(c.isCancelled||t.call("downcancel",this),c=null)}function g(){s=!1}function v(){s=!0}function x(D){return D.geometry(e.graph())==="vertex"||Ie.allowsVertex(D,e.graph())}function _(D,S){var N=p(D),R=N&&N.properties&&N.properties.entity,P=e.mode();if(R&&R.type==="node"&&x(R)){t.call("clickNode",this,R,N);return}else if(R&&R.type==="way"&&(P.id!=="add-point"||P.preset.matchGeometry("vertex"))){var L=Zr(e.graph().childNodes(R),S,e.projection,e.activeID());if(L){var B=[R.nodes[L.index-1],R.nodes[L.index]];t.call("clickWay",this,L.loc,B,N);return}}else if(P.id!=="add-point"||P.preset.matchGeometry("point")){var O=e.projection.invert(S);t.call("click",this,O,N)}}function y(D){D.preventDefault(),D.stopPropagation();var S=e.map().mouse();if(a0&&pc){var N=it(pc,S);N>o&&(a0=!1)}if(!(a0||s||!l)){pc=S,a0=!0,G(window).on("keyup.space-block",function(){D.preventDefault(),D.stopPropagation(),a0=!1,G(window).on("keyup.space-block",null)});var R=e.map().mouse()||e.projection(e.map().center());_(D,R)}}function E(D){D.preventDefault(),t.call("undo")}function k(D){D.preventDefault(),t.call("cancel")}function A(D){D.preventDefault(),t.call("finish")}function C(D){return e.install(n),e.install(i),c=null,r.on("\u232B",E).on("\u2326",k).on("\u238B",A).on("\u21A9",A).on("space",y).on("\u2325space",y),D.on("mouseenter.draw",g).on("mouseleave.draw",v).on(d+"down.draw",m).on(d+"move.draw",b),G(window).on(d+"up.draw",w,!0).on("pointercancel.draw",h,!0),G(document).call(r),C}return C.off=function(D){e.ui().sidebar.hover.cancel(),e.uninstall(n),e.uninstall(i),D.on("mouseenter.draw",null).on("mouseleave.draw",null).on(d+"down.draw",null).on(d+"move.draw",null),G(window).on(d+"up.draw",null).on("pointercancel.draw",null),G(document).call(r.unbind)},C.hover=function(){return n},ke(C,t,"on")}var Yg=Xe(bi());function ju(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function mc(e){return function(){return e}}function hc(e){return+e}var jg=[0,1];function Ss(e){return e}function gc(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:mc(isNaN(t)?NaN:.5)}function nS(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function iS(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=gc(i,n),a=r(o,a)):(n=gc(n,i),a=r(a,o)),function(s){return a(n(s))}}function aS(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=gc(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(s){var l=J4(e,s,1,n)-1;return a[l](i[l](s))}}function zg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function oS(){var e=jg,t=jg,r=mi,n,i,a,o=Ss,s,l,u;function c(){var p=Math.min(e.length,t.length);return o!==Ss&&(o=nS(e[0],e[p-1])),s=p>2?aS:iS,l=u=null,d}function d(p){return p==null||isNaN(p=+p)?a:(l||(l=s(e.map(n),t,r)))(n(o(p)))}return d.invert=function(p){return o(i((u||(u=s(t,e.map(n),mr)))(p)))},d.domain=function(p){return arguments.length?(e=Array.from(p,hc),c()):e.slice()},d.range=function(p){return arguments.length?(t=Array.from(p),c()):t.slice()},d.rangeRound=function(p){return t=Array.from(p),r=v9,c()},d.clamp=function(p){return arguments.length?(o=p?!0:Ss,c()):o!==Ss},d.interpolate=function(p){return arguments.length?(r=p,c()):r},d.unknown=function(p){return arguments.length?(a=p,d):a},function(p,m){return n=p,i=m,c()}}function vc(){return oS()(Ss,Ss)}function Ug(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function a1(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function la(e){return e=a1(Math.abs(e)),e?e[1]:NaN}function qg(e,t){return function(r,n){for(var i=r.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function Qg(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var sS=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _o(e){if(!(t=sS.exec(e)))throw new Error("invalid format: "+e);var t;return new zu({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}_o.prototype=zu.prototype;function zu(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}zu.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Gg(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var yc;function Hg(e,t){var r=a1(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(yc=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+a1(e,Math.max(0,t+a-1))[0]}function bc(e,t){var r=a1(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}var wc={"%":function(t,r){return(t*100).toFixed(r)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:Ug,e:function(t,r){return t.toExponential(r)},f:function(t,r){return t.toFixed(r)},g:function(t,r){return t.toPrecision(r)},o:function(t){return Math.round(t).toString(8)},p:function(t,r){return bc(t*100,r)},r:bc,s:Hg,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function xc(e){return e}var Wg=Array.prototype.map,Vg=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Kg(e){var t=e.grouping===void 0||e.thousands===void 0?xc:qg(Wg.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?xc:Qg(Wg.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"\u2212":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(d){d=_o(d);var p=d.fill,m=d.align,w=d.sign,b=d.symbol,h=d.zero,g=d.width,v=d.comma,x=d.precision,_=d.trim,y=d.type;y==="n"?(v=!0,y="g"):wc[y]||(x===void 0&&(x=12),_=!0,y="g"),(h||p==="0"&&m==="=")&&(h=!0,p="0",m="=");var E=b==="$"?r:b==="#"&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",k=b==="$"?n:/[%p]/.test(y)?o:"",A=wc[y],C=/[defgprs%]/.test(y);x=x===void 0?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function D(S){var N=E,R=k,P,L,B;if(y==="c")R=A(S)+R,S="";else{S=+S;var O=S<0||1/S<0;if(S=isNaN(S)?l:A(Math.abs(S),x),_&&(S=Gg(S)),O&&+S==0&&w!=="+"&&(O=!1),N=(O?w==="("?w:s:w==="-"||w==="("?"":w)+N,R=(y==="s"?Vg[8+yc/3]:"")+R+(O&&w==="("?")":""),C){for(P=-1,L=S.length;++P<L;)if(B=S.charCodeAt(P),48>B||B>57){R=(B===46?i+S.slice(P+1):S.slice(P))+R,S=S.slice(0,P);break}}}v&&!h&&(S=t(S,1/0));var U=N.length+S.length+R.length,T=U<g?new Array(g-U+1).join(p):"";switch(v&&h&&(S=t(T+S,T.length?g-R.length:1/0),T=""),m){case"<":S=N+S+R+T;break;case"=":S=N+T+S+R;break;case"^":S=T.slice(0,U=T.length>>1)+N+S+R+T.slice(U);break;default:S=T+N+S+R;break}return a(S)}return D.toString=function(){return d+""},D}function c(d,p){var m=u((d=_o(d),d.type="f",d)),w=Math.max(-8,Math.min(8,Math.floor(la(p)/3)))*3,b=Math.pow(10,-w),h=Vg[8+w/3];return function(g){return m(b*g)+h}}return{format:u,formatPrefix:c}}var Uu,qu,Qu;_c({thousands:",",grouping:[3],currency:["$",""]});function _c(e){return Uu=Kg(e),qu=Uu.format,Qu=Uu.formatPrefix,Uu}function kc(e){return Math.max(0,-la(Math.abs(e)))}function Ec(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(la(t)/3)))*3-la(Math.abs(e)))}function Ac(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,la(t)-la(e))+1}function Cc(e,t,r,n){var i=D7(e,t,r),a;switch(n=_o(n==null?",f":n),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=Ec(i,o))&&(n.precision=a),Qu(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Ac(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=kc(i))&&(n.precision=a-(n.type==="%")*2);break}}return qu(n)}function Dc(e){var t=e.domain;return e.ticks=function(r){var n=t();return r2(n[0],n[n.length-1],r==null?10:r)},e.tickFormat=function(r,n){var i=t();return Cc(i[0],i[i.length-1],r==null?10:r,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,o=n[i],s=n[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=n2(o,s,r),u===l)return n[i]=o,n[a]=s,t(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function o0(){var e=vc();return e.copy=function(){return zg(e,o0())},ju.apply(e,arguments),Dc(e)}An();function s0(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[J4(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return o}return o.domain=function(l){var u,c;return arguments.length?(u=l,c=xt(u,2),e=c[0],t=c[1],e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return s0().domain([e,t]).range(i).unknown(a)},ju.apply(Dc(o),arguments)}function qn(){var e=800,t=4,r=".selected.shadow, .selected .shadow",n=G(null),i="",a={},o=!1,s;function l(w,b,h,g){w=parseFloat(w),b=parseFloat(b);var v=s0().domain([0,1]).range(x9(mr(w,b),h));return function(x){return String(v(x))+(g||"")}}function u(w){w.style("stroke-opacity",null).style("stroke-width",null).style("fill-opacity",null).style("r",null)}function c(w,b){var h=b==="from"?"to":"from";w.styleTween("stroke-opacity",function(g){return l(a[g.id][h].opacity,a[g.id][b].opacity,t)}).styleTween("stroke-width",function(g){return l(a[g.id][h].width,a[g.id][b].width,t,"px")}).styleTween("fill-opacity",function(g){return l(a[g.id][h].opacity,a[g.id][b].opacity,t)}).styleTween("r",function(g){return l(a[g.id][h].width,a[g.id][b].width,t,"px")})}function d(w){w.call(u).each(function(b){var h=G(this),g=h.node().tagName,v={from:{},to:{}},x,_;g==="circle"?(x=parseFloat(h.style("fill-opacity")||.5),_=parseFloat(h.style("r")||15.5)):(x=parseFloat(h.style("stroke-opacity")||.7),_=parseFloat(h.style("stroke-width")||10)),v.tag=g,v.from.opacity=x*.6,v.to.opacity=x*1.25,v.from.width=_*.7,v.to.width=_*(g==="circle"?1.5:1),a[b.id]=v})}function p(w,b){var h=b==="from"?"to":"from",g=w.selectAll(r),v=w.attr("class");if(o||g.empty()){n.call(u),n=G(null);return}(!(0,Yg.default)(g.data(),n.data())||v!==i)&&(n.call(u),i=v,n=g.call(d));var x=!1;n.transition().duration(e).call(c,b).on("end",function(){x||(w.call(p,h),x=!0),G(this).classed("selected")||u(G(this))})}function m(w){o=!1,s=ao(function(){return w.selectAll(r).empty()?!1:(w.call(p,"from"),s.stop(),!0)},20)}return m.restartIfNeeded=function(w){n.empty()&&(w.call(p,"from"),s&&s.stop())},m.off=function(){o=!0,s&&s.stop(),n.interrupt().call(u)},m}function Wt(e){var t;function r(i){if(!!e.map().withinEditableZoom()&&!(t.availableForKeypress&&!t.availableForKeypress())){i.preventDefault();var a=t.disabled();a?e.ui().flash.duration(4e3).iconName("#iD-operation-"+t.id).iconClass("operation disabled").label(t.tooltip)():(e.ui().flash.duration(2e3).iconName("#iD-operation-"+t.id).iconClass("operation").label(t.annotation()||t.title)(),t.point&&t.point(null),t())}}function n(){return t&&t.available()&&e.keybinding().on(t.keys,r),n}return n.off=function(){e.keybinding().off(t.keys)},n.which=function(i){return arguments.length?(t=i,n):t},n}function o1(e,t){var r,n=t.map(o).filter(Boolean),i=n.length===1?"single":"multiple",a=Xt(t,e.graph()).map(function(l){return l.loc});function o(l){var u=e.entity(l);return u.type!=="way"||new Set(u.nodes).size<=1?null:(r?r=r.extend(u.extent(e.graph())):r=u.extent(e.graph()),ku(l,e.projection))}var s=function l(){if(!!n.length){var u=function(d,p){return n.forEach(function(m){m.disabled(d)||(d=m(d,p))}),d};u.transitionable=!0,e.perform(u,l.annotation()),window.setTimeout(function(){e.validator().validate()},300)}};return s.available=function(){return n.length&&t.length===n.length},s.disabled=function(){if(!n.length)return"";var l=pe("rapid-internal-feature.allowLargeEdits")==="true",u=n.map(function(d){return d.disabled(e.graph())}).filter(Boolean);if(u.length===n.length)return new Set(u).size>1?"multiple_blockers":u[0];if(!l&&r.percentContainedIn(e.map().extent())<.8)return"too_large";if(c())return"not_downloaded";if(t.some(e.hasHiddenConnections))return"connected_to_hidden";return!1;function c(){if(e.inIntro())return!1;var d=e.connection();if(d){var p=a.filter(function(m){return!d.isDataLoaded(m)});if(p.length)return p.forEach(function(m){e.loadTileAtLoc(m)}),!0}return!1}},s.tooltip=function(){var l=s.disabled();return l?F("operations.circularize."+l+"."+i):F("operations.circularize.description."+i)},s.annotation=function(){return F("operations.circularize.annotation.feature",{n:n.length})},s.id="circularize",s.keys=[F("operations.circularize.key")],s.title=F("operations.circularize.title"),s.behavior=Wt(e).which(s),s}var qe=function(t){var r=qt();if(r.os==="mac")return t;if(r.os==="win"&&t==="\u2318\u21E7Z")return"Ctrl+Y";for(var n="",i={"\u2318":"Ctrl","\u21E7":"Shift","\u2325":"Alt","\u232B":"Backspace","\u2326":"Delete"},a=0;a<t.length;a++)t[a]in i?n+=i[t[a]]+(a<t.length-1?"+":""):n+=t[a];return n};qe.display=function(e){if(e.length!==1)return e;var t=qt(),r=t.os==="mac",n={"\u2318":r?"\u2318 "+F("shortcuts.key.cmd"):F("shortcuts.key.ctrl"),"\u21E7":r?"\u21E7 "+F("shortcuts.key.shift"):F("shortcuts.key.shift"),"\u2325":r?"\u2325 "+F("shortcuts.key.option"):F("shortcuts.key.alt"),"\u2303":r?"\u2303 "+F("shortcuts.key.ctrl"):F("shortcuts.key.ctrl"),"\u232B":r?"\u232B "+F("shortcuts.key.delete"):F("shortcuts.key.backspace"),"\u2326":r?"\u2326 "+F("shortcuts.key.del"):F("shortcuts.key.del"),"\u2196":r?"\u2196 "+F("shortcuts.key.pgup"):F("shortcuts.key.pgup"),"\u2198":r?"\u2198 "+F("shortcuts.key.pgdn"):F("shortcuts.key.pgdn"),"\u21DE":r?"\u21DE "+F("shortcuts.key.home"):F("shortcuts.key.home"),"\u21DF":r?"\u21DF "+F("shortcuts.key.end"):F("shortcuts.key.end"),"\u21B5":r?"\u23CE "+F("shortcuts.key.return"):F("shortcuts.key.enter"),"\u238B":r?"\u238B "+F("shortcuts.key.esc"):F("shortcuts.key.esc"),"\u2630":r?"\u2630 "+F("shortcuts.key.menu"):F("shortcuts.key.menu")};return n[e]||e};function nn(e,t){var r=t.length===1?"single":"multiple",n=Ia(t),i=Xt(t,e.graph()),a=i.map(function(l){return l.loc}),o=St(t,e.graph()),s=function l(){var u,c;if(t.length===1){var d=t[0],p=e.entity(d),m=p.geometry(e.graph()),w=e.graph().parentWays(p),b=w[0];if(m==="vertex"){var h=b.nodes,g=h.indexOf(d);if(g===0)g++;else if(g===h.length-1)g--;else{var v=bt(p.loc,e.entity(h[g-1]).loc),x=bt(p.loc,e.entity(h[g+1]).loc);g=v<x?g-1:g+1}u=h[g],c=e.entity(u).loc}}e.perform(n,l.annotation()),e.validator().validate(),u&&c?e.hasEntity(u)?e.enter(Le(e,[u]).follow(!0)):(e.map().centerEase(c),e.enter(De(e))):e.enter(De(e))};return s.available=function(){return!0},s.disabled=function(){var l=pe("rapid-internal-feature.allowLargeEdits")==="true";if(!l&&o.percentContainedIn(e.map().extent())<.8)return"too_large";if(u())return"not_downloaded";if(t.some(e.hasHiddenConnections))return"connected_to_hidden";if(t.some(p))return"part_of_relation";if(t.some(d))return"incomplete_relation";if(t.some(c))return"has_wikidata_tag";return!1;function u(){if(e.inIntro())return!1;var m=e.connection();if(m){var w=a.filter(function(b){return!m.isDataLoaded(b)});if(w.length)return w.forEach(function(b){e.loadTileAtLoc(b)}),!0}return!1}function c(m){var w=e.entity(m);return w.tags.wikidata&&w.tags.wikidata.trim().length>0}function d(m){var w=e.entity(m);return w.type==="relation"&&!w.isComplete(e.graph())}function p(m){var w=e.entity(m);if(w.type!=="way")return!1;for(var b=e.graph().parentRelations(w),h=0;h<b.length;h++){var g=b[h],v=g.tags.type,x=g.memberById(m).role||"outer";if(v==="route"||v==="boundary"||v==="multipolygon"&&x==="outer")return!0}return!1}},s.tooltip=function(){var l=s.disabled();return l?F("operations.delete."+l+"."+r):F("operations.delete.description."+r)},s.annotation=function(){return t.length===1?F("operations.delete.annotation."+e.graph().geometry(t[0])):F("operations.delete.annotation.feature",{n:t.length})},s.id="delete",s.keys=[qe("\u2318\u232B"),qe("\u2318\u2326"),qe("\u2326")],s.title=F("operations.delete.title"),s.behavior=Wt(e).which(s),s}function s1(e,t){var r,n,i=t.map(s).filter(Boolean),a=i.length===1?"single":"multiple",o=Xt(t,e.graph()).map(function(u){return u.loc});function s(u){var c=e.entity(u),d=c.geometry(e.graph());if(r?r=r.extend(c.extent(e.graph())):r=c.extent(e.graph()),c.type==="way"&&new Set(c.nodes).size>2)return n&&n!=="feature"?null:(n="feature",xo(u,e.projection));if(d==="vertex"){if(n&&n!=="corner")return null;n="corner";var p=e.graph(),m=p.parentWays(c);if(m.length===1){var w=m[0];if(w.nodes.indexOf(u)!==-1)return xo(w.id,e.projection,u)}}return null}var l=function u(){if(!!i.length){var c=function(p,m){return i.forEach(function(w){w.disabled(p)||(p=w(p,m))}),p};c.transitionable=!0,e.perform(c,u.annotation()),window.setTimeout(function(){e.validator().validate()},300)}};return l.available=function(){return i.length&&t.length===i.length},l.disabled=function(){if(!i.length)return"";var u=i.map(function(p){return p.disabled(e.graph())}).filter(Boolean),c=pe("rapid-internal-feature.allowLargeEdits")==="true";if(u.length===i.length)return new Set(u).size>1?"multiple_blockers":u[0];if(!c&&r&&r.percentContainedIn(e.map().extent())<.8)return"too_large";if(d())return"not_downloaded";if(t.some(e.hasHiddenConnections))return"connected_to_hidden";return!1;function d(){if(e.inIntro())return!1;var p=e.connection();if(p){var m=o.filter(function(w){return!p.isDataLoaded(w)});if(m.length)return m.forEach(function(w){e.loadTileAtLoc(w)}),!0}return!1}},l.tooltip=function(){var u=l.disabled();return u?F("operations.orthogonalize."+u+"."+a):F("operations.orthogonalize.description."+n+"."+a)},l.annotation=function(){return F("operations.orthogonalize.annotation."+n,{n:i.length})},l.id="orthogonalize",l.keys=[F("operations.orthogonalize.key")],l.title=F("operations.orthogonalize.title"),l.behavior=Wt(e).which(l),l}function l1(e,t){return Zg(e,t,"short")}function u1(e,t){return Zg(e,t,"long")}function Zg(e,t,r){r=r||"long";var n=t.length===1?"single":"multiple",i=Xt(t,e.graph()),a=i.map(function(l){return l.loc}),o=St(t,e.graph()),s=function l(){var u=Pu(t,e.projection).useLongAxis(Boolean(r==="long"));e.perform(u,l.annotation()),window.setTimeout(function(){e.validator().validate()},300)};return s.available=function(){return i.length>=3},s.disabled=function(){var l=pe("rapid-internal-feature.allowLargeEdits")==="true";if(!l&&o.percentContainedIn(e.map().extent())<.8)return"too_large";if(u())return"not_downloaded";if(t.some(e.hasHiddenConnections))return"connected_to_hidden";if(t.some(c))return"incomplete_relation";return!1;function u(){if(e.inIntro())return!1;var d=e.connection();if(d){var p=a.filter(function(m){return!d.isDataLoaded(m)});if(p.length)return p.forEach(function(m){e.loadTileAtLoc(m)}),!0}return!1}function c(d){var p=e.entity(d);return p.type==="relation"&&!p.isComplete(e.graph())}},s.tooltip=function(){var l=s.disabled();return l?F("operations.reflect."+l+"."+n):F("operations.reflect.description."+r+"."+n)},s.annotation=function(){return F("operations.reflect.annotation."+r+".feature",{n:t.length})},s.id="reflect-"+r,s.keys=[F("operations.reflect.key."+r)],s.title=F("operations.reflect.title."+r),s.behavior=Wt(e).which(s),s}function c1(e,t){var r=t.length===1?"single":"multiple",n=Xt(t,e.graph()),i=n.map(function(s){return s.loc}),a=St(t,e.graph()),o=function(){e.enter(Fs(e,t))};return o.available=function(){return t.length>0},o.disabled=function(){var s=pe("rapid-internal-feature.allowLargeEdits")==="true";if(!s&&a.percentContainedIn(e.map().extent())<.8)return"too_large";if(l())return"not_downloaded";if(t.some(e.hasHiddenConnections))return"connected_to_hidden";if(t.some(u))return"incomplete_relation";return!1;function l(){if(e.inIntro())return!1;var c=e.connection();if(c){var d=i.filter(function(p){return!c.isDataLoaded(p)});if(d.length)return d.forEach(function(p){e.loadTileAtLoc(p)}),!0}return!1}function u(c){var d=e.entity(c);return d.type==="relation"&&!d.isComplete(e.graph())}},o.tooltip=function(){var s=o.disabled();return s?F("operations.move."+s+"."+r):F("operations.move.description."+r)},o.annotation=function(){return t.length===1?F("operations.move.annotation."+e.graph().geometry(t[0])):F("operations.move.annotation.feature",{n:t.length})},o.id="move",o.keys=[F("operations.move.key")],o.title=F("operations.move.title"),o.behavior=Wt(e).which(o),o.mouseOnly=!0,o}function Gu(e,t){var r=4,n={id:"rotate",button:"browse"},i=Re("rotate"),a=[_i(e),o1(e,t).behavior,nn(e,t).behavior,c1(e,t).behavior,s1(e,t).behavior,u1(e,t).behavior,l1(e,t).behavior],o=t.length===1?F("operations.rotate.annotation."+e.graph().geometry(t[0])):F("operations.rotate.annotation.feature",{n:t.length}),s,l,u,c,d="PointerEvent"in window?"pointer":"mouse";function p(g){var v;e.graph()!==s?v=e.perform:v=e.replace;var x=e.projection,_=x.transform();if(!u||_.k!==u.k||_.x!==u.x||_.y!==u.y){var y=Xt(t,e.graph()),E=y.map(function(D){return x(D.loc)});c=m(E),l=void 0}var k=e.map().mouse(g),A=Math.atan2(k[1]-c[1],k[0]-c[0]);typeof l=="undefined"&&(l=A);var C=A-l;v(Mu(t,c,C,x)),u=_,l=A,s=e.graph()}function m(g){var v;if(g.length===1)v=g[0];else if(g.length===2)v=jt(g[0],g[1],.5);else{var x=Sa(g);x.length===2?v=jt(g[0],g[1],.5):v=ta(Sa(g))}return v}function w(g){g.stopPropagation(),e.replace(Fr(),o),e.enter(Le(e,t))}function b(){s&&e.pop(),e.enter(Le(e,t))}function h(){e.enter(De(e))}return n.enter=function(){s=null,e.features().forceVisible(t),a.forEach(e.install);var g;e.surface().on(d+"down.modeRotate",function(v){g=v}),G(window).on(d+"move.modeRotate",p,!0).on(d+"up.modeRotate",function(v){if(!!g){var x=e.container().select(".main-map").node(),_=Dr(x),y=_(g),E=_(v),k=it(y,E);k<=r&&w(v),g=null}},!0),e.history().on("undone.modeRotate",h),i.on("\u238B",b).on("\u21A9",w),G(document).call(i)},n.exit=function(){a.forEach(e.uninstall),e.surface().on(d+"down.modeRotate",null),G(window).on(d+"move.modeRotate",null,!0).on(d+"up.modeRotate",null,!0),e.history().on("undone.modeRotate",null),G(document).call(i.unbind),e.features().forceVisible([])},n.selectedIDs=function(){return arguments.length?n:t},n}function l0(e,t){var r=t.length===1?"single":"multiple",n=Xt(t,e.graph()),i=n.map(function(s){return s.loc}),a=St(t,e.graph()),o=function(){e.enter(Gu(e,t))};return o.available=function(){return n.length>=2},o.disabled=function(){var s=pe("rapid-internal-feature.allowLargeEdits")==="true";if(!s&&a.percentContainedIn(e.map().extent())<.8)return"too_large";if(l())return"not_downloaded";if(t.some(e.hasHiddenConnections))return"connected_to_hidden";if(t.some(u))return"incomplete_relation";return!1;function l(){if(e.inIntro())return!1;var c=e.connection();if(c){var d=i.filter(function(p){return!c.isDataLoaded(p)});if(d.length)return d.forEach(function(p){e.loadTileAtLoc(p)}),!0}return!1}function u(c){var d=e.entity(c);return d.type==="relation"&&!d.isComplete(e.graph())}},o.tooltip=function(){var s=o.disabled();return s?F("operations.rotate."+s+"."+r):F("operations.rotate.description."+r)},o.annotation=function(){return t.length===1?F("operations.rotate.annotation."+e.graph().geometry(t[0])):F("operations.rotate.annotation.feature",{n:t.length})},o.id="rotate",o.keys=[F("operations.rotate.key")],o.title=F("operations.rotate.title"),o.behavior=Wt(e).which(o),o.mouseOnly=!0,o}function Fs(e,t,r){var n=4,i={id:"move",button:"browse"},a=Re("move"),o=[_i(e),o1(e,t).behavior,nn(e,t).behavior,s1(e,t).behavior,u1(e,t).behavior,l1(e,t).behavior,l0(e,t).behavior],s=t.length===1?F("operations.move.annotation."+e.graph().geometry(t[0])):F("operations.move.annotation.feature",{n:t.length}),l,u,c,d,p="PointerEvent"in window?"pointer":"mouse";function m(_){_=_||[0,0];var y;l!==e.graph()?(u={},c=e.map().mouseCoordinates(),y=e.perform):y=e.overwrite;var E=e.map().mouse(),k=e.projection(c),A=Lt(Lt(E,k),_);y(oa(t,A,e.projection,u)),l=e.graph()}function w(_){d&&window.clearInterval(d),d=window.setInterval(function(){e.map().pan(_),m(_)},50)}function b(){d&&(window.clearInterval(d),d=null)}function h(){m();var _=rs(e.map().mouse(),e.map().dimensions());_?w(_):b()}function g(_){_.stopPropagation(),e.replace(Fr(),s),e.enter(Le(e,t)),b()}function v(){if(r){for(;e.graph()!==r;)e.pop();e.enter(De(e))}else l&&e.pop(),e.enter(Le(e,t));b()}function x(){e.enter(De(e))}return i.enter=function(){c=e.map().mouseCoordinates(),l=null,u={},e.features().forceVisible(t),o.forEach(e.install);var _;e.surface().on(p+"down.modeMove",function(y){_=y}),G(window).on(p+"move.modeMove",h,!0).on(p+"up.modeMove",function(y){if(!!_){var E=e.container().select(".main-map").node(),k=Dr(E),A=k(_),C=k(y),D=it(A,C);D<=n&&g(y),_=null}},!0),e.history().on("undone.modeMove",x),a.on("\u238B",v).on("\u21A9",g),G(document).call(a)},i.exit=function(){b(),o.forEach(function(_){e.uninstall(_)}),e.surface().on(p+"down.modeMove",null),G(window).on(p+"move.modeMove",null,!0).on(p+"up.modeMove",null,!0),e.history().on("undone.modeMove",null),G(document).call(a.unbind),e.features().forceVisible([])},i.selectedIDs=function(){return arguments.length?i:t},i}function Ts(e){function t(n){if(!!e.map().withinEditableZoom()){n.preventDefault();var i=e.graph(),a=e.map().mouse(),o=e.projection,s=o.clipExtent(),l=new Ne(s[0],s[1]).polygon();if(!!ro(a,l)){var u=e.copyIDs();if(!!u.length){var c=new Ne,d=e.copyGraph(),p=[],m=xs(u,d);e.perform(m);var w=m.copies(),b=new Set;Object.values(w).forEach(function(k){b.add(k.id)});for(var h in w){var g=d.entity(h),v=w[h];c=c.extend(g.extent(d));var x=e.graph().parentWays(v),_=x.some(function(k){return b.has(k.id)});_||p.push(v.id)}var y=e.copyLonLat()&&o(e.copyLonLat())||o(c.center()),E=Lt(a,y);e.perform(oa(p,E,o)),e.enter(Fs(e,p,i))}}}}function r(){return e.keybinding().on(qe("\u2318V"),t),r}return r.off=function(){e.keybinding().off(qe("\u2318V"))},r}function Ms(){var e=be("start","move","end"),t=1,r=4,n=null,i="",a,o,s,l,u="PointerEvent"in window?"pointer":"mouse",c=r1("UserSelect"),d=function(){var b=Pi(),h=b.style(c);return b.style(c,"none"),function(){b.style(c,h)}};function p(w){if(l)return;l=w.pointerId||"mouse",a=this;var b=Dr(s||a.parentNode),h,g=b(w),v=!1,x=d();G(window).on(u+"move.drag",_).on(u+"up.drag pointercancel.drag",y,!0),n?(h=n.call(a,o),h=[h[0]-g[0],h[1]-g[1]]):h=[0,0],w.stopPropagation();function _(E){if(l===(E.pointerId||"mouse")){var k=b(E);if(v){g=k,E.stopPropagation(),E.preventDefault();var D=k[0]-g[0],S=k[1]-g[1];e.call("move",this,E,o,[k[0]+h[0],k[1]+h[1]],[D,S])}else{var A=it(g,k),C=E.pointerType==="pen"?r:t;if(A<C)return;v=!0,e.call("start",this,E,o)}}}function y(E){l===(E.pointerId||"mouse")&&(l=null,v&&(e.call("end",this,E,o),E.preventDefault()),G(window).on(u+"move.drag",null).on(u+"up.drag pointercancel.drag",null),x())}}function m(w){var b=xu("matchesSelector"),h=p;i&&(h=function(v){for(var x=this,_=v.target;_&&_!==x;_=_.parentNode){var y=_.__data__;if(o=y instanceof or?y:y&&y.properties&&y.properties.entity,o&&_[b](i))return p.call(_,v)}}),w.on(u+"down.drag"+i,h)}return m.off=function(w){w.on(u+"down.drag"+i,null)},m.selector=function(w){return arguments.length?(i=w,m):i},m.origin=function(w){return arguments.length?(n=w,m):n},m.cancel=function(){return G(window).on(u+"move.drag",null).on(u+"up.drag pointercancel.drag",null),m},m.targetNode=function(w){return arguments.length?(a=w,m):a},m.targetEntity=function(w){return arguments.length?(o=w,m):o},m.surface=function(w){return arguments.length?(s=w,m):s},ke(m,e,"on")}function Qn(e){var t={id:"drag-node",button:"browse"},r=rn(e).altDisables(!0).on("hover",e.ui().sidebar.hover),n=_i(e),i,a=[],o=!1,s=!1,l,u,c;function d(R,P,L,B){i&&window.clearInterval(i),i=window.setInterval(function(){e.map().pan(L),y(R,P,L,B)},50)}function p(){i&&(window.clearInterval(i),i=null)}function m(R){return F("operations.move.annotation."+R.geometry(e.graph()))}function w(R,P){var L=R.geometry(e.graph()),B=P.geometry(e.graph());if(L==="vertex"&&B==="vertex"){var O=e.graph().parentWays(R),U=e.graph().parentWays(P),T=Ar(O,U);if(T.length!==0)return T[0].areAdjacent(R.id,P.id)?F("operations.connect.annotation.from_vertex.to_adjacent_vertex"):F("operations.connect.annotation.from_vertex.to_sibling_vertex")}return F("operations.connect.annotation.from_"+L+".to_"+B)}function b(R){return l?l.geometry(e.graph())!=="vertex"||R.geometry(e.graph())==="vertex"||Ie.allowsVertex(R,e.graph()):!1}function h(R){return e.projection(R.loc)}function g(R){R.keyCode===Re.modifierCodes.alt&&(e.surface().classed("nope")&&e.surface().classed("nope-suppressed",!0),e.surface().classed("nope",!1).classed("nope-disabled",!0))}function v(R){R.keyCode===Re.modifierCodes.alt&&(e.surface().classed("nope-suppressed")&&e.surface().classed("nope",!0),e.surface().classed("nope-suppressed",!1).classed("nope-disabled",!1))}function x(R,P){o=P.type==="midpoint";var L=e.features().hasHiddenConnections(P,e.graph());if(s=!e.editable()||R.shiftKey||L,s)return L&&e.ui().flash.duration(4e3).iconName("#iD-icon-no").label(F("modes.drag_node.connected_to_hidden"))(),N.cancel();if(o){var B=P;P=ut(),e.perform(Sr(B,P)),P=e.entity(P.id);var O=e.surface().selectAll("."+P.id);N.targetNode(O.node()).targetEntity(P)}else e.perform(Fr());l=P,u=P.loc,r.ignoreVertex(P.geometry(e.graph())==="vertex"),e.surface().selectAll("."+l.id).classed("active",!0),e.enter(t)}window.__moveNodeHook=function(R,P,L){if(!R)return alert("Node hasn't loaded yet, try again once it loads"),!1;if(R.id[0]!=="n")return alert("Can't move entity beacuse it's not a node (It's ".concat(R.id,")")),!1;var B={point:P,target:{},stopPropagation:function(){}};return x(B,R),A(B,R,L,L),C(B,R),!0};function _(R){if(!R||R.altKey)return{};var P=R.target.__data__;return P&&P.properties&&P.properties.target?P:{}}function y(R,P,L,B){L=L||[0,0];var O=R&&R.point||e.projection(c),U=Lt(O,L),T=e.projection.invert(U),M,I;if(!i){var z=_(R);M=z&&z.properties&&z.properties.entity;var q=M&&M.loc,V=z&&z.properties&&z.properties.nodes;q?b(M)&&(T=q):V&&(I=Zr(V,e.map().mouse(),e.projection,C.id),I&&(T=I.loc))}var Y=$t(T);B&&(T=B),e.replace(wo(P.id,T));var ee=!1;M&&(ee=E(P,M,I,e.graph())),ee||(ee=k(P,e.graph()));var ie=e.surface().classed("nope");if(ee==="relation"||ee==="restriction")ie||e.ui().flash.duration(4e3).iconName("#iD-icon-no").label(F("operations.connect."+ee,{relation:Ie.item("type/restriction").name()}))();else if(ee){var se=ee==="line"?"lines":"areas";e.ui().flash.duration(3e3).iconName("#iD-icon-no").label(F("self_intersection.error."+se))()}else ie&&e.ui().flash.duration(1).label("")();var ve=e.surface().classed("nope-disabled");ve?e.surface().classed("nope",!1).classed("nope-suppressed",ee):e.surface().classed("nope",ee).classed("nope-suppressed",!1),c=Y}function E(R,P,L,B){var O=B.update();if(L){var U=ut(),T=Sr({loc:L.loc,edge:[P.nodes[L.index-1],P.nodes[L.index]]},U);O=T(O),P=U}var M=[R.id,P.id];return vo(M).disabled(O)}function k(R,P){var L=P.parentWays(R),B,O,U;for(B=0;B<L.length;B++){var T=L[B],M=[],I=null,z=P.parentRelations(T);for(O=0;O<z.length;O++)if(!!z[O].isMultipolygon()){var q=gn(z[O].members,P);for(U=0;U<q.length;U++){if(M=q[U].nodes,M.find(function(V){return V.id===R.id})&&(I=U,wi(M,R.id)))return"multipolygonMember";q[U].coords=M.map(function(V){return V.loc})}for(U=0;U<q.length;U++)if(U!==I&&Su(q[I].nodes,q[U].nodes,R.id))return"multipolygonRing"}if(I===null&&(M=T.nodes.map(function(V){return P.entity(V)}),M.length&&wi(M,R.id)))return T.geometry(P)}return!1}function A(R,P,L,B){var O=Array.isArray(B)&&B[0]&&B[1]?B:void 0;if(!s){R.stopPropagation(),e.surface().classed("nope-disabled",R.altKey),c=e.projection.invert(L),y(R,P,void 0,O);var U=rs(L,e.map().dimensions());U?d(R,P,U,O):p()}}function C(R,P){if(!s){var L=P.geometry(e.graph())==="point",B=_(R),O=B&&B.properties&&B.properties.nope||e.surface().classed("nope"),U=B&&B.properties&&B.properties.entity;if(O)e.perform(D(P.id,u));else if(U&&U.type==="way"){var T=Zr(e.graph().childNodes(U),e.map().mouse(),e.projection,P.id);e.replace(Sr({loc:T.loc,edge:[U.nodes[T.index-1],U.nodes[T.index]]},P),w(P,U))}else U&&U.type==="node"&&b(U)?e.replace(vo([U.id,P.id]),w(P,U)):o?e.replace(Fr(),F("operations.add.annotation.vertex")):e.replace(Fr(),m(P));if(L)e.enter(Le(e,[P.id]));else{var M=a.filter(function(I){return e.graph().hasEntity(I)});M.length?e.enter(Le(e,M)):e.enter(De(e))}}}function D(R,P){var L=wo(R,P),B=function(U,T){return T===1&&e.pop(),L(U,T)};return B.transitionable=!0,B}function S(){N.cancel(),e.enter(De(e))}var N=Ms().selector(".layer-touch.points .target").surface(e.container().select(".main-map").node()).origin(h).on("start",x).on("move",A).on("end",C);return t.enter=function(){e.install(r),e.install(n),G(window).on("keydown.dragNode",g).on("keyup.dragNode",v),e.history().on("undone.drag-node",S)},t.exit=function(){e.ui().sidebar.hover.cancel(),e.uninstall(r),e.uninstall(n),G(window).on("keydown.dragNode",null).on("keyup.dragNode",null),e.history().on("undone.drag-node",null),l=null,e.surface().classed("nope",!1).classed("nope-suppressed",!1).classed("nope-disabled",!1).selectAll(".active").classed("active",!1),p()},t.selectedIDs=function(){return arguments.length?t:l?[l.id]:[]},t.activeID=function(){return arguments.length?t:l&&l.id},t.restoreSelectedIDs=function(R){return arguments.length?(a=R,t):a},t.behavior=N,t}An();function lS(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function u0(e,t){return fetch(e,t).then(lS)}function uS(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(!(e.status===204||e.status===205))return e.json()}function kt(e,t){return fetch(e,t).then(uS)}function Sc(e){return function(t,r){return u0(t,r).then(function(n){return new DOMParser().parseFromString(n,e)})}}var Is=Sc("application/xml"),cS=Sc("text/html"),Fc=Sc("image/svg+xml");pt();function fS(e){var t=Se(e);return e!=null&&(t=="object"||t=="function")}var fn=fS;pt();pt();var dS=(typeof global=="undefined"?"undefined":Se(global))=="object"&&global&&global.Object===Object&&global,Hu=dS;var pS=(typeof self=="undefined"?"undefined":Se(self))=="object"&&self&&self.Object===Object&&self,mS=Hu||pS||Function("return this")(),Pr=mS;var hS=function(){return Pr.Date.now()},Wu=hS;var gS=/\s/;function vS(e){for(var t=e.length;t--&&gS.test(e.charAt(t)););return t}var Xg=vS;var yS=/^\s+/;function bS(e){return e&&e.slice(0,Xg(e)+1).replace(yS,"")}var $g=bS;pt();var wS=Pr.Symbol,an=wS;var Jg=Object.prototype,xS=Jg.hasOwnProperty,_S=Jg.toString,c0=an?an.toStringTag:void 0;function kS(e){var t=xS.call(e,c0),r=e[c0];try{e[c0]=void 0;var n=!0}catch(a){}var i=_S.call(e);return n&&(t?e[c0]=r:delete e[c0]),i}var ev=kS;var ES=Object.prototype,AS=ES.toString;function CS(e){return AS.call(e)}var tv=CS;var DS="[object Null]",SS="[object Undefined]",rv=an?an.toStringTag:void 0;function FS(e){return e==null?e===void 0?SS:DS:rv&&rv in Object(e)?ev(e):tv(e)}var ri=FS;pt();function TS(e){return e!=null&&Se(e)=="object"}var dn=TS;var MS="[object Symbol]";function IS(e){return Se(e)=="symbol"||dn(e)&&ri(e)==MS}var ko=IS;var nv=0/0,NS=/^[-+]0x[0-9a-f]+$/i,OS=/^0b[01]+$/i,PS=/^0o[0-7]+$/i,BS=parseInt;function RS(e){if(typeof e=="number")return e;if(ko(e))return nv;if(fn(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=fn(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=$g(e);var r=OS.test(e);return r||PS.test(e)?BS(e.slice(2),r?2:8):NS.test(e)?nv:+e}var Tc=RS;var LS="Expected a function",jS=Math.max,zS=Math.min;function US(e,t,r){var n,i,a,o,s,l,u=0,c=!1,d=!1,p=!0;if(typeof e!="function")throw new TypeError(LS);t=Tc(t)||0,fn(r)&&(c=!!r.leading,d="maxWait"in r,a=d?jS(Tc(r.maxWait)||0,t):a,p="trailing"in r?!!r.trailing:p);function m(E){var k=n,A=i;return n=i=void 0,u=E,o=e.apply(A,k),o}function w(E){return u=E,s=setTimeout(g,t),c?m(E):o}function b(E){var k=E-l,A=E-u,C=t-k;return d?zS(C,a-A):C}function h(E){var k=E-l,A=E-u;return l===void 0||k>=t||k<0||d&&A>=a}function g(){var E=Wu();if(h(E))return v(E);s=setTimeout(g,b(E))}function v(E){return s=void 0,p&&n?m(E):(n=i=void 0,o)}function x(){s!==void 0&&clearTimeout(s),u=0,n=l=i=s=void 0}function _(){return s===void 0?o:v(Wu())}function y(){var E=Wu(),k=h(E);if(n=arguments,i=this,l=E,k){if(s===void 0)return w(l);if(d)return clearTimeout(s),s=setTimeout(g,t),m(l)}return s===void 0&&(s=setTimeout(g,t)),o}return y.cancel=x,y.flush=_,y}var Nt=US;var ov=Xe(Ic());function Ku(e){var t=be("task_extent_set"),r={};r.version="2.0.0",r.showPowerUser=e.initialHashParams.poweruser==="true";function n(u,c,d){return d.indexOf(u)===c}var i,a;r.setTaskExtentByGpxData=function(u){var c=new DOMParser().parseFromString(u,"text/xml"),d=(0,ov.gpx)(c),p=d.features.reduce(function(g,v){return g+(v.geometry.type==="LineString"?1:0)},0);if(d.type==="FeatureCollection"){var m,w,b,h;d.features.forEach(function(g){if(g.geometry.type==="Point"){var v=g.geometry.coordinates[0],x=g.geometry.coordinates[1];(m===void 0||x<m)&&(m=x),(w===void 0||v<w)&&(w=v),(b===void 0||x>b)&&(b=x),(h===void 0||v>h)&&(h=v)}else if(g.geometry.type==="LineString"&&p===1){var _=g.geometry.coordinates.map(function(C){return C[0]}),y=g.geometry.coordinates.map(function(C){return C[1]}),E=_.filter(n),k=y.filter(n),A=!0;E.forEach(function(C){var D=g.geometry.coordinates.filter(function(S){return S[0]===C}).map(function(S){return S[1]}).filter(n);D.length!==2&&(A=!1)}),E.length===2&&k.length===2&&A?a=!0:a=!1}}),i=new Ne([w,m],[h,b]),t.call("task_extent_set")}},r.getTaskExtent=function(){return i},r.isTaskRectangular=function(){return!!i&&a},r.sources=new Set;var o="#da26d3",s=["#ff0000","#ffa500","#ffd700","#00ff00","#00ffff","#1e90ff","#da26d3","#ffc0cb","#d3d3d3","#faf0e6"];r.colors=function(){return s};var l={};return r.datasets=function(){return l},r.init=function(){_e.ensureLoaded().then(function(){l={fbRoads:{id:"fbRoads",beta:!1,added:!1,enabled:!1,conflated:!0,service:"fbml",color:o,label:F("rapid_feature_toggle.fbRoads.label"),license_markdown:F("rapid_feature_toggle.fbRoads.license_markdown")},msBuildings:{id:"msBuildings",beta:!1,added:!1,enabled:!1,conflated:!0,service:"fbml",color:o,label:F("rapid_feature_toggle.msBuildings.label"),license_markdown:F("rapid_feature_toggle.msBuildings.license_markdown")}};var u="",c=new Set;u.split(",").forEach(function(p){p=p.trim(),l[p]?l[p].enabled=!0:c.add(p)});var d=ue.esriData;!d||!c.size||d.loadDatasets().then(function(p){c.forEach(function(m){var w=p[m];if(!!w){d.loadLayer(w.id);var b=w.groupCategories.some(function(x){return x.toLowerCase()==="/categories/preview"}),h=w.groupCategories.some(function(x){return x.toLowerCase()==="/categories/buildings"}),g=Object.keys(l).length%s.length,v={id:w.id,beta:b,added:!0,enabled:!0,conflated:!1,service:"esri",color:s[g],label:w.title,license_markdown:F("rapid_feature_toggle.esri.license_markdown")};w.extent&&(v.extent=new Ne(w.extent[0],w.extent[1])),h&&(v.conflated=!0,v.service="fbml"),l[w.id]=v}})})})},r.reset=function(){r.sources=new Set},ke(r,t,"on")}var Ns=Xe(bi());function ua(e,t){var r={},n={},i={};function a(s){var l=t.entities[s],u=e.entities[s];if(l!==u&&!r[s]){if(!l&&u){r[s]={base:u,head:l},n.deletion=!0;return}if(l&&!u){r[s]={base:u,head:l},n.addition=!0;return}if(l&&u){if(l.members&&u.members&&!(0,Ns.default)(l.members,u.members)){r[s]={base:u,head:l},n.geometry=!0,n.properties=!0;return}l.loc&&u.loc&&!Kr(l.loc,u.loc)&&(r[s]={base:u,head:l},n.geometry=!0),l.nodes&&u.nodes&&!(0,Ns.default)(l.nodes,u.nodes)&&(r[s]={base:u,head:l},n.geometry=!0),l.tags&&u.tags&&!(0,Ns.default)(l.tags,u.tags)&&(r[s]={base:u,head:l},n.properties=!0)}}}function o(){for(var s=Ve(Object.keys(t.entities).concat(Object.keys(e.entities))),l=0;l<s.length;l++)a(s[l])}return o(),i.length=function(){return Object.keys(r).length},i.changes=function(){return r},i.didChange=n,i.extantIDs=function(l){var u=new Set;return Object.keys(r).forEach(function(c){r[c].head&&u.add(c);var d=r[c].head,p=r[c].base,m=d||p;if(l&&m.type==="relation"){var w=d?d.members.map(function(h){return h.id}):[],b=p?p.members.map(function(h){return h.id}):[];Yt(w,b).forEach(function(h){t.hasEntity(h)&&u.add(h)})}}),Array.from(u)},i.modified=function(){var l=[];return Object.values(r).forEach(function(u){u.base&&u.head&&l.push(u.head)}),l},i.created=function(){var l=[];return Object.values(r).forEach(function(u){!u.base&&u.head&&l.push(u.head)}),l},i.deleted=function(){var l=[];return Object.values(r).forEach(function(u){u.base&&!u.head&&l.push(u.base)}),l},i.summary=function(){for(var l={},u=Object.keys(r),c=0;c<u.length;c++){var d=r[u[c]];if(d.head&&d.head.geometry(t)!=="vertex")w(d.head,t,d.base?"modified":"created");else if(d.base&&d.base.geometry(e)!=="vertex")w(d.base,e,"deleted");else if(d.base&&d.head){var p=!(0,Ns.default)(d.base.loc,d.head.loc),m=!(0,Ns.default)(d.base.tags,d.head.tags);p&&b(d.head),(m||p&&d.head.hasInterestingTags())&&w(d.head,t,"modified")}else d.head&&d.head.hasInterestingTags()?w(d.head,t,"created"):d.base&&d.base.hasInterestingTags()&&w(d.base,e,"deleted")}return Object.values(l);function w(h,g,v){l[h.id]={entity:h,graph:g,changeType:v}}function b(h){for(var g=t.parentWays(h),v=g.length-1;v>=0;v--){var x=g[v];x.id in l||w(x,t,"modified")}}},i.complete=function(l){var u={},c,d;for(c in r){d=r[c];var p=d.head,m=d.base,w=p||m,b;if(!(l&&(!p||!p.intersects(l,t))&&(!m||!m.intersects(l,e)))){if(u[c]=p,w.type==="way"){var h=p?p.nodes:[],g=m?m.nodes:[],v;for(v=vr(h,g),b=0;b<v.length;b++)u[v[b]]=t.hasEntity(v[b]);for(v=vr(g,h),b=0;b<v.length;b++)u[v[b]]=t.hasEntity(v[b])}if(w.type==="relation"&&w.isMultipolygon()){var x=p?p.members.map(function(A){return A.id}):[],_=m?m.members.map(function(A){return A.id}):[],y=Yt(x,_);for(b=0;b<y.length;b++){var E=t.hasEntity(y[b]);!E||l&&!E.intersects(l,t)||(u[y[b]]=E)}}k(t.parentWays(w),u),k(t.parentRelations(w),u)}}return u;function k(A,C){for(var D=0;D<A.length;D++){var S=A[D];S.id in C||(C[S.id]=S,k(t.parentRelations(S),C))}}},i}var Pc=Xe(ji());function zi(e){var t=new Pc.default,r={},n=new Pc.default,i={},a={},o={};function s(m){var w=m.extent(e).bbox();return w.id=m.id,r[m.id]=w,w}function l(m){var w=m.extent(e);if(!w)return null;var b=w.bbox();return b.segment=m,i[m.id]=b,b}function u(m){t.remove(r[m.id]),delete r[m.id],a[m.id]&&(a[m.id].forEach(function(w){n.remove(i[w.id]),delete i[w.id]}),delete a[m.id])}function c(m){t.load(m.map(s));var w=[];m.forEach(function(b){if(b.segments){var h=b.segments(e);a[b.id]=h,w=w.concat(h)}}),w.length&&n.load(w.map(l).filter(Boolean))}function d(m,w,b){e.parentWays(m).forEach(function(h){r[h.id]&&(u(h),w[h.id]=h),d(h,w,b)}),e.parentRelations(m).forEach(function(h){b[m.id]||(b[m.id]=!0,r[h.id]&&(u(h),w[h.id]=h),d(h,w,b))})}o.rebase=function(m,w){for(var b={},h=0;h<m.length;h++){var g=m[h];if(!!g.visible){if(e.entities.hasOwnProperty(g.id)||r[g.id])if(w)r[g.id]&&u(g);else continue;b[g.id]=g,d(g,b,{})}}return c(Object.values(b)),o};function p(m){if(m!==e){var w=ua(e,m);e=m;var b=w.didChange;if(!(!b.addition&&!b.deletion&&!b.geometry)){var h={};b.deletion&&w.deleted().forEach(function(g){u(g)}),b.geometry&&w.modified().forEach(function(g){u(g),h[g.id]=g,d(g,h,{})}),b.addition&&w.created().forEach(function(g){h[g.id]=g}),c(Object.values(h))}}}return o.intersects=function(m,w){return p(w),t.search(m.bbox()).map(function(b){return w.entity(b.id)})},o.waySegments=function(m,w){return p(w),n.search(m.bbox()).map(function(b){return b.segment})},o}function ce(e,t,r){return function(i){i.selectAll("svg.icon"+(t?"."+t.split(" ")[0]:"")).data([0]).enter().append("svg").attr("class","icon "+(t||"")).append("use").attr("xlink:href",e).attr("class",r)}}function wr(e,t){var r=this,n=Re("modal"),i=e.select("div.modal"),a=i.empty();i.transition().duration(200).style("opacity",0).remove();var o=e.append("div").attr("class","shaded").style("opacity",0);o.close=function(){o.transition().duration(200).style("opacity",0).remove(),s.transition().duration(200).style("top","0px"),G(document).call(n.unbind)};var s=o.append("div").attr("class","modal fillL");return s.append("input").attr("class","keytrap keytrap-first").on("focus.keytrap",u),t||(o.on("click.remove-modal",function(c){c.target===r&&o.close()}),s.append("button").attr("class","close").on("click",o.close).call(ce("#iD-icon-close")),n.on("\u232B",o.close).on("\u238B",o.close),G(document).call(n)),s.append("div").attr("class","content"),s.append("input").attr("class","keytrap keytrap-last").on("focus.keytrap",l),a?o.transition().style("opacity",1):o.style("opacity",1),o;function l(){var c=s.select("a, button, input:not(.keytrap), select, textarea").node();c?c.focus():G(this).node().blur()}function u(){var c=s.selectAll("a, button, input:not(.keytrap), select, textarea").nodes();c.length?c[c.length-1].focus():G(this).node().blur()}}function Pa(e){var t=G(null),r="",n=!1,i=function a(o){t=wr(o,n);var s=t.select(".content").classed("loading-modal",!0).append("div").attr("class","modal-section fillL");return s.append("img").attr("class","loader").attr("src",e.imagePath("loader-white.gif")),s.append("h3").html(r),t.select("button.close").attr("class","hide"),a};return i.message=function(a){return arguments.length?(r=a,i):r},i.blocking=function(a){return arguments.length?(n=a,i):n},i.close=function(){t.remove()},i.isShown=function(){return t&&!t.empty()&&t.node().parentNode},i}function Yu(e){var t=be("reset","change","merge","restore","undone","redone","storage_error"),r=cd("lock"),n=r.lock()&&!!pe(g("saved_history")),i=150,a=[],o=[],s={},l,u,c,d;function p(x,_){x=Array.prototype.slice.call(x);var y;typeof x[x.length-1]!="function"&&(y=x.pop());for(var E=u[c].graph,k=0;k<x.length;k++)E=x[k](E,_);return{graph:E,annotation:y,imageryUsed:a,photoOverlaysUsed:o,transform:e.projection.transform(),selectedIDs:e.selectedIDs()}}function m(x,_){var y=u[c].graph;u=u.slice(0,c+1);var E=p(x,_);return u.push(E),c++,h(y)}function w(x,_){var y=u[c].graph,E=p(x,_);return u[c]=E,h(y)}function b(x,_){var y=u[c].graph;c>0&&(c--,u.pop()),u=u.slice(0,c+1);var E=p(x,_);return u.push(E),c++,h(y)}function h(x){var _=ua(x,v.graph());return l||t.call("change",this,_),_}function g(x){return"iD_"+window.location.origin+"_"+x}var v={graph:function(){return u[c].graph},tree:function(){return d},base:function(){return u[0].graph},peekAnnotation:function(){return u[c].annotation},peekAllAnnotations:function(){for(var _=[],y=0;y<=c;y++)u[y].annotation&&_.push(u[y].annotation);return _},merge:function(_){var y=u.map(function(E){return E.graph});u[0].graph.rebase(_,y,!1),d.rebase(_,!1),t.call("merge",this,_)},perform:function(){G(document).interrupt("history.perform");var _=!1,y=arguments[0];if((arguments.length===1||arguments.length===2&&typeof arguments[1]!="function")&&(_=!!y.transitionable),_){var E=arguments;G(document).transition("history.perform").duration(i).ease(Ql).tween("history.tween",function(){return function(k){k<1&&b([y],k)}}).on("start",function(){m([y],0)}).on("end interrupt",function(){b(E,1)})}else return m(arguments)},replace:function(){return G(document).interrupt("history.perform"),w(arguments,1)},overwrite:function(){return G(document).interrupt("history.perform"),b(arguments,1)},pop:function(_){G(document).interrupt("history.perform");var y=u[c].graph;for((isNaN(+_)||+_<0)&&(_=1);_-- >0&&c>0;)c--,u.pop();return h(y)},undo:function(){G(document).interrupt("history.perform");for(var _=u[c],y=_.graph;c>0&&(c--,!u[c].annotation););return t.call("undone",this,u[c],_),h(y)},redo:function(){G(document).interrupt("history.perform");for(var _=u[c],y=_.graph,E=c;E<u.length-1;)if(E++,u[E].annotation){c=E,t.call("redone",this,u[c],_);break}return h(y)},pauseChangeDispatch:function(){l||(l=u[c].graph)},resumeChangeDispatch:function(){if(l){var _=l;return l=null,h(_)}},undoAnnotation:function(){for(var _=c;_>=0;){if(u[_].annotation)return u[_].annotation;_--}},redoAnnotation:function(){for(var _=c+1;_<=u.length-1;){if(u[_].annotation)return u[_].annotation;_++}},intersects:function(_){return d.intersects(_,u[c].graph)},difference:function(){var _=u[0].graph,y=u[c].graph;return ua(_,y)},changes:function(_){var y=u[0].graph,E=u[c].graph;_&&(E=_(E));var k=ua(y,E);return{modified:k.modified(),created:k.created(),deleted:k.deleted()}},hasChanges:function(){return this.difference().length()>0},imageryUsed:function(_){if(_)return a=_,v;var y=new Set;return u.slice(1,c+1).forEach(function(E){E.imageryUsed.forEach(function(k){k!=="Custom"&&y.add(k)})}),Array.from(y)},photoOverlaysUsed:function(_){if(_)return o=_,v;var y=new Set;return u.slice(1,c+1).forEach(function(E){E.photoOverlaysUsed&&Array.isArray(E.photoOverlaysUsed)&&E.photoOverlaysUsed.forEach(function(k){y.add(k)})}),Array.from(y)},checkpoint:function(_){return s[_]={stack:u,index:c},v},reset:function(_){return _!==void 0&&s.hasOwnProperty(_)?(u=s[_].stack,c=s[_].index):(u=[{graph:dr()}],c=0,d=zi(u[0].graph),s={}),t.call("reset"),t.call("change"),t.call("restore"),v},toIntroGraph:function(){var _={n:0,r:0,w:0},y={},E=this.graph(),k={};return Object.values(E.base().entities).forEach(function(C){var D=A(C);k[D.id]=D}),Object.keys(E.entities).forEach(function(C){var D=E.entities[C];if(D){var S=A(D);k[S.id]=S}else delete k[C]}),Object.values(k).forEach(function(C){Array.isArray(C.nodes)&&(C.nodes=C.nodes.map(function(D){return y[D]||D})),Array.isArray(C.members)&&(C.members=C.members.map(function(D){return D.id=y[D.id]||D.id,D}))}),JSON.stringify({dataIntroGraph:k});function A(C){var D=Ln(C,["type","user","v","version","visible"]);D.tags&&!Object.keys(D.tags)&&delete D.tags,Array.isArray(D.loc)&&(D.loc[0]=+D.loc[0].toFixed(6),D.loc[1]=+D.loc[1].toFixed(6));var S=C.id.match(/([nrw])-\d*/);if(S!==null){var N=S[1],R;do R=N+ ++_[N];while(k.hasOwnProperty(R));D.id=y[C.id]=R}return D}},toJSON:function(){if(!!this.hasChanges()){var _={},y={},E=u[0],k=u.map(function(A){var C=[],D=[];Object.keys(A.graph.entities).forEach(function(N){var R=A.graph.entities[N];if(R){var P=Me.key(R);_[P]=R,C.push(P)}else D.push(N);N in E.graph.entities&&(y[N]=E.graph.entities[N]),R&&R.nodes&&R.nodes.forEach(function(B){B in E.graph.entities&&(y[B]=E.graph.entities[B])});var L=E.graph._parentWays[N];L&&L.forEach(function(B){B in E.graph.entities&&(y[B]=E.graph.entities[B])})});var S={};return C.length&&(S.modified=C),D.length&&(S.deleted=D),A.imageryUsed&&(S.imageryUsed=A.imageryUsed),A.photoOverlaysUsed&&(S.photoOverlaysUsed=A.photoOverlaysUsed),A.annotation&&(S.annotation=A.annotation),A.transform&&(S.transform=A.transform),A.selectedIDs&&(S.selectedIDs=A.selectedIDs),S});return JSON.stringify({version:3,entities:Object.values(_),baseEntities:Object.values(y),stack:k,nextIDs:Me.id.next,index:c,timestamp:new Date().getTime()})}},fromJSON:function(_,y){var E=JSON.parse(_),k=!0;if(Me.id.next=E.nextIDs,c=E.index,E.version===2||E.version===3){var A={};if(E.entities.forEach(function(U){A[Me.key(U)]=Me(U)}),E.version===3){var C=E.baseEntities.map(function(U){return Me(U)}),D=u.map(function(U){return U.graph});if(u[0].graph.rebase(C,D,!0),d.rebase(C,!0),y){var S=e.connection(),N=C.filter(function(U){return U.type==="way"}),R=N.reduce(function(U,T){return Yt(U,T.nodes)},[]),P=R.filter(function(U){return!u[0].graph.hasEntity(U)});if(P.length&&S){k=!1,e.map().redrawEnable(!1);var L=Pa(e).blocking(!0);e.container().call(L);var B=function U(T,M){if(!T){var I=ar(M.data,"visible"),z=I.true||[],q=I.false||[];if(z.length){var V=z.map(function(ee){return ee.id}),Y=u.map(function(ee){return ee.graph});P=vr(P,V),u[0].graph.rebase(z,Y,!0),d.rebase(z,!0)}q.forEach(function(ee){S.loadEntityVersion(ee.id,+ee.version-1,U)})}(T||!P.length)&&(L.close(),e.map().redrawEnable(!0),t.call("change"),t.call("restore",this))};S.loadMultiple(P,B)}}}u=E.stack.map(function(U){var T={},M;if(U.modified&&U.modified.forEach(function(q){M=A[q],T[M.id]=M}),U.deleted&&U.deleted.forEach(function(q){T[q]=void 0}),U.annotation&&U.annotation.type==="rapid_accept_feature"){var I=e.rapidContext(),z=U.annotation.source;I.sources.add("mapwithai"),z&&/^esri/.test(z)&&I.sources.add("esri")}return{graph:dr(u[0].graph).load(T),annotation:U.annotation,imageryUsed:U.imageryUsed,photoOverlaysUsed:U.photoOverlaysUsed,transform:U.transform,selectedIDs:U.selectedIDs}})}else u=E.stack.map(function(U){var T={};for(var M in U.entities){var I=U.entities[M];T[M]=I==="undefined"?void 0:Me(I)}return U.graph=dr(u[0].graph).load(T),U});var O=u[c].transform;return O&&e.map().transformEase(O,0),k&&(t.call("change"),t.call("restore",this)),v},lock:function(){return r.lock()},unlock:function(){r.unlock()},save:function(){if(r.locked()&&!n){var _=pe(g("saved_history"),v.toJSON()||null);_||t.call("storage_error")}return v},clearSaved:function(){return e.debouncedSave.cancel(),r.locked()&&(n=!1,pe(g("saved_history"),null),pe("comment",null),pe("hashtags",null),pe("source",null)),v},savedHistoryJSON:function(){return pe(g("saved_history"))},hasRestorableChanges:function(){return n},restore:function(){if(r.locked()){n=!1;var _=this.savedHistoryJSON();_&&v.fromJSON(_,!0)}},_getKey:g};return v.reset(),ke(v,t,"on")}var u8={};t7(u8,{validationAlmostJunction:function(){return Bc},validationCloseNodes:function(){return Rc},validationCrossingWays:function(){return Lc},validationDisconnectedWay:function(){return jc},validationDuplicateWaySegments:function(){return zc},validationFormatting:function(){return Uc},validationHelpRequest:function(){return qc},validationImpossibleOneway:function(){return Qc},validationIncompatibleSource:function(){return Gc},validationMaprules:function(){return Hc},validationMismatchedGeometry:function(){return Wc},validationMissingRole:function(){return Vc},validationMissingTag:function(){return Kc},validationOutdatedTags:function(){return Yc},validationPrivateData:function(){return Zc},validationSuspiciousName:function(){return s8},validationUnsquareWay:function(){return l8},validationYShapedConnection:function(){return o8}});An();function mt(e){this.type=e.type,this.subtype=e.subtype,this.severity=e.severity,this.message=e.message,this.reference=e.reference,this.entityIds=e.entityIds,this.loc=e.loc,this.data=e.data,this.dynamicFixes=e.dynamicFixes,this.hash=e.hash,this.id=t.apply(this),this.key=r.apply(this),this.autoArgs=e.autoArgs;function t(){var n=[this.type];if(this.hash&&n.push(this.hash),this.subtype&&n.push(this.subtype),this.entityIds){var i=this.entityIds.slice().sort();n.push.apply(n,i)}return n.join(":")}function r(){return this.id+":"+Date.now().toString()}this.extent=function(n){return this.loc?new Ne(this.loc):this.entityIds&&this.entityIds.length?St(this.entityIds,n):null},this.fixes=function(n){var i=this.dynamicFixes?this.dynamicFixes(n):[],a=this;return a.severity==="warning"&&i.push(new rt({title:F.html("issues.fix.ignore_issue.title"),icon:"iD-icon-close",onClick:function(){n.validator().ignoreIssue(this.issue.id)}})),i.forEach(function(o){o.id=o.title,o.issue=a}),i}}function rt(e){this.title=e.title,this.onClick=e.onClick,this.disabledReason=e.disabledReason,this.icon=e.icon,this.entityIds=e.entityIds||[],this.issue=null}function Bc(e){var t="almost_junction",r=5,n=.75,i=r-n,a=Math.atan(n/r);function o(u){return u.type==="way"&&ci[u.tags.highway]}function s(u){return u.tags.noexit==="yes"||u.tags.amenity==="parking_entrance"||u.tags.entrance&&u.tags.entrance!=="no"}var l=function(c,d){if(!o(c))return[];if(c.isDegenerate())return[];var p=e.history().tree(),m=v(c),w=[];return m.forEach(function(A){w.push(new mt({type:t,subtype:"highway-highway",severity:"warning",message:function(D){var S=D.hasEntity(this.entityIds[0]);if(this.entityIds[0]===this.entityIds[2])return S?F.html("issues.almost_junction.self.message",{feature:lt(S,D.graph())}):"";var N=D.hasEntity(this.entityIds[2]);return S&&N?F.html("issues.almost_junction.message",{feature:lt(S,D.graph()),feature2:lt(N,D.graph())}):""},reference:h,entityIds:[c.id,A.node.id,A.wid],loc:A.node.loc,hash:JSON.stringify(A.node.loc),data:{midId:A.mid.id,edge:A.edge,cross_loc:A.cross_loc},dynamicFixes:b}))}),w;function b(A){var C=[new rt({icon:"iD-icon-abutment",title:F.html("issues.fix.connect_features.title"),onClick:function(N){var R=F("issues.fix.connect_almost_junction.annotation"),P=xt(this.issue.entityIds,3),L=P[1],B=P[2],O=N.entity(this.issue.data.midId),U=N.entity(L),T=N.entity(B),M=x(U,T);if(M.length>0){var I=_(O,U,M);if(I){N.perform(ti([I.id,U.id],I.loc),R);return}}var z=this.issue.data.edge,q=this.issue.data.cross_loc,V=[N.entity(z[0]),N.entity(z[1])],Y=V.map(function(ie){return ie.loc}),ee=O2(Y,q);ee.distance<n?N.perform(ti([ee.id,U.id],ee.loc),R):N.perform(Sr({loc:q,edge:z},U),R)}})],D=A.hasEntity(this.entityIds[1]);return D&&!D.hasInterestingTags()&&C.push(new rt({icon:"maki-barrier",title:F.html("issues.fix.tag_as_disconnected.title"),onClick:function(N){var R=this.issue.entityIds[1],P=Object.assign({},N.entity(R).tags);P.noexit="yes",N.perform(Qt(R,P),F("issues.fix.tag_as_disconnected.annotation"))}})),C}function h(A){A.selectAll(".issue-reference").data([0]).enter().append("div").attr("class","issue-reference").html(F.html("issues.almost_junction.highway-highway.reference"))}function g(A,C){var D=ue.osm;if(D&&!D.isDataLoaded(A.loc)||s(A)||d.parentWays(A).length!==1)return!1;var S=0;for(var N in C.nodes)if(C.nodes[N]===A.id&&(S+=1,S>1))return!1;return!0}function v(A){var C=[];if(A.isClosed())return C;var D,S=[0,A.nodes.length-1];return S.forEach(function(N){var R=A.nodes[N],P=d.entity(R);if(!!g(P,A)){var L=k(A,N);!L||(D=d.childNodes(A).slice(),D[N]=D[N].move(L.cross_loc),!wi(D,R)&&C.push(L))}}),C}function x(A,C){return[C.nodes[0],C.nodes[C.nodes.length-1]].map(function(D){return d.entity(D)}).filter(function(D){return D.id!==A.id&&bt(A.loc,D.loc)<=i})}function _(A,C,D){var S,N=1/0;return D.forEach(function(R){var P=e.projection(A.loc),L=e.projection(C.loc),B=e.projection(R.loc),O=pr(P,L)+Math.PI,U=pr(P,B)+Math.PI,T=Math.max(O,U)-Math.min(O,U);T<N&&(S=R,N=T)}),N<=a?S:null}function y(A,C){return A[C]!==void 0&&A[C]!=="no"}function E(A,C){if(A.id===C.id)return!0;if((y(A.tags,"bridge")||y(C.tags,"bridge"))&&!(y(A.tags,"bridge")&&y(C.tags,"bridge"))||(y(A.tags,"tunnel")||y(C.tags,"tunnel"))&&!(y(A.tags,"tunnel")&&y(C.tags,"tunnel")))return!1;var D=A.tags.layer||"0",S=C.tags.layer||"0";if(D!==S)return!1;var N=A.tags.level||"0",R=C.tags.level||"0";return N===R}function k(A,C){for(var D=A.nodes[C],S=C===0?A.nodes[1]:A.nodes[A.nodes.length-2],N=d.entity(D),R=d.entity(S),P=N.loc[0],L=N.loc[1],B=ln(r,L)/2,O=Sn(r)/2,U=new Ne([P-B,L-O],[P+B,L+O]),T=bt(R.loc,N.loc),M=r/T+1,I=jt(R.loc,N.loc,M),z=p.waySegments(U,d),q=0;q<z.length;q++){var V=z[q],Y=d.entity(V.wayId);if(!!o(Y)&&!!E(A,Y)){var ee=V.nodes[0],ie=V.nodes[1];if(!(ee===D||ie===D)){var se=d.entity(ee),ve=d.entity(ie),le=Oi([N.loc,I],[se.loc,ve.loc]);if(le)return{mid:R,node:N,wid:Y.id,edge:[se.id,ve.id],cross_loc:le}}}}return null}};return l.type=t,l}function Rc(e){var t="close_nodes",r=.5,n=function(a,o){if(a.type==="node")return s(a);if(a.type==="way")return c(a);return[];function s(b){var h=o.parentWays(b);return h.length?d(b,h):m(b)}function l(b){if(b.tags.boundary&&b.tags.boundary!=="no")return"boundary";if(b.tags.indoor&&b.tags.indoor!=="no")return"indoor";if(b.tags.building&&b.tags.building!=="no"||b.tags["building:part"]&&b.tags["building:part"]!=="no")return"building";if(ka[b.tags.highway])return"path";var h=o.parentRelations(b);for(var g in h){var v=h[g];if(v.tags.type==="boundary")return"boundary";if(v.isMultipolygon()){if(v.tags.indoor&&v.tags.indoor!=="no")return"indoor";if(v.tags.building&&v.tags.building!=="no"||v.tags["building:part"]&&v.tags["building:part"]!=="no")return"building"}}return"other"}function u(b){if(b.nodes.length<=2||b.isClosed()&&b.nodes.length<=4)return!1;var h=b.extent(o).bbox(),g=bt([h.minX,h.minY],[h.maxX,h.maxY]);return!(g<1.5)}function c(b){if(!u(b))return[];for(var h=[],g=o.childNodes(b),v=0;v<g.length-1;v++){var x=g[v],_=g[v+1],y=w(x,_,b);y&&h.push(y)}return h}function d(b,h){var g=[];function v(k,A,C){var D=w(k,A,C);D&&g.push(D)}for(var x=0;x<h.length;x++){var _=h[x];if(!!u(_))for(var y=_.nodes.length-1,E=0;E<_.nodes.length;E++)E!==0&&_.nodes[E-1]===b.id&&v(b,o.entity(_.nodes[E]),_),E!==y&&_.nodes[E+1]===b.id&&v(o.entity(_.nodes[E]),b,_)}return g}function p(b){if(!u(b))return 0;var h=l(b);return h==="boundary"?0:h==="indoor"?.01:h==="building"?.05:h==="path"?.1:.2}function m(b){for(var h=[],g=b.loc[0],v=b.loc[1],x=ln(r,v)/2,_=Sn(r)/2,y=new Ne([g-x,v-_],[g+x,v+_]),E=e.history().tree().intersects(y,o),k=0;k<E.length;k++){var A=E[k];if(A.id!==b.id&&!(A.type!=="node"||A.geometry(o)!=="point")&&(A.loc===b.loc||bt(b.loc,A.loc)<r)){var C={layer:!0,level:!0,"addr:unit":!0},D=!1;for(var S in C){var N=b.tags[S]||"0",R=A.tags[S]||"0";if(N!==R){D=!0;break}}if(D)continue;h.push(new mt({type:t,subtype:"detached",severity:"warning",message:function(B){var O=B.hasEntity(this.entityIds[0]),U=B.hasEntity(this.entityIds[1]);return O&&U?F.html("issues.close_nodes.detached.message",{feature:lt(O,B.graph()),feature2:lt(U,B.graph())}):""},reference:P,entityIds:[b.id,A.id],dynamicFixes:function(){return[new rt({icon:"iD-operation-disconnect",title:F.html("issues.fix.move_points_apart.title")}),new rt({icon:"iD-icon-layers",title:F.html("issues.fix.use_different_layers_or_levels.title")})]}}))}}return h;function P(L){var B=F("issues.close_nodes.detached.reference");L.selectAll(".issue-reference").data([0]).enter().append("div").attr("class","issue-reference").html(B)}}function w(b,h,g){if(b.id===h.id||b.hasInterestingTags()&&h.hasInterestingTags())return null;if(b.loc!==h.loc){var v=o.parentWays(b),x=new Set(o.parentWays(h)),_=v.filter(function(C){return x.has(C)}),y=_.map(function(C){return p(C)}),E=Math.min.apply(Math,$t(y)),k=bt(b.loc,h.loc);if(k>E)return null}return new mt({type:t,subtype:"vertices",severity:"warning",message:function(D){var S=D.hasEntity(this.entityIds[0]);return S?F.html("issues.close_nodes.message",{way:lt(S,D.graph())}):""},reference:A,entityIds:[g.id,b.id,h.id],loc:b.loc,dynamicFixes:function(){return[new rt({icon:"iD-icon-plus",title:F.html("issues.fix.merge_points.title"),onClick:function(S){var N=this.issue.entityIds,R=ti([N[1],N[2]]);S.perform(R,F("issues.fix.merge_close_vertices.annotation"))}}),new rt({icon:"iD-operation-disconnect",title:F.html("issues.fix.move_points_apart.title")})]}});function A(C){var D=F("issues.close_nodes.reference");C.selectAll(".issue-reference").data([0]).enter().append("div").attr("class","issue-reference").html(D)}}};return n.type=t,n}function Lc(e){var t="crossing_ways";function r(y,E){if(l(y,E)===null)for(var k=E.parentRelations(y),A=0;A<k.length;A++){var C=k[A];if(l(C,E)!==null)return C}return y}function n(y,E){return y[E]!==void 0&&y[E]!=="no"}function i(y){return n(y,"indoor")||n(y,"level")||y.highway==="corridor"}function a(y){return y==="highway"||y==="railway"||y==="waterway"}function o(y){return y==="highway"||y==="railway"||y==="waterway"}var s={demolished:!0,dismantled:!0,proposed:!0,razed:!0};function l(y,E){var k=y.geometry(E);if(k!=="line"&&k!=="area")return null;var A=y.tags;return n(A,"building")&&!s[A.building]?"building":n(A,"highway")&&ci[A.highway]?"highway":k!=="line"?null:n(A,"railway")&&J0[A.railway]?"railway":n(A,"waterway")&&L1[A.waterway]?"waterway":null}function u(y,E,k,A){var C=y.level||"0",D=k.level||"0";if(i(y)&&i(k)&&C!==D)return!0;var S=y.layer||"0",N=k.layer||"0";if(a(E)&&a(A)){if(n(y,"bridge")&&!n(k,"bridge")||!n(y,"bridge")&&n(k,"bridge")||n(y,"bridge")&&n(k,"bridge")&&S!==N)return!0}else{if(a(E)&&n(y,"bridge"))return!0;if(a(A)&&n(k,"bridge"))return!0}if(o(E)&&o(A)){if(n(y,"tunnel")&&!n(k,"tunnel")||!n(y,"tunnel")&&n(k,"tunnel")||n(y,"tunnel")&&n(k,"tunnel")&&S!==N)return!0}else{if(o(E)&&n(y,"tunnel"))return!0;if(o(A)&&n(k,"tunnel"))return!0}return E==="waterway"&&A==="highway"&&k.man_made==="pier"||A==="waterway"&&E==="highway"&&y.man_made==="pier"||(E==="building"||A==="building")&&S!==N}var c={motorway:!0,motorway_link:!0,trunk:!0,trunk_link:!0,primary:!0,primary_link:!0,secondary:!0,secondary_link:!0},d={track:!0};function p(y,E,k){var A=l(y,k),C=l(E,k),D=y.geometry(k),S=E.geometry(k),N=D==="line"&&S==="line";if(A===C){if(A==="highway"){var R=ka[y.tags.highway],P=ka[E.tags.highway];if((R||P)&&R!==P){var L=R?E:y;if(d[L.tags.highway])return{};var B=R?y:E;return["marked","unmarked"].indexOf(B.tags.crossing)!==-1?N?{highway:"crossing",crossing:B.tags.crossing}:{}:N?{highway:"crossing"}:{}}return{}}if(A==="waterway")return{};if(A==="railway")return{}}else{var O=[A,C];if(O.indexOf("highway")!==-1){if(O.indexOf("railway")!==-1){if(!N)return{};var U=y.tags.railway==="tram"||E.tags.railway==="tram";return ka[y.tags.highway]||ka[E.tags.highway]?U?{railway:"tram_crossing"}:{railway:"crossing"}:U?{railway:"tram_level_crossing"}:{railway:"level_crossing"}}if(O.indexOf("waterway")!==-1)return n(y.tags,"tunnel")&&n(E.tags,"tunnel")||n(y.tags,"bridge")&&n(E.tags,"bridge")||c[y.tags.highway]||c[E.tags.highway]?null:N?{ford:"yes"}:{}}}return null}function m(y,E,k){var A=[];if(y.type!=="way")return A;var C=r(y,E),D=l(C,E);if(D===null)return A;var S={},N,R,P,L,B,O,U,T,M,I,z,q,V,Y,ee,ie,se,ve=E.childNodes(y),le={};for(N=0;N<ve.length-1;N++)for(L=ve[N],B=ve[N+1],P=new Ne([Math.min(L.loc[0],B.loc[0]),Math.min(L.loc[1],B.loc[1])],[Math.max(L.loc[0],B.loc[0]),Math.max(L.loc[1],B.loc[1])]),V=k.waySegments(P,E),R=0;R<V.length;R++)if(Y=V[R],Y.wayId!==y.id&&!S[Y.wayId]&&(le[Y.wayId]=!0,ee=E.hasEntity(Y.wayId),!!ee&&(ie=r(ee,E),se=l(ie,E),!(se===null||u(C.tags,D,ie.tags,se))&&(q=D==="building"||se==="building",T=Y.nodes[0],M=Y.nodes[1],!(T===L.id||T===B.id||M===L.id||M===B.id)&&(O=E.hasEntity(T),!!O&&(U=E.hasEntity(M),!!U)))))){I=[L.loc,B.loc],z=[O.loc,U.loc];var re=Oi(I,z);if(re&&(A.push({wayInfos:[{way:y,featureType:D,edge:[L.id,B.id]},{way:ee,featureType:se,edge:[O.id,U.id]}],crossPoint:re}),q)){S[ee.id]=!0;break}}return A}function w(y,E){var k=l(y,E);return k?y.type==="way"?[y]:y.type==="relation"?y.members.reduce(function(A,C){if(C.type==="way"&&(!C.role||C.role==="outer"||C.role==="inner")){var D=E.hasEntity(C.id);D&&A.indexOf(D)===-1&&A.push(D)}return A},[]):[]:[]}var b=function(E,k){var A=e.history().tree(),C=w(E,k),D=[],S,N,R;for(S in C){R=m(C[S],k,A);for(N in R)D.push(h(R[N],k))}return D};function h(y,E){y.wayInfos.sort(function(M,I){var z=M.featureType,q=I.featureType;return z===q?lt(M.way,E)>lt(I.way,E):z==="waterway"?!0:q==="waterway"?!1:z<q});var k=y.wayInfos.map(function(M){return r(M.way,E)}),A=[y.wayInfos[0].edge,y.wayInfos[1].edge],C=[y.wayInfos[0].featureType,y.wayInfos[1].featureType],D=p(k[0],k[1],E),S=y.wayInfos[0].featureType,N=y.wayInfos[1].featureType,R=i(k[0].tags)&&i(k[1].tags),P=o(S)&&n(k[0].tags,"tunnel")&&o(N)&&n(k[1].tags,"tunnel"),L=a(S)&&n(k[0].tags,"bridge")&&a(N)&&n(k[1].tags,"bridge"),B=[S,N].sort().join("-"),O=B;R?O="indoor-indoor":P?O="tunnel-tunnel":L&&(O="bridge-bridge"),D&&(R||P||L)&&(O+="_connectable");var U=""+y.crossPoint[0].toFixed(4)+","+y.crossPoint[1].toFixed(4);return new mt({type:t,subtype:B,severity:"warning",message:function(I){var z=I.graph(),q=z.hasEntity(this.entityIds[0]),V=z.hasEntity(this.entityIds[1]);return q&&V?F.html("issues.crossing_ways.message",{feature:lt(q,z),feature2:lt(V,z)}):""},reference:T,entityIds:k.map(function(M){return M.id}),data:{edges:A,featureTypes:C,connectionTags:D},hash:U,loc:y.crossPoint,autoArgs:D&&!D.ford&&v(y.crossPoint,A,D),dynamicFixes:function(I){var z=I.mode();if(!z||z.id!=="select"||z.selectedIDs().length!==1)return[];var q=this.entityIds[0]===z.selectedIDs()[0]?0:1,V=this.data.featureTypes[q],Y=this.data.featureTypes[q===0?1:0],ee=[];if(D&&ee.push(x(this.data.connectionTags)),R)ee.push(new rt({icon:"iD-icon-layers",title:F.html("issues.fix.use_different_levels.title")}));else if(P||L||S==="building"||N==="building")ee.push(_("higher")),ee.push(_("lower"));else if(I.graph().geometry(this.entityIds[0])==="line"&&I.graph().geometry(this.entityIds[1])==="line"){a(V)&&V!=="waterway"&&ee.push(g("add_a_bridge","temaki-bridge","bridge"));var ie=Y==="waterway"&&V!=="waterway";o(V)&&!ie&&ee.push(g("add_a_tunnel","temaki-tunnel","tunnel"))}return ee.push(new rt({icon:"iD-operation-move",title:F.html("issues.fix.reposition_features.title")})),ee}});function T(M){M.selectAll(".issue-reference").data([0]).enter().append("div").attr("class","issue-reference").html(F.html("issues.crossing_ways."+O+".reference"))}}function g(y,E,k){return new rt({icon:E,title:F.html("issues.fix."+y+".title"),onClick:function(C){var D=C.mode();if(!(!D||D.id!=="select")){var S=D.selectedIDs();if(S.length===1){var N=S[0];if(!!C.hasEntity(N)){var R=[N],P,L,B;this.issue.entityIds[0]===N?(P=this.issue.data.edges[0],L=this.issue.data.edges[1],B=this.issue.entityIds[1]):(P=this.issue.data.edges[1],L=this.issue.data.edges[0],B=this.issue.entityIds[0]);var O=this.issue.loc,U=C.projection,T=function(I){var z=[I.entity(P[0]),I.entity(P[1])],q=I.hasEntity(B),V=q&&q.tags.width&&parseFloat(q.tags.width);V||(V=q&&q.impliedLineWidthMeters()),V?l(q,I)==="railway"&&(V*=2):V=8;var Y=pr(U(z[0].loc),U(z[1].loc))+Math.PI,ee=pr(U(I.entity(L[0]).loc),U(I.entity(L[1]).loc))+Math.PI,ie=Math.max(Y,ee)-Math.min(Y,ee);ie>Math.PI&&(ie-=Math.PI),V=V/2/Math.sin(ie)*2,V+=4,V=Math.min(Math.max(V,4),50);function se(de){return[vl(de[0],de[1]),a9(de[1])]}function ve(de){var xe=Sn(de[1]);return[ln(de[0],xe),xe]}var le=se(z[0].loc),re=se(z[1].loc),Ae=pr(le,re),ae=se(O),he=it(le,re)/bt(z[0].loc,z[1].loc);function Ce(de,xe){var Oe=xe*he;return ve([ae[0]+Math.cos(de)*Oe,ae[1]+Math.sin(de)*Oe])}var Te=function(xe){return Ce(Ae,xe)},$=function(xe){return Ce(Ae+Math.PI,xe)},W=.55;function Q(de,xe,Oe){var Be,Ge=V/2,nt=bt(O,xe.loc);if(nt-Ge>W){var Ye=Oe(Ge);Be=ut(),I=Sr({loc:Ye,edge:de},Be)(I)}else{var We=0;if(xe.parentIntersectionWays(I).forEach(function(yt){yt.nodes.forEach(function(Tt){Tt===xe.id&&(xe.id===yt.first()&&xe.id!==yt.last()||xe.id===yt.last()&&xe.id!==yt.first()?We+=1:We+=2)})}),We>=3){var Ke=nt-W;if(Ke>W){var ft=Oe(Ke);Be=ut(),I=Sr({loc:ft,edge:de},Be)(I)}}}Be||(Be=xe);var wt=Oa([Be.id]).limitWays(R);return I=wt(I),wt.getCreatedWayIDs().length&&R.push(wt.getCreatedWayIDs()[0]),Be}var H=Q(P,z[1],Te),K=Q([z[0].id,H.id],z[0],$),Z=R.map(function(de){return I.entity(de)}).find(function(de){return de.nodes.indexOf(H.id)!==-1&&de.nodes.indexOf(K.id)!==-1}),te=Object.assign({},Z.tags);if(k==="bridge")te.bridge="yes",te.layer="1";else{var fe="yes";l(Z,I)==="waterway"&&(fe="culvert"),te.tunnel=fe,te.layer="-1"}return I=Qt(Z.id,te)(I),I};C.perform(T,F("issues.fix."+y+".annotation")),C.enter(Le(C,R))}}}}})}function v(y,E,k){var A=function(D){var S=!1,N=ut({loc:y,tags:k}),R=D.replace(N),P=[N.id],L=.75;return E.forEach(function(B){var O=R.hasEntity(B[0]),U=R.hasEntity(B[1]);if(!(!O||!U)){var T=!1,M=[O,U],I=O2([O.loc,U.loc],y);if(I&&I.distance<L){var z=M[I.index];(!z.hasInterestingTags()||z.isCrossing())&&(T=!0,P.push(z.id))}T||(R=Sr({loc:y,edge:B},N)(R),S=!0)}}),P.length>1&&(R=ti(P,y)(R),S=!0),S?R:D};return[A,F("issues.fix.connect_crossing_features.annotation")]}function x(y){var E="connect_features";return y.ford&&(E="connect_using_ford"),new rt({icon:"iD-icon-crossing",title:F.html("issues.fix."+E+".title"),onClick:function(A){var C=this.issue.loc,D=this.issue.data.edges,S=this.issue.data.connectionTags,N=v(C,D,S);A.perform(N[0],N[1])}})}function _(y){return new rt({icon:"iD-icon-"+(y==="higher"?"up":"down"),title:F.html("issues.fix.tag_this_as_"+y+".title"),onClick:function(k){var A=k.mode();if(!(!A||A.id!=="select")){var C=A.selectedIDs();if(C.length===1){var D=C[0];if(!!this.issue.entityIds.some(function(P){return P===D})){var S=k.hasEntity(D);if(!!S){var N=Object.assign({},S.tags),R=N.layer&&Number(N.layer);R&&!isNaN(R)?y==="higher"?R+=1:R-=1:y==="higher"?R=1:R=-1,N.layer=R.toString(),k.perform(Qt(S.id,N),F("operations.change_tags.annotation"))}}}}}})}return b.type=t,b}An();function Os(e,t,r,n){var i=Re("drawWay"),a=be("rejectedSelfIntersection"),o=sa(e),s,l,u,c,d,p=!1,m,w=!1;function b(P){m=ut({loc:P}),e.pauseChangeDispatch(),e.replace(function(B){var O=B.entity(t);return B.replace(m).replace(O.addNode(m.id,s))},d),e.resumeChangeDispatch(),A()}function h(){e.pauseChangeDispatch(),e.replace(function(L){var B=L.entity(t);return L.replace(B.removeNode(m.id)).remove(m)},d),m=void 0,e.resumeChangeDispatch()}function g(P){P.keyCode===Re.modifierCodes.alt&&(e.surface().classed("nope")&&e.surface().classed("nope-suppressed",!0),e.surface().classed("nope",!1).classed("nope-disabled",!0))}function v(P){P.keyCode===Re.modifierCodes.alt&&(e.surface().classed("nope-suppressed")&&e.surface().classed("nope",!0),e.surface().classed("nope-suppressed",!1).classed("nope-disabled",!1))}function x(P){return P.geometry(e.graph())==="vertex"||Ie.allowsVertex(P,e.graph())}function _(P,L){var B=e.map().mouseCoordinates();m||b(B),e.surface().classed("nope-disabled",P.altKey);var O=L&&L.properties&&L.properties.entity&&x(L.properties.entity)&&L.properties.entity.loc,U=L&&L.properties&&L.properties.nodes;if(O)B=O;else if(U){var T=Zr(U,e.map().mouse(),e.projection,m.id);T&&(B=T.loc)}e.replace(wo(m.id,B),d),m=e.entity(m.id),y(!0)}function y(P){var L=e.surface().classed("nope-disabled"),B=E(P);L?e.surface().classed("nope",!1).classed("nope-suppressed",B):e.surface().classed("nope",B).classed("nope-suppressed",!1)}function E(P){var L=m,B=e.graph().entity(t),O=e.graph().childNodes(B).slice();if(P)B.isClosed()&&O.pop();else if(B.isClosed()){if(O.length<3)return!1;m&&O.splice(-2,1),L=O[O.length-2]}else return!1;return L&&wi(O,L.id)}function k(){w=!0,e.pauseChangeDispatch();var P;e.graph()===n?P=Le(e,[t]):(e.pop(1),P=r),e.perform(Fr()),e.pop(1),e.resumeChangeDispatch(),e.enter(P)}function A(){!m||e.surface().selectAll("."+m.id).classed("active",!0)}function C(){for(;e.graph()!==n;)e.pop()}var D=function P(L){m=void 0,w=!1,l=e.entity(t),typeof s=="number"?c=l.nodes[s]:l.isClosed()?c=l.nodes[l.nodes.length-2]:c=l.nodes[l.nodes.length-1],u=l.geometry(e.graph()),d=F((l.nodes.length===(l.isClosed()?2:1)?"operations.start.annotation.":"operations.continue.annotation.")+u),p=!1,e.pauseChangeDispatch(),e.perform(Fr(),d),e.resumeChangeDispatch(),o.hover().initialNodeID(c),o.on("move",function(){p=!0,_.apply(this,arguments)}).on("down",function(){_.apply(this,arguments)}).on("downcancel",function(){m&&h()}).on("click",P.add).on("clickWay",P.addWay).on("clickNode",P.addNode).on("undo",e.undo).on("cancel",P.cancel).on("finish",P.finish),G(window).on("keydown.drawWay",g).on("keyup.drawWay",v),e.map().dblclickZoomEnable(!1).on("drawn.draw",A),A(),L.call(o),e.history().on("undone.draw",k)};D.off=function(P){w||(e.pauseChangeDispatch(),C(),e.resumeChangeDispatch()),m=void 0,s=void 0,e.map().on("drawn.draw",null),P.call(o.off).selectAll(".active").classed("active",!1),P.classed("nope",!1).classed("nope-suppressed",!1).classed("nope-disabled",!1),G(window).on("keydown.drawWay",null).on("keyup.drawWay",null),e.history().on("undone.draw",null)};function S(P,L,B){if(m?(e.replace(wo(m.id,L),d),m=e.entity(m.id)):b(L),y(!0),P&&P.properties&&P.properties.nope||e.surface().classed("nope")){p||h(),a.call("rejectedSelfIntersection",this);return}e.pauseChangeDispatch(),B(),w=!0,e.resumeChangeDispatch(),e.enter(r)}D.add=function(P,L){S(L,P,function(){})},D.addWay=function(P,L,B){S(B,P,function(){e.replace(Sr({loc:P,edge:L},m),d)})},D.addNode=function(P,L){if(P.id===c||l.isClosed()&&P.id===l.first()){D.finish();return}S(L,P.loc,function(){e.replace(function(O){return O=O.replace(O.entity(t).removeNode(m.id)).remove(m),O.replace(O.entity(t).addNode(P.id,s))},d)})};function N(P){return P.every(function(L){return L.isClosed()})?"area":P.every(function(L){return!L.isClosed()})?"line":"generic"}function R(){if(!w)try{var P=l.nodes[0]===l.nodes.slice(-1)[0],L=l.nodes.slice(P?-3:-2),B=xt(L,2),O=B[0],U=B[1],T=e.history().graph();if(!U||!O||!T.hasEntity(U)||!T.hasEntity(O)){e.ui().flash.duration(4e3).iconName("#iD-icon-no").label(F("operations.follow.error.needs_more_initial_nodes"))();return}var M=T.parentWays(T.entity(U)).filter(function(ve){return ve.id!==t}),I=T.parentWays(T.entity(O)).filter(function(ve){return ve.id!==t}),z=N(M);if(M.length!==1||I.length===0){e.ui().flash.duration(4e3).iconName("#iD-icon-no").label(F("operations.follow.error.intersection_of_multiple_ways.".concat(z)))();return}if(!I.some(function(ve){return ve.id===M[0].id})){e.ui().flash.duration(4e3).iconName("#iD-icon-no").label(F("operations.follow.error.intersection_of_different_ways.".concat(z)))();return}var q=M[0],V=q.nodes.indexOf(U),Y=q.nodes.indexOf(O),ee=V===q.nodes.length-2&&Y===0,ie=V+(V>Y&&!ee?1:-1);ie===-1&&(ie=Y===1?q.nodes.length-2:1);var se=T.entity(q.nodes[ie]);D.addNode(se,{geometry:{type:"Point",coordinates:se.loc},id:se.id,properties:{target:!0,entity:se}})}catch(ve){e.ui().flash.duration(4e3).iconName("#iD-icon-no").label(F("operations.follow.error.unknown"))()}}return i.on(F("operations.follow.key"),R),G(document).call(i),D.finish=function(){if(y(!1),e.surface().classed("nope")){a.call("rejectedSelfIntersection",this);return}e.pauseChangeDispatch(),e.pop(1),w=!0,e.resumeChangeDispatch();var P=e.hasEntity(t);if(!P||P.isDegenerate()){D.cancel();return}window.setTimeout(function(){e.map().dblclickZoomEnable(!0)},1e3);var L=!r.isContinuing;e.enter(Le(e,[t]).newFeature(L))},D.cancel=function(){e.pauseChangeDispatch(),C(),e.resumeChangeDispatch(),window.setTimeout(function(){e.map().dblclickZoomEnable(!0)},1e3),e.surface().classed("nope",!1).classed("nope-disabled",!1).classed("nope-suppressed",!1),e.enter(De(e))},D.nodeIndex=function(P){return arguments.length?(s=P,D):s},D.activeID=function(){return arguments.length?D:m&&m.id},ke(D,a,"on")}function ki(e,t,r,n,i,a){var o={button:n,id:"draw-line"},s=Os(e,t,o,r).on("rejectedSelfIntersection.modeDrawLine",function(){e.ui().flash.iconName("#iD-icon-no").label(F("self_intersection.error.lines"))()});return o.wayID=t,o.isContinuing=a,o.enter=function(){s.nodeIndex(i==="prefix"?0:void 0),e.install(s)},o.exit=function(){e.uninstall(s)},o.selectedIDs=function(){return[t]},o.activeID=function(){return s&&s.activeID()||[]},o}function jc(){var e="disconnected_way";function t(n){return ci[n.tags.highway]}var r=function(i,a){var o=u(i);if(!o)return[];return[new mt({type:e,subtype:"highway",severity:"warning",message:function(b){var h=this.entityIds.length&&b.hasEntity(this.entityIds[0]),g=h&&lt(h,b.graph());return F.html("issues.disconnected_way.routable.message",{count:this.entityIds.length,highway:g})},reference:l,entityIds:Array.from(o).map(function(w){return w.id}),dynamicFixes:s})];function s(w){var b=[],h=this.entityIds.length===1&&w.hasEntity(this.entityIds[0]);if(h){if(h.type==="way"&&!h.isClosed()){var g=_e.textDirection(),v=m(g,h.first(),"start");v&&b.push(v);var x=m(g,h.last(),"end");x&&b.push(x)}b.length||b.push(new rt({title:F.html("issues.fix.connect_feature.title")})),b.push(new rt({icon:"iD-operation-delete",title:F.html("issues.fix.delete_feature.title"),entityIds:[h.id],onClick:function(y){var E=this.issue.entityIds[0],k=nn(y,[E]);k.disabled()||k()}}))}else b.push(new rt({title:F.html("issues.fix.connect_features.title")}));return b}function l(w){w.selectAll(".issue-reference").data([0]).enter().append("div").attr("class","issue-reference").html(F.html("issues.disconnected_way.routable.reference"))}function u(w){var b=new Set,h=[];function g(E){a.parentWays(E).forEach(function(k){!b.has(k)&&p(k,!1)&&(b.add(k),h.push(k))})}if(w.type==="way"&&p(w,!0))b.add(w),h.push(w);else if(w.type==="node"&&d(w))b.add(w),g(w);else return null;for(;h.length;){var v=h.pop(),x=a.childNodes(v);for(var _ in x){var y=x[_];if(c(y))return null;d(y)&&b.add(y),g(y)}}return b}function c(w){var b=ue.osm;return!!(b&&!b.isDataLoaded(w.loc)||w.tags.entrance&&w.tags.entrance!=="no"||w.tags.amenity==="parking_entrance")}function d(w){return w.tags.highway==="elevator"}function p(w,b){return t(w)||w.tags.route==="ferry"?!0:a.parentRelations(w).some(function(h){return!!(h.tags.type==="route"&&h.tags.route==="ferry"||h.isMultipolygon()&&t(h)&&(!b||h.memberById(w.id).role!=="inner"))})}function m(w,b,h){var g=a.hasEntity(b);if(!g||g.tags.noexit==="yes")return null;var v=h==="start"&&w==="ltr"||h==="end"&&w==="rtl";return new rt({icon:"iD-operation-continue"+(v?"-left":""),title:F.html("issues.fix.continue_from_"+h+".title"),entityIds:[b],onClick:function(_){var y=this.issue.entityIds[0],E=_.hasEntity(y),k=this.entityIds[0],A=_.hasEntity(k);if(!(!E||!A)){var C=_.map();(!_.editable()||!C.trimmedExtent().contains(new Ne(A.loc)))&&C.zoomToEase(A),_.enter(ki(_,y,_.graph(),"line",E.affix(k),!0))}}})}};return r.type=e,r}function zc(){var e="duplicate_way_segments",t=function(n,i){if(n.type==="way")return l(n);return[];function a(c){return c==="highway"||c==="railway"||c==="waterway"}function o(c){return c.isArea()?!1:Object.keys(c.tags).some(a)}function s(c,d,p){var m=i.childNodes(p);return Math.abs(m.findIndex(function(w){return w.id===c.id})-m.findIndex(function(w){return w.id===d.id}))===1}function l(c){var d=[];if(!o(c))return d;for(var p=i.childNodes(c),m=0;m<p.length-1;m++){var w=p[m],b=p[m+1],h=u(w,b,c);h&&d.push(h)}return d}function u(c,d,p){if(c.id===d.id)return null;if(c.loc!==d.loc){var m=i.parentWays(c),w=new Set(i.parentWays(d)),b=m.filter(function(x){return w.has(x)}),h=b.filter(function(x){return o(x)}),g=h.filter(function(x){return s(c,d,x)});if(g.length<=1)return null}return new mt({type:e,subtype:"vertices",severity:"warning",message:function(_){var y=_.hasEntity(this.entityIds[0]);return y?F.html("issues.duplicate_way_segments.message",{way:lt(y,_.graph())}):""},reference:v,entityIds:[p.id,c.id,d.id],loc:c.loc,dynamicFixes:function(){return[new rt({icon:"iD-icon-plus",title:F.html("issues.fix.merge_points.title")}),new rt({icon:"iD-operation-delete",title:F.html("issues.fix.remove_way_segments.title")}),new rt({icon:"iD-operation-disconnect",title:F.html("issues.fix.move_way_segments_apart.title")})]}});function v(x){var _=F("issues.duplicate_way_segments.reference");x.selectAll(".issue-reference").data([0]).enter().append("div").attr("class","issue-reference").html(_)}}};return t.type=e,t}function Uc(){var e="invalid_format",t=function(n){var i=[];function a(l){var u=/^[^\(\)\\,":;<>@\[\]]+@[^\(\)\\,":;<>@\[\]\.]+(?:\.[a-z0-9-]+)*$/i;return!l||u.test(l)}function o(l){l.selectAll(".issue-reference").data([0]).enter().append("div").attr("class","issue-reference").html(F.html("issues.invalid_format.email.reference"))}if(n.tags.email){var s=n.tags.email.split(";").map(function(l){return l.trim()}).filter(function(l){return!a(l)});s.length&&i.push(new mt({type:e,subtype:"email",severity:"warning",message:function(u){var c=u.hasEntity(this.entityIds[0]);return c?F.html("issues.invalid_format.email.message"+this.data,{feature:lt(c,u.graph()),email:s.join(", ")}):""},reference:o,entityIds:[n.id],hash:s.join(),data:s.length>1?"_multi":""}))}return i};return t.type=e,t}function qc(e){var t="help_request",r=function(i){if(!i.tags.fixme)return[];if(i.version===void 0)return[];if(i.v!==void 0){var a=e.history().base().hasEntity(i.id);if(!a||!a.tags.fixme)return[]}return[new mt({type:t,subtype:"fixme_tag",severity:"warning",message:function(l){var u=l.hasEntity(this.entityIds[0]);return u?F.html("issues.fixme_tag.message",{feature:lt(u,l.graph(),!0)}):""},dynamicFixes:function(){return[new rt({title:F.html("issues.fix.address_the_concern.title")})]},reference:o,entityIds:[i.id]})];function o(s){s.selectAll(".issue-reference").data([0]).enter().append("div").attr("class","issue-reference").html(F.html("issues.fixme_tag.reference"))}};return r.type=t,r}function Qc(){var e="impossible_oneway",t=function(i,a){if(i.type!=="way"||i.geometry(a)!=="line")return[];if(i.isClosed())return[];if(!l(i))return[];if(!u(i))return[];var o=p(i,i.first()),s=p(i,i.last());return o.concat(s);function l(m){return m.geometry(a)!=="line"?null:ci[m.tags.highway]?"highway":L1[m.tags.waterway]?"waterway":null}function u(m){if(m.tags.oneway==="yes")return!0;if(m.tags.oneway)return!1;for(var w in m.tags)if(Ti[w]&&Ti[w][m.tags[w]])return!0;return!1}function c(m,w){var b=0;for(var h in m.nodes)if(m.nodes[h]===w&&(b+=1,b>1))return!0;return!1}function d(m,w){var b=l(m);if(b==="highway"){if(w.tags.entrance&&w.tags.entrance!=="no"||w.tags.amenity==="parking_entrance")return!0}else if(b==="waterway"){if(w.id===m.first()){if(w.tags.natural==="spring")return!0}else if(w.tags.manhole==="drain")return!0}return a.parentWays(w).some(function(h){return h.id===m.id?!1:b==="highway"?h.geometry(a)==="area"&&ci[h.tags.highway]||h.tags.route==="ferry"?!0:a.parentRelations(h).some(function(g){return g.tags.type==="route"&&g.tags.route==="ferry"?!0:g.isMultipolygon()&&ci[g.tags.highway]}):b==="waterway"&&(h.tags.natural==="water"||h.tags.natural==="coastline")})}function p(m,w){var b=w===m.first(),h=l(m);if(c(m,w))return[];var g=ue.osm;if(!g)return[];var v=a.hasEntity(w);if(!v||!g.isDataLoaded(v.loc))return[];if(d(m,v))return[];var x=a.parentWays(v).filter(function(D){return D.id===m.id?!1:l(D)===h});if(h==="waterway"&&x.length===0)return[];var _=x.filter(function(D){return u(D)});if(_.length<x.length)return[];if(_.length){var y=_.some(function(D){return!!((b?D.first():D.last())!==w||c(D,w))});if(y)return[]}var E=b?"start":"end",k=h+".",A=h+".";return h==="waterway"?(k+="connected."+E,A+="connected"):(k+=E,A+=E),[new mt({type:e,subtype:h,severity:"warning",message:function(S){var N=S.hasEntity(this.entityIds[0]);return N?F.html("issues.impossible_oneway."+k+".message",{feature:lt(N,S.graph())}):""},reference:C(A),entityIds:[m.id,v.id],dynamicFixes:function(){var S=[];if(_.length&&S.push(new rt({icon:"iD-operation-reverse",title:F.html("issues.fix.reverse_feature.title"),entityIds:[m.id],onClick:function(L){var B=this.issue.entityIds[0];L.perform(ui(B),F("operations.reverse.annotation.line",{n:1}))}})),v.tags.noexit!=="yes"){var N=_e.textDirection(),R=b&&N==="ltr"||!b&&N==="rtl";S.push(new rt({icon:"iD-operation-continue"+(R?"-left":""),title:F.html("issues.fix.continue_from_"+(b?"start":"end")+".title"),onClick:function(L){var B=this.issue.entityIds[0],O=this.issue.entityIds[1],U=L.entity(B),T=L.entity(O);r(U,T,L)}}))}return S},loc:v.loc})];function C(D){return function(N){N.selectAll(".issue-reference").data([0]).enter().append("div").attr("class","issue-reference").html(F.html("issues.impossible_oneway."+D+".reference"))}}}};function r(n,i,a){var o=a.map();(!a.editable()||!o.trimmedExtent().contains(new Ne(i.loc)))&&o.zoomToEase(i),a.enter(ki(a,n.id,a.graph(),"line",n.affix(i.id),!0))}return t.type=e,t}function Gc(){var e="incompatible_source",t=[{id:"amap",regex:/(amap|autonavi|mapabc|高德)/i},{id:"baidu",regex:/(baidu|mapbar|百度)/i},{id:"google",regex:/google/i,exceptRegex:/((books|drive)\.google|google\s?(books|drive|plus))|(esri\/Google_Africa_Buildings)/i}],r=function(i){var a=i.tags&&i.tags.source&&i.tags.source.split(";");if(!a)return[];var o=i.id;return a.map(function(l){var u=t.find(function(c){return!(!c.regex.test(l)||c.exceptRegex&&c.exceptRegex.test(l))});return u?new mt({type:e,severity:"warning",message:function(d){var p=d.hasEntity(o);return p?F.html("issues.incompatible_source.feature.message",{feature:lt(p,d.graph(),!0),value:l}):""},reference:s(u.id),entityIds:[o],hash:l,dynamicFixes:function(){return[new rt({title:F.html("issues.fix.remove_proprietary_data.title")})]}}):null}).filter(Boolean);function s(l){return function(c){c.selectAll(".issue-reference").data([0]).enter().append("div").attr("class","issue-reference").html(F.html("issues.incompatible_source.reference.".concat(l)))}}};return r.type=e,r}function Hc(){var e="maprules",t=function(n,i){if(!ue.maprules)return[];for(var a=ue.maprules.validationRules(),o=[],s=0;s<a.length;s++){var l=a[s];l.findIssues(n,i,o)}return o};return t.type=e,t}var sv=Xe(bi());function Wc(){var e="mismatched_geometry";function t(c){if(c.type!=="way"||c.isClosed())return null;var d=c.tagSuggestingArea();if(!d)return null;var p=Ie.matchTags(d,"line"),m=Ie.matchTags(d,"area");return p&&m&&p===m?null:d}function r(c,d){if(c.nodes.length<3)return null;var p=d.childNodes(c),m,w=bt(p[0].loc,p[p.length-1].loc);if(w<.75&&(m=p.slice(),m.pop(),m.push(m[0]),!wi(m,m[0].id)))return function(b){var h=b.entity(this.issue.entityIds[0]);b.perform(ti([h.nodes[0],h.nodes[h.nodes.length-1]],p[0].loc),F("issues.fix.connect_endpoints.annotation"))};if(m=p.slice(),m.push(m[0]),!wi(m,m[0].id))return function(b){var h=this.issue.entityIds[0],g=b.entity(h),v=g.nodes[0],x=g.nodes.length;b.perform(gi(h,v,x),F("issues.fix.connect_endpoints.annotation"))}}function n(c){var d=t(c);if(!d)return null;return new mt({type:e,subtype:"area_as_line",severity:"warning",message:function(w){var b=w.hasEntity(this.entityIds[0]);return b?F.html("issues.tag_suggests_area.message",{feature:lt(b,"area",!0),tag:ud({tags:d})}):""},reference:p,entityIds:[c.id],hash:JSON.stringify(d),dynamicFixes:function(w){var b=[],h=w.entity(this.entityIds[0]),g=r(h,w.graph());return b.push(new rt({title:F.html("issues.fix.connect_endpoints.title"),onClick:g})),b.push(new rt({icon:"iD-operation-delete",title:F.html("issues.fix.remove_tag.title"),onClick:function(x){var _=this.issue.entityIds[0],y=x.entity(_),E=Object.assign({},y.tags);for(var k in d)delete E[k];x.perform(Qt(_,E),F("issues.fix.remove_tag.annotation"))}})),b}});function p(m){m.selectAll(".issue-reference").data([0]).enter().append("div").attr("class","issue-reference").html(F.html("issues.tag_suggests_area.reference"))}}function i(c,d){if(c.type!=="node"||Object.keys(c.tags).length===0||c.isOnAddressLine(d))return null;var p=c.geometry(d),m=Xa(c.tags);return p==="point"&&!m.point&&m.vertex?new mt({type:e,subtype:"vertex_as_point",severity:"warning",message:function(b){var h=b.hasEntity(this.entityIds[0]);return h?F.html("issues.vertex_as_point.message",{feature:lt(h,"vertex",!0)}):""},reference:function(b){b.selectAll(".issue-reference").data([0]).enter().append("div").attr("class","issue-reference").html(F.html("issues.vertex_as_point.reference"))},entityIds:[c.id]}):p==="vertex"&&!m.vertex&&m.point?new mt({type:e,subtype:"point_as_vertex",severity:"warning",message:function(b){var h=b.hasEntity(this.entityIds[0]);return h?F.html("issues.point_as_vertex.message",{feature:lt(h,"point",!0)}):""},reference:function(b){b.selectAll(".issue-reference").data([0]).enter().append("div").attr("class","issue-reference").html(F.html("issues.point_as_vertex.reference"))},entityIds:[c.id],dynamicFixes:s}):null}function a(c,d){if(!c.hasInterestingTags()||c.type!=="node"&&c.type!=="way"||c.type==="node"&&c.isOnAddressLine(d))return null;var p=c.geometry(d),m=c.type==="way"?["point","vertex"]:["line","area"];p==="area"&&m.unshift("line");var w=Ie.match(c,d),b=m.find(function(x){var _=Ie.matchTags(c.tags,x);if(!w||!_||w===_||(0,sv.default)(w.tags,_.tags)||_.isFallback())return!1;var y=Object.keys(_.tags)[0];return y==="building"||_.tags[y]==="*"?!1:w.isFallback()||w.tags[y]==="*"});if(!b)return null;var h=b+"_as_"+p;b==="vertex"&&(b="point"),p==="vertex"&&(p="point");var g=b+"_as_"+p,v;return b==="point"?v=s:p==="area"&&b==="line"&&(v=o),new mt({type:e,subtype:h,severity:"warning",message:function(_){var y=_.hasEntity(this.entityIds[0]);return y?F.html("issues."+g+".message",{feature:lt(y,b,!0)}):""},reference:function(_){_.selectAll(".issue-reference").data([0]).enter().append("div").attr("class","issue-reference").html(F.html("issues.mismatched_geometry.reference"))},entityIds:[c.id],dynamicFixes:v})}function o(c){var d,p=this.entityIds[0],m=c.entity(p),w=Object.assign({},m.tags);return delete w.area,Za(w)||(d=function(h){var g=this.issue.entityIds[0],v=h.entity(g),x=Object.assign({},v.tags);x.area&&delete x.area,h.perform(Qt(g,x),F("issues.fix.convert_to_line.annotation"))}),[new rt({icon:"iD-icon-line",title:F.html("issues.fix.convert_to_line.title"),onClick:d})]}function s(c){var d=this.entityIds[0],p=null;return c.hasHiddenConnections(d)||(p=function(w){var b=this.issue.entityIds[0],h=_s(b,w.projection);w.perform(h,F("operations.extract.annotation",{n:1})),w.enter(Le(w,[h.getExtractedNodeID()]))}),[new rt({icon:"iD-operation-extract",title:F.html("issues.fix.extract_point.title"),onClick:p})]}function l(c,d){if(c.type!=="relation"||!c.isMultipolygon()||c.isDegenerate()||!c.isComplete(d))return[];var p=gn(c.members,d),m=[];for(var w in p){var b=p[w];if(!!b.nodes){var h=b.nodes[0],g=b.nodes[b.nodes.length-1];if(h!==g){var v=new mt({type:e,subtype:"unclosed_multipolygon_part",severity:"warning",message:function(y){var E=y.hasEntity(this.entityIds[0]);return E?F.html("issues.unclosed_multipolygon_part.message",{feature:lt(E,y.graph(),!0)}):""},reference:x,loc:b.nodes[0].loc,entityIds:[c.id],hash:b.map(function(_){return _.id}).join()});m.push(v)}}}return m;function x(_){_.selectAll(".issue-reference").data([0]).enter().append("div").attr("class","issue-reference").html(F.html("issues.unclosed_multipolygon_part.reference"))}}var u=function(d,p){var m=i(d,p);if(m)return[m];var w=n(d);if(w)return[w];var b=a(d,p);return b?[b]:l(d,p)};return u.type=e,u}function Vc(){var e="missing_role",t=function(o,s){var l=[];return o.type==="way"?s.parentRelations(o).forEach(function(u){if(!!u.isMultipolygon()){var c=u.memberById(o.id);c&&r(c)&&l.push(n(o,u,c))}}):o.type==="relation"&&o.isMultipolygon()&&o.indexedMembers().forEach(function(u){var c=s.hasEntity(u.id);c&&r(u)&&l.push(n(c,o,u))}),l};function r(a){return!a.role||!a.role.trim().length}function n(a,o,s){return new mt({type:e,severity:"warning",message:function(c){var d=c.hasEntity(this.entityIds[1]),p=c.hasEntity(this.entityIds[0]);return d&&p?F.html("issues.missing_role.message",{member:lt(d,c.graph()),relation:lt(p,c.graph())}):""},reference:l,entityIds:[o.id,a.id],data:{member:s},hash:s.index.toString(),dynamicFixes:function(){return[i("inner"),i("outer"),new rt({icon:"iD-operation-delete",title:F.html("issues.fix.remove_from_relation.title"),onClick:function(d){d.perform(yo(this.issue.entityIds[0],this.issue.data.member.index),F("operations.delete_member.annotation",{n:1}))}})]}});function l(u){u.selectAll(".issue-reference").data([0]).enter().append("div").attr("class","issue-reference").html(F.html("issues.missing_role.multipolygon.reference"))}}function i(a){return new rt({title:F.html("issues.fix.set_as_"+a+".title"),onClick:function(s){var l=this.issue.data.member,u={id:this.issue.entityIds[1],type:l.type,role:a};s.perform(ho(this.issue.entityIds[0],u,l.index),F("operations.change_role.annotation",{n:1}))}})}return t.type=e,t}function Kc(e){var t="missing_tag";function r(o,s){var l=["description","name","note","start_date"],u=Object.keys(o.tags).filter(function(c){return c==="area"||!_n(c)?!1:!l.some(function(d){return c===d||c.indexOf(d+":")===0})});return o.type==="relation"&&u.length===1&&o.tags.type==="multipolygon"?ws(o,s):u.length>0}function n(o){return o.type==="way"&&o.tags.highway==="road"}function i(o){return o.type==="relation"&&!o.tags.type}var a=function(s,l){var u,c=e.connection(),d=s.type==="node"&&c&&!c.isDataLoaded(s.loc);if(!d&&s.geometry(l)!=="vertex"&&!s.hasParentRelations(l)&&(Object.keys(s.tags).length===0?u="any":r(s,l)?i(s)&&(u="relation_type"):u="descriptive"),!u&&n(s)&&(u="highway_classification"),!u)return[];var p=u==="highway_classification"?"unknown_road":"missing_tag."+u,m=u==="highway_classification"?"unknown_road":"missing_tag",w=s.version===void 0||s.v!==void 0,b=w&&u!=="highway_classification"?"error":"warning";return[new mt({type:t,subtype:u,severity:b,message:function(v){var x=v.hasEntity(this.entityIds[0]);return x?F.html("issues."+p+".message",{feature:lt(x,v.graph())}):""},reference:h,entityIds:[s.id],dynamicFixes:function(v){var x=[],_=u==="highway_classification"?"select_road_type":"select_preset";x.push(new rt({icon:"iD-icon-search",title:F.html("issues.fix."+_+".title"),onClick:function(D){D.ui().sidebar.showPresetList()}}));var y,E=this.entityIds[0],k=nn(v,[E]),A=k.disabled();return A||(y=function(D){var S=this.issue.entityIds[0],N=nn(D,[S]);N.disabled()||N()}),x.push(new rt({icon:"iD-operation-delete",title:F.html("issues.fix.delete_feature.title"),disabledReason:A?F("operations.delete."+A+".single"):void 0,onClick:y})),x}})];function h(g){g.selectAll(".issue-reference").data([0]).enter().append("div").attr("class","issue-reference").html(F.html("issues."+m+".reference"))}};return a.type=t,a}function Yc(){var e="outdated_tags",t=!0,r;Je.get("deprecated").then(function(o){return r=o}).catch(function(){}).finally(function(){return t=!1});function n(o,s){var l=Object.assign({},o.tags),u=Ie.match(o,s),c="deprecated_tags";if(!u)return[];if(!o.hasInterestingTags())return[];if(u.replacement){var d=Ie.item(u.replacement);s=go(o.id,u,d,!0)(s),o=s.entity(o.id),u=d}if(r){var p=o.deprecatedTags(r);p.length&&(p.forEach(function(S){s=Bu(o.id,S.old,S.replace)(s)}),o=s.entity(o.id))}var m=Object.assign({},o.tags);u.tags!==u.addTags&&Object.keys(u.addTags).forEach(function(S){m[S]||(u.addTags[S]==="*"?m[S]="yes":m[S]=u.addTags[S])});var w=ue.nsi,b=!1,h;if(w&&(b=w.status()==="loading",!b)){var g=o.extent(s).center();h=w.upgradeTags(m,g),h&&(m=h.newTags,c="noncanonical_brand")}var v=[];v.provisional=t||b;var x=P1(l,m);if(!x.length)return v;var _=x.every(function(S){return S.type==="+"}),y="";h?y="noncanonical_brand.":c==="deprecated_tags"&&_&&(c="incomplete_tags",y="incomplete.");var E=[k,F("issues.fix.upgrade_tags.annotation")];return v.push(new mt({type:e,subtype:c,severity:"warning",message:C,reference:D,entityIds:[o.id],hash:qo(JSON.stringify(x)),autoArgs:E,dynamicFixes:function(){var N=[new rt({autoArgs:E,title:F.html("issues.fix.upgrade_tags.title"),onClick:function(L){L.perform(k,F("issues.fix.upgrade_tags.annotation"))}})],R=h&&h.matched;return R&&N.push(new rt({title:F.html("issues.fix.tag_as_not.title",{name:R.displayName}),onClick:function(L){L.perform(A,F("issues.fix.tag_as_not.annotation"))}})),N}})),v;function k(S){var N=S.hasEntity(o.id);if(!N)return S;var R=Object.assign({},N.tags);return x.forEach(function(P){P.type==="-"?delete R[P.key]:P.type==="+"&&(R[P.key]=P.newVal)}),Qt(N.id,R)(S)}function A(S){var N=S.hasEntity(o.id);if(!N)return S;var R=h&&h.matched;if(!R)return S;var P=Object.assign({},N.tags),L=R.mainTag,B="not:".concat(L),O=R.tags[L];if(P[B]=O,P[L]===O){var U=R.mainTag.replace("wikidata","wikipedia");delete P[L],delete P[U]}return Qt(N.id,P)(S)}function C(S){var N=S.hasEntity(o.id);if(!N)return"";var R="issues.outdated_tags.".concat(y,"message");return c==="noncanonical_brand"&&_&&(R+="_incomplete"),F.html(R,{feature:lt(N,S.graph(),!0)})}function D(S){var N=S.selectAll(".issue-reference").data([0]).enter();N.append("div").attr("class","issue-reference").html(F.html("issues.outdated_tags.".concat(y,"reference"))),N.append("strong").html(F.html("issues.suggested")),N.append("table").attr("class","tagDiff-table").selectAll(".tagDiff-row").data(x).enter().append("tr").attr("class","tagDiff-row").append("td").attr("class",function(R){var P=R.type==="+"?"add":"remove";return"tagDiff-cell tagDiff-cell-".concat(P)}).html(function(R){return R.display})}}function i(o,s){var l,u;if(o.type==="relation")u=ws(o,s),l=o;else if(o.type==="way")l=mo(o,s),u=o;else return[];if(!l||!u)return[];return[new mt({type:e,subtype:"old_multipolygon",severity:"warning",message:d,reference:p,entityIds:[u.id,l.id],autoArgs:[c,F("issues.fix.move_tags.annotation")],dynamicFixes:function(){return[new rt({title:F("issues.fix.move_tags.title"),onClick:function(b){b.perform(c,F("issues.fix.move_tags.annotation"))}})]}})];function c(m){var w=m.hasEntity(l.id),b=m.hasEntity(u.id);return!w||!b?m:(w=w.mergeTags(b.tags),m=m.replace(w),Qt(b.id,{})(m))}function d(m){var w=m.hasEntity(l.id);return w?F.html("issues.old_multipolygon.message",{multipolygon:lt(w,m.graph(),!0)}):""}function p(m){m.selectAll(".issue-reference").data([0]).enter().append("div").attr("class","issue-reference").html(F.html("issues.old_multipolygon.reference"))}}var a=function(s,l){var u=i(s,l);return u.length||(u=n(s,l)),u};return a.type=e,a}function Zc(){var e="private_data",t={detached:!0,farm:!0,house:!0,houseboat:!0,residential:!0,semidetached_house:!0,static_caravan:!0},r={amenity:!0,craft:!0,historic:!0,leisure:!0,office:!0,shop:!0,tourism:!0},n={"contact:email":!0,"contact:fax":!0,"contact:phone":!0,email:!0,fax:!0,phone:!0},i=function(o){var s=o.tags;if(!s.building||!t[s.building])return[];var l={};for(var u in s){if(r[u])return[];n[u]||(l[u]=s[u])}var c=P1(s,l);if(!c.length)return[];var d=c.length===1?"remove_tag":"remove_tags";return[new mt({type:e,severity:"warning",message:m,reference:w,entityIds:[o.id],dynamicFixes:function(){return[new rt({icon:"iD-operation-delete",title:F.html("issues.fix."+d+".title"),onClick:function(g){g.perform(p,F("issues.fix.upgrade_tags.annotation"))}})]}})];function p(b){var h=b.hasEntity(o.id);if(!h)return b;var g=Object.assign({},h.tags);return c.forEach(function(v){v.type==="-"?delete g[v.key]:v.type==="+"&&(g[v.key]=v.newVal)}),Qt(h.id,g)(b)}function m(b){var h=b.hasEntity(this.entityIds[0]);return h?F.html("issues.private_data.contact.message",{feature:lt(h,b.graph())}):""}function w(b){var h=b.selectAll(".issue-reference").data([0]).enter();h.append("div").attr("class","issue-reference").html(F.html("issues.private_data.reference")),h.append("strong").html(F.html("issues.suggested")),h.append("table").attr("class","tagDiff-table").selectAll(".tagDiff-row").data(c).enter().append("tr").attr("class","tagDiff-row").append("td").attr("class",function(g){var v=g.type==="+"?"add":"remove";return"tagDiff-cell tagDiff-cell-"+v}).html(function(g){return g.display})}};return i.type=e,i}var a8={};t7(a8,{operationCircularize:function(){return o1},operationContinue:function(){return Xc},operationCopy:function(){return Zu},operationCycleHighwayTag:function(){return $c},operationDelete:function(){return nn},operationDisconnect:function(){return Jc},operationDowngrade:function(){return Xu},operationExtract:function(){return e8},operationMerge:function(){return t8},operationMove:function(){return c1},operationOrthogonalize:function(){return s1},operationPaste:function(){return f0},operationReflectLong:function(){return u1},operationReflectShort:function(){return l1},operationReverse:function(){return r8},operationRotate:function(){return l0},operationSplit:function(){return n8},operationStraighten:function(){return i8}});function Xc(e,t){var r=t.map(function(l){return e.graph().entity(l)}),n=Object.assign({line:[],vertex:[]},ar(r,function(l){return l.geometry(e.graph())})),i=n.vertex.length&&n.vertex[0];function a(){return i?e.graph().parentWays(i).filter(function(l){return l.geometry(e.graph())==="line"&&!l.isClosed()&&l.affix(i.id)&&(n.line.length===0||n.line[0]===l)}):[]}var o=a(),s=function(){var u=o[0];e.enter(ki(e,u.id,e.graph(),"line",u.affix(i.id),!0))};return s.relatedEntityIds=function(){return o.length?[o[0].id]:[]},s.available=function(){return n.vertex.length===1&&n.line.length<=1&&!e.features().hasHiddenConnections(i,e.graph())},s.disabled=function(){return o.length===0?"not_eligible":o.length>1?"multiple":!1},s.tooltip=function(){var l=s.disabled();return l?F("operations.continue."+l):F("operations.continue.description")},s.annotation=function(){return F("operations.continue.annotation.line")},s.id="continue",s.keys=[F("operations.continue.key")],s.title=F("operations.continue.title"),s.behavior=Wt(e).which(s),s}function $c(e,t){var r=t[0],n=e.entity(r),i,a=["residential","service","track","unclassified","tertiary"],o=function(u){var c=u.highway?a.indexOf(u.highway):-1;u.highway=a[(c+1)%a.length],u.highway==="track"?u.surface="unpaved":delete u.surface},s=function l(){n=e.entity(r);var u;i&&(u=i?i[0]===t[0]:!1);var c=Object.assign({},n.tags);o(c),i=t,u&&e.history().peekAnnotation()===l.annotation()?e.replace(Qt(r,c),l.annotation()):e.perform(Qt(r,c),l.annotation())};return s.available=function(){return t.length===1&&n.type==="way"&&new Set(n.nodes).size>1},s.disabled=function(){if(Object.keys(n.tags).length>0&&!n.tags.highway)return"restriction"},s.tooltip=function(){var l=s.disabled();return l?F("operations.cycle_highway_tag."+l):F("operations.cycle_highway_tag.description")},s.annotation=function(){return F("operations.cycle_highway_tag.annotation")},s.id="cycle_highway_tag",s.keys=["\u21E7"+F("operations.cycle_highway_tag.key")],s.title=F("operations.cycle_highway_tag.title"),s.behavior=Wt(e).which(s),s}function Zu(e,t){function r(){return t.filter(function(s){var l=e.graph().hasEntity(s);return l.hasInterestingTags()||l.geometry(e.graph())!=="vertex"})}var n=function(){var l=e.graph(),u=i(r(),l),c=[],d={},p,m;for(m=0;m<u.relation.length;m++)p=u.relation[m],!d[p.id]&&p.isComplete(l)&&(c.push(p.id),d=a(p.id,l,d));for(m=0;m<u.way.length;m++)p=u.way[m],d[p.id]||(c.push(p.id),d=a(p.id,l,d));for(m=0;m<u.node.length;m++)p=u.node[m],d[p.id]||c.push(p.id);e.copyIDs(c),o&&(c.length!==1||l.entity(c[0]).type!=="node")?e.copyLonLat(e.projection.invert(o)):e.copyLonLat(null)};function i(s,l){var u=s.map(function(c){return l.entity(c)});return Object.assign({relation:[],way:[],node:[]},ar(u,"type"))}function a(s,l,u){var c=l.entity(s),d;u=u||{},c.type==="relation"?d=c.members.map(function(m){return m.id}):c.type==="way"?d=c.nodes:d=[];for(var p=0;p<d.length;p++)u[d[p]]||(u[d[p]]=!0,u=a(d[p],l,u));return u}n.available=function(){return r().length>0},n.disabled=function(){var s=St(r(),e.graph()),l=pe("rapid-internal-feature.allowLargeEdits")==="true";return!l&&s.percentContainedIn(e.map().extent())<.8?"too_large":!1},n.availableForKeypress=function(){var s=window.getSelection&&window.getSelection();return!s||!s.toString()},n.tooltip=function(){var s=n.disabled();return s?F("operations.copy."+s,{n:t.length}):F("operations.copy.description",{n:t.length})},n.annotation=function(){return F("operations.copy.annotation",{n:t.length})};var o;return n.point=function(s){return o=s,n},n.id="copy",n.keys=[qe("\u2318C")],n.title=F("operations.copy.title"),n.behavior=Wt(e).which(n),n}function Jc(e,t){var r=[],n=[],i=[],a=[];t.forEach(function(x){var _=e.entity(x);_.type==="way"?n.push(x):_.geometry(e.graph())==="vertex"?r.push(x):i.push(x)});var o,s="",l="features",u=[],c=[];if(r.length>0)u=r,r.forEach(function(x){var _=r0(x);if(n.length>0){var y=n.filter(function(E){var k=e.entity(E);return k.nodes.indexOf(x)!==-1});_.limitWays(y)}a.push(_),c=c.concat(e.graph().parentWays(e.graph().entity(x)).map(function(E){return E.id}))}),c=Ve(c).filter(function(x){return n.indexOf(x)===-1}),s+=a.length===1?"single_point.":"multiple_points.",n.length===1?s+="single_way."+e.graph().geometry(n[0]):s+=n.length===0?"no_ways":"multiple_ways";else if(n.length>0){var d=n.map(function(x){return e.entity(x)}),p=Xt(n,e.graph());o=p.map(function(x){return x.loc});var m=[],w=[],b=[],h=[];p.forEach(function(x){var _=r0(x.id).limitWays(n);if(_.disabled(e.graph())!=="not_connected"){var y=0;for(var E in d){var k=d[E];if(k.nodes.indexOf(x.id)!==-1&&(y+=1),y>1)break}y>1?(m.push(_),w.push(x)):(b.push(_),h.push(x))}}),s+="no_points.",s+=n.length===1?"single_way.":"multiple_ways.",m.length?(a=m,u=w.map(function(x){return x.id}),s+="conjoined",l="from_each_other"):(a=b,u=h.map(function(x){return x.id}),n.length===1?s+=e.graph().geometry(n[0]):s+="separate")}var g=St(u,e.graph()),v=function x(){e.perform(function(_){return a.reduce(function(y,E){return E(y)},_)},x.annotation()),e.validator().validate()};return v.relatedEntityIds=function(){return r.length?c:u},v.available=function(){return!(a.length===0||i.length!==0||r.length!==0&&n.length!==0&&!n.every(function(x){return r.some(function(_){var y=e.entity(x);return y.nodes.indexOf(_)!==-1})}))},v.disabled=function(){var x;for(var _ in a)if(x=a[_].disabled(e.graph()),x)return x;var y=pe("rapid-internal-feature.allowLargeEdits")==="true";if(!y&&g&&g.percentContainedIn(e.map().extent())<.8)return"too_large."+((r.length?r:n).length===1?"single":"multiple");if(o&&E())return"not_downloaded";if(t.some(e.hasHiddenConnections))return"connected_to_hidden";return!1;function E(){if(e.inIntro())return!1;var k=e.connection();if(k){var A=o.filter(function(C){return!k.isDataLoaded(C)});if(A.length)return A.forEach(function(C){e.loadTileAtLoc(C)}),!0}return!1}},v.tooltip=function(){var x=v.disabled();return x?F("operations.disconnect."+x):F("operations.disconnect.description."+s)},v.annotation=function(){return F("operations.disconnect.annotation."+l)},v.id="disconnect",v.keys=[F("operations.disconnect.key")],v.title=F("operations.disconnect.title"),v.behavior=Wt(e).which(v),v}function Xu(e,t){var r=0,n=a(t),i=r===1?"single":"multiple";function a(c){var d;r=0;for(var p in c){var m=c[p],w=o(m);w&&(r+=1,d&&w!==d?d!=="generic"&&w!=="generic"?d="building_address":d="generic":d=w)}return d}function o(c){var d=e.graph(),p=d.entity(c),m=Ie.match(p,d);if(!m||m.isFallback())return null;if(p.type==="node"&&m.id!=="address"&&Object.keys(p.tags).some(function(b){return b.match(/^addr:.{1,}/)}))return"address";var w=p.geometry(d);return w==="area"&&p.tags.building&&!m.tags.building?"building":w==="vertex"&&Object.keys(p.tags).length?"generic":null}var s=["architect","building","height","layer","source","type","wheelchair"],l=["source"],u=function c(){e.perform(function(d){for(var p in t){var m=t[p],w=o(m);if(!!w){var b=Object.assign({},d.entity(m).tags);for(var h in b)w==="address"&&l.indexOf(h)!==-1||w==="building"&&(s.indexOf(h)!==-1||h.match(/^building:.{1,}/)||h.match(/^roof:.{1,}/))||w!=="generic"&&(h.match(/^addr:.{1,}/)||h.match(/^source:.{1,}/))||delete b[h];d=Qt(m,b)(d)}}return d},c.annotation()),e.validator().validate(),e.enter(Le(e,t))};return u.available=function(){return n},u.disabled=function(){if(t.some(c))return"has_wikidata_tag";return!1;function c(d){var p=e.entity(d);return p.tags.wikidata&&p.tags.wikidata.trim().length>0}},u.tooltip=function(){var c=u.disabled();return c?F("operations.downgrade."+c+"."+i):F("operations.downgrade.description."+n)},u.annotation=function(){var c;return n==="building_address"?c="generic":c=n,F("operations.downgrade.annotation."+c,{n:r})},u.id="downgrade",u.keys=[qe("\u232B")],u.title=F("operations.downgrade.title"),u.behavior=Wt(e).which(u),u}function e8(e,t){var r=t.length===1?"single":"multiple",n=Ve(t.map(function(l){return e.graph().hasEntity(l)&&e.graph().geometry(l)}).filter(Boolean)),i=n.length===1?n[0]:"feature",a,o=t.map(function(l){var u=e.graph(),c=u.hasEntity(l);if(!c||!c.hasInterestingTags()||c.type==="node"&&u.parentWays(c).length===0)return null;if(c.type!=="node"){var d=Ie.match(c,u);if(d.geometry.indexOf("point")===-1)return null}return a=a?a.extend(c.extent(u)):c.extent(u),_s(l,e.projection)}).filter(Boolean),s=function l(){var u=function(p){return o.forEach(function(m){p=m(p)}),p};e.perform(u,l.annotation());var c=o.map(function(d){return d.getExtractedNodeID()});e.enter(Le(e,c))};return s.available=function(){return o.length&&t.length===o.length},s.disabled=function(){var l=pe("rapid-internal-feature.allowLargeEdits")==="true";return!l&&a&&a.percentContainedIn(e.map().extent())<.8?"too_large":t.some(function(u){return e.graph().geometry(u)==="vertex"&&e.hasHiddenConnections(u)})?"connected_to_hidden":!1},s.tooltip=function(){var l=s.disabled();return l?F("operations.extract."+l+"."+r):F("operations.extract.description."+i+"."+r)},s.annotation=function(){return F("operations.extract.annotation",{n:t.length})},s.id="extract",s.keys=[F("operations.extract.key")],s.title=F("operations.extract.title"),s.behavior=Wt(e).which(s),s}function t8(e,t){var r=n();function n(){var a=Eu(t);if(!a.disabled(e.graph()))return a;var o=Au(t);if(!o.disabled(e.graph()))return o;var s=Du(t);if(!s.disabled(e.graph()))return s;var l=ti(t);return l.disabled(e.graph())?a.disabled(e.graph())!=="not_eligible"?a:o.disabled(e.graph())!=="not_eligible"?o:s.disabled(e.graph())!=="not_eligible"?s:l:l}var i=function a(){if(!a.disabled()){e.perform(r,a.annotation()),e.validator().validate();var o=t.filter(e.hasEntity);if(o.length>1){var s=o.filter(function(l){return e.entity(l).hasInterestingTags()});s.length&&(o=s)}e.enter(Le(e,o))}};return i.available=function(){return t.length>=2},i.disabled=function(){var a=r.disabled(e.graph());if(a)return a;var o=e.connection();return o&&r.resultingWayNodesLength&&r.resultingWayNodesLength(e.graph())>o.maxWayNodes()?"too_many_vertices":!1},i.tooltip=function(){var a=i.disabled();return a?a==="conflicting_relations"?F("operations.merge.conflicting_relations"):a==="restriction"||a==="connectivity"?F("operations.merge.damage_relation",{relation:Ie.item("type/"+a).name()}):F("operations.merge."+a):F("operations.merge.description")},i.annotation=function(){return F("operations.merge.annotation",{n:t.length})},i.id="merge",i.keys=[F("operations.merge.key")],i.title=F("operations.merge.title"),i.behavior=Wt(e).which(i),i}function f0(e){var t,r=function n(){if(!!t){var i=e.copyIDs();if(!!i.length){var a=e.projection,o=new Ne,s=e.copyGraph(),l=[],u=xs(i,s);e.perform(u);var c=u.copies(),d=new Set;Object.values(c).forEach(function(x){d.add(x.id)});for(var p in c){var m=s.entity(p),w=c[p];o=o.extend(m.extent(s));var b=e.graph().parentWays(w),h=b.some(function(x){return d.has(x.id)});h||l.push(w.id)}var g=e.copyLonLat()&&a(e.copyLonLat())||a(o.center()),v=Lt(t,g);e.replace(oa(l,v,a),n.annotation()),e.enter(Le(e,l))}}};return r.point=function(n){return t=n,r},r.available=function(){return e.mode().id==="browse"},r.disabled=function(){return!e.copyIDs().length},r.tooltip=function(){var n=e.copyGraph(),i=e.copyIDs();return i.length?F("operations.paste.description",{feature:lt(n.entity(i[0]),n),n:i.length}):F("operations.paste.nothing_copied")},r.annotation=function(){var n=e.copyIDs();return F("operations.paste.annotation",{n:n.length})},r.id="paste",r.keys=[qe("\u2318V")],r.title=F("operations.paste.title"),r}function r8(e,t){var r=function a(){e.perform(function(s){return n().forEach(function(l){s=l(s)}),s},a.annotation()),e.validator().validate()};function n(a){return t.map(function(o){var s=e.hasEntity(o);if(!s||a==="toolbar"&&s.type==="way"&&!s.isOneWay()&&!s.isSided())return null;var l=s.geometry(e.graph());if(s.type!=="node"&&l!=="line")return null;var u=ui(o);return u.disabled(e.graph())?null:u}).filter(Boolean)}function i(){var a=n(),o=a.filter(function(s){var l=e.hasEntity(s.entityID());return l&&l.type==="node"}).length;return o===0?"line":o===a.length?"point":"feature"}return r.available=function(a){return n(a).length>0},r.disabled=function(){return!1},r.tooltip=function(){return F("operations.reverse.description."+i())},r.annotation=function(){var a=n();return F("operations.reverse.annotation."+i(),{n:a.length})},r.id="reverse",r.keys=[F("operations.reverse.key")],r.title=F("operations.reverse.title"),r.behavior=Wt(e).which(r),r}function n8(e,t){var r=t.filter(function(p){return e.graph().geometry(p)==="vertex"}),n=t.filter(function(p){var m=e.graph().hasEntity(p);return m&&m.type==="way"}),i=r.length>0&&r.length+n.length===t.length,a=Oa(r),o=[],s="feature",l="single",u=r.length===1?"single":"multiple";if(i){n.length&&a.limitWays(n),o=a.ways(e.graph());var c={};o.forEach(function(p){c[p.geometry(e.graph())]=!0}),Object.keys(c).length===1&&(s=Object.keys(c)[0]),l=o.length===1?"single":"multiple"}var d=function p(){var m=e.perform(a,p.annotation()),w=r.concat(m.extantIDs().filter(function(b){return e.entity(b).type==="way"}));e.enter(Le(e,w))};return d.relatedEntityIds=function(){return n.length?[]:o.map(function(p){return p.id})},d.available=function(){return i},d.disabled=function(){var p=a.disabled(e.graph());return p||(t.some(e.hasHiddenConnections)?"connected_to_hidden":!1)},d.tooltip=function(){var p=d.disabled();return p?F("operations.split."+p):F("operations.split.description."+s+"."+l+"."+u+"_node")},d.annotation=function(){return F("operations.split.annotation."+s,{n:o.length})},d.id="split",d.keys=[F("operations.split.key")],d.title=F("operations.split.title"),d.behavior=Wt(e).which(d),d}function i8(e,t){var r=t.filter(function(p){return p.charAt(0)==="w"}),n=t.filter(function(p){return p.charAt(0)==="n"}),i=(r.length?r:n).length===1?"single":"multiple",a=Xt(t,e.graph()),o=a.map(function(p){return p.loc}),s=St(t,e.graph()),l=c(),u;function c(){if(r.length===0&&n.length>2)return u="point",Nu(n,e.projection);if(r.length>0&&(n.length===0||n.length===2)){for(var p=[],m=[],w=0;w<t.length;w++){var b=e.entity(t[w]);if(b.type!=="node"){if(b.type!=="way"||b.isClosed())return null;p.push(b.first()),m.push(b.last())}}if(p=p.filter(function(g){return p.indexOf(g)===p.lastIndexOf(g)}),m=m.filter(function(g){return m.indexOf(g)===m.lastIndexOf(g)}),vr(p,m).length+vr(m,p).length!==2)return null;var h=Xt(r,e.graph()).map(function(g){return g.id});return h.length<=2||n.length===2&&(h.indexOf(n[0])===-1||h.indexOf(n[1])===-1)?null:(n.length&&(s=St(n,e.graph())),u="line",Ou(t,e.projection))}return null}function d(){!l||(e.perform(l,d.annotation()),window.setTimeout(function(){e.validator().validate()},300))}return d.available=function(){return Boolean(l)},d.disabled=function(){var p=pe("rapid-internal-feature.allowLargeEdits")==="true",m=l.disabled(e.graph());if(m)return m;if(!p&&s.percentContainedIn(e.map().extent())<.8)return"too_large";if(w())return"not_downloaded";if(t.some(e.hasHiddenConnections))return"connected_to_hidden";return!1;function w(){if(e.inIntro())return!1;var b=e.connection();if(b){var h=o.filter(function(g){return!b.isDataLoaded(g)});if(h.length)return h.forEach(function(g){e.loadTileAtLoc(g)}),!0}return!1}},d.tooltip=function(){var p=d.disabled();return p?F("operations.straighten."+p+"."+i):F("operations.straighten.description."+u+(r.length===1?"":"s"))},d.annotation=function(){return F("operations.straighten.annotation."+u,{n:r.length?r.length:n.length})},d.id="straighten",d.keys=[F("operations.straighten.key")],d.title=F("operations.straighten.title"),d.behavior=Wt(e).which(d),d}function o8(e){var t="y_shaped_connection",r=12,n=5,i={residential:!0,service:!0,track:!0,unclassified:!0,tertiary:!0,secondary:!0,primary:!0,living_street:!0,cycleway:!0,trunk:!0,motorway:!0,road:!0,raceway:!0};function a(c){return i[c.tags.highway]}function o(c,d){var p=d.parentWays(c);return p.filter(function(m){return a(m)})}function s(c,d){var p=!nn(d,[c.id]).disabled(),m;return p?m=new rt({icon:"iD-operation-delete",title:F("issues.fix.delete_node_around_conn.title"),entityIds:[c.id],onClick:function(){var b=this.entityIds[0],h=nn(d,[b]);h.disabled()||h()}}):m=new rt({icon:"iD-operation-move",title:F("issues.fix.move_node_around_conn.title"),entityIds:[c.id]}),new mt({type:t,severity:"warning",message:function(){return F("issues.y_shaped_connection.message")},reference:function(b){b.selectAll(".issue-reference").data([0]).enter().append("div").attr("class","issue-reference").text(F("issues.y_shaped_connection.reference"))},entityIds:[c.id],fixes:[m]})}function l(c,d,p,m){if(p<=0||p>=d.nodes.length-1)return!1;var w=d.nodes[p],b=c.entity(w),h=o(b,c);if(h.length<2)return!1;var g=d.nodes[m],v=c.entity(g),x=bt(b.loc,v.loc);if(x>r)return!1;var _=0,y=0,E=0,k=p<m?p-1:p+1,A=d.nodes[k],C=c.entity(A),D=e.projection(C.loc),S=e.projection(b.loc),N=e.projection(v.loc);return k<m?(_=pr(D,S),y=pr(S,N),E=Math.abs(y-_)/Math.PI*180):(_=pr(N,S),y=pr(S,D),E=Math.abs(y-_)/Math.PI*180),E>n}var u=function(d,p){if(d.type!=="node")return[];var m=o(d,p);if(m.length!==1||!m[0].id.startsWith("w-"))return[];var w=[],b=m[0],h=b.nodes.indexOf(d.id);return h<=0||(l(p,b,h-1,h)||l(p,b,h+1,h))&&w.push(s(d,e)),w};return u.type=t,u}function s8(){var e="suspicious_name",t=["aerialway","aeroway","amenity","building","craft","highway","leisure","railway","man_made","office","shop","tourism","waterway"],r=!1;function n(u){var c=ue.nsi;return c&&(r=c.status()==="loading",!r)?c.isGenericName(u):!1}function i(u,c){for(var d=0;d<t.length;d++){var p=t[d],m=c[p];if(m&&(m=m.toLowerCase(),p===u||m===u||p.replace(/\_/g," ")===u||m.replace(/\_/g," ")===u))return!0}return!1}function a(u,c){return u=u.toLowerCase(),i(u,c)||n(c)}function o(u,c,d,p){return new mt({type:e,subtype:"generic_name",severity:"warning",message:function(b){var h=b.hasEntity(this.entityIds[0]);if(!h)return"";var g=Ie.match(h,b.graph()),v=p&&_e.languageName(p);return F.html("issues.generic_name.message"+(v?"_language":""),{feature:g.name(),name:d,language:v})},reference:m,entityIds:[u],hash:"".concat(c,"=").concat(d),dynamicFixes:function(){return[new rt({icon:"iD-operation-delete",title:F.html("issues.fix.remove_the_name.title"),onClick:function(h){var g=this.issue.entityIds[0],v=h.entity(g),x=Object.assign({},v.tags);delete x[c],h.perform(Qt(g,x),F("issues.fix.remove_generic_name.annotation"))}})]}});function m(w){w.selectAll(".issue-reference").data([0]).enter().append("div").attr("class","issue-reference").html(F.html("issues.generic_name.reference"))}}function s(u,c,d,p){return new mt({type:e,subtype:"not_name",severity:"warning",message:function(b){var h=b.hasEntity(this.entityIds[0]);if(!h)return"";var g=Ie.match(h,b.graph()),v=p&&_e.languageName(p);return F.html("issues.incorrect_name.message"+(v?"_language":""),{feature:g.name(),name:d,language:v})},reference:m,entityIds:[u],hash:"".concat(c,"=").concat(d),dynamicFixes:function(){return[new rt({icon:"iD-operation-delete",title:F.html("issues.fix.remove_the_name.title"),onClick:function(h){var g=this.issue.entityIds[0],v=h.entity(g),x=Object.assign({},v.tags);delete x[c],h.perform(Qt(g,x),F("issues.fix.remove_mistaken_name.annotation"))}})]}});function m(w){w.selectAll(".issue-reference").data([0]).enter().append("div").attr("class","issue-reference").html(F.html("issues.generic_name.reference"))}}var l=function(c){var d=c.tags,p=!!d.wikidata||!!d["brand:wikidata"]||!!d["operator:wikidata"];if(p)return[];var m=[],w=(d["not:name"]||"").split(";");for(var b in d){var h=b.match(/^name(?:(?::)([a-zA-Z_-]+))?$/);if(!!h){var g=h.length>=2?h[1]:null,v=d[b];if(w.length)for(var x in w){var _=w[x];if(_&&v===_){m.push(s(c.id,b,v,g));continue}}a(v,d)&&(m.provisional=r,m.push(o(c.id,b,v,g)))}}return m};return l.type=e,l}function l8(e){var t="unsquare_way",r=5,n=.05,i=10;function a(s,l){return s.type!=="way"||s.geometry(l)!=="area"?!1:s.tags.building&&s.tags.building!=="no"}var o=function(l,u){if(!a(l,u))return[];if(l.tags.nonsquare==="yes")return[];var c=l.isClosed();if(!c)return[];var d=u.childNodes(l).slice();if(d.length>i+1)return[];var p=ue.osm;if(!p||d.some(function(_){return!p.isDataLoaded(_.loc)}))return[];var m=d.some(function(_){return u.parentWays(_).some(function(y){return y.id===l.id?!1:a(y,u)?!0:u.parentRelations(y).some(function(E){return E.isMultipolygon()&&E.tags.building&&E.tags.building!=="no"})})});if(m)return[];var w=pe("validate-square-degrees"),b=isNaN(w)?r:parseFloat(w),h=d.map(function(_){return e.projection(_.loc)});if(!Cs(h,c,n,b,!0))return[];var g;if(!l.tags.wikidata){var v=xo(l.id,e.projection,void 0,b);v.transitionable=!1,g=[v,F("operations.orthogonalize.annotation.feature",{n:1})]}return[new mt({type:t,subtype:"building",severity:"warning",message:function(y){var E=y.hasEntity(this.entityIds[0]);return E?F.html("issues.unsquare_way.message",{feature:lt(E,y.graph())}):""},reference:x,entityIds:[l.id],hash:b,autoArgs:g,dynamicFixes:function(){return[new rt({icon:"iD-operation-orthogonalize",title:F("issues.fix.square_feature.title"),onClick:function(E,k){var A=this.issue.entityIds[0];E.perform(xo(A,E.projection,void 0,b),F("operations.orthogonalize.annotation.feature",{n:1})),window.setTimeout(function(){k()},175)}})]}})];function x(_){_.selectAll(".issue-reference").data([0]).enter().append("div").attr("class","issue-reference").html(F.html("issues.unsquare_way.buildings.reference"))}};return o.type=t,o}function $u(e){var t=this,r=be("validated","focusedIssue"),n=ke({},r,"on"),i={},a={},o=new Set,s=new Set,l=Ju("base"),u=Ju("head"),c={},d=!1,p=new Set,m=new Set,w,b=5e3,h=x(e.initialHashParams.validationError),g=x(e.initialHashParams.validationWarning),v=x(e.initialHashParams.validationDisable);function x(S){var N=[],R=(S||"").split(",");return R.forEach(function(L){L=L.trim();var B=L.split("/",2),O=B[0],U=B[1]||"*";!O||!U||N.push({type:P(O),subtype:P(U)})}),N;function P(L){var B=L.replace(/[-\/\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*");return new RegExp("^"+B+"$")}}n.init=function(){Object.values(u8).forEach(function(N){if(typeof N=="function"){var R=N(e),P=R.type;i[P]=R}});var S=pe("validate-disabledRules");S&&S.split(",").forEach(function(N){return a[N]=!0})};function _(S){p.forEach(window.cancelIdleCallback),p.clear(),m.forEach(window.clearTimeout),m.clear(),l.queue=[],u.queue=[],D(u),D(l),S&&o.clear(),s.clear(),l=Ju("base"),u=Ju("head"),c={},d=!1}n.reset=function(){_(!0)},n.resetIgnoredIssues=function(){o.clear(),r.call("validated")},n.revalidateUnsquare=function(){y(u),y(l),r.call("validated")};function y(S){var N=i.unsquare_way;if(!(!S.graph||typeof N!="function")){S.uncacheIssuesOfType("unsquare_way");var R=e.history().tree().intersects(new Ne([-180,-90],[180,90]),S.graph).filter(function(P){return P.type==="way"&&P.tags.building&&P.tags.building!=="no"});R.forEach(function(P){var L=N(P,S.graph);!L.length||S.cacheIssues(L)})}}n.getIssues=function(S){var N=Object.assign({what:"all",where:"all",includeIgnored:!1,includeDisabledRules:!1},S),R=e.map().extent(),P=new Set,L=[];return u.graph&&u.graph!==l.graph&&Object.values(u.issuesByIssueID).forEach(function(O){var U=(O.entityIds||[]).some(function(T){return c.hasOwnProperty(T)});N.what==="edited"&&!U||!B(O)||(P.add(O.id),L.push(O))}),N.what==="all"&&Object.values(l.issuesByIssueID).forEach(function(O){!B(O)||(P.add(O.id),L.push(O))}),L;function B(O){if(!O||P.has(O.id)||s.has(O.id)||N.includeDisabledRules==="only"&&!a[O.type]||!N.includeDisabledRules&&a[O.type]||N.includeIgnored==="only"&&!o.has(O.id)||!N.includeIgnored&&o.has(O.id)||(O.entityIds||[]).some(function(T){return!e.hasEntity(T)}))return!1;if(N.where==="visible"){var U=O.extent(e.graph());if(!R.intersects(U))return!1}return!0}},n.getResolvedIssues=function(){return Array.from(s).map(function(S){return l.issuesByIssueID[S]}).filter(Boolean)},n.focusIssue=function(S){var N=e.graph(),R,P,L=S.extent(N);if(L&&(P=L.center()),S.entityIds&&S.entityIds.length&&(R=S.entityIds[0],R&&R.charAt(0)==="r")){var B=K4([R],N),O=B.find(function(M){return M.charAt(0)==="n"&&N.hasEntity(M)});if(!O){var U=B.find(function(M){return M.charAt(0)==="w"&&N.hasEntity(M)});U&&(O=N.entity(U).first())}O&&(P=N.entity(O).loc)}if(P){var T=Math.max(e.map().zoom(),19);e.map().unobscuredCenterZoomEase(P,T)}R&&window.setTimeout(function(){e.enter(Le(e,[R])),r.call("focusedIssue",t,S)},250)},n.getIssuesBySeverity=function(S){var N=ar(n.getIssues(S),"severity");return N.error=N.error||[],N.warning=N.warning||[],N},n.getSharedEntityIssues=function(S,N){var R=["missing_tag","missing_role","outdated_tags","mismatched_geometry","crossing_ways","almost_junction","disconnected_way","impossible_oneway"],P=n.getIssues(N),L=new Set(S);return P.filter(function(B){return(B.entityIds||[]).some(function(O){return L.has(O)})}).sort(function(B,O){if(B.type===O.type)return B.id<O.id?-1:1;var U=R.indexOf(B.type),T=R.indexOf(O.type);return U!==-1&&T!==-1?U-T:U===-1&&T===-1?B.type<O.type?-1:1:U!==-1?-1:1})},n.getEntityIssues=function(S,N){return n.getSharedEntityIssues([S],N)},n.getRuleKeys=function(){return Object.keys(i)},n.isRuleEnabled=function(S){return!a[S]},n.toggleRule=function(S){a[S]?delete a[S]:a[S]=!0,pe("validate-disabledRules",Object.keys(a).join(",")),n.validate()},n.disableRules=function(S){a={},S.forEach(function(N){return a[N]=!0}),pe("validate-disabledRules",Object.keys(a).join(",")),n.validate()},n.ignoreIssue=function(S){o.add(S)},n.validate=function(){var S=e.history().base();u.graph||(u.graph=S),l.graph||(l.graph=S);var N=u.graph,R=e.graph();if(R===N)return d=!0,r.call("validated"),Promise.resolve();if(w)return d=!1,w;u.graph=R,c=e.history().difference().complete();var P=ua(N,R),L=Object.keys(P.complete());return L=u.withAllRelatedEntities(L),L.size?(w=A(L,u).then(function(){return k(L)}).then(function(){return r.call("validated")}).catch(function(){}).then(function(){w=null,d||n.validate()}),w):(r.call("validated"),Promise.resolve())},e.history().on("restore.validator",n.validate).on("undone.validator",n.validate).on("redone.validator",n.validate).on("reset.validator",function(){_(!1),n.validate()}),e.on("exit.validator",n.validate),e.history().on("merge.validator",function(S){if(!!S){var N=e.history().base();u.graph||(u.graph=N),l.graph||(l.graph=N);var R=S.map(function(P){return P.id});R=l.withAllRelatedEntities(R),A(R,l)}});function E(S,N){var R={issues:[],provisional:!1};return Object.keys(i).forEach(P),R;function P(L){var B=i[L];if(typeof B!="function"){console.error("no such validation rule = "+L);return}var O=B(S,N);O.provisional&&(R.provisional=!0),O=O.filter(U),R.issues=R.issues.concat(O);function U(T){var M=T.type,I=T.subtype||"",z;for(z=0;z<h.length;z++)if(h[z].type.test(M)&&h[z].subtype.test(I))return T.severity="error",!0;for(z=0;z<g.length;z++)if(g[z].type.test(M)&&g[z].subtype.test(I))return T.severity="warning",!0;for(z=0;z<v.length;z++)if(v[z].type.test(M)&&v[z].subtype.test(I))return!1;return!0}}}function k(S){S.forEach(function(N){var R=l.issuesByEntityID[N];!R||R.forEach(function(P){var L=l.issuesByIssueID[P],B=(L.entityIds||[]).some(function(O){return c.hasOwnProperty(O)});B&&!u.issuesByIssueID[P]?s.add(P):s.delete(P)})})}function A(S,N){var R=Array.from(S).map(function(P){return N.queuedEntityIDs.has(P)?null:(N.queuedEntityIDs.add(P),N.uncacheEntityID(P),function(){N.queuedEntityIDs.delete(P);var L=N.graph;if(!!L){var B=L.hasEntity(P);if(!!B){var O=E(B,L);O.provisional&&N.provisionalEntityIDs.add(P),N.cacheIssues(O.issues)}}})}).filter(Boolean);return N.queue=N.queue.concat(zo(R,100)),N.queuePromise||(N.queuePromise=D(N).then(function(){return C(N)}).catch(function(){}).finally(function(){return N.queuePromise=null})),N.queuePromise}function C(S){if(!!S.provisionalEntityIDs.size){var N=window.setTimeout(function(){m.delete(N),!!S.provisionalEntityIDs.size&&A(Array.from(S.provisionalEntityIDs),S)},b);m.add(N)}}function D(S){if(!S.queue.length)return Promise.resolve();var N=S.queue.pop();return new Promise(function(R){var P=window.requestIdleCallback(function(){p.delete(P),N.forEach(function(L){return L()}),R()});p.add(P)}).then(function(){S.queue.length%25==0&&r.call("validated")}).then(function(){return D(S)})}return n}function Ju(e){var t={which:e,graph:null,queue:[],queuePromise:null,queuedEntityIDs:new Set,provisionalEntityIDs:new Set,issuesByIssueID:{},issuesByEntityID:{}};return t.cacheIssue=function(r){(r.entityIds||[]).forEach(function(n){t.issuesByEntityID[n]||(t.issuesByEntityID[n]=new Set),t.issuesByEntityID[n].add(r.id)}),t.issuesByIssueID[r.id]=r},t.uncacheIssue=function(r){(r.entityIds||[]).forEach(function(n){t.issuesByEntityID[n]&&t.issuesByEntityID[n].delete(r.id)}),delete t.issuesByIssueID[r.id]},t.cacheIssues=function(r){r.forEach(t.cacheIssue)},t.uncacheIssues=function(r){r.forEach(t.uncacheIssue)},t.uncacheIssuesOfType=function(r){var n=Object.values(t.issuesByIssueID).filter(function(i){return i.type===r});t.uncacheIssues(n)},t.uncacheEntityID=function(r){var n=t.issuesByEntityID[r];n&&n.forEach(function(i){var a=t.issuesByIssueID[i];a?t.uncacheIssue(a):delete t.issuesByIssueID[i]}),delete t.issuesByEntityID[r],t.provisionalEntityIDs.delete(r)},t.withAllRelatedEntities=function(r){var n=new Set;return(r||[]).forEach(function(i){n.add(i);var a=t.issuesByEntityID[i];a&&a.forEach(function(o){var s=t.issuesByIssueID[o];s?(s.entityIds||[]).forEach(function(l){return n.add(l)}):delete t.issuesByIssueID[o]})}),n},t}function e3(e){var t=be("saveStarted","saveEnded","willAttemptUpload","progressChanged","resultNoChanges","resultErrors","resultConflicts","resultSuccess"),r=!1,n=[],i=[],a,o={};Je.get("discarded").then(function(h){o=h}).catch(function(){});var s=ke({},t,"on");s.isSaving=function(){return r},s.save=function(h,g,v){if(!(r&&!g)){var x=e.connection();if(!!x){if(!x.authenticated()){x.authenticate(function(y){y||s.save(h,g,v)});return}r||(r=!0,t.call("saveStarted",this));var _=e.history();n=[],i=[],a=_.changes(Na(_.difference(),o)),g||_.perform(Fr()),v?l(h):u(h)}}};function l(h){var g=e.connection();if(!g)return;for(var v=e.history(),x=e.graph(),_=dr(v.base(),!0),y=v.difference().summary(),E=[],k=0;k<y.length;k++){var A=y[k];A.changeType==="modified"&&E.push(A.entity.id)}var C=R(E,x),D={},S=0,N=C.length;E.length?(t.call("progressChanged",this,S,N),C.forEach(function(B){D[B]=!1}),g.loadMultiple(C,P)):u(h);return;function R(B,O){var U=new Set(B);return B.forEach(function(T){var M=O.entity(T);M.type==="way"&&O.childNodes(M).forEach(function(I){I.version!==void 0&&U.add(I.id)})}),Array.from(U)}function P(B,O){if(!i.length)if(B)i.push({msg:B.message||B.responseText,details:[F("save.status_code",{code:B.status})]}),p();else{var U=[];O.data.forEach(function(T){if(_.replace(T),D[T.id]=!0,C=C.filter(function(z){return z!==T.id}),!!T.visible){var M,I;if(T.type==="way")for(M=0;M<T.nodes.length;M++)I=T.nodes[M],D[I]===void 0&&(D[I]=!1,U.push(I));else if(T.type==="relation"&&T.isMultipolygon())for(M=0;M<T.members.length;M++)I=T.members[M].id,D[I]===void 0&&(D[I]=!1,U.push(I))}}),S+=O.data.length,N+=U.length,t.call("progressChanged",this,S,N),U.length&&(C.push.apply(C,U),g.loadMultiple(U,P)),C.length||(L(),u(h))}}function L(){function B(M,I,z){return{id:M,text:I,action:function(){v.replace(z)}}}function O(M){return'<a href="'+g.userURL(M)+'" target="_blank">'+M+"</a>"}function U(M){return nr(M)||Un(M.id)+" "+M.id}function T(M,I){if(M.version!==I.version)return!1;if(M.type==="way")for(var z=Yt(M.nodes,I.nodes),q=0;q<z.length;q++){var V=x.hasEntity(z[q]),Y=_.hasEntity(z[q]);if(V&&Y&&V.version!==Y.version)return!1}return!0}E.forEach(function(M){var I=x.entity(M),z=_.entity(M);if(!T(I,z)){var q=As(M,x,_,o,O);v.replace(q);var V=q.conflicts();if(!!V.length){var Y=As(M,x,_,o).withOption("force_local"),ee=As(M,x,_,o).withOption("force_remote"),ie=F("save.conflict."+(z.visible?"keep_local":"restore")),se=F("save.conflict."+(z.visible?"keep_remote":"delete"));n.push({id:M,name:U(I),details:V,chosen:1,choices:[B(M,ie,Y),B(M,se,ee)]})}}})}}function u(h){var g=e.connection();if(g||i.push({msg:"No OSM Service"}),n.length)m(h);else if(i.length)p();else{var v=e.history(),x=v.changes(Na(v.difference(),o));x.modified.length||x.created.length||x.deleted.length?(t.call("willAttemptUpload",this),g.putChangeset(h,x,c)):d()}}function c(h,g){h?h.status===409?s.save(g,!0,!0):(i.push({msg:h.message||h.responseText,details:[F("save.status_code",{code:h.status})]}),p()):w(g)}function d(){t.call("resultNoChanges",this),b(),e.flush()}function p(){e.history().pop(),t.call("resultErrors",this,i),b()}function m(h){n.sort(function(g,v){return v.id.localeCompare(g.id)}),t.call("resultConflicts",this,h,n,a),b()}function w(h){e.history().clearSaved(),t.call("resultSuccess",this,h),window.setTimeout(function(){b(),e.flush()},2500)}function b(){r=!1,t.call("saveEnded",this)}return s.cancelConflictResolution=function(){e.history().pop()},s.processResolvedConflicts=function(h){for(var g=e.history(),v=0;v<n.length;v++)if(n[v].chosen===1){var x=e.hasEntity(n[v].id);if(x&&x.type==="way")for(var _=Ve(x.nodes),y=0;y<_.length;y++)g.replace(n0(_[y]));g.replace(n0(n[v].id))}s.save(h,!0,!1)},s.reset=function(){},s}var lv=window.devicePixelRatio&&window.devicePixelRatio>=2;window.matchMedia("\n        (-webkit-min-device-pixel-ratio: 2), /* Safari */\n        (min-resolution: 2dppx),             /* standard */\n        (min-resolution: 192dpi)             /* fallback */\n    ").addListener(function(){lv=window.devicePixelRatio&&window.devicePixelRatio>=2});function d0(e){if(!e)return null;var t={day:"numeric",month:"short",year:"numeric"},r=new Date(e);return isNaN(r.getTime())?null:r.toLocaleDateString(_e.localeCode(),t)}function uv(e){var t;return(e.start||e.end)&&(t=e.start||"?",e.start!==e.end&&(t+=" - "+(e.end||"?"))),t}function vn(e){var t=Object.assign({},e),r=[0,0],n=t.name,i=t.description,a=!!t.best,o=t.encrypted?sd(t.template):t.template;return t.tileSize=e.tileSize||256,t.zoomExtent=e.zoomExtent||[0,22],t.overzoom=e.overzoom!==!1,t.offset=function(s){return arguments.length?(r=s,t):r},t.nudge=function(s,l){return r[0]+=s[0]/Math.pow(2,l),r[1]+=s[1]/Math.pow(2,l),t},t.name=function(){var s=t.id.replace(/\./g,"<TX_DOT>");return F("imagery."+s+".name",{default:n})},t.label=function(){var s=t.id.replace(/\./g,"<TX_DOT>");return F.html("imagery."+s+".name",{default:n})},t.description=function(){var s=t.id.replace(/\./g,"<TX_DOT>");return F.html("imagery."+s+".description",{default:i})},t.best=function(){return a},t.area=function(){if(!e.polygon)return Number.MAX_VALUE;var s=Zi({type:"MultiPolygon",coordinates:[e.polygon]});return isNaN(s)?0:s},t.imageryUsed=function(){return n||t.id},t.template=function(s){return arguments.length?((t.id==="custom"||t.id==="Bing")&&(o=s),t):o},t.url=function(s){var l=o;if(l==="")return l;if(t.type||(/SERVICE=WMS|\{(proj|wkid|bbox)\}/.test(o)?(t.type="wms",t.projection="EPSG:3857"):/\{(x|y)\}/.test(o)?t.type="tms":/\{u\}/.test(o)&&(t.type="bing")),t.type==="wms"){var u=function(b,h,g){var v=Math.sinh||function(k){var A=Math.exp(k);return(A-1/A)/2},x=Math.pow(2,g),_=b/x*Math.PI*2-Math.PI,y=Math.atan(v(Math.PI*(1-2*h/x)));switch(t.projection){case"EPSG:4326":return{x:_*180/Math.PI,y:y*180/Math.PI};default:var E=Ji(_,y);return{x:2003750834e-2/Math.PI*E[0],y:2003750834e-2/Math.PI*E[1]}}},c=t.tileSize,d=t.projection,p=u(s[0],s[1],s[2]),m=u(s[0]+1,s[1]+1,s[2]);l=l.replace(/\{(\w+)\}/g,function(w,b){switch(b){case"width":case"height":return c;case"proj":return d;case"wkid":return d.replace(/^EPSG:/,"");case"bbox":return d==="EPSG:4326"&&/VERSION=1.3|CRS={proj}/.test(t.template().toUpperCase())?m.y+","+p.x+","+p.y+","+m.x:p.x+","+m.y+","+m.x+","+p.y;case"w":return p.x;case"s":return m.y;case"n":return m.x;case"e":return p.y;default:return w}})}else t.type==="tms"?l=l.replace("{x}",s[0]).replace("{y}",s[1]).replace(/\{[t-]y\}/,Math.pow(2,s[2])-s[1]-1).replace(/\{z(oom)?\}/,s[2]).replace(/\{@2x\}|\{r\}/,lv?"@2x":""):t.type==="bing"&&(l=l.replace("{u}",function(){for(var w="",b=s[2];b>0;b--){var h=0,g=1<<b-1;(s[0]&g)!=0&&h++,(s[1]&g)!=0&&(h+=2),w+=h.toString()}return w}));return l=l.replace(/\{switch:([^}]+)\}/,function(w,b){var h=b.split(",");return h[(s[0]+s[1])%h.length]}),l},t.validZoom=function(s){return t.zoomExtent[0]<=s&&(t.overzoom||t.zoomExtent[1]>s)},t.isLocatorOverlay=function(){return t.id==="mapbox_locator_overlay"},t.isHidden=function(){return t.id==="DigitalGlobe-Premium-vintage"||t.id==="DigitalGlobe-Standard-vintage"},t.copyrightNotices=function(){},t.getMetadata=function(s,l,u){var c={start:d0(t.startDate),end:d0(t.endDate)};c.range=uv(c);var d={vintage:c};u(null,d)},t}vn.Bing=function(e,t){e.template="https://ecn.t{switch:0,1,2,3}.tiles.virtualearth.net/tiles/a{u}.jpeg?g=587&n=z";var r=vn(e),n="Ak5oTE46TUbjRp08OFVcGpkARErDobfpuyNKa-W2mQ8wbt1K1KL8p1bIRwWwcF-Q",i="n",a="https://dev.virtualearth.net/REST/v1/Imagery/Metadata/Aerial?include=ImageryProviders&uriScheme=https&key="+n,o={},s={},l=[];return kt(a).then(function(u){var c=u.resourceSets[0].resources[0],d=c.imageUrl,p=c.imageUrlSubdomains,m=p.map(function(w){return w.substring(1)}).join(",");d=d.replace("{subdomain}","t{switch:".concat(m,"}")).replace("{quadkey}","{u}"),new URLSearchParams(d).has(i)||(d+="&".concat(i,"=z")),r.template(d),l=c.imageryProviders.map(function(w){return{attribution:w.attribution,areas:w.coverageAreas.map(function(b){return{zoom:[b.zoomMin,b.zoomMax],extent:new Ne([b.bbox[1],b.bbox[0]],[b.bbox[3],b.bbox[2]])}})}}),t.call("change")}).catch(function(){}),r.copyrightNotices=function(u,c){return u=Math.min(u,21),l.filter(function(d){return d.areas.some(function(p){return c.intersects(p.extent)&&p.zoom[0]<=u&&p.zoom[1]>=u})}).map(function(d){return d.attribution}).join(", ")},r.getMetadata=function(u,c,d){var p=c.slice(0,3).join("/"),m=Math.min(c[2],21),w=u[1]+","+u[0],b="https://dev.virtualearth.net/REST/v1/Imagery/Metadata/Aerial/"+w+"?zl="+m+"&key="+n;if(!s[p]){if(o[p]||(o[p]={}),o[p]&&o[p].metadata)return d(null,o[p].metadata);s[p]=!0,kt(b).then(function(h){if(delete s[p],!h)throw new Error("Unknown Error");var g={start:d0(h.resourceSets[0].resources[0].vintageStart),end:d0(h.resourceSets[0].resources[0].vintageEnd)};g.range=uv(g);var v={vintage:g};o[p].metadata=v,d&&d(null,v)}).catch(function(h){delete s[p],d&&d(h.message)})}},r.terms_url="https://blog.openstreetmap.org/2010/11/30/microsoft-imagery-details",r};vn.Esri=function(e){e.template.match(/blankTile/)===null&&(e.template=e.template+"?blankTile=false");var t=vn(e),r={},n={},i;return t.fetchTilemap=function(a){if(!(i&&bt(a,i)<5e3)){i=a;var o=20,s=t.url([1,2,3]),l=Math.floor((a[0]+180)/360*Math.pow(2,o)),u=Math.floor((1-Math.log(Math.tan(a[1]*Math.PI/180)+1/Math.cos(a[1]*Math.PI/180))/Math.PI)/2*Math.pow(2,o)),c=s.replace(/tile\/[0-9]+\/[0-9]+\/[0-9]+\?blankTile=false/,"tilemap")+"/"+o+"/"+u+"/"+l+"/8/8";kt(c).then(function(d){if(!d)throw new Error("Unknown Error");for(var p=!0,m=0;m<d.data.length;m++)if(!d.data[m]){p=!1;break}t.zoomExtent[1]=p?22:19}).catch(function(){})}},t.getMetadata=function(a,o,s){var l=o.slice(0,3).join("/"),u=Math.min(o[2],t.zoomExtent[1]),c=a[0]+","+a[1],d=F("info_panels.background.unknown"),p,m={},w={};if(n[l])return;switch(!0){case(u>=20&&t.id==="EsriWorldImageryClarity"):p=4;break;case u>=19:p=3;break;case u>=17:p=2;break;case u>=13:p=0;break;default:p=99}var b;if(t.id==="EsriWorldImagery"?b="https://services.arcgisonline.com/arcgis/rest/services/World_Imagery/MapServer/":t.id==="EsriWorldImageryClarity"&&(b="https://serviceslab.arcgisonline.com/arcgis/rest/services/Clarity_World_Imagery/MapServer/"),b+=p+"/query?returnGeometry=false&geometry="+c+"&inSR=4326&geometryType=esriGeometryPoint&outFields=*&f=json",r[l]||(r[l]={}),r[l]&&r[l].metadata)return s(null,r[l].metadata);p===99?(m={start:null,end:null,range:null},w={vintage:null,source:d,description:d,resolution:d,accuracy:d},s(null,w)):(n[l]=!0,kt(b).then(function(g){if(delete n[l],g){if(g.features&&g.features.length<1)throw new Error("No Results");if(g.error&&g.error.message)throw new Error(g.error.message)}else throw new Error("Unknown Error");var v=d0(g.features[0].attributes.SRC_DATE2);m={start:v,end:v,range:v},w={vintage:m,source:h(g.features[0].attributes.NICE_NAME),description:h(g.features[0].attributes.NICE_DESC),resolution:h(+parseFloat(g.features[0].attributes.SRC_RES).toFixed(4)),accuracy:h(+parseFloat(g.features[0].attributes.SRC_ACC).toFixed(4))},isFinite(w.resolution)&&(w.resolution+=" m"),isFinite(w.accuracy)&&(w.accuracy+=" m"),r[l].metadata=w,s&&s(null,w)}).catch(function(g){delete n[l],s&&s(g.message)}));function h(g){return String(g).trim()||d}},t};vn.None=function(){var e=vn({id:"none",template:""});return e.name=function(){return F("background.none")},e.label=function(){return F.html("background.none")},e.imageryUsed=function(){return null},e.area=function(){return-1},e};vn.Custom=function(e){var t=vn({id:"custom",template:e});return t.name=function(){return F("background.custom")},t.label=function(){return F.html("background.custom")},t.imageryUsed=function(){var r=t.template();if(r.indexOf("?")!==-1){var n=r.split("?",2),i=Bt(n[1]);["access_token","connectId","token"].forEach(function(a){i[a]&&(i[a]="{apikey}")}),r=n[0]+"?"+at(i,!0)}return r=r.replace(/token\/(\w+)/,"token/{apikey}"),"Custom ("+r+" )"},t.area=function(){return-2},t};var cv=Xe($l());function Eo(e){var t=r1("Transform"),r=new Nr,n=new er,i,a=256,o={},s,l,u;function c(m,w){var b=.002;return a*Math.pow(2,w-m[2])/a+b}function d(m){var w=i.scale();l=Jt(w,a);var b;u?b=[u.offset()[0]*Math.pow(2,l),u.offset()[1]*Math.pow(2,l)]:b=[0,0];var h=[i.translate()[0]+b[0],i.translate()[1]+b[1]];n.scale(w).translate(h),s=[w*Math.PI-h[0],w*Math.PI-h[1]],p(m)}function p(m){if(!u)return;var w=[],b=e.getDebug("tile")&&!u.overlay,h=Math.round(l),g=Math.max(0,h-5);u.overzoom||(h=g=Math.floor(l));for(var v=!1,x=h;!v&&x>=g;x--)if(!!u.validZoom(x)){r.skipNullIsland(!!u.overlay).zoomRange(x);for(var _=r.getTiles(n),y=!1,E=0;E<_.tiles.length;E++){var k=_.tiles[E];k.url=u.url(k.xyz),!k.url||typeof k.url!="string"||o[k.url]?y=!0:w.push(k)}v=!y}function A(z,q){delete o[q.url],G(this).on("error",null).on("load",null).classed("tile-loaded",!0),p(m)}function C(z,q){o[q.url]=(o[q.url]||0)+1,G(this).on("error",null).on("load",null).remove(),p(m)}function D(z){var q=z.xyz,V=a*Math.pow(2,l-q[2]),Y=c(q,l);return"translate("+(q[0]*V-s[0])+"px,"+(q[1]*V-s[1])+"px) scale("+Y+","+Y+")"}function S(z){var q=z.xyz,V=a*Math.pow(2,l-q[2]);return[q[0]*V-s[0]+V/2,q[1]*V-s[1]+V/2]}function N(z){var q=S(z);return"translate("+q[0]+"px,"+q[1]+"px)"}var R=n.dimensions(),P=R[0],L=R[1],B=[(L[0]-P[0])/2,(L[1]-P[1])/2],O=Math.max(L[0],L[1]),U;w.forEach(function(z){var q=S(z),V=it(q,B);V<O&&(O=V,U=z)});var T=m.selectAll("img").data(w,function(z){return z.url});T.exit().style(t,D).classed("tile-removing",!0).classed("tile-center",!1).each(function(){var z=G(this);window.setTimeout(function(){z.classed("tile-removing")&&z.remove()},300)}),T.enter().append("img").attr("class","tile").attr("draggable","false").style("width",a+"px").style("height",a+"px").style("z-index",function(z){return z.xyz[2]}).attr("src",function(z){return z.url}).on("error",C).on("load",A).merge(T).style(t,D).classed("tile-debug",b).classed("tile-removing",!1).classed("tile-center",function(z){return z===U});var M=m.selectAll(".tile-label-debug").data(b?w:[],function(z){return z.url});if(M.exit().remove(),b){var I=M.enter().append("div").style("z-index",function(z){return z.xyz[2]}).attr("class","tile-label-debug");I.append("div").attr("class","tile-label-debug-coord"),I.append("div").attr("class","tile-label-debug-vintage"),M=M.merge(I),M.style(t,N),M.selectAll(".tile-label-debug-coord").html(function(z){var q=z.xyz;return q[2]+" / "+q[0]+" / "+q[1]}),M.selectAll(".tile-label-debug-vintage").each(function(z){var q=G(this),V=e.projection.invert(S(z));u.getMetadata(V,z.xyz,function(Y,ee){q.html(ee&&ee.vintage&&ee.vintage.range||F("info_panels.background.vintage")+": "+F("info_panels.background.unknown"))})})}}return d.projection=function(m){return arguments.length?(i=m,d):i},d.dimensions=function(m){return arguments.length?(n.dimensions([[0,0],m]),d):n.dimensions()[1]},d.source=function(m){return arguments.length?(u=m,a=u.tileSize,o={},r.tileSize(u.tileSize),d):u},d}var On=null;function t3(e){var t=be("change"),r=qt(),n=Eo(e).projection(e.projection),i=[],a=!0,o=[],s=1,l=1,u=1,c=1,d=0;function p(){return Je.get("imagery").then(function(b){if(On)return On;On={imagery:b,features:{}};var h=b.map(function(x){if(!x.polygon)return null;var _=x.polygon.map(function(E){return[E]}),y={type:"Feature",properties:{id:x.id},geometry:{type:"MultiPolygon",coordinates:_}};return On.features[x.id]=y,y}).filter(Boolean);On.query=(0,cv.default)({type:"FeatureCollection",features:h}),On.backgrounds=b.map(function(x){return x.type==="bing"?vn.Bing(x,t):/^EsriWorldImagery/.test(x.id)?vn.Esri(x):vn(x)}),On.backgrounds.unshift(vn.None());var g=pe("background-custom-template")||"",v=vn.Custom(g);return On.backgrounds.unshift(v),On})}function m(b){var h=n.source();if(e.map().zoom()>18&&h&&/^EsriWorldImagery/.test(h.id)){var g=e.map().center();h.fetchTilemap(g)}var v=m.sources(e.map().extent()),x=a;a=!!v.filter(function(P){return P===h}).length,x!==a&&m.updateImagery();var _="";if(r.cssfilters&&(s!==1&&(_+=" brightness(".concat(s,")")),l!==1&&(_+=" contrast(".concat(l,")")),u!==1&&(_+=" saturate(".concat(u,")")),c<1)){var y=mr(.5,5)(1-c);_+=" blur(".concat(y,"px)")}var E=b.selectAll(".layer-background").data([0]);E=E.enter().insert("div",".layer-data").attr("class","layer layer-background").merge(E),r.cssfilters?E.style("filter",_||null):E.style("opacity",s);var k=E.selectAll(".layer-imagery").data([0]);k.enter().append("div").attr("class","layer layer-imagery").merge(k).call(n);var A="",C="";if(r.cssfilters&&c>1){C="overlay",A="saturate(0) blur(3px) invert(1)";var D=c-1;A+=" contrast(".concat(D,")");var S=mr(1,.85)(c-1);A+=" brightness(".concat(S,")")}var N=E.selectAll(".layer-unsharp-mask").data(r.cssfilters&&c>1?[0]:[]);N.exit().remove(),N.enter().append("div").attr("class","layer layer-mask layer-unsharp-mask").merge(N).call(n).style("filter",A||null).style("mix-blend-mode",C||null);var R=b.selectAll(".layer-overlay").data(o,function(P){return P.source().name()});R.exit().remove(),R.enter().insert("div",".layer-data").attr("class","layer layer-overlay").merge(R).each(function(P,L,B){return G(B[L]).call(P)})}m.numGridSplits=function(b){return arguments.length?(d=b,t.call("change"),m):d},m.updateImagery=function(){var b=n.source();if(!(e.inIntro()||!b)){var h=o.filter(function(P){return!P.source().isLocatorOverlay()&&!P.source().isHidden()}).map(function(P){return P.source().id}).join(","),g=N2(b.offset()),v=.01,x=+g[0].toFixed(2),_=+g[1].toFixed(2),y=Bt(window.location.hash),E=b.id;E==="custom"&&(E="custom:".concat(b.template())),E?y.background=E:delete y.background,h?y.overlays=h:delete y.overlays,Math.abs(x)>v||Math.abs(_)>v?y.offset="".concat(x,",").concat(_):delete y.offset,window.mocha||window.location.replace("#"+at(y,!0));var k=[],A=[],C=b.imageryUsed();C&&a&&k.push(C),o.filter(function(P){return!P.source().isLocatorOverlay()&&!P.source().isHidden()}).forEach(function(P){return k.push(P.source().imageryUsed())});var D=e.layers().layer("data");D&&D.enabled()&&D.hasData()&&k.push(D.getSrc());var S={streetside:"Bing Streetside",mapillary:"Mapillary Images","mapillary-map-features":"Mapillary Map Features","mapillary-signs":"Mapillary Signs",openstreetcam:"OpenStreetCam Images"};for(var N in S){var R=e.layers().layer(N);R&&R.enabled()&&(A.push(N),k.push(S[N]))}e.history().imageryUsed(k),e.history().photoOverlaysUsed(A)}},m.sources=function(b,h,g){if(!On)return[];var v={};(On.query.bbox(b.rectangle(),!0)||[]).forEach(function(k){return v[k.id]=!0});var x=n.source(),_=e.connection(),y=_&&_.imageryBlocklists()||[],E=y.length!==i.length||y.some(function(k,A){return String(k)!==i[A]});return E&&(On.backgrounds.forEach(function(k){k.isBlocked=y.some(function(A){return A.test(k.template())})}),i=y.map(function(k){return String(k)})),On.backgrounds.filter(function(k){return g&&x===k?!0:k.isBlocked?!1:k.polygon?h&&h<6?!1:v[k.id]:!0})},m.dimensions=function(b){!b||(n.dimensions(b),o.forEach(function(h){return h.dimensions(b)}))},m.baseLayerSource=function(b){if(!arguments.length)return n.source();var h=e.connection();if(!h)return m;for(var g=h.imageryBlocklists(),v=b.template(),x=!1,_=0,y,E=0;E<g.length&&(y=g[E],x=y.test(v),_++,!x);E++);return _||(y=/.*\.google(apis)?\..*\/(vt|kh)[\?\/].*([xyz]=.*){3}.*/,x=y.test(v)),n.source(x?m.findSource("none"):b),t.call("change"),m.updateImagery(),m},m.findSource=function(b){return!b||!On?null:On.backgrounds.find(function(h){return h.id&&h.id===b})},m.bing=function(){m.baseLayerSource(m.findSource("Bing"))},m.showsLayer=function(b){var h=n.source();return!b||!h?!1:b.id===h.id||o.some(function(g){return b.id===g.source().id})},m.overlayLayerSources=function(){return o.map(function(b){return b.source()})},m.toggleOverlayLayer=function(b){for(var h,g=0;g<o.length;g++)if(h=o[g],h.source()===b){o.splice(g,1),t.call("change"),m.updateImagery();return}h=Eo(e).source(b).projection(e.projection).dimensions(n.dimensions()),o.push(h),t.call("change"),m.updateImagery()},m.nudge=function(b,h){var g=n.source();return g&&(g.nudge(b,h),t.call("change"),m.updateImagery()),m},m.offset=function(b){var h=n.source();return arguments.length?(h&&(h.offset(b),t.call("change"),m.updateImagery()),m):h&&h.offset()||[0,0]},m.brightness=function(b){return arguments.length?(s=b,e.mode()&&t.call("change"),m):s},m.contrast=function(b){return arguments.length?(l=b,e.mode()&&t.call("change"),m):l},m.saturation=function(b){return arguments.length?(u=b,e.mode()&&t.call("change"),m):u},m.sharpness=function(b){return arguments.length?(c=b,e.mode()&&t.call("change"),m):c};var w;return m.ensureLoaded=function(){if(w)return w;function b(x){if(!x)return!1;var _=x.split("/").map(Number);return _.length<3||_.some(isNaN)?!1:new Ne([_[2],_[1]])}var h=Bt(window.location.hash),g=h.background||h.layer,v=b(h.map);return w=p().then(function(x){var _=x.backgrounds.length&&x.backgrounds[0],y;if(!g&&v&&(y=m.sources(v).find(function(N){return N.best()})),g&&g.indexOf("custom:")===0){var E=g.replace(/^custom:/,""),k=m.findSource("custom");m.baseLayerSource(k.template(E)),pe("background-custom-template",E)}else m.baseLayerSource(m.findSource(g)||y||m.findSource(pe("background-last-used"))||m.findSource("Maxar-Premium")||m.findSource("Bing")||_||m.findSource("none"));var A=x.backgrounds.find(function(N){return N.overlay&&N.default});A&&m.toggleOverlayLayer(A);var C=(h.overlays||"").split(",");if(C.forEach(function(N){N=m.findSource(N),N&&m.toggleOverlayLayer(N)}),h.gpx){var D=e.layers().layer("data");D&&D.url(h.gpx,".gpx")}if(h.offset){var S=h.offset.replace(/;/g,",").split(",").map(function(N){return!isNaN(N)&&N});S.length===2&&m.offset(I2(S))}}).catch(function(){})},ke(m,t,"on")}function r3(e){var t=be("change","redraw"),r=ke({},t,"on"),n=new Set,i={motorway:!0,motorway_link:!0,trunk:!0,trunk_link:!0,primary:!0,primary_link:!0,secondary:!0,secondary_link:!0,tertiary:!0,tertiary_link:!0,residential:!0,unclassified:!0,living_street:!0},a={service:!0,road:!0,track:!0},o={path:!0,footway:!0,cycleway:!0,bridleway:!0,steps:!0,pedestrian:!0},s={proposed:!0,construction:!0,abandoned:!0,dismantled:!0,disused:!0,razed:!0,demolished:!0,obliterated:!0},l=1,u={},c={},d={},p=[],m=[],w={};function b(){if(!window.mocha){var v=Bt(window.location.hash),x=r.disabled();x.length?v.disable_features=x.join(","):delete v.disable_features,window.location.replace("#"+at(v,!0)),pe("disabled-features",x.join(","))}m=r.hidden(),t.call("change"),t.call("redraw")}function h(v,x,_){var y=!0;p.push(v),c[v]={filter:x,enabled:y,count:0,currentMax:_||1/0,defaultMax:_||1/0,enable:function(){this.enabled=!0,this.currentMax=this.defaultMax},disable:function(){this.enabled=!1,this.currentMax=0},hidden:function(){return this.count===0&&!this.enabled||this.count>this.currentMax*l},autoHidden:function(){return this.hidden()&&this.currentMax>0}}}h("points",function(x,_){return _==="point"},300),h("traffic_roads",function(x){return i[x.highway]}),h("service_roads",function(x){return a[x.highway]}),h("paths",function(x){return o[x.highway]}),h("buildings",function(x){return!!x.building&&x.building!=="no"||x.parking==="multi-storey"||x.parking==="sheds"||x.parking==="carports"||x.parking==="garage_boxes"},250),h("building_parts",function(x){return x["building:part"]}),h("indoor",function(x){return x.indoor}),h("landuse",function(x,_){return _==="area"&&!c.buildings.filter(x)&&!c.building_parts.filter(x)&&!c.indoor.filter(x)&&!c.water.filter(x)&&!c.pistes.filter(x)}),h("boundaries",function(x){return!!x.boundary&&!(i[x.highway]||a[x.highway]||o[x.highway]||x.waterway||x.railway||x.landuse||x.natural||x.building||x.power)}),h("water",function(x){return!!x.waterway||x.natural==="water"||x.natural==="coastline"||x.natural==="bay"||x.landuse==="pond"||x.landuse==="basin"||x.landuse==="reservoir"||x.landuse==="salt_pond"}),h("rail",function(x){return(!!x.railway||x.landuse==="railway")&&!(i[x.highway]||a[x.highway]||o[x.highway])}),h("pistes",function(x){return x["piste:type"]}),h("aerialways",function(x){return x.aerialway&&x.aerialway!=="yes"&&x.aerialway!=="station"}),h("power",function(x){return!!x.power}),h("past_future",function(x){if(i[x.highway]||a[x.highway]||o[x.highway])return!1;for(var _=Object.keys(x),y=0;y<_.length;y++){var E=_[y];if(s[E]||s[x[E]])return!0}return!1}),h("others",function(x,_){return _==="line"||_==="area"}),r.features=function(){return c},r.keys=function(){return p},r.enabled=function(v){return arguments.length?c[v]&&c[v].enabled:p.filter(function(x){return c[x].enabled})},r.disabled=function(v){return arguments.length?c[v]&&!c[v].enabled:p.filter(function(x){return!c[x].enabled})},r.hidden=function(v){return arguments.length?c[v]&&c[v].hidden():p.filter(function(x){return c[x].hidden()})},r.autoHidden=function(v){return arguments.length?c[v]&&c[v].autoHidden():p.filter(function(x){return c[x].autoHidden()})},r.enable=function(v){c[v]&&!c[v].enabled&&(c[v].enable(),b())},r.enableAll=function(){var v=!1;for(var x in c)c[x].enabled||(v=!0,c[x].enable());v&&b()},r.disable=function(v){c[v]&&c[v].enabled&&(c[v].disable(),b())},r.disableAll=function(){var v=!1;for(var x in c)c[x].enabled&&(v=!0,c[x].disable());v&&b()},r.toggle=function(v){c[v]&&(function(x){return x.enabled?x.disable():x.enable()}(c[v]),b())},r.resetStats=function(){for(var v=0;v<p.length;v++)c[p[v]].count=0;t.call("change")},r.gatherStats=function(v,x,_){var y=!1,E=ar(v,"type"),k=[].concat(E.relation||[],E.way||[],E.node||[]),A,C,D,S,N;for(S=0;S<p.length;S++)c[p[S]].count=0;for(l=_[0]*_[1]/1e6,S=0;S<k.length;S++)for(C=k[S].geometry(x),D=Object.keys(r.getMatches(k[S],x,C)),N=0;N<D.length;N++)c[D[N]].count++;return A=r.hidden(),A!==m&&(m=A,y=!0,t.call("change")),y},r.stats=function(){for(var v=0;v<p.length;v++)d[p[v]]=c[p[v]].count;return d},r.clear=function(v){for(var x=0;x<v.length;x++)r.clearEntity(v[x])},r.clearEntity=function(v){delete u[Me.key(v)]},r.reset=function(){Array.from(n).forEach(function(v){window.cancelIdleCallback(v),n.delete(v)}),u={}};function g(v){return v.tags.type==="boundary"}return r.getMatches=function(v,x,_){if(_==="vertex"||_==="relation"&&!g(v))return{};var y=Me.key(v);if(u[y]||(u[y]={}),!u[y].matches){for(var E={},k=!1,A=0;A<p.length;A++){if(p[A]==="others"){if(k)continue;if(v.type==="way"){var C=r.getParents(v,x,_);if(C.length===1&&C[0].isMultipolygon()||C.length>0&&C.every(function(S){return S.tags.type==="boundary"})){var D=Me.key(C[0]);if(u[D]&&u[D].matches){E=Object.assign({},u[D].matches);continue}}}}c[p[A]].filter(v.tags,_)&&(E[p[A]]=k=!0)}u[y].matches=E}return u[y].matches},r.getParents=function(v,x,_){if(_==="point")return[];var y=Me.key(v);if(u[y]||(u[y]={}),!u[y].parents){var E=[];_==="vertex"?E=x.parentWays(v):E=x.parentRelations(v),u[y].parents=E}return u[y].parents},r.isHiddenPreset=function(v,x){if(!m.length||!v.tags)return!1;var _=v.setTags({},x);for(var y in c)if(c[y].filter(_,x))return m.indexOf(y)!==-1?y:!1;return!1},r.isHiddenFeature=function(v,x,_){if(!m.length||!v.version||w[v.id])return!1;var y=Object.keys(r.getMatches(v,x,_));return y.length&&y.every(function(E){return r.hidden(E)})},r.isHiddenChild=function(v,x,_){if(!m.length||!v.version||_==="point"||w[v.id])return!1;var y=r.getParents(v,x,_);if(!y.length)return!1;for(var E=0;E<y.length;E++)if(!r.isHidden(y[E],x,y[E].geometry(x)))return!1;return!0},r.hasHiddenConnections=function(v,x){if(!m.length)return!1;var _,y;return v.type==="midpoint"?(_=[x.entity(v.edge[0]),x.entity(v.edge[1])],y=[]):(_=v.nodes?x.childNodes(v):[],y=r.getParents(v,x,v.geometry(x))),y=_.reduce(function(E,k){return x.isShared(k)?Yt(E,x.parentWays(k)):E},y),y.some(function(E){return r.isHidden(E,x,E.geometry(x))})},r.isHidden=function(v,x,_){if(!m.length||!v.version)return!1;var y=_==="vertex"?r.isHiddenChild:r.isHiddenFeature;return y(v,x,_)},r.filter=function(v,x){if(!m.length)return v;for(var _=[],y=0;y<v.length;y++){var E=v[y];r.isHidden(E,x,E.geometry(x))||_.push(E)}return _},r.forceVisible=function(v){if(!arguments.length)return Object.keys(w);w={};for(var x=0;x<v.length;x++){w[v[x]]=!0;var _=e.hasEntity(v[x]);if(_&&_.type==="relation")for(var y in _.members)w[_.members[y].id]=!0}return r},r.init=function(){var v=pe("disabled-features");if(v){var x=v.replace(/;/g,",").split(",");x.forEach(r.disable)}var _=Bt(window.location.hash);if(_.disable_features){var y=_.disable_features.replace(/;/g,",").split(",");y.forEach(r.disable)}},e.history().on("merge.features",function(v){if(!!v){var x=window.requestIdleCallback(function(){for(var _=e.graph(),y=ar(v,"type"),E=[].concat(y.relation||[],y.way||[],y.node||[]),k=0;k<E.length;k++){var A=E[k].geometry(_);r.getMatches(E[k],_,A)}});n.add(x)}}),r}pt();var QS="Expected a function";function GS(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(QS);return fn(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Nt(e,t,{leading:n,maxWait:t,trailing:i})}var Et=GS;var h0=Xe(bi());function p0(e,t,r){if(!r)return 1;if(r===e.id)return 0;var n=t.parentWays(e),i,a,o,s,l,u,c,d,p;for(i=0;i<n.length;i++)for(o=n[i].nodes,s=n[i].isClosed(),a=0;a<o.length;a++)if(o[a]===e.id){if(l=a-2,u=a-1,c=a+1,d=a+2,s&&(p=o.length-1,l<0&&(l=p+l),u<0&&(u=p+u),c>p&&(c=c-p),d>p&&(d=d-p)),o[l]===r)return 0;if(o[u]===r)return 2;if(o[c]===r)return 2;if(o[d]===r)return 0;if(s&&o.indexOf(r)!==-1)return 0}return 1}function m0(e,t,r,n,i){return function(a){var o=0,s=r,l=[],u=F2().clipExtent(e.clipExtent()).stream,c=t.childNodes(a).map(function(m){return m.loc}),d,p;return n(a)&&c.reverse(),sn({type:"LineString",coordinates:c},e.stream(u({lineStart:function(){},lineEnd:function(){d=null},point:function(w,b){if(p=[w,b],d){var h=it(d,p)-s;if(h>=0){var g=pr(d,p),v=r*Math.cos(g),x=r*Math.sin(g),_=[d[0]+s*Math.cos(g),d[1]+s*Math.sin(g)],y=[d,_];for(h-=r;h>=0;h-=r)_=kr(_,[v,x]),y.push(_);y.push(p);var E="",k;for(k=0;k<y.length;k++)E+=(k===0?"M":"L")+y[k][0]+","+y[k][1];if(l.push({id:a.id,index:o++,d:E}),i(a)){for(E="",k=y.length-1;k>=0;k--)E+=(k===y.length-1?"M":"L")+y[k][0]+","+y[k][1];l.push({id:a.id,index:o++,d:E})}}s=-h}d=p}}))),l}}function Lr(e,t,r){var n={},i=r?65:5,a=e.clipExtent(),o;a.min?o=[[a.min[0]-i,a.min[1]-i],[a.max[0]+i,a.max[1]+i]]:o=[[a[0][0]-i,a[0][1]-i],[a[1][0]+i,a[1][1]+i]];var s=F2().clipExtent(o).stream,l=e.stream,u=Dn().projection({stream:function(p){return l(s(p))}}),c=function(p){return p.id in n?n[p.id]:n[p.id]=u(p.asGeoJSON(t))};return c.geojson=function(d){return d.__featurehash__!==void 0?d.__featurehash__ in n?n[d.__featurehash__]:n[d.__featurehash__]=u(d):u(d)},c}function Gt(e){var t=function(n){var i=e(n.loc);return"translate("+i[0]+","+i[1]+")"};return t.geojson=function(r){return t(r.properties.entity)},t}function n3(e){return function(t){var r=t.tags,n=!t.hasInterestingTags();return e.parentRelations(t).forEach(function(i){var a=i.tags.type;(a==="multipolygon"&&n||a==="boundary")&&(r=Object.assign({},i.tags,r))}),r}}function Ps(e,t,r){if(r===void 0)return t.transient(e,"waySegments",n);return n();function n(){for(var i=e.nodes.indexOf(r)!==-1,a={passive:[],active:[]},o={},s={},l,u,c=0;c<e.nodes.length;c++)l=t.entity(e.nodes[c]),u=p0(l,t,r),s={node:l,type:u},o.type!==void 0&&(o.node.id===r||s.node.id===r||(i&&(o.type===2||s.type===2)||o.type===0&&s.type===0?d(o,s,c):p(o,s,c))),o=s;return a;function d(m,w,b){a.active.push({type:"Feature",id:e.id+"-"+b+"-nope",properties:{nope:!0,target:!0,entity:e,nodes:[m.node,w.node],index:b},geometry:{type:"LineString",coordinates:[m.node.loc,w.node.loc]}})}function p(m,w,b){a.passive.push({type:"Feature",id:e.id+"-"+b,properties:{target:!0,entity:e,nodes:[m.node,w.node],index:b},geometry:{type:"LineString",coordinates:[m.node.loc,w.node.loc]}})}}}function Pn(){var e=["building","highway","railway","waterway","aeroway","aerialway","piste:type","boundary","power","amenity","natural","landuse","leisure","military","place","man_made","route","attraction","building:part","indoor","seamark:type"],t=["proposed","planned","construction","disused","abandoned","dismantled","razed","demolished","obliterated","intermittent"],r=["oneway","bridge","tunnel","embankment","cutting","barrier","surface","tracktype","footway","crossing","service","sport","public_transport","location","parking","golf","type","leisure","man_made","indoor"],n=function(o){return o.tags},i=function a(o){o.each(function(l){var u=this.className;u.baseVal!==void 0&&(u=u.baseVal);var c=n(l),d=a.getClassesString(c,u);d!==u&&G(this).attr("class",d)})};return i.getClassesString=function(a,o){var s,l,u,c,d,p,m;/\bstroke\b/.test(o)&&!!a.barrier&&a.barrier!=="no"&&(m="line");var w=o.trim().split(/\s+/).filter(function(g){return g.length&&!/^tag-/.test(g)}).map(function(g){return(g==="line"||g==="area")&&m||g});for(u=0;u<e.length;u++)if(d=e[u],p=a[d],!(!p||p==="no")){d==="piste:type"?d="piste":d.includes(":")&&(d=d.replace(":","_")),s=d,t.indexOf(p)!==-1?(l=p,w.push("tag-"+d)):(w.push("tag-"+d),w.push("tag-"+d+"-"+p));break}if(!s){for(u=0;u<t.length;u++)for(c=0;c<e.length;c++)if(d=t[u]+":"+e[c],p=a[d],!(!p||p==="no")){l=t[u];break}}if(!l)for(u=0;u<t.length&&(d=t[u],p=a[d],!(!(!p||p==="no")&&(p==="yes"||s&&s===p?l=d:!s&&e.indexOf(p)!==-1&&(l=d,s=p,w.push("tag-"+p)),l)));u++);for(l&&(w.push("tag-status"),w.push("tag-status-"+l)),u=0;u<r.length;u++)d=r[u],p=a[d],!(!p||p==="no"||d===s)&&(w.push("tag-"+d),w.push("tag-"+d+"-"+p));if(s==="highway"&&!ka[a.highway]||s==="aeroway"){var b=a.highway==="track"?"unpaved":"paved";for(d in a)p=a[d],d in Z4&&(b=Z4[d][p]?"paved":"unpaved"),d in f7&&!!f7[d][p]&&(b="semipaved");w.push("tag-"+b)}var h=a.wikidata||a["flag:wikidata"]||a["brand:wikidata"]||a["network:wikidata"]||a["operator:wikidata"];return h&&w.push("tag-wikidata"),w.join(" ").trim()},i.tags=function(a){return arguments.length?(n=a,i):n},i}var i3={amenity:{grave_yard:"cemetery",fountain:"water_standing"},landuse:{cemetery:[{religion:"christian",pattern:"cemetery_christian"},{religion:"buddhist",pattern:"cemetery_buddhist"},{religion:"muslim",pattern:"cemetery_muslim"},{religion:"jewish",pattern:"cemetery_jewish"},{pattern:"cemetery"}],construction:"construction",farmland:"farmland",farmyard:"farmyard",forest:[{leaf_type:"broadleaved",pattern:"forest_broadleaved"},{leaf_type:"needleleaved",pattern:"forest_needleleaved"},{leaf_type:"leafless",pattern:"forest_leafless"},{pattern:"forest"}],grave_yard:"cemetery",grass:[{golf:"green",pattern:"golf_green"},{pattern:"grass"}],landfill:"landfill",meadow:"meadow",military:"construction",orchard:"orchard",quarry:"quarry",vineyard:"vineyard"},natural:{beach:"beach",grassland:"grass",sand:"beach",scrub:"scrub",water:[{water:"pond",pattern:"pond"},{water:"reservoir",pattern:"water_standing"},{pattern:"waves"}],wetland:[{wetland:"marsh",pattern:"wetland_marsh"},{wetland:"swamp",pattern:"wetland_swamp"},{wetland:"bog",pattern:"wetland_bog"},{wetland:"reedbed",pattern:"wetland_reedbed"},{pattern:"wetland"}],wood:[{leaf_type:"broadleaved",pattern:"forest_broadleaved"},{leaf_type:"needleleaved",pattern:"forest_needleleaved"},{leaf_type:"leafless",pattern:"forest_leafless"},{pattern:"forest"}]},traffic_calming:{island:[{surface:"grass",pattern:"grass"}],chicane:[{surface:"grass",pattern:"grass"}],choker:[{surface:"grass",pattern:"grass"}]}};function a3(e){if(e.building&&e.building!=="no")return null;for(var t in i3){var r=e[t];if(!!r){if(typeof i3[t]=="string")return"pattern-"+i3[t];var n=i3[t];for(var i in n)if(r===i){var a=n[i];if(typeof a=="string")return"pattern-"+a;for(var o in a){var s=a[o],l=!0;for(var u in s)if(u!=="pattern"){var c=e[u];if(!c||c!==s[u]){l=!1;break}}if(l)return"pattern-"+s.pattern}}}}return null}function o3(e,t){function r(a){var o=a3(a);return o?'url("#ideditor-'+o+'")':""}function n(a,o,s,l){var u=t.getDebug("target")?"pink ":"nocolor ",c=t.getDebug("target")?"red ":"nocolor ",d=Lr(e).geojson,p=t.activeID(),m=t.history().base(),w={targets:[],nopes:[]};s.forEach(function(_){var y=Ps(_,o,p);w.targets.push.apply(w.targets,y.passive),w.nopes.push.apply(w.nopes,y.active)});var b=w.targets.filter(d),h=a.selectAll(".area.target-allowed").filter(function(_){return l(_.properties.entity)}).data(b,function(y){return y.id});h.exit().remove();var g=function(y){var E=y.properties.entity.id;return!m.entities[E]||!(0,h0.default)(o.entities[E].nodes,m.entities[E].nodes)?!1:y.properties.nodes.some(function(k){return!m.entities[k.id]||!(0,h0.default)(o.entities[k.id].loc,m.entities[k.id].loc)})};h.enter().append("path").merge(h).attr("d",d).attr("class",function(_){return"way area target target-allowed "+u+_.id}).classed("segment-edited",g);var v=w.nopes.filter(d),x=a.selectAll(".area.target-nope").filter(function(_){return l(_.properties.entity)}).data(v,function(y){return y.id});x.exit().remove(),x.enter().append("path").merge(x).attr("d",d).attr("class",function(_){return"way area target target-nope "+c+_.id}).classed("segment-edited",g)}function i(a,o,s,l){for(var u=Lr(e,o,!0),c={},d,p=t.history().base(),m=0;m<s.length;m++){var w=s[m];w.geometry(o)==="area"&&(d=mo(w,o),d?c[d.id]={entity:d.mergeTags(w.tags),area:Math.abs(w.area(o))}:c[w.id]||(c[w.id]={entity:w,area:Math.abs(w.area(o))}))}var b=Object.values(c).filter(function(N){return u(N.entity)});b.sort(function(N,R){return R.area-N.area}),b=b.map(function(S){return S.entity});var h=b.filter(function(S){return S.type==="way"}),g={clip:b,shadow:h,stroke:h,fill:b},v=t.surface().selectAll("defs").selectAll(".clipPath-osm").filter(l).data(g.clip,Me.key);v.exit().remove();var x=v.enter().append("clipPath").attr("class","clipPath-osm").attr("id",function(S){return"ideditor-"+S.id+"-clippath"});x.append("path"),v.merge(x).selectAll("path").attr("d",u);var _=a.selectAll(".layer-osm.areas"),y=a.selectAll(".layer-touch.areas"),E=_.selectAll("g.areagroup").data(["fill","shadow","stroke"]);E=E.enter().append("g").attr("class",function(S){return"areagroup area-"+S}).merge(E);var k=E.selectAll("path").filter(l).data(function(S){return g[S]},Me.key);k.exit().remove();var A=a.selectAll(".area-fill path.area").nodes(),C=Qo(function(S){return-S.__data__.area(o)}).left;function D(S){if(this._parent.__data__==="fill")return A[C(A,-S.area(o))]}k=k.enter().insert("path",D).merge(k).each(function(S){var N=this.parentNode.__data__;this.setAttribute("class",S.type+" area "+N+" "+S.id),N==="fill"&&(this.setAttribute("clip-path","url(#ideditor-"+S.id+"-clippath)"),this.style.fill=this.style.stroke=r(S.tags))}).classed("added",function(S){return!p.entities[S.id]}).classed("geometry-edited",function(S){return o.entities[S.id]&&p.entities[S.id]&&!(0,h0.default)(o.entities[S.id].nodes,p.entities[S.id].nodes)}).classed("retagged",function(S){return o.entities[S.id]&&p.entities[S.id]&&!(0,h0.default)(o.entities[S.id].tags,p.entities[S.id].tags)}).call(Pn()).attr("d",u),y.call(n,o,g.stroke,l)}return i}var dv=Xe(c8()),s3=Xe(Ic());var pv=!1,g0=!1,Ei;function Bs(e,t,r){var n=Et(function(){r.call("change")},1e3),i=!0,a=qt(),o=G(null),s,l,u,c;function d(){if(pv)return;Ei={},g0=!0;function S(N){N.stopPropagation(),N.preventDefault(),N.dataTransfer.dropEffect="copy"}t.container().attr("dropzone","copy").on("drop.svgData",function(N){N.stopPropagation(),N.preventDefault(),!!a.filedrop&&A.fileList(N.dataTransfer.files)}).on("dragenter.svgData",S).on("dragexit.svgData",S).on("dragover.svgData",S),pv=!0}function p(){return ue.vectorTile&&!s?(s=ue.vectorTile,s.event.on("loadedData",n)):!ue.vectorTile&&s&&(s=null),s}function m(){b(),o.style("opacity",0).transition().duration(250).style("opacity",1).on("end",function(){r.call("change")})}function w(){n.cancel(),o.transition().duration(250).style("opacity",0).on("end",h)}function b(){o.style("display","block")}function h(){o.selectAll(".viewfield-group").remove(),o.style("display","none")}function g(S){if(!S)return null;if(S.type==="FeatureCollection")for(var N=0;N<S.features.length;N++)v(S.features[N]);else v(S);return S}function v(S){if(!!S)return S.__featurehash__=qo((0,dv.default)(S)),S}function x(S){return S?S.type==="FeatureCollection"?S.features:[S]:[]}function _(S){return S.__featurehash__}function y(S){return S.geometry.type==="Polygon"||S.geometry.type==="MultiPolygon"}function E(S){return"ideditor-data-"+S.__featurehash__+"-clippath"}function k(S){return["data"+S.__featurehash__,S.geometry.type,y(S)?"area":"",S.__layerID__||""].filter(Boolean).join(" ")}function A(S){var N=p(),R=Lr(e).geojson,P=Lr(e,null,!0).geojson,L=A.hasData();o=S.selectAll(".layer-mapdata").data(g0&&L?[0]:[]),o.exit().remove(),o=o.enter().append("g").attr("class","layer-mapdata").merge(o);var B=t.surface();if(!B||B.empty())return;var O,U;if(u&&N){var T=u;N.loadTiles(T,u,e),O=N.data(T,e)}else O=x(Ei);O=O.filter(R),U=O.filter(y);var M=B.selectAll("defs").selectAll(".clipPath-data").data(U,_);M.exit().remove();var I=M.enter().append("clipPath").attr("class","clipPath-data").attr("id",E);I.append("path"),M.merge(I).selectAll("path").attr("d",P);var z=o.selectAll("g.datagroup").data(["fill","shadow","stroke"]);z=z.enter().append("g").attr("class",function(ee){return"datagroup datagroup-"+ee}).merge(z);var q={fill:U,shadow:O,stroke:O},V=z.selectAll("path").data(function(ee){return q[ee]},_);V.exit().remove(),V=V.enter().append("path").attr("class",function(ee){var ie=this.parentNode.__data__;return"pathdata "+ie+" "+k(ee)}).attr("clip-path",function(ee){var ie=this.parentNode.__data__;return ie==="fill"?"url(#"+E(ee)+")":null}).merge(V).attr("d",function(ee){var ie=this.parentNode.__data__;return ie==="fill"?P(ee):R(ee)}),o.call(Y,"label-halo",O).call(Y,"label",O);function Y(ee,ie,se){var ve=Dn(e),le=se.filter(function(Ae){return i&&Ae.properties&&(Ae.properties.desc||Ae.properties.name)}),re=ee.selectAll("text."+ie).data(le,_);re.exit().remove(),re=re.enter().append("text").attr("class",function(Ae){return ie+" "+k(Ae)}).merge(re).text(function(Ae){return Ae.properties.desc||Ae.properties.name}).attr("x",function(Ae){var ae=ve.centroid(Ae);return ae[0]+11}).attr("y",function(Ae){var ae=ve.centroid(Ae);return ae[1]})}}function C(S){if(!!S){var N=/\.(gpx|kml|(geo)?json)$/i,R=S.toLowerCase().match(N);return R&&R.length&&R[0]}}function D(S){return new DOMParser().parseFromString(S,"text/xml")}return A.setFile=function(S,N){u=null,l=null,Ei=null,c=null;var R;switch(S){case".gpx":R=(0,s3.gpx)(D(N));break;case".kml":R=(0,s3.kml)(D(N));break;case".geojson":case".json":R=JSON.parse(N);break}return R=R||{},Object.keys(R).length&&(Ei=g(R),c=S+" data file",this.fitZoom()),r.call("change"),this},A.showLabels=function(S){return arguments.length?(i=S,this):i},A.enabled=function(S){return arguments.length?(g0=S,g0?m():w(),r.call("change"),this):g0},A.hasData=function(){var S=Ei||{};return!!(u||Object.keys(S).length)},A.template=function(S,N){if(!arguments.length)return u;var R=t.connection();if(R){for(var P=R.imageryBlocklists(),L=!1,B=0,O,U=0;U<P.length&&(O=P[U],L=O.test(S),B++,!L);U++);B||(O=/.*\.google(apis)?\..*\/(vt|kh)[\?\/].*([xyz]=.*){3}.*/,L=O.test(S))}return u=S,l=null,Ei=null,c=N||"vectortile:"+S.split(/[?#]/)[0],r.call("change"),this},A.geojson=function(S,N){return arguments.length?(u=null,l=null,Ei=null,c=null,S=S||{},Object.keys(S).length&&(Ei=g(S),c=N||"unknown.geojson"),r.call("change"),this):Ei},A.fileList=function(S){if(!arguments.length)return l;if(u=null,l=S,Ei=null,c=null,!S||!S.length)return this;var N=S[0],R=C(N.name),P=new FileReader;return P.onload=function(){return function(L){A.setFile(R,L.target.result)}}(N),P.readAsText(N),this},A.url=function(S){return u=null,l=null,Ei=null,c=null,u0(S).then(function(N){A.setFile(".gpx",N),t.rapidContext().setTaskExtentByGpxData(N)}).catch(function(){}),this},A.getSrc=function(){return c||""},A.fitZoom=function(){var S=x(Ei);if(!!S.length){var N=t.map(),R=N.trimmedExtent().polygon(),P=S.reduce(function(O,U){var T=U.geometry;if(!T)return O;var M=T.coordinates;switch(T.type){case"Point":M=[M];case"MultiPoint":case"LineString":break;case"MultiPolygon":M=N1(M);case"Polygon":case"MultiLineString":M=N1(M);break}return Yt(O,M)},[]);if(!ts(R,P,!0)){var L=G1({type:"LineString",coordinates:P}),B=new Ne(L[0],L[1]);N.centerZoom(B.center(),N.trimmedExtentZoom(B))}return this}},d(),A}function Rs(e,t){function r(n){var i=t.getDebug("tile"),a=t.getDebug("collision"),o=t.getDebug("imagery"),s=t.getDebug("target"),l=t.getDebug("downloaded"),u=[];i&&u.push({class:"red",label:"tile"}),a&&u.push({class:"yellow",label:"collision"}),o&&u.push({class:"orange",label:"imagery"}),s&&u.push({class:"pink",label:"touchTargets"}),l&&u.push({class:"purple",label:"downloaded"});var c=t.container().select(".main-content").selectAll(".debug-legend").data(u.length?[0]:[]);c.exit().remove(),c=c.enter().append("div").attr("class","fillD debug-legend").merge(c);var d=c.selectAll(".debug-legend-item").data(u,function(v){return v.label});d.exit().remove(),d.enter().append("span").attr("class",function(v){return"debug-legend-item ".concat(v.class)}).text(function(v){return v.label});var p=n.selectAll(".layer-debug").data(o||l?[0]:[]);p.exit().remove(),p=p.enter().append("g").attr("class","layer-debug").merge(p);var m=t.map().extent();Je.get("imagery").then(function(v){var x=o&&v.query.bbox(m.rectangle(),!0)||[],_=x.map(function(E){return E.features[E.id]}),y=p.selectAll("path.debug-imagery").data(_);y.exit().remove(),y.enter().append("path").attr("class","debug-imagery debug orange")}).catch(function(){});var w=t.connection(),b=[];if(w&&l){var h=w.caches("get").tile.rtree;b=h.all().map(function(v){return{type:"Feature",properties:{id:v.id},geometry:{type:"Polygon",coordinates:[[[v.minX,v.minY],[v.minX,v.maxY],[v.maxX,v.maxY],[v.maxX,v.minY],[v.minX,v.minY]]]}}})}var g=p.selectAll("path.debug-downloaded").data(l?b:[]);g.exit().remove(),g.enter().append("path").attr("class","debug-downloaded debug purple"),p.selectAll("path").attr("d",Lr(e).geojson)}return r.enabled=function(){return arguments.length?this:t.getDebug("tile")||t.getDebug("collision")||t.getDebug("imagery")||t.getDebug("target")||t.getDebug("downloaded")},r}function l3(e){var t=G(null),r=["iD-sprite","maki-sprite","temaki-sprite","fa-sprite","community-sprite"];function n(a){t=a.append("defs"),t.append("marker").attr("id","ideditor-oneway-marker").attr("viewBox","0 0 10 5").attr("refX",2.5).attr("refY",2.5).attr("markerWidth",2).attr("markerHeight",2).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("class","oneway-marker-path").attr("d","M 5,3 L 0,3 L 0,2 L 5,2 L 5,0 L 10,2.5 L 5,5 z").attr("stroke","none").attr("fill","#000").attr("opacity","0.75");function o(l,u,c){t.append("marker").attr("id","ideditor-sided-marker-"+l).attr("viewBox","0 0 2 2").attr("refX",1).attr("refY",-c).attr("markerWidth",1.5).attr("markerHeight",1.5).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("class","sided-marker-path sided-marker-"+l+"-path").attr("d","M 0,0 L 1,1 L 2,0 z").attr("stroke","none").attr("fill",u)}o("natural","rgb(170, 170, 170)",0),o("coastline","#77dede",1),o("waterway","#77dede",1),o("barrier","#ddd",1),o("man_made","#fff",0),t.append("marker").attr("id","ideditor-viewfield-marker").attr("viewBox","0 0 16 16").attr("refX",8).attr("refY",16).attr("markerWidth",4).attr("markerHeight",4).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("class","viewfield-marker-path").attr("d","M 6,14 C 8,13.4 8,13.4 10,14 L 16,3 C 12,0 4,0 0,3 z").attr("fill","#333").attr("fill-opacity","0.75").attr("stroke","#fff").attr("stroke-width","0.5px").attr("stroke-opacity","0.75"),t.append("marker").attr("id","ideditor-viewfield-marker-wireframe").attr("viewBox","0 0 16 16").attr("refX",8).attr("refY",16).attr("markerWidth",4).attr("markerHeight",4).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("class","viewfield-marker-path").attr("d","M 6,14 C 8,13.4 8,13.4 10,14 L 16,3 C 12,0 4,0 0,3 z").attr("fill","none").attr("stroke","#fff").attr("stroke-width","0.5px").attr("stroke-opacity","0.75");var s=t.selectAll("pattern").data([["beach","dots"],["construction","construction"],["cemetery","cemetery"],["cemetery_christian","cemetery_christian"],["cemetery_buddhist","cemetery_buddhist"],["cemetery_muslim","cemetery_muslim"],["cemetery_jewish","cemetery_jewish"],["farmland","farmland"],["farmyard","farmyard"],["forest","forest"],["forest_broadleaved","forest_broadleaved"],["forest_needleleaved","forest_needleleaved"],["forest_leafless","forest_leafless"],["golf_green","grass"],["grass","grass"],["landfill","landfill"],["meadow","grass"],["orchard","orchard"],["pond","pond"],["quarry","quarry"],["scrub","bushes"],["vineyard","vineyard"],["water_standing","lines"],["waves","waves"],["wetland","wetland"],["wetland_marsh","wetland_marsh"],["wetland_swamp","wetland_swamp"],["wetland_bog","wetland_bog"],["wetland_reedbed","wetland_reedbed"]]).enter().append("pattern").attr("id",function(l){return"ideditor-pattern-"+l[0]}).attr("width",32).attr("height",32).attr("patternUnits","userSpaceOnUse");s.append("rect").attr("x",0).attr("y",0).attr("width",32).attr("height",32).attr("class",function(l){return"pattern-color-"+l[0]}),s.append("image").attr("x",0).attr("y",0).attr("width",32).attr("height",32).attr("xlink:href",function(l){return e.imagePath("pattern/"+l[1]+".png")}),t.selectAll("clipPath").data([12,18,20,32,45]).enter().append("clipPath").attr("id",function(l){return"ideditor-clip-square-"+l}).append("rect").attr("x",0).attr("y",0).attr("width",function(l){return l}).attr("height",function(l){return l}),i(r,!0)}function i(a,o){r=Ve(r.concat(a));var s=t.selectAll(".spritesheet").data(r);s.enter().append("g").attr("class",function(l){return"spritesheet spritesheet-"+l}).each(function(l){var u=e.imagePath(l+".svg"),c=G(this).node();Fc(u).then(function(d){c.appendChild(G(d.documentElement).attr("id","ideditor-"+l).node()),o&&l!=="iD-sprite"&&G(c).selectAll("path").attr("fill","currentColor")}).catch(function(){})}),s.exit().remove()}return n.addSprites=i,n}var Ls=!1,js;function u3(e,t,r){var n=Et(function(){return r.call("change")},1e3),i=12,a=G(null),o=G(null),s=!1;function l(h,g){h.attr("class",g).attr("transform","translate(-4, -24)").attr("d","M11.6,6.2H7.1l1.4-5.1C8.6,0.6,8.1,0,7.5,0H2.2C1.7,0,1.3,0.3,1.3,0.8L0,10.2c-0.1,0.6,0.4,1.1,0.9,1.1h4.6l-1.8,7.6C3.6,19.4,4.1,20,4.7,20c0.3,0,0.6-0.2,0.8-0.5l6.9-11.9C12.7,7,12.3,6.2,11.6,6.2z")}function u(){return ue.keepRight&&!js?(js=ue.keepRight,js.on("loaded",n)):!ue.keepRight&&js&&(js=null),js}function c(){s||(s=!0,o.style("display","block"))}function d(){s&&(s=!1,o.style("display","none"),o.selectAll(".qaItem.keepRight").remove(),a.selectAll(".qaItem.keepRight").remove())}function p(){c(),o.style("opacity",0).transition().duration(250).style("opacity",1).on("end interrupt",function(){return r.call("change")})}function m(){n.cancel(),o.interrupt(),a.selectAll(".qaItem.keepRight").remove(),o.transition().duration(250).style("opacity",0).on("end interrupt",function(){d(),r.call("change")})}function w(){if(!s||!Ls)return;var h=u(),g=t.selectedErrorID(),v=h?h.getItems(e):[],x=Gt(e),_=o.selectAll(".qaItem.keepRight").data(v,function(C){return C.id});_.exit().remove();var y=_.enter().append("g").attr("class",function(C){return"qaItem ".concat(C.service," itemId-").concat(C.id," itemType-").concat(C.parentIssueType)});if(y.append("ellipse").attr("cx",.5).attr("cy",1).attr("rx",6.5).attr("ry",3).attr("class","stroke"),y.append("path").call(l,"shadow"),y.append("use").attr("class","qaItem-fill").attr("width","20px").attr("height","20px").attr("x","-8px").attr("y","-22px").attr("xlink:href","#iD-icon-bolt"),_.merge(y).sort(A).classed("selected",function(C){return C.id===g}).attr("transform",x),a.empty())return;var E=t.getDebug("target")?"pink ":"nocolor ",k=a.selectAll(".qaItem.keepRight").data(v,function(C){return C.id});k.exit().remove(),k.enter().append("rect").attr("width","20px").attr("height","20px").attr("x","-8px").attr("y","-22px").merge(k).sort(A).attr("class",function(C){return"qaItem ".concat(C.service," target ").concat(E," itemId-").concat(C.id)}).attr("transform",x);function A(C,D){return C.id===g?1:D.id===g?-1:C.severity==="error"&&D.severity!=="error"?1:D.severity==="error"&&C.severity!=="error"?-1:D.loc[1]-C.loc[1]}}function b(h){var g=u(),v=t.surface();v&&!v.empty()&&(a=v.selectAll(".data-layer.touch .layer-touch.markers")),o=h.selectAll(".layer-keepRight").data(g?[0]:[]),o.exit().remove(),o=o.enter().append("g").attr("class","layer-keepRight").style("display",Ls?"block":"none").merge(o),Ls&&(g&&~~t.map().zoom()>=i?(c(),g.loadIssues(e),w()):d())}return b.enabled=function(h){return arguments.length?(Ls=h,Ls?p():(m(),t.selectedErrorID()&&t.enter(De(t))),r.call("change"),this):Ls},b.supported=function(){return!!u()},b}function Ui(e){var t=G(null),r;function n(){Ui.initialized||(Ui.enabled=!1,Ui.initialized=!0)}function i(){t.style("display","block")}function a(){t.transition().duration(250).style("opacity",0)}function o(){t.style("opacity",0).transition().duration(250).style("opacity",1)}function s(){t.style("display","none")}function l(p){return Gt(e)(p)}function u(p,m){var w=Sn(p),b=[m[0],m[1]+w],h=e(b),g=e([m[0],m[1]]);return Math.round(g[1]-h[1]).toString()}function c(){var p={loc:[r.coords.longitude,r.coords.latitude]},m=t.selectAll(".geolocations").selectAll(".geolocation").data([p]);m.exit().remove();var w=m.enter().append("g").attr("class","geolocation");w.append("circle").attr("class","geolocate-radius").attr("dx","0").attr("dy","0").attr("fill","rgb(15,128,225)").attr("fill-opacity","0.3").attr("r","0"),w.append("circle").attr("dx","0").attr("dy","0").attr("fill","rgb(15,128,225)").attr("stroke","white").attr("stroke-width","1.5").attr("r","6"),m.merge(w).attr("transform",l),t.select(".geolocate-radius").attr("r",u(r.coords.accuracy,p.loc))}function d(p){var m=Ui.enabled;t=p.selectAll(".layer-geolocate").data([0]),t.exit().remove();var w=t.enter().append("g").attr("class","layer-geolocate").style("display",m?"block":"none");w.append("g").attr("class","geolocations"),t=w.merge(t),m?c():s()}return d.enabled=function(p,m){return arguments.length?(r=p,Ui.enabled=m,Ui.enabled?(i(),o()):a(),this):Ui.enabled},n(),d}var f8=Xe(ji());function c3(e,t){var r=Dn(e),n=qt(),i=n.ie||n.browser.toLowerCase()==="edge"||n.browser.toLowerCase()==="firefox"&&n.version>=70,a=new f8.default,o=new f8.default,s={},l={},u=[["line","aeroway","*",12],["line","highway","motorway",12],["line","highway","trunk",12],["line","highway","primary",12],["line","highway","secondary",12],["line","highway","tertiary",12],["line","highway","*",12],["line","railway","*",12],["line","waterway","*",12],["area","aeroway","*",12],["area","amenity","*",12],["area","building","*",12],["area","historic","*",12],["area","leisure","*",12],["area","man_made","*",12],["area","natural","*",12],["area","shop","*",12],["area","tourism","*",12],["area","camp_site","*",12],["point","aeroway","*",10],["point","amenity","*",10],["point","building","*",10],["point","historic","*",10],["point","leisure","*",10],["point","man_made","*",10],["point","natural","*",10],["point","shop","*",10],["point","tourism","*",10],["point","camp_site","*",10],["line","name","*",12],["area","name","*",12],["point","name","*",10]];function c(E){var k=["building","landuse","natural"];return k.some(function(A){return E.id.indexOf(A)>=0})}function d(E,k){return function(A,C){return E[C][k]}}function p(E,k,A){var C=s[k];if(C||(C=s[k]={}),C[E])return C[E];if(A)return C[E]=A.getComputedTextLength(),C[E];var D=encodeURIComponent(E).match(/%[CDEFcdef]/g);return D===null?k/3*2*E.length:k/3*(2*E.length+D.length)}function m(E,k,A,C,D){var S=E.selectAll("path").filter(A).data(k,Me.key);S.exit().remove(),S.enter().append("path").style("stroke-width",d(D,"font-size")).attr("id",function(N){return"ideditor-labelpath-"+N.id}).attr("class",C).merge(S).attr("d",d(D,"lineString"))}function w(E,k,A,C,D){var S=E.selectAll("text."+C).filter(A).data(k,Me.key);S.exit().remove(),S.enter().append("text").attr("class",function(N,R){return C+" "+D[R].classes+" "+N.id}).attr("dy",i?"0.35em":null).append("textPath").attr("class","textpath"),E.selectAll("text."+C).selectAll(".textpath").filter(A).data(k,Me.key).attr("startOffset","50%").attr("xlink:href",function(N){return"#ideditor-labelpath-"+N.id}).text(t0)}function b(E,k,A,C,D){var S=E.selectAll("text."+C).filter(A).data(k,Me.key);S.exit().remove(),S.enter().append("text").attr("class",function(N,R){return C+" "+D[R].classes+" "+N.id}).merge(S).attr("x",d(D,"x")).attr("y",d(D,"y")).style("text-anchor",d(D,"textAnchor")).text(nr).each(function(N,R){p(nr(N),D[R].height,this)})}function h(E,k,A,C,D){k=k.filter(S),D=D.filter(S),b(E,k,A,C,D);function S(N,R){return D[R].hasOwnProperty("x")&&D[R].hasOwnProperty("y")}}function g(E,k,A,C,D){var S=E.selectAll("use."+C).filter(A).data(k,Me.key);S.exit().remove(),S.enter().append("use").attr("class","icon "+C).attr("width","17px").attr("height","17px").merge(S).attr("transform",d(D,"transform")).attr("xlink:href",function(N){var R=Ie.match(N,t.graph()),P=R&&R.icon;if(P){var L=/^maki-/.test(P);return"#"+P+(L?"-15":"")}else return""})}function v(E,k,A){var C="debug "+A+" "+(A==="debug-skipped"?"orange":"yellow"),D=[];t.getDebug("collision")&&(D=k.all().map(function(N){return{type:"Polygon",coordinates:[[[N.minX,N.minY],[N.maxX,N.minY],[N.maxX,N.maxY],[N.minX,N.maxY],[N.minX,N.minY]]]}}));var S=E.selectAll("."+A).data(D);S.exit().remove(),S.enter().append("path").attr("class",C).merge(S).attr("d",Dn())}function x(E,k,A,C,D,S){var N=t.surface().classed("fill-wireframe"),R=Jt(e.scale()),P=[],L={},B,O,U,T,M;for(B=0;B<u.length;B++)P.push([]);if(S)a.clear(),o.clear(),l={};else for(B=0;B<A.length;B++){T=A[B];var I=[].concat(l[T.id]||[]).concat(l[T.id+"I"]||[]);for(O=0;O<I.length;O++)a.remove(I[O]),o.remove(I[O])}for(B=0;B<A.length;B++){if(T=A[B],M=T.geometry(k),M==="point"||M==="vertex"&&K(T)){var z=T.directions(k,e).length,q;!N&&M==="point"&&!(R>=18&&z)?(L[T.id]="point",q=20):(L[T.id]="vertex",q=0);var V=e(T.loc),Y=10,ee={minX:V[0]-Y,minY:V[1]-Y-q,maxX:V[0]+Y,maxY:V[1]+Y};de(ee,T.id+"P")}M==="vertex"&&(M="point");var ie=M==="area"&&Ie.match(T,k),se=ie&&!c(ie)&&ie.icon;if(!(!se&&!nr(T)))for(U=0;U<u.length;U++){var ve=u[U][0],le=u[U][1],re=u[U][2],Ae=T.tags[le];if(M===ve&&Ae&&(re==="*"||re===Ae)){P[U].push(T);break}}}var ae={point:[],line:[],area:[]},he={point:[],line:[],area:[]};for(U=0;U<P.length;U++){var Ce=u[U][3];for(B=0;B<P[U].length;B++){T=P[U][B],M=T.geometry(k);var Te=M==="line"?t0:nr,$=Te(T),W=$&&p($,Ce),Q=null;if(M==="point"||M==="vertex"){if(N)continue;var H=L[T.id];if(H==="vertex"&&R<17)continue;Q=Z(T,W,Ce,H)}else M==="line"?Q=te(T,W,Ce):M==="area"&&(Q=fe(T,W,Ce));Q&&(M==="vertex"&&(M="point"),Q.classes=M+" tag-"+u[U][1],ae[M].push(Q),he[M].push(T))}}function K(Ye){var We=t.selectedIDs();return Ye.hasInterestingTags()||Ye.isEndpoint(k)||Ye.isConnected(k)||We.indexOf(Ye.id)!==-1||k.parentWays(Ye).some(function(Ke){return We.indexOf(Ke.id)!==-1})}function Z(Ye,We,Ke,ft){var wt=ft==="point"?-12:0,yt={ltr:[15,wt,"start"],rtl:[-15,wt,"end"]},Tt=_e.textDirection(),sr=e(Ye.loc),Vt=2,ir=yt[Tt],Ht={height:Ke,width:We,x:sr[0]+ir[0],y:sr[1]+ir[1],textAnchor:ir[2]},Er;if(Tt==="rtl"?Er={minX:Ht.x-We-Vt,minY:Ht.y-Ke/2-Vt,maxX:Ht.x+Vt,maxY:Ht.y+Ke/2+Vt}:Er={minX:Ht.x-Vt,minY:Ht.y-Ke/2-Vt,maxX:Ht.x+We+Vt,maxY:Ht.y+Ke/2+Vt},xe([Er],Ye.id,!0))return Ht}function te(Ye,We,Ke){var ft=t.projection.clipExtent(),wt=new Ne(ft[0],ft[1]).polygon(),yt=k.childNodes(Ye).map(function(tt){return e(tt.loc)}),Tt=Ko(yt);if(Tt<We+20)return;for(var sr=[50,45,55,40,60,35,65,30,70,25,75,20,80,15,95,10,90,5,95],Vt=3,ir=0;ir<sr.length;ir++){var Ht=sr[ir],Er=Ht/100*Tt,Hr=Er-We/2;if(!(Hr<0||Hr+We>Tt)){var Kt=Ot(yt,Hr,Hr+We);if(!(!Kt||!ts(wt,Kt,!0))){var Ze=dt(Kt);Ze&&(Kt=Kt.reverse());for(var Wr=[],ye=(Ke+2)/2,me=0;me<Kt.length-1;me++)for(var ge=Kt[me],X=Kt[me+1],J=Math.max(1,Math.floor(it(ge,X)/ye/2)),oe=0;oe<J;oe++){var ne=jt(ge,X,oe/J),Ee=ne[0]-ye-Vt,Fe=ne[1]-ye-Vt,ze=ne[0]+ye+Vt,Ue=ne[1]+ye+Vt;Wr.push({minX:Math.min(Ee,ze),minY:Math.min(Fe,Ue),maxX:Math.max(Ee,ze),maxY:Math.max(Fe,Ue)})}if(xe(Wr,Ye.id,!1))return{"font-size":Ke+2,lineString:ct(Kt),startOffset:Ht+"%"}}}}function dt(tt){var He=Math.atan2(tt[1][1]-tt[0][1],tt[1][0]-tt[0][0]);return!(tt[0][0]<tt[tt.length-1][0]&&He<Math.PI/2&&He>-Math.PI/2)}function ct(tt){return"M"+tt.join("L")}function Ot(tt,He,_r){for(var At=0,Si,Ki,Ur,Va,ba=0;ba<tt.length-1;ba++){var xn=tt[ba],wa=tt[ba+1],Ka=it(xn,wa),xa;!Si&&At+Ka>=He&&(xa=(He-At)/Ka,Si=[xn[0]+xa*(wa[0]-xn[0]),xn[1]+xa*(wa[1]-xn[1])],Ur=ba+1),!Ki&&At+Ka>=_r&&(xa=(_r-At)/Ka,Ki=[xn[0]+xa*(wa[0]-xn[0]),xn[1]+xa*(wa[1]-xn[1])],Va=ba+1),At+=Ka}var J6=tt.slice(Ur,Va);return J6.unshift(Si),J6.push(Ki),J6}}function fe(Ye,We,Ke){var ft=r.centroid(Ye.asGeoJSON(k)),wt=Ye.extent(k),yt=e(wt.max)[0]-e(wt.min)[0];if(isNaN(ft[0])||yt<20)return;var Tt=Ie.match(Ye,t.graph()),sr=Tt&&Tt.icon,Vt=17,ir=2,Ht={};if(sr){if(Er())return Hr(Vt+ir),Ht}else if(Hr(0))return Ht;function Er(){var Kt=ft[0]-Vt/2,Ze=ft[1]-Vt/2,Wr={minX:Kt,minY:Ze,maxX:Kt+Vt,maxY:Ze+Vt};return xe([Wr],Ye.id+"I",!0)?(Ht.transform="translate("+Kt+","+Ze+")",!0):!1}function Hr(Kt){if(We&&yt>=We+20){var Ze=ft[0],Wr=ft[1]+Kt,ye={minX:Ze-We/2-ir,minY:Wr-Ke/2-ir,maxX:Ze+We/2+ir,maxY:Wr+Ke/2+ir};if(xe([ye],Ye.id,!0))return Ht.x=Ze,Ht.y=Wr,Ht.textAnchor="middle",Ht.height=Ke,!0}return!1}}function de(Ye,We){Ye.id=We;var Ke=l[We];Ke&&a.remove(Ke),l[We]=Ye,a.insert(Ye)}function xe(Ye,We,Ke){for(var ft=!1,wt=0;wt<Ye.length;wt++){var yt=Ye[wt];if(yt.id=We,yt.minX<0||yt.minY<0||yt.maxX>D[0]||yt.maxY>D[1]){ft=!0;break}if(a.collides(yt)){ft=!0;break}}return l[We]=Ye,ft?Ke&&o.load(Ye):a.load(Ye),!ft}var Oe=E.selectAll(".layer-osm.labels");Oe.selectAll(".labels-group").data(["halo","label","debug"]).enter().append("g").attr("class",function(Ye){return"labels-group "+Ye});var Be=Oe.selectAll(".labels-group.halo"),Ge=Oe.selectAll(".labels-group.label"),nt=Oe.selectAll(".labels-group.debug");b(Ge,he.point,C,"pointlabel",ae.point),b(Be,he.point,C,"pointlabel-halo",ae.point),m(Oe,he.line,C,"",ae.line),w(Ge,he.line,C,"linelabel",ae.line),w(Be,he.line,C,"linelabel-halo",ae.line),h(Ge,he.area,C,"arealabel",ae.area),h(Be,he.area,C,"arealabel-halo",ae.area),g(Ge,he.area,C,"areaicon",ae.area),g(Be,he.area,C,"areaicon-halo",ae.area),v(nt,o,"debug-skipped"),v(nt,a,"debug-drawn"),Oe.call(_)}function _(E){var k=E.selectAll(".layer-osm.labels"),A=k.selectAll(".labels-group.halo, .labels-group.label");A.selectAll(".nolabel").classed("nolabel",!1);var C=t.map().mouse(),D=t.graph(),S=t.selectedIDs(),N=[],R,P;if(C){R=20,P={minX:C[0]-R,minY:C[1]-R,maxX:C[0]+R,maxY:C[1]+R};var L=a.search(P).map(function(I){return I.id});N.push.apply(N,L)}for(var B=0;B<S.length;B++){var O=D.hasEntity(S[B]);O&&O.type==="node"&&N.push(S[B])}A.selectAll(Fi(N)).classed("nolabel",!0);var U=E.selectAll(".labels-group.debug"),T=[];t.getDebug("collision")&&(T=P?[{type:"Polygon",coordinates:[[[P.minX,P.minY],[P.maxX,P.minY],[P.maxX,P.maxY],[P.minX,P.maxY],[P.minX,P.minY]]]}]:[]);var M=U.selectAll(".debug-mouse").data(T);M.exit().remove(),M.enter().append("path").attr("class","debug debug-mouse yellow").merge(M).attr("d",Dn())}var y=Et(_,100);return x.observe=function(E){var k=function(){y(E)};E.on("mousemove.hidelabels",k),t.on("enter.hidelabels",k)},x.off=function(E){y.cancel(),E.on("mousemove.hidelabels",null),t.on("enter.hidelabels",null)},x}var zs=!1,Us;function mv(e,t,r){var n=Et(function(){return r.call("change")},1e3),i=12,a=G(null),o=G(null),s=!1;function l(h,g){h.attr("class",g).attr("transform","translate(-10, -28)").attr("points","16,3 4,3 1,6 1,17 4,20 7,20 10,27 13,20 16,20 19,17.033 19,6")}function u(){return ue.improveOSM&&!Us?(Us=ue.improveOSM,Us.on("loaded",n)):!ue.improveOSM&&Us&&(Us=null),Us}function c(){s||(s=!0,o.style("display","block"))}function d(){s&&(s=!1,o.style("display","none"),o.selectAll(".qaItem.improveOSM").remove(),a.selectAll(".qaItem.improveOSM").remove())}function p(){c(),o.style("opacity",0).transition().duration(250).style("opacity",1).on("end interrupt",function(){return r.call("change")})}function m(){n.cancel(),o.interrupt(),a.selectAll(".qaItem.improveOSM").remove(),o.transition().duration(250).style("opacity",0).on("end interrupt",function(){d(),r.call("change")})}function w(){if(!s||!zs)return;var h=u(),g=t.selectedErrorID(),v=h?h.getItems(e):[],x=Gt(e),_=o.selectAll(".qaItem.improveOSM").data(v,function(C){return C.id});_.exit().remove();var y=_.enter().append("g").attr("class",function(C){return"qaItem ".concat(C.service," itemId-").concat(C.id," itemType-").concat(C.itemType)});if(y.append("polygon").call(l,"shadow"),y.append("ellipse").attr("cx",0).attr("cy",0).attr("rx",4.5).attr("ry",2).attr("class","stroke"),y.append("polygon").attr("fill","currentColor").call(l,"qaItem-fill"),y.append("use").attr("transform","translate(-6.5, -23)").attr("class","icon-annotation").attr("width","13px").attr("height","13px").attr("xlink:href",function(C){var D=C.icon;if(D){var S=/^maki-/.test(D);return"#".concat(D).concat(S?"-11":"")}else return""}),_.merge(y).sort(A).classed("selected",function(C){return C.id===g}).attr("transform",x),a.empty())return;var E=t.getDebug("target")?"pink ":"nocolor ",k=a.selectAll(".qaItem.improveOSM").data(v,function(C){return C.id});k.exit().remove(),k.enter().append("rect").attr("width","20px").attr("height","30px").attr("x","-10px").attr("y","-28px").merge(k).sort(A).attr("class",function(C){return"qaItem ".concat(C.service," target ").concat(E," itemId-").concat(C.id)}).attr("transform",x);function A(C,D){return C.id===g?1:D.id===g?-1:D.loc[1]-C.loc[1]}}function b(h){var g=u(),v=t.surface();v&&!v.empty()&&(a=v.selectAll(".data-layer.touch .layer-touch.markers")),o=h.selectAll(".layer-improveOSM").data(g?[0]:[]),o.exit().remove(),o=o.enter().append("g").attr("class","layer-improveOSM").style("display",zs?"block":"none").merge(o),zs&&(g&&~~t.map().zoom()>=i?(c(),g.loadIssues(e),w()):d())}return b.enabled=function(h){return arguments.length?(zs=h,zs?p():(m(),t.selectedErrorID()&&t.enter(De(t))),r.call("change"),this):zs},b.supported=function(){return!!u()},b}var qs=!1,Qs;function hv(e,t,r){var n=Et(function(){return r.call("change")},1e3),i=12,a=G(null),o=G(null),s=!1;function l(h,g){h.attr("class",g).attr("transform","translate(-10, -28)").attr("points","16,3 4,3 1,6 1,17 4,20 7,20 10,27 13,20 16,20 19,17.033 19,6")}function u(){return ue.osmose&&!Qs?(Qs=ue.osmose,Qs.on("loaded",n)):!ue.osmose&&Qs&&(Qs=null),Qs}function c(){s||(s=!0,o.style("display","block"))}function d(){s&&(s=!1,o.style("display","none"),o.selectAll(".qaItem.osmose").remove(),a.selectAll(".qaItem.osmose").remove())}function p(){c(),o.style("opacity",0).transition().duration(250).style("opacity",1).on("end interrupt",function(){return r.call("change")})}function m(){n.cancel(),o.interrupt(),a.selectAll(".qaItem.osmose").remove(),o.transition().duration(250).style("opacity",0).on("end interrupt",function(){d(),r.call("change")})}function w(){if(!s||!qs)return;var h=u(),g=t.selectedErrorID(),v=h?h.getItems(e):[],x=Gt(e),_=o.selectAll(".qaItem.osmose").data(v,function(C){return C.id});_.exit().remove();var y=_.enter().append("g").attr("class",function(C){return"qaItem ".concat(C.service," itemId-").concat(C.id," itemType-").concat(C.itemType)});if(y.append("polygon").call(l,"shadow"),y.append("ellipse").attr("cx",0).attr("cy",0).attr("rx",4.5).attr("ry",2).attr("class","stroke"),y.append("polygon").attr("fill",function(C){return h.getColor(C.item)}).call(l,"qaItem-fill"),y.append("use").attr("transform","translate(-6.5, -23)").attr("class","icon-annotation").attr("width","13px").attr("height","13px").attr("xlink:href",function(C){var D=C.icon;if(D){var S=/^maki-/.test(D);return"#".concat(D).concat(S?"-11":"")}else return""}),_.merge(y).sort(A).classed("selected",function(C){return C.id===g}).attr("transform",x),a.empty())return;var E=t.getDebug("target")?"pink":"nocolor",k=a.selectAll(".qaItem.osmose").data(v,function(C){return C.id});k.exit().remove(),k.enter().append("rect").attr("width","20px").attr("height","30px").attr("x","-10px").attr("y","-28px").merge(k).sort(A).attr("class",function(C){return"qaItem ".concat(C.service," target ").concat(E," itemId-").concat(C.id)}).attr("transform",x);function A(C,D){return C.id===g?1:D.id===g?-1:D.loc[1]-C.loc[1]}}function b(h){var g=u(),v=t.surface();v&&!v.empty()&&(a=v.selectAll(".data-layer.touch .layer-touch.markers")),o=h.selectAll(".layer-osmose").data(g?[0]:[]),o.exit().remove(),o=o.enter().append("g").attr("class","layer-osmose").style("display",qs?"block":"none").merge(o),qs&&(g&&~~t.map().zoom()>=i?(c(),g.loadIssues(e),w()):d())}return b.enabled=function(h){return arguments.length?(qs=h,qs?u().loadStrings().then(p).catch(function(g){console.log(g)}):(m(),t.selectedErrorID()&&t.enter(De(t))),r.call("change"),this):qs},b.supported=function(){return!!u()},b}function qi(e,t,r){var n=Et(function(){r.call("change")},1e3),i=14,a=16,o=18,s=G(null),l=0,u=null,c;function d(){qi.initialized||(qi.enabled=!1,qi.initialized=!0)}function p(){return ue.streetside&&!c?(c=ue.streetside,c.event.on("viewerChanged.svgStreetside",y).on("loadedImages.svgStreetside",n)):!ue.streetside&&c&&(c=null),c}function m(){var D=p();!D||(b(),s.style("opacity",0).transition().duration(250).style("opacity",1).on("end",function(){r.call("change")}))}function w(){n.cancel(),s.transition().duration(250).style("opacity",0).on("end",h)}function b(){s.style("display","block")}function h(){s.selectAll(".viewfield-group").remove(),s.style("display","none")}function g(D,S){var N=p();!N||(S.sequenceKey!==u&&(l=0),u=S.sequenceKey,N.ensureViewerLoaded(t).then(function(){N.selectImage(t,S.key).yaw(l).showViewer(t)}),t.map().centerEase(S.loc))}function v(D,S){var N=p();N&&N.setStyles(t,S)}function x(){var D=p();D&&D.setStyles(t,null)}function _(D){var S=Gt(e)(D),N=D.ca+l;return N&&(S+=" rotate("+Math.floor(N)+",0,0)"),S}function y(){var D=p();if(!!D){var S=D.viewer();!S||(l=S.getYaw(),!t.map().isTransformed()&&s.selectAll(".viewfield-group.currentView").attr("transform",_))}}function E(D){var S=t.photos().fromDate(),N=t.photos().toDate(),R=t.photos().usernames();if(S){var P=new Date(S).getTime();D=D.filter(function(B){return new Date(B.captured_at).getTime()>=P})}if(N){var L=new Date(N).getTime();D=D.filter(function(B){return new Date(B.captured_at).getTime()<=L})}return R&&(D=D.filter(function(B){return R.indexOf(B.captured_by)!==-1})),D}function k(D){var S=t.photos().fromDate(),N=t.photos().toDate(),R=t.photos().usernames();if(S){var P=new Date(S).getTime();D=D.filter(function(B){return new Date(B.properties.captured_at).getTime()>=P})}if(N){var L=new Date(N).getTime();D=D.filter(function(B){return new Date(B.properties.captured_at).getTime()<=L})}return R&&(D=D.filter(function(B){return R.indexOf(B.properties.captured_by)!==-1})),D}function A(){var D=t.container().select(".photoviewer"),S=D.empty()?void 0:D.datum(),N=~~t.map().zoom(),R=N>=a,P=N>=o,L=p(),B=[],O=[];t.photos().showsPanoramic()&&(B=L?L.sequences(e):[],O=L&&R?L.bubbles(e):[],B=k(B),O=E(O));var U=s.selectAll(".sequences").selectAll(".sequence").data(B,function(V){return V.properties.key});U.exit().remove(),U=U.enter().append("path").attr("class","sequence").merge(U).attr("d",Lr(e).geojson);var T=s.selectAll(".markers").selectAll(".viewfield-group").data(O,function(V){return V.key+(V.sequenceKey?"v1":"v0")});T.exit().remove();var M=T.enter().append("g").attr("class","viewfield-group").on("mouseenter",v).on("mouseleave",x).on("click",g);M.append("g").attr("class","viewfield-scale");var I=T.merge(M).sort(function(V,Y){return V===S?1:Y===S?-1:Y.loc[1]-V.loc[1]}).attr("transform",_).select(".viewfield-scale");I.selectAll("circle").data([0]).enter().append("circle").attr("dx","0").attr("dy","0").attr("r","6");var z=I.selectAll(".viewfield").data(P?[0]:[]);z.exit().remove(),z.enter().insert("path","circle").attr("class","viewfield").attr("transform","scale(1.5,1.5),translate(-8, -13)").attr("d",q);function q(){var V=this.parentNode.__data__;return V.pano?"M 8,13 m -10,0 a 10,10 0 1,0 20,0 a 10,10 0 1,0 -20,0":"M 6,9 C 8,8.4 8,8.4 10,9 L 16,-2 C 12,-5 4,-5 0,-2 z"}}function C(D){var S=qi.enabled,N=p();s=D.selectAll(".layer-streetside-images").data(N?[0]:[]),s.exit().remove();var R=s.enter().append("g").attr("class","layer-streetside-images").style("display",S?"block":"none");R.append("g").attr("class","sequences"),R.append("g").attr("class","markers"),s=R.merge(s),S&&(N&&~~t.map().zoom()>=i?(b(),A(),N.loadBubbles(e)):h())}return C.enabled=function(D){return arguments.length?(qi.enabled=D,qi.enabled?(m(),t.photos().on("change.streetside",A)):(w(),t.photos().on("change.streetside",null)),r.call("change"),this):qi.enabled},C.supported=function(){return!!p()},d(),C}function Qi(e,t,r){var n=Et(function(){r.call("change")},1e3),i=12,a=16,o=18,s=G(null),l;function u(){Qi.initialized||(Qi.enabled=!1,Qi.initialized=!0)}function c(){return ue.mapillary&&!l?(l=ue.mapillary,l.event.on("loadedImages",n)):!ue.mapillary&&l&&(l=null),l}function d(){var k=c();!k||(m(),s.style("opacity",0).transition().duration(250).style("opacity",1).on("end",function(){r.call("change")}))}function p(){n.cancel(),s.transition().duration(250).style("opacity",0).on("end",w)}function m(){s.style("display","block")}function w(){s.selectAll(".viewfield-group").remove(),s.style("display","none")}function b(k,A){var C=c();!C||(C.ensureViewerLoaded(t).then(function(){C.selectImage(t,A.id).showViewer(t)}),t.map().centerEase(A.loc))}function h(k,A){var C=c();C&&C.setStyles(t,A)}function g(){var k=c();k&&k.setStyles(t,null)}function v(k){var A=Gt(e)(k);return k.ca&&(A+=" rotate("+Math.floor(k.ca)+",0,0)"),A}function x(k){var A=t.photos().showsPanoramic(),C=t.photos().showsFlat(),D=t.photos().fromDate(),S=t.photos().toDate();return(!A||!C)&&(k=k.filter(function(N){return N.is_pano?A:C})),D&&(k=k.filter(function(N){return new Date(N.captured_at).getTime()>=new Date(D).getTime()})),S&&(k=k.filter(function(N){return new Date(N.captured_at).getTime()<=new Date(S).getTime()})),k}function _(k){var A=t.photos().showsPanoramic(),C=t.photos().showsFlat(),D=t.photos().fromDate(),S=t.photos().toDate();return(!A||!C)&&(k=k.filter(function(N){return N.properties.hasOwnProperty("is_pano")?N.properties.is_pano?A:C:!1})),D&&(k=k.filter(function(N){return new Date(N.properties.captured_at).getTime()>=new Date(D).getTime().toString()})),S&&(k=k.filter(function(N){return new Date(N.properties.captured_at).getTime()<=new Date(S).getTime().toString()})),k}function y(){var k=~~t.map().zoom(),A=k>=a,C=k>=o,D=c(),S=D?D.sequences(e):[],N=D&&A?D.images(e):[];N=x(N),S=_(S,D),D.filterViewer(t);var R=s.selectAll(".sequences").selectAll(".sequence").data(S,function(T){return T.properties.id});R.exit().remove(),R=R.enter().append("path").attr("class","sequence").merge(R).attr("d",Lr(e).geojson);var P=s.selectAll(".markers").selectAll(".viewfield-group").data(N,function(T){return T.id});P.exit().remove();var L=P.enter().append("g").attr("class","viewfield-group").on("mouseenter",h).on("mouseleave",g).on("click",b);L.append("g").attr("class","viewfield-scale");var B=P.merge(L).sort(function(T,M){return M.loc[1]-T.loc[1]}).attr("transform",v).select(".viewfield-scale");B.selectAll("circle").data([0]).enter().append("circle").attr("dx","0").attr("dy","0").attr("r","6");var O=B.selectAll(".viewfield").data(C?[0]:[]);O.exit().remove(),O.enter().insert("path","circle").attr("class","viewfield").classed("pano",function(){return this.parentNode.__data__.is_pano}).attr("transform","scale(1.5,1.5),translate(-8, -13)").attr("d",U);function U(){return this.parentNode.__data__.is_pano?"M 8,13 m -10,0 a 10,10 0 1,0 20,0 a 10,10 0 1,0 -20,0":"M 6,9 C 8,8.4 8,8.4 10,9 L 16,-2 C 12,-5 4,-5 0,-2 z"}}function E(k){var A=Qi.enabled,C=c();s=k.selectAll(".layer-mapillary").data(C?[0]:[]),s.exit().remove();var D=s.enter().append("g").attr("class","layer-mapillary").style("display",A?"block":"none");D.append("g").attr("class","sequences"),D.append("g").attr("class","markers"),s=D.merge(s),A&&(C&&~~t.map().zoom()>=i?(m(),y(),C.loadImages(e)):w())}return E.enabled=function(k){return arguments.length?(Qi.enabled=k,Qi.enabled?(d(),t.photos().on("change.mapillary_images",y)):(p(),t.photos().on("change.mapillary_images",null)),r.call("change"),this):Qi.enabled},E.supported=function(){return!!c()},u(),E}function f3(e,t){var r=Et(function(){m()},1e3),n=12,i=18,a=G(null),o,s;function l(){f3.initialized||(f3.initialized=!0)}function u(){return ue.mapillary&&!o?(o=ue.mapillary,o.event.on("imageChanged",r),o.event.on("bearingChanged",function(b){s=b.bearing,!t.map().isTransformed()&&a.selectAll(".viewfield-group.currentView").filter(function(h){return h.is_pano}).attr("transform",p)})):!ue.mapillary&&o&&(o=null),o}function c(){a.style("display","block")}function d(){a.selectAll(".viewfield-group").remove(),a.style("display","none")}function p(b){var h=Gt(e)(b);return b.is_pano&&s!==null&&isFinite(s)?h+=" rotate("+Math.floor(s)+",0,0)":b.ca&&(h+=" rotate("+Math.floor(b.ca)+",0,0)"),h}function m(){var b=~~t.map().zoom(),h=b>=i,g=u(),v=g&&g.getActiveImage(),x=a.selectAll(".markers").selectAll(".viewfield-group").data(v?[v]:[],function(k){return k.id});x.exit().remove();var _=x.enter().append("g").attr("class","viewfield-group currentView highlighted");_.append("g").attr("class","viewfield-scale");var y=x.merge(_).attr("transform",p).select(".viewfield-scale");y.selectAll("circle").data([0]).enter().append("circle").attr("dx","0").attr("dy","0").attr("r","6");var E=y.selectAll(".viewfield").data(h?[0]:[]);E.exit().remove(),E.enter().insert("path","circle").attr("class","viewfield").attr("transform","scale(1.5,1.5),translate(-8, -13)").attr("d","M 6,9 C 8,8.4 8,8.4 10,9 L 16,-2 C 12,-5 4,-5 0,-2 z")}function w(b){var h=u();a=b.selectAll(".layer-mapillary-position").data(h?[0]:[]),a.exit().remove();var g=a.enter().append("g").attr("class","layer-mapillary-position");g.append("g").attr("class","markers"),a=g.merge(a),h&&~~t.map().zoom()>=n?(c(),m()):d()}return w.enabled=function(){return m(),this},w.supported=function(){return!!u()},l(),w}function Gi(e,t,r){var n=Et(function(){r.call("change")},1e3),i=12,a=G(null),o;function s(){Gi.initialized||(Gi.enabled=!1,Gi.initialized=!0)}function l(){return ue.mapillary&&!o?(o=ue.mapillary,o.event.on("loadedSigns",n)):!ue.mapillary&&o&&(o=null),o}function u(){var g=l();!g||(g.loadSignResources(t),d())}function c(){n.cancel(),p()}function d(){a.style("display","block")}function p(){a.selectAll(".icon-sign").remove(),a.style("display","none")}function m(g,v){var x=l();if(!!x){t.map().centerEase(v.loc);var _=x.getActiveImage()&&x.getActiveImage().id;x.getDetections(v.id).then(function(y){if(y.length){var E=y[0].image.id;E===_?x.highlightDetection(y[0]).selectImage(t,E):x.ensureViewerLoaded(t).then(function(){x.highlightDetection(y[0]).selectImage(t,E).showViewer(t)})}})}}function w(g){var v=t.photos().fromDate(),x=t.photos().toDate();if(v){var _=new Date(v).getTime();g=g.filter(function(E){return new Date(E.last_seen_at).getTime()>=_})}if(x){var y=new Date(x).getTime();g=g.filter(function(E){return new Date(E.first_seen_at).getTime()<=y})}return g}function b(){var g=l(),v=g?g.signs(e):[];v=w(v);var x=Gt(e),_=a.selectAll(".icon-sign").data(v,function(E){return E.id});_.exit().remove();var y=_.enter().append("g").attr("class","icon-sign icon-detected").on("click",m);y.append("use").attr("width","24px").attr("height","24px").attr("x","-12px").attr("y","-12px").attr("xlink:href",function(E){return"#"+E.value}),y.append("rect").attr("width","24px").attr("height","24px").attr("x","-12px").attr("y","-12px"),_.merge(y).attr("transform",x)}function h(g){var v=Gi.enabled,x=l();a=g.selectAll(".layer-mapillary-signs").data(x?[0]:[]),a.exit().remove(),a=a.enter().append("g").attr("class","layer-mapillary-signs layer-mapillary-detections").style("display",v?"block":"none").merge(a),v?x&&~~t.map().zoom()>=i?(d(),b(),x.loadSigns(e),x.showSignDetections(!0)):p():x&&x.showSignDetections(!1)}return h.enabled=function(g){return arguments.length?(Gi.enabled=g,Gi.enabled?(u(),t.photos().on("change.mapillary_signs",b)):(c(),t.photos().on("change.mapillary_signs",null)),r.call("change"),this):Gi.enabled},h.supported=function(){return!!l()},s(),h}function Ba(e,t,r){var n=Et(function(){r.call("change")},1e3),i=12,a=G(null),o;function s(){Ba.initialized||(Ba.enabled=!1,Ba.initialized=!0)}function l(){return ue.mapillary&&!o?(o=ue.mapillary,o.event.on("loadedMapFeatures",n)):!ue.mapillary&&o&&(o=null),o}function u(){var g=l();!g||(g.loadObjectResources(t),d())}function c(){n.cancel(),p()}function d(){a.style("display","block")}function p(){a.selectAll(".icon-map-feature").remove(),a.style("display","none")}function m(g,v){var x=l();if(!!x){t.map().centerEase(v.loc);var _=x.getActiveImage()&&x.getActiveImage().id;x.getDetections(v.id).then(function(y){if(y.length){var E=y[0].image.id;E===_?x.highlightDetection(y[0]).selectImage(t,E):x.ensureViewerLoaded(t).then(function(){x.highlightDetection(y[0]).selectImage(t,E).showViewer(t)})}})}}function w(g){var v=t.photos().fromDate(),x=t.photos().toDate();return v&&(g=g.filter(function(_){return new Date(_.last_seen_at).getTime()>=new Date(v).getTime()})),x&&(g=g.filter(function(_){return new Date(_.first_seen_at).getTime()<=new Date(x).getTime()})),g}function b(){var g=l(),v=g?g.mapFeatures(e):[];v=w(v);var x=Gt(e),_=a.selectAll(".icon-map-feature").data(v,function(E){return E.id});_.exit().remove();var y=_.enter().append("g").attr("class","icon-map-feature icon-detected").on("click",m);y.append("use").attr("width","24px").attr("height","24px").attr("x","-12px").attr("y","-12px").attr("xlink:href",function(E){return E.value==="object--billboard"?"#object--sign--advertisement":"#"+E.value}),y.append("rect").attr("width","24px").attr("height","24px").attr("x","-12px").attr("y","-12px"),_.merge(y).attr("transform",x)}function h(g){var v=Ba.enabled,x=l();a=g.selectAll(".layer-mapillary-map-features").data(x?[0]:[]),a.exit().remove(),a=a.enter().append("g").attr("class","layer-mapillary-map-features layer-mapillary-detections").style("display",v?"block":"none").merge(a),v?x&&~~t.map().zoom()>=i?(d(),b(),x.loadMapFeatures(e),x.showFeatureDetections(!0)):p():x&&x.showFeatureDetections(!1)}return h.enabled=function(g){return arguments.length?(Ba.enabled=g,Ba.enabled?(u(),t.photos().on("change.mapillary_map_features",b)):(c(),t.photos().on("change.mapillary_map_features",null)),r.call("change"),this):Ba.enabled},h.supported=function(){return!!l()},s(),h}function Hi(e,t,r){var n=Et(function(){r.call("change")},1e3),i=12,a=16,o=18,s=G(null),l;function u(){Hi.initialized||(Hi.enabled=!1,Hi.initialized=!0)}function c(){return ue.openstreetcam&&!l?(l=ue.openstreetcam,l.event.on("loadedImages",n)):!ue.openstreetcam&&l&&(l=null),l}function d(){var k=c();!k||(m(),s.style("opacity",0).transition().duration(250).style("opacity",1).on("end",function(){r.call("change")}))}function p(){n.cancel(),s.transition().duration(250).style("opacity",0).on("end",w)}function m(){s.style("display","block")}function w(){s.selectAll(".viewfield-group").remove(),s.style("display","none")}function b(k,A){var C=c();!C||(C.ensureViewerLoaded(t).then(function(){C.selectImage(t,A.key).showViewer(t)}),t.map().centerEase(A.loc))}function h(k,A){var C=c();C&&C.setStyles(t,A)}function g(){var k=c();k&&k.setStyles(t,null)}function v(k){var A=Gt(e)(k);return k.ca&&(A+=" rotate("+Math.floor(k.ca)+",0,0)"),A}function x(k){var A=t.photos().fromDate(),C=t.photos().toDate(),D=t.photos().usernames();if(A){var S=new Date(A).getTime();k=k.filter(function(R){return new Date(R.captured_at).getTime()>=S})}if(C){var N=new Date(C).getTime();k=k.filter(function(R){return new Date(R.captured_at).getTime()<=N})}return D&&(k=k.filter(function(R){return D.indexOf(R.captured_by)!==-1})),k}function _(k){var A=t.photos().fromDate(),C=t.photos().toDate(),D=t.photos().usernames();if(A){var S=new Date(A).getTime();k=k.filter(function(R){return new Date(R.properties.captured_at).getTime()>=S})}if(C){var N=new Date(C).getTime();k=k.filter(function(R){return new Date(R.properties.captured_at).getTime()<=N})}return D&&(k=k.filter(function(R){return D.indexOf(R.properties.captured_by)!==-1})),k}function y(){var k=t.container().select(".photoviewer"),A=k.empty()?void 0:k.datum(),C=~~t.map().zoom(),D=C>=a,S=C>=o,N=c(),R=[],P=[];t.photos().showsFlat()&&(R=N?N.sequences(e):[],P=N&&D?N.images(e):[],R=_(R),P=x(P));var L=s.selectAll(".sequences").selectAll(".sequence").data(R,function(M){return M.properties.key});L.exit().remove(),L=L.enter().append("path").attr("class","sequence").merge(L).attr("d",Lr(e).geojson);var B=s.selectAll(".markers").selectAll(".viewfield-group").data(P,function(M){return M.key});B.exit().remove();var O=B.enter().append("g").attr("class","viewfield-group").on("mouseenter",h).on("mouseleave",g).on("click",b);O.append("g").attr("class","viewfield-scale");var U=B.merge(O).sort(function(M,I){return M===A?1:I===A?-1:I.loc[1]-M.loc[1]}).attr("transform",v).select(".viewfield-scale");U.selectAll("circle").data([0]).enter().append("circle").attr("dx","0").attr("dy","0").attr("r","6");var T=U.selectAll(".viewfield").data(S?[0]:[]);T.exit().remove(),T.enter().insert("path","circle").attr("class","viewfield").attr("transform","scale(1.5,1.5),translate(-8, -13)").attr("d","M 6,9 C 8,8.4 8,8.4 10,9 L 16,-2 C 12,-5 4,-5 0,-2 z")}function E(k){var A=Hi.enabled,C=c();s=k.selectAll(".layer-openstreetcam").data(C?[0]:[]),s.exit().remove();var D=s.enter().append("g").attr("class","layer-openstreetcam").style("display",A?"block":"none");D.append("g").attr("class","sequences"),D.append("g").attr("class","markers"),s=D.merge(s),A&&(C&&~~t.map().zoom()>=i?(m(),y(),C.loadImages(e)):w())}return E.enabled=function(k){return arguments.length?(Hi.enabled=k,Hi.enabled?(d(),t.photos().on("change.openstreetcam_images",y)):(p(),t.photos().on("change.openstreetcam_images",null)),r.call("change"),this):Hi.enabled},E.supported=function(){return!!c()},u(),E}function d3(e,t,r){var n=!0;function i(s){s.selectAll(".layer-osm").data(["covered","areas","lines","points","labels"]).enter().append("g").attr("class",function(l){return"layer-osm "+l}),s.selectAll(".layer-osm.points").selectAll(".points-group").data(["points","midpoints","vertices","turns"]).enter().append("g").attr("class",function(l){return"points-group "+l})}function a(){var s=t.surface().selectAll(".data-layer.osm");s.interrupt(),s.classed("disabled",!1).style("opacity",0).transition().duration(250).style("opacity",1).on("end interrupt",function(){r.call("change")})}function o(){var s=t.surface().selectAll(".data-layer.osm");s.interrupt(),s.transition().duration(250).style("opacity",0).on("end interrupt",function(){s.classed("disabled",!0),r.call("change")})}return i.enabled=function(s){return arguments.length?(n=s,n?a():o(),r.call("change"),this):n},i}var Gs=!1,Hs;function p3(e,t,r){r||(r=be("change"));var n=Et(function(){r.call("change")},1e3),i=12,a=G(null),o=G(null),s=!1;function l(h,g){h.attr("class",g).attr("transform","translate(-8, -22)").attr("d","m17.5,0l-15,0c-1.37,0 -2.5,1.12 -2.5,2.5l0,11.25c0,1.37 1.12,2.5 2.5,2.5l3.75,0l0,3.28c0,0.38 0.43,0.6 0.75,0.37l4.87,-3.65l5.62,0c1.37,0 2.5,-1.12 2.5,-2.5l0,-11.25c0,-1.37 -1.12,-2.5 -2.5,-2.5z")}function u(){return ue.osm&&!Hs?(Hs=ue.osm,Hs.on("loadedNotes",n)):!ue.osm&&Hs&&(Hs=null),Hs}function c(){s||(s=!0,o.style("display","block"))}function d(){s&&(s=!1,o.style("display","none"),o.selectAll(".note").remove(),a.selectAll(".note").remove())}function p(){c(),o.style("opacity",0).transition().duration(250).style("opacity",1).on("end interrupt",function(){r.call("change")})}function m(){n.cancel(),o.interrupt(),a.selectAll(".note").remove(),o.transition().duration(250).style("opacity",0).on("end interrupt",function(){d(),r.call("change")})}function w(){if(!s||!Gs)return;var h=u(),g=t.selectedNoteID(),v=h?h.notes(e):[],x=Gt(e),_=o.selectAll(".note").data(v,function(C){return C.status+C.id});_.exit().remove();var y=_.enter().append("g").attr("class",function(C){return"note note-"+C.id+" "+C.status}).classed("new",function(C){return C.id<0});if(y.append("ellipse").attr("cx",.5).attr("cy",1).attr("rx",6.5).attr("ry",3).attr("class","stroke"),y.append("path").call(l,"shadow"),y.append("use").attr("class","note-fill").attr("width","20px").attr("height","20px").attr("x","-8px").attr("y","-22px").attr("xlink:href","#iD-icon-note"),y.selectAll(".icon-annotation").data(function(C){return[C]}).enter().append("use").attr("class","icon-annotation").attr("width","10px").attr("height","10px").attr("x","-3px").attr("y","-19px").attr("xlink:href",function(C){return C.id<0?"#iD-icon-plus":C.status==="open"?"#iD-icon-close":"#iD-icon-apply"}),_.merge(y).sort(A).classed("selected",function(C){var D=t.mode(),S=D&&D.id==="drag-note";return!S&&C.id===g}).attr("transform",x),a.empty())return;var E=t.getDebug("target")?"pink ":"nocolor ",k=a.selectAll(".note").data(v,function(C){return C.id});k.exit().remove(),k.enter().append("rect").attr("width","20px").attr("height","20px").attr("x","-8px").attr("y","-22px").merge(k).sort(A).attr("class",function(C){var D=C.id<0?"new":"";return"note target note-"+C.id+" "+E+D}).attr("transform",x);function A(C,D){return C.id===g?1:D.id===g?-1:D.loc[1]-C.loc[1]}}function b(h){var g=u(),v=t.surface();v&&!v.empty()&&(a=v.selectAll(".data-layer.touch .layer-touch.markers")),o=h.selectAll(".layer-notes").data(g?[0]:[]),o.exit().remove(),o=o.enter().append("g").attr("class","layer-notes").style("display",Gs?"block":"none").merge(o),Gs&&(g&&~~t.map().zoom()>=i?(c(),g.loadNotes(e),w()):d())}return b.enabled=function(h){return arguments.length?(Gs=h,Gs?p():(m(),t.selectedNoteID()&&t.enter(De(t))),r.call("change"),this):Gs},b}function m3(){function e(t){t.selectAll(".layer-touch").data(["areas","lines","points","turns","markers"]).enter().append("g").attr("class",function(r){return"layer-touch "+r})}return e}function gv(e,t){var r=t.getBoundingClientRect(),n=[r.width,r.height];return e.property("__dimensions__",n),n}function yn(e,t){if(!e||e.empty())return[0,0];var r=e.node(),n=e.property("__dimensions__");return!n||t?gv(e,r):n}function v0(e,t){if(!e||e.empty())return e;var r=e.node();return t===null?(gv(e,r),e):e.property("__dimensions__",[t[0],t[1]]).attr("width",t[0]).attr("height",t[1])}var Ra=!1,vv=!1,h3,g3,Wi;function v3(e,t,r){var n="#da26d3",i=Et(function(){return r.call("change")},1e3),a=t.initialHashParams.hasOwnProperty("gpx"),o=G(null);function s(){vv||(Ra=!0,vv=!0,Wi=new Set,t.history().on("undone.aifeatures",d),t.history().on("change.aifeatures",p),t.history().on("restore.aifeatures",m))}function l(){return ue.fbMLRoads&&!h3&&(h3=ue.fbMLRoads,h3.event.on("loadedData",i)),h3}function u(){return ue.esriData&&!g3&&(g3=ue.esriData,g3.event.on("loadedData",i)),g3}function c(C){return C&&C.type&&/^rapid/.test(C.type)}function d(C,D){var S=D.annotation;!c(S)||(Wi.delete(S.id),Ra&&r.call("change"))}function p(){var C=t.history().peekAnnotation();!c(C)||(Wi.add(C.id),Ra&&r.call("change"))}function m(){Wi=new Set,t.history().peekAllAnnotations().forEach(function(C){c(C)&&(Wi.add(C.id),C.origid&&Wi.add(C.origid))}),Wi.size&&Ra&&r.call("change")}function w(){i(),h()}function b(){i.cancel(),g()}function h(){o.style("display","block")}function g(){o.style("display","none")}function v(C){return C.type==="relation"||C.type==="way"&&C.isArea()}function x(C){return C.__fbid__}function _(C){var D=t.rapidContext();o=C.selectAll(".layer-ai-features").data(Ra?[0]:[]),o.exit().remove();var S=o.enter().append("g").attr("class","layer-ai-features");S.append("defs").attr("class","rapid-defs"),o=S.merge(o);var N=t.surface(),R=a&&!D.getTaskExtent();if(!(!N||N.empty()||R)){var P=D.datasets(),L=Object.values(P).filter(function(M){return M.added&&M.enabled}),B=o.selectAll(".rapid-defs"),O=B.selectAll(".rapid-fill-pattern").data(L,function(M){return M.id});O.exit().remove();var U=O.enter().append("pattern").attr("id",function(M){return"fill-".concat(window.toBase64(M.id))}).attr("class","rapid-fill-pattern").attr("width",5).attr("height",15).attr("patternUnits","userSpaceOnUse").attr("patternTransform",function(M,I){var z=(45+67*I)%180;return"rotate(".concat(z,")")});U.append("line").attr("class","ai-building-line").attr("stroke","currentColor").attr("stroke-width","2px").attr("stroke-opacity",.6).attr("y2","15"),O=U.merge(O).style("color",function(M){return M.color||n});var T=o.selectAll(".layer-rapid-dataset").data(L,function(M){return M.id});T.exit().remove(),T=T.enter().append("g").attr("class",function(M){return"layer-rapid-dataset layer-rapid-dataset-".concat(M.id)}).merge(T).style("color",function(M){return M.color||n}).each(y)}}function y(C,D,S){var N=t.rapidContext(),R=G(S[D]),P=C.service==="fbml"?l():u();if(!!P){var L=C.id+(C.conflated?"-conflated":""),B=P.graph(L),O=Lr(e,B),U=Gt(e),T={paths:[],vertices:[],points:[]};if(t.map().zoom()>=t.minEditableZoom()){if(C.service==="fbml"){P.loadTiles(L,e,N.getTaskExtent(),t);var M=P.intersects(L,t.map().extent()).filter(function(q){return q.type==="way"&&!Wi.has(q.id)&&!Wi.has(q.__origid__)}).filter(O);if(C.id==="fbRoads"||C.id==="rapid_intro_graph"){T.paths=M.filter(function(q){return!!q.tags.highway});var I={};T.paths.forEach(function(q){var V=q.first(),Y=q.last();I[V]||(I[V]=!0,T.vertices.push(B.entity(V))),I[Y]||(I[Y]=!0,T.vertices.push(B.entity(Y)))})}else C.id==="msBuildings",T.paths=M.filter(v)}else if(C.service==="esri"){P.loadTiles(L,e,null,t);var z=P.intersects(L,t.map().extent()).filter(function(q){return!Wi.has(q.id)&&!Wi.has(q.__origid__)});T.points=z.filter(function(q){return q.type==="node"&&!!q.__fbid__}),T.paths=z.filter(function(q){return q.type==="way"||q.type==="relation"}).filter(O)}}R.call(E,T.paths,C,O).call(k,T.vertices,U).call(A,T.points,U)}}function E(C,D,S,N){var R=C.selectAll("g.linegroup").data(["shadow","casing","stroke"]);R=R.enter().append("g").attr("class",function(L){return"linegroup linegroup-".concat(L)}).merge(R);var P=R.selectAll("path").data(D,x);P.exit().remove(),P=P.enter().append("path").attr("style",function(L){return v(L)?"fill: url(#fill-".concat(window.toBase64(S.id),")"):null}).attr("class",function(L,B,O){var U=O[B],T=U.parentNode.__data__,M=v(L)?"building":"road";return"line ".concat(T," ").concat(M," data").concat(L.__fbid__)}).merge(P).attr("d",N)}function k(C,D,S){var N={stroke:[3.5,4,4.5],fill:[2,2,2.5]},R=C.selectAll("g.vertexgroup").data(D.length?[0]:[]);R.exit().remove(),R=R.enter().append("g").attr("class","vertexgroup").merge(R);var P=R.selectAll("g.vertex").data(D,function(U){return U.id});P.exit().remove();var L=P.enter().append("g").attr("class",function(U){return"node vertex ".concat(U.id)});L.append("circle").attr("class","stroke"),L.append("circle").attr("class","fill");var B=Jt(e.scale()),O=B<17?0:B<18?1:2;P=P.merge(L).attr("transform",S).call(function(U){["stroke","fill"].forEach(function(T){U.selectAll("."+T).attr("r",N[T][O])})})}function A(C,D,S){var N={shadow:[4.5,7,8],stroke:[4.5,7,8],fill:[2.5,4,5]},R=C.selectAll("g.pointgroup").data(D.length?[0]:[]);R.exit().remove(),R=R.enter().append("g").attr("class","pointgroup").merge(R);var P=R.selectAll("g.point").data(D,x);P.exit().remove();var L=P.enter().append("g").attr("class",function(U){return"node point data".concat(U.__fbid__)});L.append("circle").attr("class","shadow"),L.append("circle").attr("class","stroke"),L.append("circle").attr("class","fill");var B=Jt(e.scale()),O=B<17?0:B<18?1:2;P=P.merge(L).attr("transform",S).call(function(U){["shadow","stroke","fill"].forEach(function(T){U.selectAll("."+T).attr("r",N[T][O])})})}return _.showAll=function(){return Ra},_.enabled=function(C){return arguments.length?(Ra=C,Ra?w():b(),r.call("change"),_):Ra},s(),_}function Ws(e,t){var r=be("change"),n=G(null),i=[{id:"ai-features",layer:v3(e,t,r)},{id:"osm",layer:d3(e,t,r)},{id:"notes",layer:p3(e,t,r)},{id:"data",layer:Bs(e,t,r)},{id:"keepRight",layer:u3(e,t,r)},{id:"improveOSM",layer:mv(e,t,r)},{id:"osmose",layer:hv(e,t,r)},{id:"streetside",layer:qi(e,t,r)},{id:"mapillary",layer:Qi(e,t,r)},{id:"mapillary-position",layer:f3(e,t,r)},{id:"mapillary-map-features",layer:Ba(e,t,r)},{id:"mapillary-signs",layer:Gi(e,t,r)},{id:"openstreetcam",layer:Hi(e,t,r)},{id:"debug",layer:Rs(e,t,r)},{id:"geolocate",layer:Ui(e,t,r)},{id:"touch",layer:m3(e,t,r)}];function a(o){n=o.selectAll(".surface").data([0]),n=n.enter().append("svg").attr("class","surface").merge(n);var s=n.selectAll(".surface-defs").data([0]);s.enter().append("defs").attr("class","surface-defs"),s.enter().append("svg").attr("class","grids-svg");var l=n.selectAll(".data-layer").data(i);l.exit().remove(),l.enter().append("g").attr("class",function(u){return"data-layer "+u.id}).merge(l).each(function(u){G(this).call(u.layer)})}return a.all=function(){return i},a.layer=function(o){var s=i.find(function(l){return l.id===o});return s&&s.layer},a.only=function(o){var s=[].concat(o),l=i.map(function(u){return u.id});return a.remove(vr(l,s))},a.remove=function(o){var s=[].concat(o);return s.forEach(function(l){i=i.filter(function(u){return u.id!==l})}),r.call("change"),this},a.add=function(o){var s=[].concat(o);return s.forEach(function(l){"id"in l&&"layer"in l&&i.push(l)}),r.call("change"),this},a.dimensions=function(o){return arguments.length?(v0(n,o),this):yn(n)},ke(a,r,"on")}function HS(){this.__data__=[],this.size=0}var yv=HS;function WS(e,t){return e===t||e!==e&&t!==t}var Vs=WS;function VS(e,t){for(var r=e.length;r--;)if(Vs(e[r][0],t))return r;return-1}var Ao=VS;var KS=Array.prototype,YS=KS.splice;function ZS(e){var t=this.__data__,r=Ao(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():YS.call(t,r,1),--this.size,!0}var bv=ZS;function XS(e){var t=this.__data__,r=Ao(t,e);return r<0?void 0:t[r][1]}var wv=XS;function $S(e){return Ao(this.__data__,e)>-1}var xv=$S;function JS(e,t){var r=this.__data__,n=Ao(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var _v=JS;function Ks(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ks.prototype.clear=yv;Ks.prototype.delete=bv;Ks.prototype.get=wv;Ks.prototype.has=xv;Ks.prototype.set=_v;var Co=Ks;function eF(){this.__data__=new Co,this.size=0}var kv=eF;function tF(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Ev=tF;function rF(e){return this.__data__.get(e)}var Av=rF;function nF(e){return this.__data__.has(e)}var Cv=nF;var iF="[object AsyncFunction]",aF="[object Function]",oF="[object GeneratorFunction]",sF="[object Proxy]";function lF(e){if(!fn(e))return!1;var t=ri(e);return t==aF||t==oF||t==iF||t==sF}var y3=lF;var uF=Pr["__core-js_shared__"],b3=uF;var Dv=function(){var e=/[^.]+$/.exec(b3&&b3.keys&&b3.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function cF(e){return!!Dv&&Dv in e}var Sv=cF;var fF=Function.prototype,dF=fF.toString;function pF(e){if(e!=null){try{return dF.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var La=pF;var mF=/[\\^$.*+?()[\]{}|]/g,hF=/^\[object .+?Constructor\]$/,gF=Function.prototype,vF=Object.prototype,yF=gF.toString,bF=vF.hasOwnProperty,wF=RegExp("^"+yF.call(bF).replace(mF,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function xF(e){if(!fn(e)||Sv(e))return!1;var t=y3(e)?wF:hF;return t.test(La(e))}var Fv=xF;function _F(e,t){return e==null?void 0:e[t]}var Tv=_F;function kF(e,t){var r=Tv(e,t);return Fv(r)?r:void 0}var Gn=kF;var EF=Gn(Pr,"Map"),Do=EF;var AF=Gn(Object,"create"),ja=AF;function CF(){this.__data__=ja?ja(null):{},this.size=0}var Mv=CF;function DF(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Iv=DF;var SF="__lodash_hash_undefined__",FF=Object.prototype,TF=FF.hasOwnProperty;function MF(e){var t=this.__data__;if(ja){var r=t[e];return r===SF?void 0:r}return TF.call(t,e)?t[e]:void 0}var Nv=MF;var IF=Object.prototype,NF=IF.hasOwnProperty;function OF(e){var t=this.__data__;return ja?t[e]!==void 0:NF.call(t,e)}var Ov=OF;var PF="__lodash_hash_undefined__";function BF(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ja&&t===void 0?PF:t,this}var Pv=BF;function Ys(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ys.prototype.clear=Mv;Ys.prototype.delete=Iv;Ys.prototype.get=Nv;Ys.prototype.has=Ov;Ys.prototype.set=Pv;var d8=Ys;function RF(){this.size=0,this.__data__={hash:new d8,map:new(Do||Co),string:new d8}}var Bv=RF;pt();function LF(e){var t=Se(e);return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Rv=LF;function jF(e,t){var r=e.__data__;return Rv(t)?r[typeof t=="string"?"string":"hash"]:r.map}var So=jF;function zF(e){var t=So(this,e).delete(e);return this.size-=t?1:0,t}var Lv=zF;function UF(e){return So(this,e).get(e)}var jv=UF;function qF(e){return So(this,e).has(e)}var zv=qF;function QF(e,t){var r=So(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Uv=QF;function Zs(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Zs.prototype.clear=Bv;Zs.prototype.delete=Lv;Zs.prototype.get=jv;Zs.prototype.has=zv;Zs.prototype.set=Uv;var d1=Zs;var GF=200;function HF(e,t){var r=this.__data__;if(r instanceof Co){var n=r.__data__;if(!Do||n.length<GF-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new d1(n)}return r.set(e,t),this.size=r.size,this}var qv=HF;function Xs(e){var t=this.__data__=new Co(e);this.size=t.size}Xs.prototype.clear=kv;Xs.prototype.delete=Ev;Xs.prototype.get=Av;Xs.prototype.has=Cv;Xs.prototype.set=qv;var $s=Xs;var WF="__lodash_hash_undefined__";function VF(e){return this.__data__.set(e,WF),this}var Qv=VF;function KF(e){return this.__data__.has(e)}var Gv=KF;function w3(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new d1;++t<r;)this.add(e[t])}w3.prototype.add=w3.prototype.push=Qv;w3.prototype.has=Gv;var Hv=w3;function YF(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Wv=YF;function ZF(e,t){return e.has(t)}var Vv=ZF;var XF=1,$F=2;function JF(e,t,r,n,i,a){var o=r&XF,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(e),c=a.get(t);if(u&&c)return u==t&&c==e;var d=-1,p=!0,m=r&$F?new Hv:void 0;for(a.set(e,t),a.set(t,e);++d<s;){var w=e[d],b=t[d];if(n)var h=o?n(b,w,d,t,e,a):n(w,b,d,e,t,a);if(h!==void 0){if(h)continue;p=!1;break}if(m){if(!Wv(t,function(g,v){if(!Vv(m,v)&&(w===g||i(w,g,r,n,a)))return m.push(v)})){p=!1;break}}else if(!(w===b||i(w,b,r,n,a))){p=!1;break}}return a.delete(e),a.delete(t),p}var x3=JF;var eT=Pr.Uint8Array,Js=eT;function tT(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var Kv=tT;function rT(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Yv=rT;var nT=1,iT=2,aT="[object Boolean]",oT="[object Date]",sT="[object Error]",lT="[object Map]",uT="[object Number]",cT="[object RegExp]",fT="[object Set]",dT="[object String]",pT="[object Symbol]",mT="[object ArrayBuffer]",hT="[object DataView]",Zv=an?an.prototype:void 0,p8=Zv?Zv.valueOf:void 0;function gT(e,t,r,n,i,a,o){switch(r){case hT:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case mT:return!(e.byteLength!=t.byteLength||!a(new Js(e),new Js(t)));case aT:case oT:case uT:return Vs(+e,+t);case sT:return e.name==t.name&&e.message==t.message;case cT:case dT:return e==t+"";case lT:var s=Kv;case fT:var l=n&nT;if(s||(s=Yv),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;n|=iT,o.set(e,t);var c=x3(s(e),s(t),n,i,a,o);return o.delete(e),c;case pT:if(p8)return p8.call(e)==p8.call(t)}return!1}var Xv=gT;function vT(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var e4=vT;var yT=Array.isArray,pn=yT;function bT(e,t,r){var n=t(e);return pn(e)?n:e4(n,r(e))}var _3=bT;function wT(e,t){for(var r=-1,n=e==null?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a}var $v=wT;function xT(){return[]}var k3=xT;var _T=Object.prototype,kT=_T.propertyIsEnumerable,Jv=Object.getOwnPropertySymbols,ET=Jv?function(e){return e==null?[]:(e=Object(e),$v(Jv(e),function(t){return kT.call(e,t)}))}:k3,t4=ET;function AT(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var ey=AT;var CT="[object Arguments]";function DT(e){return dn(e)&&ri(e)==CT}var m8=DT;var ty=Object.prototype,ST=ty.hasOwnProperty,FT=ty.propertyIsEnumerable,TT=m8(function(){return arguments}())?m8:function(e){return dn(e)&&ST.call(e,"callee")&&!FT.call(e,"callee")},E3=TT;pt();function MT(){return!1}var ry=MT;var ny=(typeof exports=="undefined"?"undefined":Se(exports))=="object"&&exports&&!exports.nodeType&&exports,iy=ny&&(typeof module=="undefined"?"undefined":Se(module))=="object"&&module&&!module.nodeType&&module,IT=iy&&iy.exports===ny,ay=IT?Pr.Buffer:void 0,NT=ay?ay.isBuffer:void 0,OT=NT||ry,p1=OT;pt();var PT=9007199254740991,BT=/^(?:0|[1-9]\d*)$/;function RT(e,t){var r=Se(e);return t=t==null?PT:t,!!t&&(r=="number"||r!="symbol"&&BT.test(e))&&e>-1&&e%1==0&&e<t}var oy=RT;var LT=9007199254740991;function jT(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=LT}var A3=jT;var zT="[object Arguments]",UT="[object Array]",qT="[object Boolean]",QT="[object Date]",GT="[object Error]",HT="[object Function]",WT="[object Map]",VT="[object Number]",KT="[object Object]",YT="[object RegExp]",ZT="[object Set]",XT="[object String]",$T="[object WeakMap]",JT="[object ArrayBuffer]",eM="[object DataView]",tM="[object Float32Array]",rM="[object Float64Array]",nM="[object Int8Array]",iM="[object Int16Array]",aM="[object Int32Array]",oM="[object Uint8Array]",sM="[object Uint8ClampedArray]",lM="[object Uint16Array]",uM="[object Uint32Array]",xr={};xr[tM]=xr[rM]=xr[nM]=xr[iM]=xr[aM]=xr[oM]=xr[sM]=xr[lM]=xr[uM]=!0;xr[zT]=xr[UT]=xr[JT]=xr[qT]=xr[eM]=xr[QT]=xr[GT]=xr[HT]=xr[WT]=xr[VT]=xr[KT]=xr[YT]=xr[ZT]=xr[XT]=xr[$T]=!1;function cM(e){return dn(e)&&A3(e.length)&&!!xr[ri(e)]}var sy=cM;function fM(e){return function(t){return e(t)}}var r4=fM;pt();var ly=(typeof exports=="undefined"?"undefined":Se(exports))=="object"&&exports&&!exports.nodeType&&exports,y0=ly&&(typeof module=="undefined"?"undefined":Se(module))=="object"&&module&&!module.nodeType&&module,dM=y0&&y0.exports===ly,h8=dM&&Hu.process,pM=function(){try{var e=y0&&y0.require&&y0.require("util").types;return e||h8&&h8.binding&&h8.binding("util")}catch(t){}}(),za=pM;var uy=za&&za.isTypedArray,mM=uy?r4(uy):sy,C3=mM;var hM=Object.prototype,gM=hM.hasOwnProperty;function vM(e,t){var r=pn(e),n=!r&&E3(e),i=!r&&!n&&p1(e),a=!r&&!n&&!i&&C3(e),o=r||n||i||a,s=o?ey(e.length,String):[],l=s.length;for(var u in e)(t||gM.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||oy(u,l)))&&s.push(u);return s}var D3=vM;var yM=Object.prototype;function bM(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||yM;return e===r}var n4=bM;function wM(e,t){return function(r){return e(t(r))}}var S3=wM;var xM=S3(Object.keys,Object),cy=xM;var _M=Object.prototype,kM=_M.hasOwnProperty;function EM(e){if(!n4(e))return cy(e);var t=[];for(var r in Object(e))kM.call(e,r)&&r!="constructor"&&t.push(r);return t}var fy=EM;function AM(e){return e!=null&&A3(e.length)&&!y3(e)}var F3=AM;function CM(e){return F3(e)?D3(e):fy(e)}var i4=CM;function DM(e){return _3(e,i4,t4)}var b0=DM;var SM=1,FM=Object.prototype,TM=FM.hasOwnProperty;function MM(e,t,r,n,i,a){var o=r&SM,s=b0(e),l=s.length,u=b0(t),c=u.length;if(l!=c&&!o)return!1;for(var d=l;d--;){var p=s[d];if(!(o?p in t:TM.call(t,p)))return!1}var m=a.get(e),w=a.get(t);if(m&&w)return m==t&&w==e;var b=!0;a.set(e,t),a.set(t,e);for(var h=o;++d<l;){p=s[d];var g=e[p],v=t[p];if(n)var x=o?n(v,g,p,t,e,a):n(g,v,p,e,t,a);if(!(x===void 0?g===v||i(g,v,r,n,a):x)){b=!1;break}h||(h=p=="constructor")}if(b&&!h){var _=e.constructor,y=t.constructor;_!=y&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof y=="function"&&y instanceof y)&&(b=!1)}return a.delete(e),a.delete(t),b}var dy=MM;var IM=Gn(Pr,"DataView"),T3=IM;var NM=Gn(Pr,"Promise"),M3=NM;var OM=Gn(Pr,"Set"),I3=OM;var PM=Gn(Pr,"WeakMap"),N3=PM;var py="[object Map]",BM="[object Object]",my="[object Promise]",hy="[object Set]",gy="[object WeakMap]",vy="[object DataView]",RM=La(T3),LM=La(Do),jM=La(M3),zM=La(I3),UM=La(N3),m1=ri;(T3&&m1(new T3(new ArrayBuffer(1)))!=vy||Do&&m1(new Do)!=py||M3&&m1(M3.resolve())!=my||I3&&m1(new I3)!=hy||N3&&m1(new N3)!=gy)&&(m1=function(t){var r=ri(t),n=r==BM?t.constructor:void 0,i=n?La(n):"";if(i)switch(i){case RM:return vy;case LM:return py;case jM:return my;case zM:return hy;case UM:return gy}return r});var Ua=m1;var qM=1,yy="[object Arguments]",by="[object Array]",O3="[object Object]",QM=Object.prototype,wy=QM.hasOwnProperty;function GM(e,t,r,n,i,a){var o=pn(e),s=pn(t),l=o?by:Ua(e),u=s?by:Ua(t);l=l==yy?O3:l,u=u==yy?O3:u;var c=l==O3,d=u==O3,p=l==u;if(p&&p1(e)){if(!p1(t))return!1;o=!0,c=!1}if(p&&!c)return a||(a=new $s),o||C3(e)?x3(e,t,r,n,i,a):Xv(e,t,l,r,n,i,a);if(!(r&qM)){var m=c&&wy.call(e,"__wrapped__"),w=d&&wy.call(t,"__wrapped__");if(m||w){var b=m?e.value():e,h=w?t.value():t;return a||(a=new $s),i(b,h,r,n,a)}}return p?(a||(a=new $s),dy(e,t,r,n,i,a)):!1}var xy=GM;function _y(e,t,r,n,i){return e===t?!0:e==null||t==null||!dn(e)&&!dn(t)?e!==e&&t!==t:xy(e,t,r,n,_y,i)}var ky=_y;function HM(e,t){return ky(e,t)}var g8=HM;function WM(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var P3=WM;function VM(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var Ey=VM;var KM=function(){try{var e=Gn(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),a4=KM;function YM(e,t,r){t=="__proto__"&&a4?a4(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var B3=YM;var ZM=Object.prototype,XM=ZM.hasOwnProperty;function $M(e,t,r){var n=e[t];(!(XM.call(e,t)&&Vs(n,r))||r===void 0&&!(t in e))&&B3(e,t,r)}var R3=$M;function JM(e,t,r,n){var i=!r;r||(r={});for(var a=-1,o=t.length;++a<o;){var s=t[a],l=n?n(r[s],e[s],s,r,e):void 0;l===void 0&&(l=e[s]),i?B3(r,s,l):R3(r,s,l)}return r}var ca=JM;function eI(e,t){return e&&ca(t,i4(t),e)}var Ay=eI;function tI(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var Cy=tI;var rI=Object.prototype,nI=rI.hasOwnProperty;function iI(e){if(!fn(e))return Cy(e);var t=n4(e),r=[];for(var n in e)n=="constructor"&&(t||!nI.call(e,n))||r.push(n);return r}var Dy=iI;function aI(e){return F3(e)?D3(e,!0):Dy(e)}var o4=aI;function oI(e,t){return e&&ca(t,o4(t),e)}var Sy=oI;pt();var Fy=(typeof exports=="undefined"?"undefined":Se(exports))=="object"&&exports&&!exports.nodeType&&exports,Ty=Fy&&(typeof module=="undefined"?"undefined":Se(module))=="object"&&module&&!module.nodeType&&module,sI=Ty&&Ty.exports===Fy,My=sI?Pr.Buffer:void 0,Iy=My?My.allocUnsafe:void 0;function lI(e,t){if(t)return e.slice();var r=e.length,n=Iy?Iy(r):new e.constructor(r);return e.copy(n),n}var Ny=lI;function uI(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var Oy=uI;function cI(e,t){return ca(e,t4(e),t)}var Py=cI;var fI=S3(Object.getPrototypeOf,Object),s4=fI;var dI=Object.getOwnPropertySymbols,pI=dI?function(e){for(var t=[];e;)e4(t,t4(e)),e=s4(e);return t}:k3,L3=pI;function mI(e,t){return ca(e,L3(e),t)}var By=mI;function hI(e){return _3(e,o4,L3)}var j3=hI;var gI=Object.prototype,vI=gI.hasOwnProperty;function yI(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&vI.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var Ry=yI;function bI(e){var t=new e.constructor(e.byteLength);return new Js(t).set(new Js(e)),t}var l4=bI;function wI(e,t){var r=t?l4(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var Ly=wI;var xI=/\w*$/;function _I(e){var t=new e.constructor(e.source,xI.exec(e));return t.lastIndex=e.lastIndex,t}var jy=_I;var zy=an?an.prototype:void 0,Uy=zy?zy.valueOf:void 0;function kI(e){return Uy?Object(Uy.call(e)):{}}var qy=kI;function EI(e,t){var r=t?l4(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var Qy=EI;var AI="[object Boolean]",CI="[object Date]",DI="[object Map]",SI="[object Number]",FI="[object RegExp]",TI="[object Set]",MI="[object String]",II="[object Symbol]",NI="[object ArrayBuffer]",OI="[object DataView]",PI="[object Float32Array]",BI="[object Float64Array]",RI="[object Int8Array]",LI="[object Int16Array]",jI="[object Int32Array]",zI="[object Uint8Array]",UI="[object Uint8ClampedArray]",qI="[object Uint16Array]",QI="[object Uint32Array]";function GI(e,t,r){var n=e.constructor;switch(t){case NI:return l4(e);case AI:case CI:return new n(+e);case OI:return Ly(e,r);case PI:case BI:case RI:case LI:case jI:case zI:case UI:case qI:case QI:return Qy(e,r);case DI:return new n;case SI:case MI:return new n(e);case FI:return jy(e);case TI:return new n;case II:return qy(e)}}var Gy=GI;var Hy=Object.create,HI=function(){function e(){}return function(t){if(!fn(t))return{};if(Hy)return Hy(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),Wy=HI;function WI(e){return typeof e.constructor=="function"&&!n4(e)?Wy(s4(e)):{}}var Vy=WI;var VI="[object Map]";function KI(e){return dn(e)&&Ua(e)==VI}var Ky=KI;var Yy=za&&za.isMap,YI=Yy?r4(Yy):Ky,Zy=YI;var ZI="[object Set]";function XI(e){return dn(e)&&Ua(e)==ZI}var Xy=XI;var $y=za&&za.isSet,$I=$y?r4($y):Xy,Jy=$I;var JI=1,eN=2,tN=4,eb="[object Arguments]",rN="[object Array]",nN="[object Boolean]",iN="[object Date]",aN="[object Error]",tb="[object Function]",oN="[object GeneratorFunction]",sN="[object Map]",lN="[object Number]",rb="[object Object]",uN="[object RegExp]",cN="[object Set]",fN="[object String]",dN="[object Symbol]",pN="[object WeakMap]",mN="[object ArrayBuffer]",hN="[object DataView]",gN="[object Float32Array]",vN="[object Float64Array]",yN="[object Int8Array]",bN="[object Int16Array]",wN="[object Int32Array]",xN="[object Uint8Array]",_N="[object Uint8ClampedArray]",kN="[object Uint16Array]",EN="[object Uint32Array]",hr={};hr[eb]=hr[rN]=hr[mN]=hr[hN]=hr[nN]=hr[iN]=hr[gN]=hr[vN]=hr[yN]=hr[bN]=hr[wN]=hr[sN]=hr[lN]=hr[rb]=hr[uN]=hr[cN]=hr[fN]=hr[dN]=hr[xN]=hr[_N]=hr[kN]=hr[EN]=!0;hr[aN]=hr[tb]=hr[pN]=!1;function z3(e,t,r,n,i,a){var o,s=t&JI,l=t&eN,u=t&tN;if(r&&(o=i?r(e,n,i,a):r(e)),o!==void 0)return o;if(!fn(e))return e;var c=pn(e);if(c){if(o=Ry(e),!s)return Oy(e,o)}else{var d=Ua(e),p=d==tb||d==oN;if(p1(e))return Ny(e,s);if(d==rb||d==eb||p&&!i){if(o=l||p?{}:Vy(e),!s)return l?By(e,Sy(o,e)):Py(e,Ay(o,e))}else{if(!hr[d])return i?e:{};o=Gy(e,d,s)}}a||(a=new $s);var m=a.get(e);if(m)return m;a.set(e,o),Jy(e)?e.forEach(function(h){o.add(z3(h,t,r,h,e,a))}):Zy(e)&&e.forEach(function(h,g){o.set(g,z3(h,t,r,g,e,a))});var w=u?l?j3:b0:l?o4:i4,b=c?void 0:w(e);return Ey(b||e,function(h,g){b&&(g=h,h=e[g]),R3(o,g,z3(h,t,r,g,e,a))}),o}var nb=z3;pt();var AN=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,CN=/^\w*$/;function DN(e,t){if(pn(e))return!1;var r=Se(e);return r=="number"||r=="symbol"||r=="boolean"||e==null||ko(e)?!0:CN.test(e)||!AN.test(e)||t!=null&&e in Object(t)}var ib=DN;var SN="Expected a function";function v8(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(SN);var r=function n(){var i=arguments,a=t?t.apply(this,i):i[0],o=n.cache;if(o.has(a))return o.get(a);var s=e.apply(this,i);return n.cache=o.set(a,s)||o,s};return r.cache=new(v8.Cache||d1),r}v8.Cache=d1;var ab=v8;var FN=500;function TN(e){var t=ab(e,function(n){return r.size===FN&&r.clear(),n}),r=t.cache;return t}var ob=TN;var MN=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,IN=/\\(\\)?/g,NN=ob(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(MN,function(r,n,i,a){t.push(i?a.replace(IN,"$1"):n||r)}),t}),sb=NN;var ON=1/0,lb=an?an.prototype:void 0,ub=lb?lb.toString:void 0;function cb(e){if(typeof e=="string")return e;if(pn(e))return P3(e,cb)+"";if(ko(e))return ub?ub.call(e):"";var t=e+"";return t=="0"&&1/e==-ON?"-0":t}var fb=cb;function PN(e){return e==null?"":fb(e)}var db=PN;function BN(e,t){return pn(e)?e:ib(e,t)?[e]:sb(db(e))}var u4=BN;function RN(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var pb=RN;var LN=1/0;function jN(e){if(typeof e=="string"||ko(e))return e;var t=e+"";return t=="0"&&1/e==-LN?"-0":t}var U3=jN;function zN(e,t){t=u4(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[U3(t[r++])];return r&&r==n?e:void 0}var mb=zN;function UN(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a}var hb=UN;function qN(e,t){return t.length<2?e:mb(e,hb(t,0,-1))}var gb=qN;function QN(e,t){return t=u4(t,e),e=gb(e,t),e==null||delete e[U3(pb(t))]}var vb=QN;var GN="[object Object]",HN=Function.prototype,WN=Object.prototype,yb=HN.toString,VN=WN.hasOwnProperty,KN=yb.call(Object);function YN(e){if(!dn(e)||ri(e)!=GN)return!1;var t=s4(e);if(t===null)return!0;var r=VN.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&yb.call(r)==KN}var bb=YN;function ZN(e){return bb(e)?void 0:e}var wb=ZN;var xb=an?an.isConcatSpreadable:void 0;function XN(e){return pn(e)||E3(e)||!!(xb&&e&&e[xb])}var _b=XN;function kb(e,t,r,n,i){var a=-1,o=e.length;for(r||(r=_b),i||(i=[]);++a<o;){var s=e[a];t>0&&r(s)?t>1?kb(s,t-1,r,n,i):e4(i,s):n||(i[i.length]=s)}return i}var Eb=kb;function $N(e){var t=e==null?0:e.length;return t?Eb(e,1):[]}var Ab=$N;function JN(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Cb=JN;var Db=Math.max;function eO(e,t,r){return t=Db(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=Db(n.length-t,0),o=Array(a);++i<a;)o[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=r(o),Cb(e,this,s)}}var Sb=eO;function tO(e){return function(){return e}}var Fb=tO;function rO(e){return e}var Tb=rO;var nO=a4?function(e,t){return a4(e,"toString",{configurable:!0,enumerable:!1,value:Fb(t),writable:!0})}:Tb,Mb=nO;var iO=800,aO=16,oO=Date.now;function sO(e){var t=0,r=0;return function(){var n=oO(),i=aO-(n-r);if(r=n,i>0){if(++t>=iO)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Ib=sO;var lO=Ib(Mb),Nb=lO;function uO(e){return Nb(Sb(e,void 0,Ab),e+"")}var Ob=uO;var cO=1,fO=2,dO=4,pO=Ob(function(e,t){var r={};if(e==null)return r;var n=!1;t=P3(t,function(a){return a=u4(a,e),n||(n=a.length>1),a}),ca(e,j3(e),r),n&&(r=nb(r,cO|fO|dO,wb));for(var i=t.length;i--;)vb(r,t[i]);return r}),y8=pO;var w0=Xe(bi());var mO={rapid_config:{style_fb_ai_roads:{enabled:!1}}},hO=mO.rapid_config;function c4(e,t){var r=qt(),n={motorway:0,motorway_link:1,trunk:2,trunk_link:3,primary:4,primary_link:5,secondary:6,tertiary:7,unclassified:8,residential:9,service:10,footway:11};function i(o,s,l,u){var c=t.getDebug("target")?"pink ":"nocolor ",d=t.getDebug("target")?"red ":"nocolor ",p=Lr(e).geojson,m=t.activeID(),w=t.history().base(),b={targets:[],nopes:[]};l.forEach(function(y){var E=Ps(y,s,m);b.targets.push.apply(b.targets,E.passive),b.nopes.push.apply(b.nopes,E.active)});var h=b.targets.filter(p),g=o.selectAll(".line.target-allowed").filter(function(y){return u(y.properties.entity)}).data(h,function(E){return E.id});g.exit().remove();var v=function(E){var k=E.properties.entity.id;return!w.entities[k]||!(0,w0.default)(s.entities[k].nodes,w.entities[k].nodes)?!1:E.properties.nodes.some(function(A){return!w.entities[A.id]||!(0,w0.default)(s.entities[A.id].loc,w.entities[A.id].loc)})};g.enter().append("path").merge(g).attr("d",p).attr("class",function(y){return"way line target target-allowed "+c+y.id}).classed("segment-edited",v);var x=b.nopes.filter(p),_=o.selectAll(".line.target-nope").filter(function(y){return u(y.properties.entity)}).data(x,function(E){return E.id});_.exit().remove(),_.enter().append("path").merge(_).attr("d",p).attr("class",function(y){return"way line target target-nope "+d+y.id}).classed("segment-edited",v)}function a(o,s,l,u){var c=t.history().base();function d(P,L){var B=t.selectedIDs(),O=B.indexOf(P.id)!==-1?20:0,U=B.indexOf(L.id)!==-1?20:0;return P.tags.highway&&(O-=n[P.tags.highway]),L.tags.highway&&(U-=n[L.tags.highway]),O-U}var p=function(L){return hO.style_fb_ai_roads.enabled&&(L.tags.source==="digitalglobe"||L.tags.source==="maxar")?" airoad ":""},m=function(L){var B=s.entities[L.id]&&c.entities[L.id]&&!g8(s.entities[L.id].tags,c.entities[L.id].tags);return B?" tagedited ":""},w=function(L){if(!c.entities[L.id])return" graphedited ";var B=s.entities[L.id]&&c.entities[L.id]&&!g8(y8(s.entities[L.id],["tags","v"]),y8(c.entities[L.id],["tags","v"]));return B?" graphedited ":""};function b(P,L,B){var O=t.mode(),U=O&&/^draw/.test(O.id),T=!U&&B?"selected ":"",M=P.selectAll("path").filter(u).data(h(B),Me.key);return M.exit().remove(),M.enter().append("path").attr("class",function(I){var z="way line";if(!I.hasInterestingTags()){var q=s.parentRelations(I),V=q.filter(function(ee){return ee.isMultipolygon()});V.length>0&&q.length===V.length&&(z="relation area")}var Y=E[I.id]?"old-multipolygon ":"";return z+" "+L+" "+T+Y+w(I)+m(I)+p(I)+I.id}).classed("added",function(I){return!c.entities[I.id]}).classed("geometry-edited",function(I){return s.entities[I.id]&&c.entities[I.id]&&!(0,w0.default)(s.entities[I.id].nodes,c.entities[I.id].nodes)}).classed("retagged",function(I){return s.entities[I.id]&&c.entities[I.id]&&!(0,w0.default)(s.entities[I.id].tags,c.entities[I.id].tags)}).call(Pn()).merge(M).sort(d).attr("d",v).call(Pn().tags(n3(s))),P}function h(P){return function(){var L=this.parentNode.__data__,B=D[L]||[];return B.filter(function(O){return P?t.selectedIDs().indexOf(O.id)!==-1:t.selectedIDs().indexOf(O.id)===-1})}}function g(P,L,B,O,U){var T=P.selectAll("g."+B).data([L]);T=T.enter().append("g").attr("class",B).merge(T);var M=T.selectAll("path").filter(u).data(function(){return O[this.parentNode.__data__]||[]},function(z){return[z.id,z.index]});M.exit().remove(),M=M.enter().append("path").attr("class",L).merge(M).attr("marker-mid",U).attr("d",function(I){return I.d}),r.ie&&M.each(function(){this.parentNode.insertBefore(this,this)})}for(var v=Lr(e,s),x=[],_={},y={},E={},k=0;k<l.length;k++){var A=l[k],C=_u(A,s);C?(x.push(A.mergeTags(C.tags)),E[C.id]=!0):A.geometry(s)==="line"&&x.push(A)}x=x.filter(v);var D=ar(x,function(P){return P.layer()});Object.keys(D).forEach(function(P){var L=D[P],B=L.filter(function(M){return M.isOneWay()}),O=m0(e,s,35,function(I){return I.tags.oneway==="-1"},function(I){return I.tags.oneway==="reversible"||I.tags.oneway==="alternating"});_[P]=N1(B.map(O));var U=L.filter(function(M){return M.isSided()}),T=m0(e,s,30,function(){return!1},function(){return!1});y[P]=N1(U.map(T))});var S=o.selectAll(".layer-osm.covered"),N=o.selectAll(".layer-osm.lines"),R=o.selectAll(".layer-touch.lines");[S,N].forEach(function(P){var L=P===S?rl(-10,0):rl(0,11),B=P.selectAll("g.layergroup").data(L);B=B.enter().append("g").attr("class",function(O){return"layergroup layer"+String(O)}).merge(B),B.selectAll("g.linegroup").data(["shadow","casing","stroke","shadow-highlighted","casing-highlighted","stroke-highlighted"]).enter().append("g").attr("class",function(O){return"linegroup line-"+O}),B.selectAll("g.line-shadow").call(b,"shadow",!1),B.selectAll("g.line-casing").call(b,"casing",!1),B.selectAll("g.line-stroke").call(b,"stroke",!1),B.selectAll("g.line-shadow-highlighted").call(b,"shadow",!0),B.selectAll("g.line-casing-highlighted").call(b,"casing",!0),B.selectAll("g.line-stroke-highlighted").call(b,"stroke",!0),g(B,"oneway","onewaygroup",_,"url(#ideditor-oneway-marker)"),g(B,"sided","sidedgroup",y,function(U){var T=s.entity(U.id).sidednessIdentifier();return"url(#ideditor-sided-marker-"+T+")"})}),R.call(i,s,x,u)}return a}function q3(e,t){var r=8;function n(a,o,s,l){var u=t.getDebug("target")?"pink ":"nocolor ",c=Gt(e).geojson,d=s.map(function(m){return{type:"Feature",id:m.id,properties:{target:!0,entity:m},geometry:{type:"Point",coordinates:m.loc}}}),p=a.selectAll(".midpoint.target").filter(function(m){return l(m.properties.entity)}).data(d,function(w){return w.id});p.exit().remove(),p.enter().append("circle").attr("r",r).merge(p).attr("class",function(m){return"node midpoint target "+u+m.id}).attr("transform",c)}function i(a,o,s,l,u){var c=a.selectAll(".layer-osm.points .points-group.midpoints"),d=a.selectAll(".layer-touch.points"),p=t.mode();if(p&&p.id!=="select"||!t.map().withinEditableZoom()){c.selectAll(".midpoint").remove(),d.selectAll(".midpoint.target").remove();return}for(var m=u.polygon(),w={},b=0;b<s.length;b++){var h=s[b];if(h.type==="way"&&!!l(h)&&!(t.selectedIDs().indexOf(h.id)<0))for(var g=o.childNodes(h),v=0;v<g.length-1;v++){var x=g[v],_=g[v+1],y=[x.id,_.id].sort().join("-");if(w[y])w[y].parents.push(h);else if(it(e(x.loc),e(_.loc))>40){var E=jt(x.loc,_.loc,.5),k=null;if(u.intersects(new Ne(E)))k=E;else for(var A=0;A<4;A++)if(E=Oi([x.loc,_.loc],[m[A],m[A+1]]),E&&it(e(x.loc),e(E))>20&&it(e(_.loc),e(E))>20){k=E;break}k&&(w[y]={type:"midpoint",id:y,loc:k,edge:[x.id,_.id],parents:[h]})}}}function C(N){if(w[N.id])return!0;for(var R=0;R<N.parents.length;R++)if(l(N.parents[R]))return!0;return!1}var D=c.selectAll(".midpoint").filter(C).data(Object.values(w),function(N){return N.id});D.exit().remove();var S=D.enter().insert("g",":first-child").attr("class","midpoint");S.append("polygon").attr("points","-6,8 10,0 -6,-8").attr("class","shadow"),S.append("polygon").attr("points","-3,4 5,0 -3,-4").attr("class","fill"),D=D.merge(S).attr("transform",function(N){var R=Gt(e),P=e(o.entity(N.edge[0]).loc),L=e(o.entity(N.edge[1]).loc),B=pr(P,L)*(180/Math.PI);return R(N)+" rotate("+B+")"}).call(Pn().tags(function(N){return N.parents[0].tags})),D.select("polygon.shadow"),D.select("polygon.fill"),d.call(n,o,Object.values(w),C)}return i}var b8=Xe(bi());function Q3(e,t){function r(s,l){s.attr("class",l).attr("transform","translate(-8, -23)").attr("d","M 17,8 C 17,13 11,21 8.5,23.5 C 6,21 0,13 0,8 C 0,4 4,-0.5 8.5,-0.5 C 13,-0.5 17,4 17,8 z")}function n(s,l){return l.loc[1]-s.loc[1]}function i(s){var l=t.mode(),u=l&&/^(add|draw|drag|move|rotate)/.test(l.id);return u?s.id:Me.key(s)}function a(s,l,u,c){var d=t.getDebug("target")?"pink ":"nocolor ",p=Gt(e).geojson,m=t.activeID(),w=[];u.forEach(function(h){m!==h.id&&w.push({type:"Feature",id:h.id,properties:{target:!0,entity:h},geometry:h.asGeoJSON()})});var b=s.selectAll(".point.target").filter(function(h){return c(h.properties.entity)}).data(w,function(g){return g.id});b.exit().remove(),b.enter().append("rect").attr("x",-10).attr("y",-26).attr("width",20).attr("height",30).merge(b).attr("class",function(h){return"node point target "+d+h.id}).attr("transform",p)}function o(s,l,u,c){var d=t.surface().classed("fill-wireframe"),p=Jt(e.scale()),m=t.history().base();function w(_){return _.geometry(l)==="point"&&!(p>=18&&_.directions(l,e).length)}var b=d?[]:u.filter(w);b.sort(n);var h=s.selectAll(".layer-osm.points .points-group.points"),g=s.selectAll(".layer-touch.points"),v=h.selectAll("g.point").filter(c).data(b,i);v.exit().remove();var x=v.enter().append("g").attr("class",function(_){return"node point "+_.id}).order();x.append("path").call(r,"shadow"),x.append("ellipse").attr("cx",.5).attr("cy",1).attr("rx",6.5).attr("ry",3).attr("class","stroke"),x.append("path").call(r,"stroke"),x.append("use").attr("transform","translate(-5, -19)").attr("class","icon").attr("width","11px").attr("height","11px"),v=v.merge(x).attr("transform",Gt(e)).classed("added",function(_){return!m.entities[_.id]}).classed("moved",function(_){return m.entities[_.id]&&!(0,b8.default)(l.entities[_.id].loc,m.entities[_.id].loc)}).classed("retagged",function(_){return m.entities[_.id]&&!(0,b8.default)(l.entities[_.id].tags,m.entities[_.id].tags)}).call(Pn()),v.select(".shadow"),v.select(".stroke"),v.select(".icon").attr("xlink:href",function(_){var y=Ie.match(_,l),E=y&&y.icon;if(E){var k=/^maki-/.test(E);return"#"+E+(k?"-11":"")}else return""}),g.call(a,l,b,c)}return o}function G3(e,t){function r(i){var a=i.u?"-u":"";return i.no?"#iD-turn-no"+a:i.only?"#iD-turn-only"+a:"#iD-turn-yes"+a}function n(i,a,o){function s(b){var h=50,g=a.entity(b.to.way),v=a.childNodes(g).map(function(D){return D.loc}).map(e),x=Ko(v),_=x/2,y=a.entity(b.to.node),E=a.entity(b.to.vertex),k=pr(e(E.loc),e(y.loc)),A=e(E.loc),C=b.u?0:g.__via?Math.min(_,h):h;return"translate("+(C*Math.cos(k)+A[0])+","+(C*Math.sin(k)+A[1])+") rotate("+k*180/Math.PI+")"}var l=i.selectAll(".layer-osm.points .points-group.turns"),u=i.selectAll(".layer-touch.turns"),c=l.selectAll("g.turn").data(o,function(b){return b.key});c.exit().remove();var d=c.enter().append("g").attr("class",function(b){return"turn "+b.key}),p=d.filter(function(b){return!b.u});p.append("rect").attr("transform","translate(-22, -12)").attr("width","44").attr("height","24"),p.append("use").attr("transform","translate(-22, -12)").attr("width","44").attr("height","24");var m=d.filter(function(b){return b.u});m.append("circle").attr("r","16"),m.append("use").attr("transform","translate(-16, -16)").attr("width","32").attr("height","32"),c=c.merge(d).attr("opacity",function(b){return b.direct===!1?"0.7":null}).attr("transform",s),c.select("use").attr("xlink:href",r),c.select("rect"),c.select("circle");var w=t.getDebug("target")?"pink ":"nocolor ";return c=u.selectAll("g.turn").data(o,function(b){return b.key}),c.exit().remove(),d=c.enter().append("g").attr("class",function(b){return"turn "+b.key}),p=d.filter(function(b){return!b.u}),p.append("rect").attr("class","target "+w).attr("transform","translate(-22, -12)").attr("width","44").attr("height","24"),m=d.filter(function(b){return b.u}),m.append("circle").attr("class","target "+w).attr("r","16"),c=c.merge(d).attr("transform",s),c.select("rect"),c.select("circle"),this}return n}var x0=Xe(bi());function f4(e,t){var r={shadow:[6,7.5,7.5,12],stroke:[2.5,3.5,3.5,8],fill:[1,1.5,1.5,1.5]},n,i={},a={},o={},s={},l={},u={};function c(v,x){return x.loc[1]-v.loc[1]}function d(v){var x=t.mode(),_=x&&/^(add|draw|drag|move|rotate)/.test(x.id);return _?v.id:Me.key(v)}function p(v,x,_,y,E){y=y||{selected:{},important:{},hovered:{}};var k={},A={},C=t.surface().classed("fill-wireframe"),D=Jt(e.scale()),S=D<17?0:D<18?1:2,N=t.activeID(),R=t.history().base();function P(z){var q=x.entity(z.id);return q.id in k||(k[q.id]=q.hasInterestingTags()&&Ie.match(q,x).icon),k[q.id]}function L(z){if(z.id in A)return A[z.id];var q=z.directions(x,e);return A[z.id]=q.length?q:!1,q}function B(z){["shadow","stroke","fill"].forEach(function(q){var V=r[q];z.selectAll("."+q).each(function(Y){var ee=S&&P(Y),ie=V[ee?3:S];Y.id!==N&&Y.isEndpoint(x)&&!Y.isConnected(x)&&(ie+=1.5),q==="shadow"&&(u[Y.id]=ie),G(this).attr("r",ie).attr("visibility",ee&&q==="fill"?"hidden":null)})})}_.sort(c);var O=v.selectAll("g.vertex").filter(E).data(_,d);O.exit().remove();var U=O.enter().append("g").attr("class",function(z){return"node vertex "+z.id}).order();U.append("circle").attr("class","shadow"),U.append("circle").attr("class","stroke"),U.filter(function(z){return z.hasInterestingTags()}).append("circle").attr("class","fill"),O=O.merge(U).attr("transform",Gt(e)).classed("sibling",function(z){return z.id in y.selected}).classed("shared",function(z){return x.isShared(z)}).classed("endpoint",function(z){return z.isEndpoint(x)}).classed("added",function(z){return!R.entities[z.id]}).classed("moved",function(z){return R.entities[z.id]&&!(0,x0.default)(x.entities[z.id].loc,R.entities[z.id].loc)}).classed("retagged",function(z){return R.entities[z.id]&&!(0,x0.default)(x.entities[z.id].tags,R.entities[z.id].tags)}).call(B);var T=O.selectAll(".icon").data(function(q){return D>=17&&P(q)?[q]:[]},d);T.exit().remove(),T.enter().append("use").attr("class","icon").attr("width","11px").attr("height","11px").attr("transform","translate(-5.5, -5.5)").attr("xlink:href",function(z){var q=P(z),V=/^maki-/.test(q);return"#"+q+(V?"-11":"")});var M=O.selectAll(".viewfieldgroup").data(function(q){return D>=18&&L(q)?[q]:[]},d);M.exit().remove(),M=M.enter().insert("g",".shadow").attr("class","viewfieldgroup").merge(M);var I=M.selectAll(".viewfield").data(L,function(q){return Me.key(q)});I.exit().remove(),I.enter().append("path").attr("class","viewfield").attr("d","M0,0H0").merge(I).attr("marker-start","url(#ideditor-viewfield-marker"+(C?"-wireframe":"")+")").attr("transform",function(z){return"rotate("+z+")"})}function m(v,x,_,y){var E=t.getDebug("target")?"pink ":"nocolor ",k=t.getDebug("target")?"red ":"nocolor ",A=Gt(e).geojson,C=t.activeID(),D={targets:[],nopes:[]};_.forEach(function(R){if(C!==R.id){var P=p0(R,x,C);P!==0?D.targets.push({type:"Feature",id:R.id,properties:{target:!0,entity:R},geometry:R.asGeoJSON()}):D.nopes.push({type:"Feature",id:R.id+"-nope",properties:{nope:!0,target:!0,entity:R},geometry:R.asGeoJSON()})}});var S=v.selectAll(".vertex.target-allowed").filter(function(R){return y(R.properties.entity)}).data(D.targets,function(P){return P.id});S.exit().remove(),S.enter().append("circle").attr("r",function(R){return u[R.id]||r.shadow[3]}).merge(S).attr("class",function(R){return"node vertex target target-allowed "+E+R.id}).attr("transform",A);var N=v.selectAll(".vertex.target-nope").filter(function(R){return y(R.properties.entity)}).data(D.nopes,function(P){return P.id});N.exit().remove(),N.enter().append("circle").attr("r",function(R){return u[R.properties.entity.id]||r.shadow[3]}).merge(N).attr("class",function(R){return"node vertex target target-nope "+k+R.id}).attr("transform",A)}function w(v,x,_,y){var E=v.geometry(x);return E==="vertex"||E==="point"&&(_||y>=18&&v.directions(x,e).length)}function b(v,x,_){var y=x.entities[v.id],E=_.entities[v.id];return!E||!y||!(0,x0.default)(E.tags,y.tags)||!(0,x0.default)(E.loc,y.loc)}function h(v,x,_,y){var E={},k={};function A(C){if(!k[C.id]){k[C.id]=!0;var D=C.geometry(x);if(!t.features().isHiddenFeature(C,x,D)){var S;if(C.type==="way")for(S=0;S<C.nodes.length;S++){var N=x.hasEntity(C.nodes[S]);N&&A(N)}else if(C.type==="relation")for(S=0;S<C.members.length;S++){var R=x.hasEntity(C.members[S].id);R&&A(R)}else w(C,x,_,y)&&(E[C.id]=C)}}}return v.forEach(function(C){var D=x.hasEntity(C);!D||(D.type==="node"?w(D,x,_,y)&&(E[D.id]=D,x.parentWays(D).forEach(function(S){A(S)})):A(D))}),E}function g(v,x,_,y,E,k){var A=t.surface().classed("fill-wireframe"),C=t.surface().classed("highlight-edited"),D=Jt(e.scale()),S=t.mode(),N=S&&/^(add|draw|drag|move|rotate)/.test(S.id),R=t.history().base(),P=v.selectAll(".layer-osm.points .points-group.vertices"),L=v.selectAll(".layer-touch.points");k&&(i={},u={});for(var B=0;B<_.length;B++){var O=_[B],U=O.geometry(x),T=!1;(U==="point"&&w(O,x,A,D)||U==="vertex"&&(O.hasInterestingTags()||O.isEndpoint(x)||O.isConnected(x)||C&&b(O,R,x)))&&(i[O.id]=O,T=!0),!T&&!k&&delete i[O.id]}var M={persistent:i,selected:s,hovered:a},I=Object.assign({},N?a:{},s,i),z=function(ee){return ee.id in i||ee.id in s||ee.id in a||y(ee)};P.call(p,x,V(I),M,z);var q=function(ee){return N?!0:z(ee)};L.call(m,x,V(I),q);function V(Y){return Object.keys(Y).map(x.hasEntity,x).filter(function(ee){return ee&&ee.intersects(E,x)})}}return g.drawSelected=function(v,x,_){var y=t.surface().classed("fill-wireframe"),E=Jt(e.scale());l=s||{},t.map().isInWideSelection()?(s={},t.selectedIDs().forEach(function(A){var C=x.hasEntity(A);!C||C.type==="node"&&w(C,x,y,E)&&(s[C.id]=C)})):s=h(t.selectedIDs(),x,y,E);var k=function(C){return C.id in l};g(v,x,Object.values(l),k,_,!1)},g.drawHover=function(v,x,_,y){if(_!==n){var E=t.surface().classed("fill-wireframe"),k=Jt(e.scale());o=a||{},n=_;var A=_&&_.properties&&_.properties.entity;A?a=h([A.id],x,E,k):a={};var C=function(S){return S.id in o};g(v,x,Object.values(o),C,y,!1)}},g}function Pb(e,t,r,n){var i=t+".once";function a(){e.on(i,null),r.apply(this,arguments)}return e.on(i,a,n),this}function gO(e){return!e.ctrlKey&&!e.button}function vO(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function yO(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)}function bO(e,t,r){var n=e.invertX(t[0][0])-r[0][0],i=e.invertX(t[1][0])-r[1][0],a=e.invertY(t[0][1])-r[0][1],o=e.invertY(t[1][1])-r[1][1];return e.translate(i>n?(n+i)/2:Math.min(0,n)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function Bb(){var e=gO,t=vO,r=bO,n=yO,i=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],o=Ol,s=be("start","zoom","end"),l=150,u=Ir,c;function d(A){A.on("pointerdown.zoom",y).on("wheel.zoom",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)"),G(window).on("pointermove.zoompan",E).on("pointerup.zoompan pointercancel.zoompan",k)}d.transform=function(A,C,D){var S=A.selection?A.selection():A;A!==S?b(A,C,D):S.interrupt().each(function(){h(this,arguments).start(null).zoom(null,null,typeof C=="function"?C.apply(this,arguments):C).end(null)})},d.scaleBy=function(A,C,D){d.scaleTo(A,function(){var S=u.k,N=typeof C=="function"?C.apply(this,arguments):C;return S*N},D)},d.scaleTo=function(A,C,D){d.transform(A,function(){var S=t.apply(this,arguments),N=u,R=D?typeof D=="function"?D.apply(this,arguments):D:w(S),P=N.invert(R),L=typeof C=="function"?C.apply(this,arguments):C;return r(m(p(N,L),R,P),S,a)},D)},d.translateBy=function(A,C,D){d.transform(A,function(){return r(u.translate(typeof C=="function"?C.apply(this,arguments):C,typeof D=="function"?D.apply(this,arguments):D),t.apply(this,arguments),a)})},d.translateTo=function(A,C,D,S){d.transform(A,function(){var N=t.apply(this,arguments),R=u,P=S?typeof S=="function"?S.apply(this,arguments):S:w(N);return r(Ir.translate(P[0],P[1]).scale(R.k).translate(typeof C=="function"?-C.apply(this,arguments):-C,typeof D=="function"?-D.apply(this,arguments):-D),N,a)},S)};function p(A,C){return C=Math.max(i[0],Math.min(i[1],C)),C===A.k?A:new Tn(C,A.x,A.y)}function m(A,C,D){var S=C[0]-D[0]*A.k,N=C[1]-D[1]*A.k;return S===A.x&&N===A.y?A:new Tn(A.k,S,N)}function w(A){return[(+A[0][0]+ +A[1][0])/2,(+A[0][1]+ +A[1][1])/2]}function b(A,C,D){A.on("start.zoom",function(){h(this,arguments).start(null)}).on("interrupt.zoom end.zoom",function(){h(this,arguments).end(null)}).tween("zoom",function(){var S=this,N=arguments,R=h(S,N),P=t.apply(S,N),L=D?typeof D=="function"?D.apply(S,N):D:w(P),B=Math.max(P[1][0]-P[0][0],P[1][1]-P[0][1]),O=u,U=typeof C=="function"?C.apply(S,N):C,T=o(O.invert(L).concat(B/O.k),U.invert(L).concat(B/U.k));return function(M){if(M===1)M=U;else{var I=T(M),z=B/I[2];M=new Tn(z,L[0]-I[0]*z,L[1]-I[1]*z)}R.zoom(null,null,M)}})}function h(A,C,D){return!D&&c||new g(A,C)}function g(A,C){this.that=A,this.args=C,this.active=0,this.extent=t.apply(A,C)}g.prototype={start:function(C){return++this.active==1&&(c=this,s.call("start",this,C)),this},zoom:function(C,D,S){return this.mouse&&D!=="mouse"&&(this.mouse[1]=S.invert(this.mouse[0])),this.pointer0&&D!=="touch"&&(this.pointer0[1]=S.invert(this.pointer0[0])),this.pointer1&&D!=="touch"&&(this.pointer1[1]=S.invert(this.pointer1[0])),u=S,s.call("zoom",this,C,D,S),this},end:function(C){return--this.active==0&&(c=null,s.call("end",this,C)),this}};function v(A){if(!e.apply(this,arguments))return;var C=h(this,arguments),D=u,S=Math.max(i[0],Math.min(i[1],D.k*Math.pow(2,n.apply(this,arguments)))),N=Dr(this)(A);C.wheel?((C.mouse[0][0]!==N[0]||C.mouse[0][1]!==N[1])&&(C.mouse[1]=D.invert(C.mouse[0]=N)),clearTimeout(C.wheel)):(C.mouse=[N,D.invert(N)],Ri(this),C.start(A)),A.preventDefault(),A.stopImmediatePropagation(),C.wheel=setTimeout(R,l),C.zoom(A,"mouse",r(m(p(D,S),C.mouse[0],C.mouse[1]),C.extent,a));function R(){C.wheel=null,C.end(A)}}var x=new Set,_;function y(A){if(x.add(A.pointerId),!!e.apply(this,arguments)){var C=h(this,arguments,x.size===1),D;A.stopImmediatePropagation(),_=Dr(this);var S=_(A),N=[S,u.invert(S),A.pointerId];C.pointer0?!C.pointer1&&C.pointer0[2]!==N[2]&&(C.pointer1=N):(C.pointer0=N,D=!0),D&&(Ri(this),C.start(A))}}function E(A){if(!!x.has(A.pointerId)&&!(!c||!_)){var C=h(this,arguments),D=C.pointer0&&C.pointer0[2]===A.pointerId,S=!D&&C.pointer1&&C.pointer1[2]===A.pointerId;if((D||S)&&"buttons"in A&&!A.buttons){C.pointer0&&x.delete(C.pointer0[2]),C.pointer1&&x.delete(C.pointer1[2]),C.end(A);return}A.preventDefault(),A.stopImmediatePropagation();var N=_(A),R,P,L;if(D?C.pointer0[0]=N:S&&(C.pointer1[0]=N),R=u,C.pointer1){var B=C.pointer0[0],O=C.pointer0[1],U=C.pointer1[0],T=C.pointer1[1],M=(M=U[0]-B[0])*M+(M=U[1]-B[1])*M,I=(I=T[0]-O[0])*I+(I=T[1]-O[1])*I;R=p(R,Math.sqrt(M/I)),P=[(B[0]+U[0])/2,(B[1]+U[1])/2],L=[(O[0]+T[0])/2,(O[1]+T[1])/2]}else if(C.pointer0)P=C.pointer0[0],L=C.pointer0[1];else return;C.zoom(A,"touch",r(m(R,P,L),C.extent,a))}}function k(A){if(!!x.has(A.pointerId)&&(x.delete(A.pointerId),!!c)){var C=h(this,arguments);A.stopImmediatePropagation(),C.pointer0&&C.pointer0[2]===A.pointerId?delete C.pointer0:C.pointer1&&C.pointer1[2]===A.pointerId&&delete C.pointer1,C.pointer1&&!C.pointer0&&(C.pointer0=C.pointer1,delete C.pointer1),C.pointer0?C.pointer0[1]=u.invert(C.pointer0[0]):C.end(A)}}return d.wheelDelta=function(A){return arguments.length?(n=_t(+A),d):n},d.filter=function(A){return arguments.length?(e=_t(!!A),d):e},d.extent=function(A){return arguments.length?(t=_t([[+A[0][0],+A[0][1]],[+A[1][0],+A[1][1]]]),d):t},d.scaleExtent=function(A){return arguments.length?(i[0]=+A[0],i[1]=+A[1],d):[i[0],i[1]]},d.translateExtent=function(A){return arguments.length?(a[0][0]=+A[0][0],a[1][0]=+A[1][0],a[0][1]=+A[0][1],a[1][1]=+A[1][1],d):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},d.constrain=function(A){return arguments.length?(r=A,d):r},d.interpolate=function(A){return arguments.length?(o=A,d):o},d._transform=function(A){return arguments.length?(u=A,d):u},ke(d,s,"on")}function Rb(){var e=be("doubleUp"),t=500,r=20,n;function i(l){return new Date().getTime()-n.startTime<=t&&it(n.startLoc,l)<=r}function a(l){if(!(l.ctrlKey||l.button===2)){var u=[l.clientX,l.clientY];n&&!i(u)&&(n=void 0),n?n.pointerId=l.pointerId:n={startLoc:u,startTime:new Date().getTime(),upCount:0,pointerId:l.pointerId}}}function o(l){if(!(l.ctrlKey||l.button===2)&&!(!n||n.pointerId!==l.pointerId)&&(n.upCount+=1,n.upCount===2)){var u=[l.clientX,l.clientY];if(i(u)){var c=Dr(this)(l);e.call("doubleUp",this,l,c)}n=void 0}}function s(l){"PointerEvent"in window?l.on("pointerdown.doubleUp",a).on("pointerup.doubleUp",o):l.on("dblclick.doubleUp",function(u){e.call("doubleUp",this,u,Dr(this)(u))})}return s.off=function(l){l.on("pointerdown.doubleUp",null).on("pointerup.doubleUp",null).on("dblclick.doubleUp",null)},ke(s,e,"on")}var d4=256,Lb=2,jb=24,h1=Qr(Lb,d4),g1=Qr(jb,d4);function qa(e,t,r){return Math.max(t,Math.min(e,r))}function H3(e){var t=be("move","drawn","crossEditableZoom","hitMinZoom","changeHighlighting","changeAreaFill"),r=e.projection,n=e.curtainProjection,i,a,o,s,l,u,c,d=G(null),p=G(null),m=G(null),w=G(null),b=[1,1],h=!0,g=!0,v,x=r.transform(),_,y=!1,E=0,k,A,C,D=!1,S="PointerEvent"in window?"pointer":"mouse",N="PointerEvent"in window?Bb:so,R=N().scaleExtent([h1,g1]).interpolate(mi).filter(U).on("zoom.map",q).on("start.map",function(ae){D=ae&&(ae.type==="pointerdown"||ae.sourceEvent&&ae.sourceEvent.type==="pointerdown")}).on("end.map",function(){D=!1}),P=Rb(),L=Et(Y,750);function B(){L.cancel()}function O(ae){d=ae,e.on("change.map",ee);var he=e.connection();he&&he.on("change.map",ee);function Ce($){var W=e.mode().id;W!=="browse"&&W!=="select"||$&&O.transformEase($)}e.history().on("merge.map",function(){L()}).on("change.map",ee).on("undone.map",function($,W){Ce(W.transform)}).on("redone.map",function($){Ce($.transform)}),e.background().on("change.map",ee),e.features().on("redraw.map",ee),i.on("change.map",function(){e.background().updateImagery(),ee()}),ae.on("wheel.map mousewheel.map",function($){$.preventDefault()}).call(R).call(R.transform,r.transform()).on("dblclick.zoom",null),O.supersurface=p=ae.append("div").attr("class","supersurface").call(ei,0,0),m=p.append("div").attr("class","layer layer-data"),O.surface=w=m.call(i).selectAll(".surface"),w.classed("highlight-edited",!0),w.call(c.observe).call(P).on(S+"down.zoom",function($){A=$,$.button===2&&$.stopPropagation()},!0).on(S+"up.zoom",function($){A=$,V()&&ee()}).on(S+"move.map",function($){A=$}).on(S+"over.vertices",function($){if(O.editableDataEnabled()&&!y){var W=$.target.__data__;w.call(o.drawHover,e.graph(),W,O.extent()),t.call("drawn",this,{full:!1})}}).on(S+"out.vertices",function($){if(O.editableDataEnabled()&&!y){var W=$.relatedTarget&&$.relatedTarget.__data__;w.call(o.drawHover,e.graph(),W,O.extent()),t.call("drawn",this,{full:!1})}});var Te=qt();"GestureEvent"in window&&!Te.isMobileWebKit&&w.on("gesturestart.surface",function($){$.preventDefault(),v=r.transform()}).on("gesturechange.surface",z),Ae(),P.on("doubleUp.map",function($,W){if(!!h&&!(Se($.target.__data__)==="object"&&!G($.target).classed("fill"))){var Q=$.shiftKey,H=r.transform(),K=H.invert(W);H=H.scale(Q?.5:2),H.x=W[0]-K[0]*H.k,H.y=W[1]-K[1]*H.k,O.transformEase(H)}}),e.on("enter.map",function(){if(!!O.editableDataEnabled(!0)&&!y){var $=e.graph(),W={};e.selectedIDs().forEach(function(K){var Z=$.hasEntity(K);Z&&(W[Z.id]=Z,Z.type==="node"&&$.parentWays(Z).forEach(function(te){W[te.id]=te}))});var Q=Object.values(W),H=function(Z){return Z.id in W};Q=e.features().filter(Q,$),w.call(o.drawSelected,$,O.extent()).call(s,$,Q,H).call(l,$,Q,H).call(u,$,Q,H,O.trimmedExtent()),t.call("drawn",this,{full:!1}),L()}}),O.dimensions(yn(ae))}function U(ae){if(ae.type==="mousedown"){for(var he=!1,Ce=window.__on,Te=0;Te<Ce.length;Te++){var $=Ce[Te];if($.name==="zoom"&&$.type==="mouseup"){he=!0;break}}if(he){var W=window.CustomEvent;W?W=new W("mouseup"):(W=window.document.createEvent("Event"),W.initEvent("mouseup",!1,!1)),W.view=window,window.dispatchEvent(W)}}return ae.button!==2}function T(){return[b[0]/2,b[1]/2]}function M(ae,he){var Ce=e.mode(),Te=e.graph(),$=e.features(),W=e.history().intersects(O.extent()),Q=!1,H,K,Z,te=!0;if(O.isInWideSelection())H=[],K4(Ce.selectedIDs(),e.graph()).forEach(function(de){var xe=e.hasEntity(de);xe&&H.push(xe)}),Q=!0,Z=_t(!0),te=!1;else if(ae){var fe=ae.complete(O.extent());H=Object.values(fe).filter(Boolean),K=new Set(Object.keys(fe)),Z=function(xe){return K.has(xe.id)},$.clear(H)}else $.gatherStats(W,Te,b)&&(he=void 0),he?(H=e.history().intersects(O.extent().intersection(he)),K=new Set(H.map(function(de){return de.id})),Z=function(xe){return K.has(xe.id)}):(H=W,Q=!0,Z=_t(!0));te?H=$.filter(H,Te):e.features().resetStats(),Ce&&Ce.id==="select"&&w.call(o.drawSelected,Te,O.extent()),w.call(o,Te,H,Z,O.extent(),Q).call(s,Te,H,Z).call(l,Te,H,Z).call(u,Te,H,Z,O.trimmedExtent()).call(c,Te,H,Z,b,Q).call(a,Te,H,Z),t.call("drawn",this,{full:!0})}O.init=function(){i=Ws(r,e),a=Q3(r,e),o=f4(r,e),s=c4(r,e),l=o3(r,e),u=q3(r,e),c=c3(r,e)};function I(){e.features().resetStats(),w.selectAll(".layer-osm *").remove(),w.selectAll(".layer-touch:not(.markers) *").remove();var ae={browse:!0,save:!0,"select-note":!0,"select-data":!0,"select-error":!0},he=e.mode();he&&!ae[he.id]&&e.enter(De(e)),t.call("drawn",this,{full:!0})}function z(ae){var he=ae;he.preventDefault();var Ce={deltaMode:0,deltaY:1,clientX:he.clientX,clientY:he.clientY,screenX:he.screenX,screenY:he.screenY,x:he.x,y:he.y},Te=new WheelEvent("wheel",Ce);Te._scale=he.scale,Te._rotation=he.rotation,d.node().dispatchEvent(Te)}function q(ae,he,Ce){var Te=ae&&ae.sourceEvent||ae,$=Ce||ae&&ae.transform,W=$.x,Q=$.y,H=$.k;if(Te&&Te.type==="wheel"){if(D)return;var K=qt(),Z=Te.deltaX,te=Te.deltaY,fe=W,de=Q,xe=H,Oe,Be,Ge;if(Te.deltaMode===1){var nt=Math.abs(Te.deltaY),Ye=Te.deltaY>0?1:-1;te=Ye*qa(Math.exp((nt-1)*.75)*4.000244140625,4.000244140625,350.000244140625),K.os!=="mac"&&(te*=5),Oe=y?_:x,Be=k(Te),Ge=Oe.invert(Be),xe=Oe.k*Math.pow(2,-te/500),xe=qa(xe,h1,g1),fe=Be[0]-Ge[0]*xe,de=Be[1]-Ge[1]*xe}else Te._scale?(Oe=v,Be=k(Te),Ge=Oe.invert(Be),xe=Oe.k*Te._scale,xe=qa(xe,h1,g1),fe=Be[0]-Ge[0]*xe,de=Be[1]-Ge[1]*xe):Te.ctrlKey&&!yt(te)?(te*=6,Oe=y?_:x,Be=k(Te),Ge=Oe.invert(Be),xe=Oe.k*Math.pow(2,-te/500),xe=qa(xe,h1,g1),fe=Be[0]-Ge[0]*xe,de=Be[1]-Ge[1]*xe):(Te.altKey||Te.shiftKey)&&yt(te)?(Oe=y?_:x,Be=k(Te),Ge=Oe.invert(Be),xe=Oe.k*Math.pow(2,-te/500),xe=qa(xe,h1,g1),fe=Be[0]-Ge[0]*xe,de=Be[1]-Ge[1]*xe):K.os==="mac"&&K.browser!=="Firefox"&&!Te.ctrlKey&&yt(Z)&&yt(te)&&(Ge=r.translate(),fe=Ge[0]-Z,de=Ge[1]-te,xe=r.scale(),xe=qa(xe,h1,g1));(fe!==W||de!==Q||xe!==H)&&(W=fe,Q=de,H=xe,$=Ir.translate(fe,de).scale(xe),R._transform?R._transform($):d.node().__zoom=$)}if(x.x===W&&x.y===Q&&x.k===H)return;if(Jt(H,d4)<E){w.interrupt(),t.call("hitMinZoom",this,O),se(O.center(),e.minEditableZoom(),0,!0),L(),t.call("move",this,O);return}r.transform($);var We=O.withinEditableZoom();C!==We&&(C!==void 0&&t.call("crossEditableZoom",this,We),C=We);var Ke=H/x.k,ft=(W/Ke-x.x)*Ke,wt=(Q/Ke-x.y)*Ke;e.inIntro()&&n.transform({x:W-ft,y:Q-wt,k:H}),Te&&(A=ae),y=!0,_=$,ei(p,ft,wt,Ke),L(),t.call("move",this,O);function yt(Tt){return typeof Tt=="number"&&isFinite(Tt)&&Math.floor(Tt)===Tt}}function V(){return y?(ei(p,0,0),y=!1,e.inIntro()&&n.transform(r.transform()),!0):!1}function Y(ae,he){if(!(w.empty()||!g)){V()&&(ae=he=void 0);var Ce=O.zoom(),Te=String(~~Ce);w.attr("data-zoom")!==Te&&w.attr("data-zoom",Te);var $=O.center()[1],W=o0().domain([-60,0,60]).range([17,18.5,17]).clamp(!0);return w.classed("low-zoom",Ce<=W($)),ae||(p.call(e.background()),m.call(i)),O.editableDataEnabled()||O.isInWideSelection()?(e.loadTiles(r),M(ae,he)):I(),x=r.transform(),O}}var ee=function(he,Ce){!he&&!Ce&&B(),Y(he,Ce)};O.lastPointerEvent=function(){return A},O.mouse=function(ae){var he=ae||A;if(he){for(var Ce;Ce=he.sourceEvent;)he=Ce;return k(he)}return null},O.mouseCoordinates=function(){var ae=O.mouse()||T();return r.invert(ae)},O.dblclickZoomEnable=function(ae){return arguments.length?(h=ae,O):h},O.redrawEnable=function(ae){return arguments.length?(g=ae,O):g},O.isTransformed=function(){return y};function ie(ae,he,Ce){var Te=r.transform();return!Ce&&ae.k===Te.k&&ae.x===Te.x&&ae.y===Te.y?!1:(he?d.transition().duration(he).on("start",function(){O.startEase()}).call(R.transform,Ir.translate(ae.x,ae.y).scale(ae.k)):(r.transform(ae),x=ae,d.call(R.transform,x)),!0)}function se(ae,he,Ce,Te){var $=O.center(),W=O.zoom();if(ae[0]===$[0]&&ae[1]===$[1]&&he===W&&!Te)return!1;var Q=xi().transform(r.transform()),H=qa(Qr(he,d4),h1,g1);Q.scale(H);var K=Q.translate(),Z=Q(ae),te=T();return K[0]+=te[0]-Z[0],K[1]+=te[1]-Z[1],ie(Ir.translate(K[0],K[1]).scale(H),Ce,Te)}O.pan=function(ae,he){var Ce=r.translate(),Te=r.scale();return Ce[0]+=ae[0],Ce[1]+=ae[1],he?d.transition().duration(he).on("start",function(){O.startEase()}).call(R.transform,Ir.translate(Ce[0],Ce[1]).scale(Te)):(r.translate(Ce),x=r.transform(),d.call(R.transform,x),t.call("move",this,O),ee()),O},O.dimensions=function(ae){return arguments.length?(b=ae,i.dimensions(b),e.background().dimensions(b),r.clipExtent([[0,0],b]),k=Dr(p.node()),L(),O):b};function ve(ae){se(O.center(),~~O.zoom()+ae,250,!0)}function le(ae){se(O.center(),~~O.zoom()-ae,250,!0)}O.zoomIn=function(){ve(1)},O.zoomInFurther=function(){ve(4)},O.canZoomIn=function(){return O.zoom()<jb},O.zoomOut=function(){le(1)},O.zoomOutFurther=function(){le(4)},O.canZoomOut=function(){return O.zoom()>Lb},O.center=function(ae){return arguments.length?(se(ae,O.zoom())&&t.call("move",this,O),L(),O):r.invert(T())},O.unobscuredCenterZoomEase=function(ae,he){var Ce=O.unobscuredOffsetPx(),Te=xi().transform(r.transform());Te.scale(Qr(he,d4));var $=Te(ae),W=[$[0]+Ce[0],$[1]+Ce[1]],Q=Te.invert(W);O.centerZoomEase(Q,he)},O.unobscuredOffsetPx=function(){var ae=e.container().select(".map-panes .map-pane.shown");return ae.empty()?[0,0]:[ae.node().offsetWidth/2,0]},O.zoom=function(ae){return arguments.length?(ae<E&&(w.interrupt(),t.call("hitMinZoom",this,O),ae=e.minEditableZoom()),se(O.center(),ae)&&t.call("move",this,O),L(),O):Math.max(Jt(r.scale(),d4),0)},O.centerZoom=function(ae,he){return se(ae,he)&&t.call("move",this,O),L(),O},O.zoomTo=function(ae){var he=ae.extent(e.graph());if(!isFinite(he.area()))return O;var Ce=qa(O.trimmedExtentZoom(he),0,20);return O.centerZoom(he.center(),Ce)},O.centerEase=function(ae,he){return he=he||250,se(ae,O.zoom(),he),O},O.zoomEase=function(ae,he){return he=he||250,se(O.center(),ae,he,!1),O},O.centerZoomEase=function(ae,he,Ce){return Ce=Ce||250,se(ae,he,Ce,!1),O},O.transformEase=function(ae,he){return he=he||250,ie(ae,he,!1),O},O.zoomToEase=function(ae,he){var Ce;if(Array.isArray(ae)?Ce=St(ae,e.graph()):Ce=ae.extent(e.graph()),!isFinite(Ce.area()))return O;var Te=qa(O.trimmedExtentZoom(Ce),0,20);return O.centerZoomEase(Ce.center(),Te,he)},O.startEase=function(){return Pb(w,S+"down.ease",function(){O.cancelEase()}),O},O.cancelEase=function(){return d.interrupt(),O},O.extent=function(ae){if(arguments.length)O.centerZoom(ae.center(),O.extentZoom(ae));else return new Ne(r.invert([0,b[1]]),r.invert([b[0],0]))},O.trimmedExtent=function(ae){if(arguments.length)O.centerZoom(ae.center(),O.trimmedExtentZoom(ae));else{var he=71,Ce=30,Te=10;return new Ne(r.invert([Te,b[1]-Ce-Te]),r.invert([b[0]-Te,he+Te]))}};function re(ae,he){var Ce=r([ae.min[0],ae.max[1]]),Te=r([ae.max[0],ae.min[1]]),$=(Te[0]-Ce[0])/he[0],W=(Te[1]-Ce[1])/he[1],Q=Math.log(Math.abs($))/Math.LN2,H=Math.log(Math.abs(W))/Math.LN2,K=Math.max(Q,H),Z=O.zoom();return isFinite(K)?Z-K:Z}O.extentZoom=function(ae){return re(ae,b)},O.trimmedExtentZoom=function(ae){var he=120,Ce=40,Te=[b[0]-Ce,b[1]-he];return re(ae,Te)},O.withinEditableZoom=function(){return O.zoom()>=e.minEditableZoom()},O.isInWideSelection=function(){return!O.withinEditableZoom()&&e.selectedIDs().length},O.editableDataEnabled=function(ae){var he=e.layers().layer("osm");return!he||!he.enabled()?!1:ae||O.withinEditableZoom()},O.notesEditable=function(){var ae=e.layers().layer("notes");return!ae||!ae.enabled()?!1:O.withinEditableZoom()},O.minzoom=function(ae){return arguments.length?(E=ae,O):E},O.toggleHighlightEdited=function(){w.classed("highlight-edited",!w.classed("highlight-edited")),O.pan([0,0]),t.call("changeHighlighting",this)},O.areaFillOptions=["wireframe","partial","full"],O.activeAreaFill=function(ae){return arguments.length?(pe("area-fill",ae),ae!=="wireframe"&&pe("area-fill-toggle",ae),Ae(),O.pan([0,0]),t.call("changeAreaFill",this),O):pe("area-fill")||"partial"},O.toggleWireframe=function(){var ae=O.activeAreaFill();ae==="wireframe"?ae=pe("area-fill-toggle")||"partial":ae="wireframe",O.activeAreaFill(ae)};function Ae(){var ae=O.activeAreaFill();O.areaFillOptions.forEach(function(he){w.classed("fill-"+he,Boolean(he===ae))})}return O.layers=function(){return i},O.doubleUpHandler=function(){return P},ke(O,t,"on")}function W3(e){var t=be("change"),r=["streetside","mapillary","mapillary-map-features","mapillary-signs","openstreetcam"],n=["flat","panoramic"],i=n.slice(),a=["fromDate","toDate"],o,s,l;function u(){}function c(){if(!window.mocha){var m=Bt(window.location.hash),w=e.layers().all().filter(function(b){return r.indexOf(b.id)!==-1&&b.layer&&b.layer.supported()&&b.layer.enabled()}).map(function(b){return b.id});w.length?m.photo_overlay=w.join(","):delete m.photo_overlay,window.location.replace("#"+at(m,!0))}}u.overlayLayerIDs=function(){return r},u.allPhotoTypes=function(){return n},u.dateFilters=function(){return a},u.dateFilterValue=function(m){return m===a[0]?o:s},u.setDateFilter=function(m,w,b){var h=w&&new Date(w);if(h&&!isNaN(h)?w=h.toISOString().substr(0,10):w=null,m===a[0]&&(o=w,o&&s&&new Date(s)<new Date(o)&&(s=o)),m===a[1]&&(s=w,o&&s&&new Date(s)<new Date(o)&&(o=s)),t.call("change",this),b){var g;(o||s)&&(g=(o||"")+"_"+(s||"")),d("photo_dates",g)}},u.setUsernameFilter=function(m,w){if(m&&typeof m=="string"&&(m=m.replace(/;/g,",").split(",")),m&&(m=m.map(function(h){return h.trim()}).filter(Boolean),m.length||(m=null)),l=m,t.call("change",this),w){var b;l&&(b=l.join(",")),d("photo_username",b)}};function d(m,w){if(!window.mocha){var b=Bt(window.location.hash);if(w){if(b[m]===w)return;b[m]=w}else{if(!(m in b))return;delete b[m]}window.location.replace("#"+at(b,!0))}}function p(m){var w=e.layers().layer(m);return w&&w.supported()&&w.enabled()}return u.shouldFilterByDate=function(){return p("mapillary")||p("openstreetcam")||p("streetside")},u.shouldFilterByPhotoType=function(){return p("mapillary")||p("streetside")&&p("openstreetcam")},u.shouldFilterByUsername=function(){return!p("mapillary")&&p("openstreetcam")&&!p("streetside")},u.showsPhotoType=function(m){return u.shouldFilterByPhotoType()?i.indexOf(m)!==-1:!0},u.showsFlat=function(){return u.showsPhotoType("flat")},u.showsPanoramic=function(){return u.showsPhotoType("panoramic")},u.fromDate=function(){return o},u.toDate=function(){return s},u.togglePhotoType=function(m){var w=i.indexOf(m);return w!==-1?i.splice(w,1):i.push(m),t.call("change",this),u},u.usernames=function(){return l},u.init=function(){var m=Bt(window.location.hash);if(m.photo_dates){var w=/^(.*)[–_](.*)$/g.exec(m.photo_dates.trim());this.setDateFilter("fromDate",w&&w.length>=2&&w[1],!1),this.setDateFilter("toDate",w&&w.length>=3&&w[2],!1)}if(m.photo_username&&this.setUsernameFilter(m.photo_username,!1),m.photo_overlay){var b=m.photo_overlay.replace(/;/g,",").split(",");b.forEach(function(A){var C=r.indexOf(A)!==-1&&e.layers().layer(A);C&&!C.enabled()&&C.enabled(!0)})}if(m.photo){var h=m.photo.replace(/;/g,",").split(","),g=h.length&&h[0].trim(),v=/(.*)\/(.*)/g.exec(g);if(v&&v.length>=3){var x=v[1],_=v[2],y=ue[x];if(y&&y.ensureViewerLoaded){var E=r.indexOf(x)!==-1&&e.layers().layer(x);E&&!E.enabled()&&E.enabled(!0);var k=Date.now();y.on("loadedImages.rendererPhotos",function(){if(Date.now()-k>45e3){y.on("loadedImages.rendererPhotos",null);return}!y.cachedImage(_)||(y.on("loadedImages.rendererPhotos",null),y.ensureViewerLoaded(e).then(function(){y.selectImage(e,_).showViewer(e)}))})}}}e.layers().on("change.rendererPhotos",c)},ke(u,t,"on")}function V3(e){var t=e.connection();function r(n){if(!!t){if(!t.authenticated()){n.selectAll(".userLink, .logoutLink").classed("hide",!0);return}t.userDetails(function(i,a){var o=n.select(".userLink"),s=n.select(".logoutLink");if(o.html(""),s.html(""),!(i||!a)){n.selectAll(".userLink, .logoutLink").classed("hide",!1);var l=o.append("a").attr("href",t.userURL(a.display_name)).attr("target","_blank");a.image_url?l.append("img").attr("class","icon pre-text user-icon").attr("src",a.image_url):l.call(ce("#iD-icon-avatar","pre-text light")),l.append("span").attr("class","label").html(a.display_name),s.append("a").attr("class","logout").attr("href","#").html(F.html("logout")).on("click.logout",function(u){u.preventDefault(),t.logout()})}})}}return function(n){n.append("li").attr("class","userLink").classed("hide",!0),n.append("li").attr("class","logoutLink").classed("hide",!0),t&&(t.on("change.account",function(){r(n)}),r(n))}}function K3(e){var t=G(null);function r(i,a,o){var s=i.selectAll(".".concat(o)).data([0]);s=s.enter().append("div").attr("class",o).merge(s);var l=s.selectAll(".attribution").data(a,function(c){return c.id});l.exit().remove(),l=l.enter().append("span").attr("class","attribution").each(function(c,d,p){var m=G(p[d]);if(c.terms_html){m.html(c.terms_html);return}c.terms_url&&(m=m.append("a").attr("href",c.terms_url).attr("target","_blank"));var w=c.id.replace(/\./g,"<TX_DOT>"),b=F("imagery.".concat(w,".attribution.text"),{default:c.terms_text||c.id||c.name()});c.icon&&!c.overlay&&m.append("img").attr("class","source-image").attr("src",c.icon),m.append("span").attr("class","attribution-text").html(b)}).merge(l);var u=l.selectAll(".copyright-notice").data(function(c){var d=c.copyrightNotices(e.map().zoom(),e.map().extent());return d?[d]:[]});u.exit().remove(),u=u.enter().append("span").attr("class","copyright-notice").merge(u),u.html(String)}function n(){var i=e.background().baseLayerSource();t.call(r,i?[i]:[],"base-layer-attribution");var a=e.map().zoom(),o=e.background().overlayLayerSources()||[];t.call(r,o.filter(function(s){return s.validZoom(a)}),"overlay-layer-attribution")}return function(i){t=i,e.background().on("change.attribution",n),e.map().on("move.attribution",Et(n,400,{leading:!1})),n()}}function Y3(e){var t=e.connection(),r=Nt(function(){o()},1e3),n=4,i=!1,a=G(null);function o(){if(!!t){var s={},l=e.history().intersects(e.map().extent());l.forEach(function(w){w&&w.user&&(s[w.user]=!0)});var u=Object.keys(s),c=u.slice(0,u.length>n?n-1:n);a.html("").call(ce("#iD-icon-nearby","pre-text light"));var d=G(document.createElement("span"));if(d.selectAll().data(c).enter().append("a").attr("class","user-link").attr("href",function(w){return t.userURL(w)}).attr("target","_blank").html(String),u.length>n){var p=G(document.createElement("span")),m=u.length-n+1;p.append("a").attr("target","_blank").attr("href",function(){return t.changesetsURL(e.map().center(),e.map().zoom())}).html(m),a.append("span").html(F.html("contributors.truncated_list",{n:m,users:d.html(),count:p.html()}))}else a.append("span").html(F.html("contributors.list",{users:d.html()}));u.length?i&&a.transition().style("opacity",1):(i=!0,a.transition().style("opacity",0))}}return function(s){!t||(a=s,o(),t.on("loaded.contributors",r),e.map().on("move.contributors",r))}}var wO=0;function Z3(e){var t=wO++,r=G(null),n=function(x){r=x,x.each(p)},i=_t(!1),a=_t("top"),o=_t("center"),s=_t(G(null)),l,u=_t(""),c=_t(!0),d="PointerEvent"in window?"pointer":"mouse";n.displayType=function(v){return arguments.length?(u=_t(v),n):u},n.hasArrow=function(v){return arguments.length?(c=_t(v),n):c},n.placement=function(v){return arguments.length?(a=_t(v),n):a},n.alignment=function(v){return arguments.length?(o=_t(v),n):o},n.scrollContainer=function(v){return arguments.length?(s=_t(v),n):s},n.content=function(v){return arguments.length?(l=v,n):l},n.isShown=function(){var v=r.select(".popover-"+t);return!v.empty()&&v.classed("in")},n.show=function(){r.each(m)},n.updateContent=function(){r.each(w)},n.hide=function(){r.each(h)},n.toggle=function(){r.each(g)},n.destroy=function(v,x){x=x||".popover-"+t,v.on(d+"enter.popover",null).on(d+"leave.popover",null).on(d+"up.popover",null).on(d+"down.popover",null).on("click.popover",null).attr("title",function(){return this.getAttribute("data-original-title")||this.getAttribute("title")}).attr("data-original-title",null).selectAll(x).remove()},n.destroyAny=function(v){v.call(n.destroy,".popover")};function p(){var v=G(this),x=i.apply(this,arguments),_=v.selectAll(".popover-"+t).data([0]),y=_.enter().append("div").attr("class","popover popover-"+t+" "+(e||"")).classed("arrowed",c.apply(this,arguments));y.append("div").attr("class","popover-arrow"),y.append("div").attr("class","popover-inner"),_=y.merge(_),x&&_.classed("fade",!0);var E=u.apply(this,arguments);if(E==="hover"){var k;v.on(d+"enter.popover",function(A){if(A.pointerType){if(A.pointerType!=="mouse"){k=A.timeStamp;return}else if(k&&A.timeStamp-k<1500)return}A.buttons===0&&m.apply(this,arguments)}).on(d+"leave.popover",function(){h.apply(this,arguments)}).on("focus.popover",function(){m.apply(this,arguments)}).on("blur.popover",function(){h.apply(this,arguments)})}else E==="clickFocus"&&(v.on(d+"down.popover",function(A){A.preventDefault(),A.stopPropagation()}).on(d+"up.popover",function(A){A.preventDefault(),A.stopPropagation()}).on("click.popover",g),_.attr("tabindex",0).on("blur.popover",function(){v.each(function(){h.apply(this,arguments)})}))}function m(){var v=G(this),x=v.selectAll(".popover-"+t);x.empty()&&(v.call(n.destroy),v.each(p),x=v.selectAll(".popover-"+t)),x.classed("in",!0);var _=u.apply(this,arguments);_==="clickFocus"&&(v.classed("active",!0),x.node().focus()),v.each(w)}function w(){var v=G(this);l&&v.selectAll(".popover-"+t+" > .popover-inner").call(l.apply(this,arguments)),b.apply(this,arguments),b.apply(this,arguments),b.apply(this,arguments)}function b(){var v=G(this),x=v.selectAll(".popover-"+t),_=s&&s.apply(this,arguments),y=_&&!_.empty()&&_.node(),E=y?y.scrollLeft:0,k=y?y.scrollTop:0,A=a.apply(this,arguments);x.classed("left",!1).classed("right",!1).classed("top",!1).classed("bottom",!1).classed(A,!0);var C=o.apply(this,arguments),D=.5;C==="leading"?D=0:C==="trailing"&&(D=1);var S=O(v.node()),N=O(x.node()),R;switch(A){case"top":R={x:S.x+(S.w-N.w)*D,y:S.y-N.h};break;case"bottom":R={x:S.x+(S.w-N.w)*D,y:S.y+S.h};break;case"left":R={x:S.x-N.w,y:S.y+(S.h-N.h)*D};break;case"right":R={x:S.x+S.w,y:S.y+(S.h-N.h)*D};break}if(R){if(y&&(A==="top"||A==="bottom")){var P=R.x;R.x+N.w>y.offsetWidth-10?R.x=y.offsetWidth-10-N.w:R.x<10&&(R.x=10);var L=v.selectAll(".popover-"+t+" > .popover-arrow"),B=Math.min(Math.max(N.w/2-(R.x-P),10),N.w-10);L.style("left",~~B+"px")}x.style("left",~~R.x+"px").style("top",~~R.y+"px")}else x.style("left",null).style("top",null);function O(U){var T=G(U).style("position");return T==="absolute"||T==="static"?{x:U.offsetLeft-E,y:U.offsetTop-k,w:U.offsetWidth,h:U.offsetHeight}:{x:0,y:0,w:U.offsetWidth,h:U.offsetHeight}}}function h(){var v=G(this);u.apply(this,arguments)==="clickFocus"&&v.classed("active",!1),v.selectAll(".popover-"+t).classed("in",!1)}function g(){G(this).select(".popover-"+t).classed("in")?h.apply(this,arguments):m.apply(this,arguments)}return n}function Pe(e){var t=Z3((e||"")+" tooltip").displayType("hover"),r=function(){var o=this.getAttribute("data-original-title");return o||(o=this.getAttribute("title"),this.removeAttribute("title"),this.setAttribute("data-original-title",o),o)},n=_t(null),i=_t(null);return t.title=function(a){return arguments.length?(r=_t(a),t):r},t.heading=function(a){return arguments.length?(n=_t(a),t):n},t.keys=function(a){return arguments.length?(i=_t(a),t):i},t.content(function(){var a=n.apply(this,arguments),o=r.apply(this,arguments),s=i.apply(this,arguments);return function(l){var u=l.selectAll(".tooltip-heading").data(a?[a]:[]);u.exit().remove(),u.enter().append("div").attr("class","tooltip-heading").merge(u).html(a);var c=l.selectAll(".tooltip-text").data(o?[o]:[]);c.exit().remove(),c.enter().append("div").attr("class","tooltip-text").merge(c).html(o);var d=l.selectAll(".keyhint-wrap").data(s&&s.length?[0]:[]);d.exit().remove();var p=d.enter().append("div").attr("class","keyhint-wrap");p.append("span").html(F.html("tooltip_keyhint")),d=p.merge(d),d.selectAll("kbd.shortcut").data(s&&s.length?s:[]).enter().append("kbd").attr("class","shortcut").html(function(m){return m})}}),t}function X3(e){var t=be("toggled"),r=G(null),n=[],i=[0,0],a=[0,0],o="",s=85,l=45,u=35,c=!1,d,p,m=4,w=210,b=10,h=[],g=function x(_){var y=o.includes("touch")||o.includes("pen"),E=n.filter(function(L){return!y||!L.mouseOnly});if(!E.length)return;h=[],c=y;var k=y,A=k?32:34;k?p=52+Math.min(120,6*Math.max.apply(Math,E.map(function(L){return L.title.length}))):p=44,d=m*2+E.length*A,r=_.append("div").attr("class","edit-menu").classed("touch-menu",y).style("padding",m+"px 0");var C=r.selectAll(".edit-menu-item").data(E),D=C.enter().append("button").attr("class",function(L){return"edit-menu-item edit-menu-item-"+L.id}).style("height",A+"px").on("click",P).on("pointerup",R).on("pointerdown mousedown",function(B){B.stopPropagation()}).on("mouseenter.highlight",function(L,B){!B.relatedEntityIds||G(this).classed("disabled")||ot(B.relatedEntityIds(),!0,e)}).on("mouseleave.highlight",function(L,B){!B.relatedEntityIds||ot(B.relatedEntityIds(),!1,e)});D.each(function(L){var B=Pe().heading(L.title).title(L.tooltip()).keys([L.keys[0]]);h.push(B),G(this).call(B).append("div").attr("class","icon-wrap").call(ce("#iD-operation-"+L.id,"operation"))}),k&&D.append("span").attr("class","label").html(function(L){return L.title}),D.merge(C).classed("disabled",function(L){return L.disabled()}),v();var S=e.projection.scale();e.map().on("move.edit-menu",function(){S!==e.projection.scale()&&x.close()}).on("drawn.edit-menu",function(L){L.full&&v()});var N;function R(L){N=L.pointerType}function P(L,B){L.stopPropagation(),B.relatedEntityIds&&ot(B.relatedEntityIds(),!1,e),B.disabled()?(N==="touch"||N==="pen")&&e.ui().flash.duration(4e3).iconName("#iD-operation-"+B.id).iconClass("operation disabled").label(B.tooltip)():((N==="touch"||N==="pen")&&e.ui().flash.duration(2e3).iconName("#iD-operation-"+B.id).iconClass("operation").label(B.annotation()||B.title)(),B(),x.close()),N=null}t.call("toggled",this,!0)};function v(){if(!r||r.empty())return;var x=e.projection(a),_=e.surfaceRect();if(x[0]<0||x[0]>_.width||x[1]<0||x[1]>_.height){g.close();return}var y=C(_),E=[0,0];E[0]=y?-1*(b+p):b,c?x[1]-d<s?E[1]=-x[1]+s:E[1]=-d:x[1]+d>_.height-l?E[1]=-x[1]-d+_.height-l:E[1]=0;var k=kr(x,E);r.style("left",k[0]+"px").style("top",k[1]+"px");var A=D(_,y);h.forEach(function(S){S.placement(A)});function C(S){return _e.textDirection()==="ltr"?x[0]+b+p>S.width-u:!(x[0]-b-p<u)}function D(S,N){return _e.textDirection()==="ltr"?N||x[0]+b+p+w>S.width-u?"left":"right":!N||x[0]-b-p-w<u?"right":"left"}}return g.close=function(){e.map().on("move.edit-menu",null).on("drawn.edit-menu",null),r.remove(),h=[],t.call("toggled",this,!1)},g.anchorLoc=function(x){return arguments.length?(i=x,a=e.projection.invert(i),g):i},g.triggerType=function(x){return arguments.length?(o=x,g):o},g.operations=function(x){return arguments.length?(n=x,g):n},ke(g,t,"on")}function $3(e){function t(r){var n=e.features(),i=n.stats(),a=0,o=n.hidden().map(function(l){return i[l]?(a+=i[l],F("inspector.title_count",{title:F.html("feature."+l+".description"),count:i[l]})):null}).filter(Boolean);if(r.html(""),o.length){var s=Pe().placement("top").title(function(){return o.join("<br/>")});r.append("a").attr("class","chip").attr("href","#").html(F.html("feature_info.hidden_warning",{count:a})).call(s).on("click",function(l){s.hide(),l.preventDefault(),e.ui().togglePanes(e.container().select(".map-panes .map-data-pane"))})}r.classed("hide",!o.length)}return function(r){t(r),e.features().on("change.feature_info",function(){t(r)})}}function p4(e){var t,r=2e3,n="#iD-icon-no",i="disabled",a="";function o(){t&&t.stop(),e.container().select(".main-footer-wrap").classed("footer-hide",!0).classed("footer-show",!1),e.container().select(".flash-wrap").classed("footer-hide",!1).classed("footer-show",!0);var s=e.container().select(".flash-wrap").selectAll(".flash-content").data([0]),l=s.enter().append("div").attr("class","flash-content"),u=l.append("svg").attr("class","flash-icon icon").append("g").attr("transform","translate(10,10)");return u.append("circle").attr("r",9),u.append("use").attr("transform","translate(-7,-7)").attr("width","14").attr("height","14"),l.append("div").attr("class","flash-text"),s=s.merge(l),s.selectAll(".flash-icon").attr("class","icon flash-icon "+(i||"")),s.selectAll(".flash-icon use").attr("xlink:href",n),s.selectAll(".flash-text").attr("class","flash-text").html(a),t=os(function(){t=null,e.container().select(".main-footer-wrap").classed("footer-hide",!1).classed("footer-show",!0),e.container().select(".flash-wrap").classed("footer-hide",!0).classed("footer-show",!1)},r),s}return o.duration=function(s){return arguments.length?(r=s,o):r},o.label=function(s){return arguments.length?(a=s,o):a},o.iconName=function(s){return arguments.length?(n=s,o):n},o.iconClass=function(s){return arguments.length?(i=s,o):i},o}function J3(e){var t=e.container().node();function r(){if(t.requestFullscreen)return t.requestFullscreen;if(t.msRequestFullscreen)return t.msRequestFullscreen;if(t.mozRequestFullScreen)return t.mozRequestFullScreen;if(t.webkitRequestFullscreen)return t.webkitRequestFullscreen}function n(){if(document.exitFullscreen)return document.exitFullscreen;if(document.msExitFullscreen)return document.msExitFullscreen;if(document.mozCancelFullScreen)return document.mozCancelFullScreen;if(document.webkitExitFullscreen)return document.webkitExitFullscreen}function i(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement}function a(){return!!r()}function o(s){s.preventDefault(),i()?n().apply(document):r().apply(t)}return function(){if(!!a()){var s=qt(),l=s.os==="mac"?[qe("\u2303\u2318F"),"f11"]:["f11"];e.keybinding().on(l,o)}}}function e5(e){var t={enableHighAccuracy:!1,timeout:6e3},r=Pa(e).message(F.html("geolocate.locating")).blocking(!0),n=e.layers().layer("geolocate"),i,a,o,s=G(null);function l(){e.inIntro()||(!n.enabled()&&!r.isShown()?(o=setTimeout(d,1e4),e.container().call(r),navigator.geolocation.getCurrentPosition(c,d,t)):(r.close(),n.enabled(null,!1),m()))}function u(){e.enter(De(e));var w=e.map();n.enabled(i,!0),m(),w.centerZoomEase(a.center(),Math.min(20,w.extentZoom(a)))}function c(w){i=w;var b=i.coords;a=new Ne([b.longitude,b.latitude]).padByMeters(b.accuracy),u(),p()}function d(){i?u():e.ui().flash.label(F.html("geolocate.location_unavailable")).iconName("#iD-icon-geolocate")(),p()}function p(){r.close(),o&&clearTimeout(o),o=void 0}function m(){s.classed("active",n.enabled())}return function(w){!navigator.geolocation||!navigator.geolocation.getCurrentPosition||(s=w.append("button").on("click",l).call(ce("#iD-icon-geolocate","light")).call(Pe().placement(_e.textDirection()==="rtl"?"right":"left").title(F.html("geolocate.title")).keys([F("geolocate.key")])),e.keybinding().on(F("geolocate.key"),l))}}function w8(e){var t=e.background(),r=null,n={},i=["zoom","vintage","source","description","resolution","accuracy"],a=Nt(o,250);function o(c){var d=t.baseLayerSource();if(!!d){var p=d.id.match(/^DigitalGlobe/i)!==null,m=d.label();r!==m&&(r=m,n={}),c.html("");var w=c.append("ul").attr("class","background-info");w.append("li").html(r),i.forEach(function(_){p&&_==="vintage"||w.append("li").attr("class","background-info-list-"+_).classed("hide",!n[_]).html(F.html("info_panels.background."+_)+":").append("span").attr("class","background-info-span-"+_).html(n[_])}),s(c);var b=e.getDebug("tile")?"hide_tiles":"show_tiles";if(c.append("a").html(F.html("info_panels.background."+b)).attr("href","#").attr("class","button button-toggle-tiles").on("click",function(_){_.preventDefault(),e.setDebug("tile",!e.getDebug("tile")),c.call(o)}),p){var h=d.id+"-vintage",g=e.background().findSource(h),v=e.background().showsLayer(g),x=v?"hide_vintage":"show_vintage";c.append("a").html(F.html("info_panels.background."+x)).attr("href","#").attr("class","button button-toggle-vintage").on("click",function(_){_.preventDefault(),e.background().toggleOverlayLayer(g),c.call(o)})}["DigitalGlobe-Premium","DigitalGlobe-Standard"].forEach(function(_){if(d.id!==_){var y=_+"-vintage",E=e.background().findSource(y);e.background().showsLayer(E)&&e.background().toggleOverlayLayer(E)}})}}var s=Nt(l,250);function l(c){var d=e.container().select(".layer-background img.tile-center");if(!d.empty()){var p=r,m=d.datum();if(!!m){var w=m.xyz,b=w[2]||Math.floor(e.map().zoom()),h=e.map().center();n.zoom=String(b),c.selectAll(".background-info-list-zoom").classed("hide",!1).selectAll(".background-info-span-zoom").html(n.zoom),t.baseLayerSource().getMetadata(h,w,function(g,v){if(!(g||r!==p)){var x=v.vintage;n.vintage=x&&x.range||F("info_panels.background.unknown"),c.selectAll(".background-info-list-vintage").classed("hide",!1).selectAll(".background-info-span-vintage").html(n.vintage),i.forEach(function(_){if(!(_==="zoom"||_==="vintage")){var y=v[_];n[_]=y,c.selectAll(".background-info-list-"+_).classed("hide",!y).selectAll(".background-info-span-"+_).html(y)}})}})}}}var u=function(d){d.call(o),e.map().on("drawn.info-background",function(){d.call(a)}).on("move.info-background",function(){d.call(s)})};return u.off=function(){e.map().on("drawn.info-background",null).on("move.info-background",null)},u.id="background",u.label=F.html("info_panels.background.title"),u.key=F("info_panels.background.key"),u}function x8(e){var t;function r(u){if(!u)return F("info_panels.history.unknown");var c={day:"numeric",month:"short",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},d=new Date(u);return isNaN(d.getTime())?F("info_panels.history.unknown"):d.toLocaleString(_e.localeCode(),c)}function n(u,c){if(!c){u.append("span").html(F.html("info_panels.history.unknown"));return}u.append("span").attr("class","user-name").html(c);var d=u.append("div").attr("class","links");t&&d.append("a").attr("class","user-osm-link").attr("href",t.userURL(c)).attr("target","_blank").html("OSM"),d.append("a").attr("class","user-hdyc-link").attr("href","https://hdyc.neis-one.org/?"+c).attr("target","_blank").attr("tabindex",-1).html("HDYC")}function i(u,c){if(!c){u.append("span").html(F.html("info_panels.history.unknown"));return}u.append("span").attr("class","changeset-id").html(c);var d=u.append("div").attr("class","links");t&&d.append("a").attr("class","changeset-osm-link").attr("href",t.changesetURL(c)).attr("target","_blank").html("OSM"),d.append("a").attr("class","changeset-osmcha-link").attr("href","https://osmcha.org/changesets/"+c).attr("target","_blank").html("OSMCha"),d.append("a").attr("class","changeset-achavi-link").attr("href","https://overpass-api.de/achavi/?changeset="+c).attr("target","_blank").html("Achavi")}function a(u){var c=e.selectedNoteID();t=e.connection();var d,p,m;c&&t?(d=[F("note.note")+" "+c],p=t.getNote(c)):(d=e.selectedIDs().filter(function(b){return e.hasEntity(b)}),d.length&&(m=e.entity(d[0])));var w=d.length===1?d[0]:null;u.html(""),u.append("h4").attr("class","history-heading").html(w||F.html("info_panels.selected",{n:d.length})),!!w&&(m?u.call(s,m):p&&u.call(o,p))}function o(u,c){if(!c||c.isNew()){u.append("div").html(F.html("info_panels.history.note_no_history"));return}var d=u.append("ul");d.append("li").html(F.html("info_panels.history.note_comments")+":").append("span").html(c.comments.length),c.comments.length&&(d.append("li").html(F.html("info_panels.history.note_created_date")+":").append("span").html(r(c.comments[0].date)),d.append("li").html(F.html("info_panels.history.note_created_user")+":").call(n,c.comments[0].user)),t&&u.append("a").attr("class","view-history-on-osm").attr("target","_blank").attr("href",t.noteURL(c)).call(ce("#iD-icon-out-link","inline")).append("span").html(F.html("info_panels.history.note_link_text"))}function s(u,c){if(!c||c.isNew()){u.append("div").html(F.html("info_panels.history.no_history"));return}var d=u.append("div").attr("class","links");t&&d.append("a").attr("class","view-history-on-osm").attr("href",t.historyURL(c)).attr("target","_blank").attr("title",F("info_panels.history.link_text")).html("OSM"),d.append("a").attr("class","pewu-history-viewer-link").attr("href","https://pewu.github.io/osm-history/#/"+c.type+"/"+c.osmId()).attr("target","_blank").attr("tabindex",-1).html("PeWu");var p=u.append("ul");p.append("li").html(F.html("info_panels.history.version")+":").append("span").html(c.version),p.append("li").html(F.html("info_panels.history.last_edit")+":").append("span").html(r(c.timestamp)),p.append("li").html(F.html("info_panels.history.edited_by")+":").call(n,c.user),p.append("li").html(F.html("info_panels.history.changeset")+":").call(i,c.changeset)}var l=function(c){c.call(a),e.map().on("drawn.info-history",function(){c.call(a)}),e.on("enter.info-history",function(){c.call(a)})};return l.off=function(){e.map().on("drawn.info-history",null),e.on("enter.info-history",null)},l.id="history",l.label=F.html("info_panels.history.title"),l.key=F("info_panels.history.key"),l}var zb=7;function _0(e,t){var r=e*(t?3.28084:1),n;return t?r>=5280?(r/=5280,n="miles"):n="feet":r>=1e3?(r/=1e3,n="kilometers"):n="meters",F("units."+n,{quantity:r.toLocaleString(_e.localeCode(),{maximumSignificantDigits:4})})}function Ub(e,t){var r=_e.localeCode(),n=e*(t?10.7639111056:1),i,a,o,s="",l="";return t?(n>=6969600?(i=n/27878400,s="square_miles"):(i=n,s="square_feet"),n>4356&&n<4356e4&&(a=n/43560,l="acres")):(n>=25e4?(i=n/1e6,s="square_kilometers"):(i=n,s="square_meters"),n>1e3&&n<1e7&&(a=n/1e4,l="hectares")),o=F("units."+s,{quantity:i.toLocaleString(r,{maximumSignificantDigits:4})}),a?F("units.area_pair",{area1:o,area2:F("units."+l,{quantity:a.toLocaleString(r,{maximumSignificantDigits:2})})}):o}function qb(e,t,r){var n=r-t;return((e-t)%n+n)%n+t}function Qb(e,t,r){return Math.max(t,Math.min(e,r))}function Gb(e,t,r){var n=_e.localeCode(),i=(Math.abs(e)-Math.floor(Math.abs(e)))*60,a=(i-Math.floor(i))*60,o=F("units.arcdegrees",{quantity:Math.floor(Math.abs(e)).toLocaleString(n)}),s;return Math.floor(a)>0?s=o+F("units.arcminutes",{quantity:Math.floor(i).toLocaleString(n)})+F("units.arcseconds",{quantity:Math.round(a).toLocaleString(n)}):Math.floor(i)>0?s=o+F("units.arcminutes",{quantity:Math.round(i).toLocaleString(n)}):s=F("units.arcdegrees",{quantity:Math.round(Math.abs(e)).toLocaleString(n)}),e===0?s:F("units.coordinate",{coordinate:s,direction:F("units."+(e>0?t:r))})}function Fo(e){return F("units.coordinate_pair",{latitude:Gb(Qb(e[1],-90,90),"north","south"),longitude:Gb(qb(e[0],-180,180),"east","west")})}function m4(e){return F("units.coordinate_pair",{latitude:Qb(e[1],-90,90).toFixed(zb),longitude:qb(e[0],-180,180).toFixed(zb)})}function _8(e){var t="";function r(o){o.html("");var s=o.append("ul"),l=e.map().mouseCoordinates();l.some(isNaN)&&(l=e.map().center()),s.append("li").html(Fo(l)).append("li").html(m4(l)),o.append("div").attr("class","location-info").html(t||" "),n(o,l)}var n=Nt(i,250);function i(o,s){ue.geocoder?ue.geocoder.reverse(s,function(l,u){t=u?u.display_name:F("info_panels.location.unknown_location"),o.selectAll(".location-info").html(t)}):(t=F("info_panels.location.unknown_location"),o.selectAll(".location-info").html(t))}var a=function(s){s.call(r),e.surface().on(("PointerEvent"in window?"pointer":"mouse")+"move.info-location",function(){s.call(r)})};return a.off=function(){e.surface().on(".info-location",null)},a.id="location",a.label=F.html("info_panels.location.title"),a.key=F("info_panels.location.key"),a}function k8(e){function t(s){return s*63710071809e-4}function r(s){return s/(4*Math.PI)*510065621724e3}function n(s){if(s.type==="LineString")return s;var l={type:"LineString",coordinates:[]};return s.type==="Polygon"?l.coordinates=s.coordinates[0]:s.type==="MultiPolygon"&&(l.coordinates=s.coordinates[0][0]),l}var i=!_e.usesMetric();function a(s){var l=e.graph(),u=e.selectedNoteID(),c=ue.osm,d=_e.localeCode(),p,m,w,b,h,g,v,x=0,_=0,y;if(u&&c){var E=c.getNote(u);p=F("note.note")+" "+u,w=E.loc,g="note"}else{var k=e.selectedIDs().filter(function(B){return e.hasEntity(B)}),A=k.map(function(B){return e.entity(B)});if(p=A.length===1?A[0].id:F("info_panels.selected",{n:A.length}),A.length){var C=new Ne;for(var D in A){var S=A[D];if(C=C.extend(S.extent(l)),g=S.geometry(l),g==="line"||g==="area"){h=S.type==="relation"||S.isClosed()&&!S.isDegenerate();var N=S.asGeoJSON(l);x+=t(U7(n(N))),b=Dn(e.projection).centroid(S.asGeoJSON(l)),b=b&&e.projection.invert(b),(!b||!isFinite(b[0])||!isFinite(b[1]))&&(b=S.extent(l).center()),h&&(_+=r(S.area(l)))}}A.length>1&&(g=null,h=null,b=null),A.length===2&&A[0].type==="node"&&A[1].type==="node"&&(y=bt(A[0].loc,A[1].loc)),A.length===1&&A[0].type==="node"?w=A[0].loc:v=Xt(k,e.graph()).length,!w&&!b&&(m=C.center())}}s.html(""),p&&s.append("h4").attr("class","measurement-heading").html(p);var R=s.append("ul"),P;if(g&&R.append("li").html(F.html("info_panels.measurement.geometry")+":").append("span").html(h?F("info_panels.measurement.closed_"+g):F("geometry."+g)),v&&R.append("li").html(F.html("info_panels.measurement.node_count")+":").append("span").html(v.toLocaleString(d)),_&&R.append("li").html(F.html("info_panels.measurement.area")+":").append("span").html(Ub(_,i)),x&&R.append("li").html(F.html("info_panels.measurement."+(h?"perimeter":"length"))+":").append("span").html(_0(x,i)),typeof y=="number"&&R.append("li").html(F.html("info_panels.measurement.distance")+":").append("span").html(_0(y,i)),w&&(P=R.append("li").html(F.html("info_panels.measurement.location")+":"),P.append("span").html(Fo(w)),P.append("span").html(m4(w))),b&&(P=R.append("li").html(F.html("info_panels.measurement.centroid")+":"),P.append("span").html(Fo(b)),P.append("span").html(m4(b))),m&&(P=R.append("li").html(F.html("info_panels.measurement.center")+":"),P.append("span").html(Fo(m)),P.append("span").html(m4(m))),x||_||typeof y=="number"){var L=i?"imperial":"metric";s.append("a").html(F.html("info_panels.measurement."+L)).attr("href","#").attr("class","button button-toggle-units").on("click",function(B){B.preventDefault(),i=!i,s.call(a)})}}var o=function(l){l.call(a),e.map().on("drawn.info-measurement",function(){l.call(a)}),e.on("enter.info-measurement",function(){l.call(a)})};return o.off=function(){e.map().on("drawn.info-measurement",null),e.on("enter.info-measurement",null)},o.id="measurement",o.label=F.html("info_panels.measurement.title"),o.key=F("info_panels.measurement.key"),o}An();function h4(e,t,r,n){var i={button:n,id:"draw-area"},a=Os(e,t,i,r).on("rejectedSelfIntersection.modeDrawArea",function(){e.ui().flash.iconName("#iD-icon-no").label(F("self_intersection.error.areas"))()});return i.wayID=t,i.enter=function(){e.install(a)},i.exit=function(){e.uninstall(a)},i.selectedIDs=function(){return[t]},i.activeID=function(){return a&&a.activeID()||[]},i}function t5(e,t){t.id="add-area";var r=g4(e).on("start",a).on("startFromWay",o).on("startFromNode",s),n={area:"yes"};t.preset&&(n=t.preset.setTags(n,"area"));function i(l){return function(u){return u.replace(u.entity(l).close())}}function a(l){var u=e.graph(),c=ut({loc:l}),d=Pt({tags:n});e.perform($r(c),$r(d),gi(d.id,c.id),i(d.id)),e.enter(h4(e,d.id,u,t.button))}function o(l,u){var c=e.graph(),d=ut({loc:l}),p=Pt({tags:n});e.perform($r(d),$r(p),gi(p.id,d.id),i(p.id),Sr({loc:l,edge:u},d)),e.enter(h4(e,p.id,c,t.button))}function s(l){var u=e.graph(),c=Pt({tags:n});e.perform($r(c),gi(c.id,l.id),i(c.id)),e.enter(h4(e,c.id,u,t.button))}return t.enter=function(){e.install(r)},t.exit=function(){e.uninstall(r)},t}function r5(e,t){t.id="add-line";var r=g4(e).on("start",a).on("startFromWay",o).on("startFromNode",s),n={};t.preset&&(n=t.preset.setTags(n,"line"));var i=pe("rapid-internal-feature.tagSources")==="true";i&&n.highway&&(n.source="maxar");function a(l){var u=e.graph(),c=ut({loc:l}),d=Pt({tags:n});e.perform($r(c),$r(d),gi(d.id,c.id)),e.enter(ki(e,d.id,u,t.button))}function o(l,u){var c=e.graph(),d=ut({loc:l}),p=Pt({tags:n});e.perform($r(d),$r(p),gi(p.id,d.id),Sr({loc:l,edge:u},d)),e.enter(ki(e,p.id,c,t.button))}function s(l){var u=e.graph(),c=Pt({tags:n});e.perform($r(c),gi(c.id,l.id)),e.enter(ki(e,c.id,u,t.button))}return t.enter=function(){e.install(r)},t.exit=function(){e.uninstall(r)},t}function n5(e,t){t.id="add-point";var r=sa(e).on("click",i).on("clickWay",a).on("clickNode",s).on("cancel",l).on("finish",l),n={};t.preset&&(n=t.preset.setTags(n,"point"));function i(u){var c=ut({loc:u,tags:n});e.perform($r(c),F("operations.add.annotation.point")),o(c)}function a(u,c){var d=ut({tags:n});e.perform(Sr({loc:u,edge:c},d),F("operations.add.annotation.vertex")),o(d)}function o(u){e.enter(Le(e,[u.id]).newFeature(!0))}function s(u){if(Object.keys(n).length===0){o(u);return}var c=Object.assign({},u.tags);for(var d in n)c[d]=n[d];e.perform(Qt(u.id,c),F("operations.add.annotation.point")),o(u)}function l(){e.enter(De(e))}return t.enter=function(){e.install(r)},t.exit=function(){e.uninstall(r)},t}function i5(){var e;function t(i){if(!e.isNew()){var a=i.selectAll(".comments-container").data([0]);a=a.enter().append("div").attr("class","comments-container").merge(a);var o=a.selectAll(".comment").data(e.comments).enter().append("div").attr("class","comment");o.append("div").attr("class",function(u){return"comment-avatar user-"+u.uid}).call(ce("#iD-icon-avatar","comment-avatar-icon"));var s=o.append("div").attr("class","comment-main"),l=s.append("div").attr("class","comment-metadata");l.append("div").attr("class","comment-author").each(function(u){var c=G(this),d=ue.osm;d&&u.user&&(c=c.append("a").attr("class","comment-author-link").attr("href",d.userURL(u.user)).attr("target","_blank")),c.html(function(p){return p.user||F.html("note.anonymous")})}),l.append("div").attr("class","comment-date").html(function(u){return F("note.status."+u.action,{when:n(u.date)})}),s.append("div").attr("class","comment-text").html(function(u){return u.html}).selectAll("a").attr("rel","noopener nofollow").attr("target","_blank"),a.call(r)}}function r(i){var a=pe("preferences.privacy.thirdpartyicons")||"true",o=ue.osm;if(!(a!=="true"||!o)){var s={};e.comments.forEach(function(l){l.uid&&(s[l.uid]=!0)}),Object.keys(s).forEach(function(l){o.loadUser(l,function(u,c){!c||!c.image_url||i.selectAll(".comment-avatar.user-"+l).html("").append("img").attr("class","icon comment-avatar-icon").attr("src",c.image_url).attr("alt",c.display_name)})})}}function n(i){if(!i)return null;var a={day:"numeric",month:"short",year:"numeric"};i=i.replace(/-/g,"/");var o=new Date(i);return isNaN(o.getTime())?null:o.toLocaleDateString(_e.localeCode(),a)}return t.note=function(i){return arguments.length?(e=i,t):e},t}function a5(){var e;function t(r){var n=r.selectAll(".note-header").data(e?[e]:[],function(o){return o.status+o.id});n.exit().remove();var i=n.enter().append("div").attr("class","note-header"),a=i.append("div").attr("class",function(o){return"note-header-icon "+o.status}).classed("new",function(o){return o.id<0});a.append("div").attr("class","preset-icon-28").call(ce("#iD-icon-note","note-fill")),a.each(function(o){var s;o.id<0?s="#iD-icon-plus":o.status==="open"?s="#iD-icon-close":s="#iD-icon-apply",a.append("div").attr("class","note-icon-annotation").call(ce(s,"icon-annotation"))}),i.append("div").attr("class","note-header-label").html(function(o){return e.isNew()?F("note.new"):F("note.note")+" "+o.id+" "+(o.status==="closed"?F("note.closed"):"")})}return t.note=function(r){return arguments.length?(e=r,t):e},t}function o5(){var e;function t(r){var n;ue.osm&&e instanceof or&&!e.isNew()&&(n=ue.osm.noteReportURL(e));var i=r.selectAll(".note-report").data(n?[n]:[]);i.exit().remove();var a=i.enter().append("a").attr("class","note-report").attr("target","_blank").attr("href",function(o){return o}).call(ce("#iD-icon-out-link","inline"));a.append("span").html(F.html("note.report"))}return t.note=function(r){return arguments.length?(e=r,t):e},t}An();var Hb=qt().browserLocales[0];function xO(e){var t=Math.floor((new Date-e)/1e3),r=function(i){return Math.floor(t/i)};return r(60*60*24*365)>1?[r(60*60*24*365),"years"]:r(60*60*24*30)>1?[r(60*60*24*30),"months"]:r(60*60*24)>1?[r(60*60*24),"days"]:r(60*60)>1?[r(60*60),"hours"]:r(60)>1?[r(60),"minutes"]:[r(1),"seconds"]}function _O(e){if(typeof Intl=="undefined"||typeof Intl.RelativeTimeFormat=="undefined")return"on ".concat(e.toLocaleDateString(Hb));var t=xO(e),r=xt(t,2),n=r[0],i=r[1];return Number.isFinite(n)?new Intl.RelativeTimeFormat(Hb).format(-n,i):"-"}function v4(e){var t;function r(n){var i;t instanceof Me?i=e.connection().entityURL(t):t instanceof or&&(i=e.connection().noteURL(t));var a=!t||t.isNew()?[]:[t],o=n.selectAll(".view-on-osm").data(a,function(u){return u.id});o.exit().remove();var s=o.enter().append("a").attr("class","view-on-osm").attr("target","_blank").attr("href",i).call(ce("#iD-icon-out-link","inline")),l=t?_O(new Date(t.timestamp)):"-";s.append("span").html(F.html("inspector.last_modified",{timeago:l,user:t?t.user:"-"}))}return r.what=function(n){return arguments.length?(t=n,r):t},r}function y4(e){var t=be("change"),r=i5(e),n=a5(),i,a;function o(w){var b=w.selectAll(".header").data([0]),h=b.enter().append("div").attr("class","header fillL");h.append("button").attr("class","close").on("click",function(){e.enter(De(e))}).call(ce("#iD-icon-close")),h.append("h3").html(F.html("note.title"));var g=w.selectAll(".body").data([0]);g=g.enter().append("div").attr("class","body").merge(g);var v=g.selectAll(".note-editor").data([0]);v.enter().append("div").attr("class","modal-section note-editor").merge(v).call(n.note(i)).call(r.note(i)).call(s);var x=w.selectAll(".footer").data([0]);x.enter().append("div").attr("class","footer").merge(x).call(v4(e).what(i)).call(o5(e).note(i));var _=ue.osm;_&&_.on("change.note-save",function(){w.call(o)})}function s(w){var b=i&&i.id===e.selectedNoteID(),h=w.selectAll(".note-save").data(b?[i]:[],function(y){return y.status+y.id});h.exit().remove();var g=h.enter().append("div").attr("class","note-save save-section cf");g.append("h4").attr("class",".note-save-header").html(function(){return i.isNew()?F("note.newDescription"):F("note.newComment")});var v=g.append("textarea").attr("class","new-comment-input").attr("placeholder",F("note.inputPlaceholder")).attr("maxlength",1e3).property("value",function(y){return y.newComment}).call(et).on("keydown.note-input",x).on("input.note-input",_).on("blur.note-input",_);!v.empty()&&a&&v.node().focus(),h=g.merge(h).call(l).call(u);function x(y){if(!!(y.keyCode===13&&y.metaKey)){var E=ue.osm;if(!!E){var k=E.authenticated();!k||!i.newComment||(y.preventDefault(),G(this).on("keydown.note-input",null),window.setTimeout(function(){i.isNew()?(h.selectAll(".save-button").node().focus(),d(i)):(h.selectAll(".comment-button").node().focus(),m(i))},10))}}}function _(){var y=G(this),E=y.property("value").trim()||void 0;i=i.update({newComment:E});var k=ue.osm;k&&k.replaceNote(i),h.call(u)}}function l(w){var b=w.selectAll(".detail-section").data([0]);b=b.enter().append("div").attr("class","detail-section").merge(b);var h=ue.osm;if(!!h){var g=h.authenticated(),v=b.selectAll(".auth-warning").data(g?[]:[0]);v.exit().transition().duration(200).style("opacity",0).remove();var x=v.enter().insert("div",".tag-reference-body").attr("class","field-warning auth-warning").style("opacity",0);x.call(ce("#iD-icon-alert","inline")),x.append("span").html(F.html("note.login")),x.append("a").attr("target","_blank").call(ce("#iD-icon-out-link","inline")).append("span").html(F.html("login")).on("click.note-login",function(y){y.preventDefault(),h.authenticate()}),x.transition().duration(200).style("opacity",1);var _=b.selectAll(".note-save-prose").data(g?[0]:[]);_.exit().remove(),_=_.enter().append("p").attr("class","note-save-prose").html(F.html("note.upload_explanation")).merge(_),h.userDetails(function(y,E){if(!y){var k=G(document.createElement("div"));E.image_url&&k.append("img").attr("src",E.image_url).attr("class","icon pre-text user-icon"),k.append("a").attr("class","user-info").html(E.display_name).attr("href",h.userURL(E.display_name)).attr("target","_blank"),_.html(F.html("note.upload_explanation_with_user",{user:k.html()}))}})}}function u(w){var b=ue.osm,h=b&&b.authenticated(),g=i&&i.id===e.selectedNoteID(),v=w.selectAll(".buttons").data(g?[i]:[],function(y){return y.status+y.id});v.exit().remove();var x=v.enter().append("div").attr("class","buttons");i.isNew()?(x.append("button").attr("class","button cancel-button secondary-action").html(F.html("confirm.cancel")),x.append("button").attr("class","button save-button action").html(F.html("note.save"))):(x.append("button").attr("class","button status-button action"),x.append("button").attr("class","button comment-button action").html(F.html("note.comment"))),v=v.merge(x),v.select(".cancel-button").on("click.cancel",c),v.select(".save-button").attr("disabled",_).on("click.save",d),v.select(".status-button").attr("disabled",h?null:!0).html(function(y){var E=y.status==="open"?"close":"open",k=y.newComment?"_comment":"";return F("note."+E+k)}).on("click.status",p),v.select(".comment-button").attr("disabled",_).on("click.comment",m);function _(y){return h&&y.status==="open"&&y.newComment?null:!0}}function c(w,b){this.blur();var h=ue.osm;h&&h.removeNote(b),e.enter(De(e)),t.call("change")}function d(w,b){this.blur();var h=ue.osm;h&&h.postNoteCreate(b,function(g,v){t.call("change",v)})}function p(w,b){this.blur();var h=ue.osm;if(h){var g=b.status==="open"?"closed":"open";h.postNoteUpdate(b,g,function(v,x){t.call("change",x)})}}function m(w,b){this.blur();var h=ue.osm;h&&h.postNoteUpdate(b,b.status,function(g,v){t.call("change",v)})}return o.note=function(w){return arguments.length?(i=w,o):i},o.newNote=function(w){return arguments.length?(a=w,o):a},ke(o,t,"on")}function To(e,t){var r={id:"select-note",button:"browse"},n=Re("select-note"),i=y4(e).on("change",function(){e.map().pan([0,0]);var c=s();!c||e.ui().sidebar.show(i.note(c))}),a=[qn(e),rn(e),Wn(e),Vn(e),Qn(e).behavior,Hn(e).behavior],o=!1;function s(){if(!!ue.osm){var c=ue.osm.getNote(t);return c||e.enter(De(e)),c}}function l(c,d){if(!!s()){var p=e.surface().selectAll(".layer-notes .note-"+t);if(p.empty()){var m=c&&c.type==="zoom"&&c.sourceEvent;d&&m&&(m.type==="pointermove"||m.type==="mousemove"||m.type==="touchmove")&&e.enter(De(e))}else p.classed("selected",!0),e.selectedNoteID(t)}}function u(){e.container().select(".combobox").size()||e.enter(De(e))}return r.zoomToSelected=function(){if(!!ue.osm){var c=ue.osm.getNote(t);c&&e.map().centerZoomEase(c.loc,20)}},r.newFeature=function(c){return arguments.length?(o=c,r):o},r.enter=function(){var c=s();if(!!c){a.forEach(e.install),n.on(F("inspector.zoom_to.key"),r.zoomToSelected).on("\u238B",u,!0),G(document).call(n),l();var d=e.ui().sidebar;d.show(i.note(c).newNote(o)),d.expand(d.intersects(c.extent())),e.map().on("drawn.select",l)}},r.exit=function(){a.forEach(e.uninstall),G(document).call(n.unbind),e.surface().selectAll(".layer-notes .selected").classed("selected hover",!1),e.map().on("drawn.select",null),e.ui().sidebar.hide(),e.selectedNoteID(null)},r}function s5(e){var t={id:"add-note",button:"note",description:F.html("modes.add_note.description"),key:F("modes.add_note.key")},r=sa(e).on("click",n).on("cancel",i).on("finish",i);function n(a){var o=ue.osm;if(!!o){var s=or({loc:a,status:"open",comments:[]});o.replaceNote(s),e.map().pan([0,0]),e.selectedNoteID(s.id).enter(To(e,s.id).newFeature(!0))}}function i(){e.enter(De(e))}return t.enter=function(){e.install(r)},t.exit=function(){e.uninstall(r)},t}var fa=new function(){var e="keyValue",t="keyAttributes",r="@",n=[],i=/^\s*$/,a=/^(?:true|false)$/i;function o(d){return i.test(d)?null:a.test(d)?d.toLowerCase()==="true":isFinite(d)?parseFloat(d):isFinite(Date.parse(d))?new Date(d):d}function s(){}s.prototype.toString=function(){return"null"},s.prototype.valueOf=function(){return null};function l(d){return d===null?new s:d instanceof Object?d:new d.constructor(d)}function u(d,p,m,w){var b=n.length,h=d.hasChildNodes(),g=d.hasAttributes(),v=Boolean(p&2),x,_,y=0,E="",k=v?{}:!0;if(h)for(var A,C=0;C<d.childNodes.length;C++)A=d.childNodes.item(C),A.nodeType===4?E+=A.nodeValue:A.nodeType===3?E+=A.nodeValue.trim():A.nodeType===1&&!A.prefix&&n.push(A);var D=n.length,S=o(E);!v&&(h||g)&&(k=p===0?l(S):{});for(var N=b;N<D;N++)x=n[N].nodeName.toLowerCase(),_=u(n[N],p,m,w),k.hasOwnProperty(x)?(k[x].constructor!==Array&&(k[x]=[k[x]]),k[x].push(_)):(k[x]=_,y++);if(g){for(var R=d.attributes.length,P=w?"":r,L=w?{}:k,B,O=0;O<R;y++,O++)B=d.attributes.item(O),L[P+B.name.toLowerCase()]=o(B.value.trim());w&&(m&&Object.freeze(L),k[t]=L,y-=R-1)}return p===3||(p===2||p===1&&y>0)&&E?k[e]=S:!v&&y===0&&E&&(k=S),m&&(v||y>0)&&Object.freeze(k),n.length=b,k}function c(d,p,m){var w,b;m instanceof String||m instanceof Number||m instanceof Boolean?p.appendChild(d.createTextNode(m.toString())):m.constructor===Date&&p.appendChild(d.createTextNode(m.toGMTString()));for(var h in m)if(w=m[h],!(isFinite(h)||w instanceof Function))if(h===e)w!==null&&w!==!0&&p.appendChild(d.createTextNode(w.constructor===Date?w.toGMTString():String(w)));else if(h===t)for(var g in w)p.setAttribute(g,w[g]);else if(h.charAt(0)===r)p.setAttribute(h.slice(1),w);else if(w.constructor===Array)for(var v=0;v<w.length;v++)b=d.createElement(h),c(d,b,w[v]),p.appendChild(b);else b=d.createElement(h),w instanceof Object?c(d,b,w):w!==null&&w!==!0&&b.appendChild(d.createTextNode(w.toString())),p.appendChild(b)}this.build=function(d,p,m,w){var b=arguments.length>1&&typeof p=="number"?p&3:1;return u(d,b,m||!1,arguments.length>3?w:b===3)},this.unbuild=function(d){var p=document.implementation.createDocument("","",null);return c(p,p,d),p},this.stringify=function(d){return new XMLSerializer().serializeToString(fa.unbuild(d))}};function l5(e){var t=be("cancel","save"),r=Re("conflicts"),n,i,a;function o(){G(document).call(r.on("\u238B",u,!0))}function s(){G(document).call(r.unbind)}function l(){s(),t.call("save")}function u(){s(),t.call("cancel")}function c(b){o();var h=b.selectAll(".header").data([0]).enter().append("div").attr("class","header fillL");h.append("button").attr("class","fr").on("click",u).call(ce("#iD-icon-close")),h.append("h3").html(F.html("save.conflict.header"));var g=b.selectAll(".body").data([0]).enter().append("div").attr("class","body fillL"),v=g.append("div").attr("class","conflicts-help").html(F.html("save.conflict.help")),x=qt(),_=new Nn;delete _.id;var y=fa.stringify(_.osmChangeJXON(n)),E=new Blob([y],{type:"text/xml;charset=utf-8;"}),k="changes.osc",A=v.selectAll(".download-changes").append("a").attr("class","download-changes");x.download?A.attr("href",window.URL.createObjectURL(E)).attr("download",k):A.attr("target","_blank").on("click.download",function(){navigator.msSaveBlob(E,k)}),A.call(ce("#iD-icon-load","inline")).append("span").html(F.html("save.conflict.download_changes")),g.append("div").attr("class","conflict-container fillL3").call(d,0),g.append("div").attr("class","conflicts-done").attr("opacity",0).style("display","none").html(F.html("save.conflict.done"));var C=g.append("div").attr("class","buttons col12 joined conflicts-buttons");C.append("button").attr("disabled",i.length>1).attr("class","action conflicts-button col6").html(F.html("save.title")).on("click.try_again",l),C.append("button").attr("class","secondary-action conflicts-button col6").html(F.html("confirm.cancel")).on("click.cancel",u)}function d(b,h){h=vs(h,i.length),a=h;var g=G(b.node().parentNode);h===i.length-1&&window.setTimeout(function(){g.select(".conflicts-button").attr("disabled",null),g.select(".conflicts-done").transition().attr("opacity",1).style("display","block")},250);var v=b.selectAll(".conflict").data([i[h]]);v.exit().remove();var x=v.enter().append("div").attr("class","conflict");x.append("h4").attr("class","conflict-count").html(F.html("save.conflict.count",{num:h+1,total:i.length})),x.append("a").attr("class","conflict-description").attr("href","#").html(function(y){return y.name}).on("click",function(y,E){y.preventDefault(),w(E.id)});var _=x.append("div").attr("class","conflict-detail-container");_.append("ul").attr("class","conflict-detail-list").selectAll("li").data(function(y){return y.details||[]}).enter().append("li").attr("class","conflict-detail-item").html(function(y){return y}),_.append("div").attr("class","conflict-choices").call(p),_.append("div").attr("class","conflict-nav-buttons joined cf").selectAll("button").data(["previous","next"]).enter().append("button").html(function(y){return F.html("save.conflict."+y)}).attr("class","conflict-nav-button action col6").attr("disabled",function(y,E){return E===0&&h===0||E===1&&h===i.length-1||null}).on("click",function(y,E){y.preventDefault();var k=g.selectAll(".conflict-container"),A=E==="previous"?-1:1;k.selectAll(".conflict").remove(),k.call(d,h+A)})}function p(b){var h=b.append("ul").attr("class","layer-list").selectAll("li").data(function(x){return x.choices||[]}),g=h.enter().append("li").attr("class","layer"),v=g.append("label");v.append("input").attr("type","radio").attr("name",function(x){return x.id}).on("change",function(x,_){var y=this.parentNode.parentNode.parentNode;y.__data__.chosen=_.id,m(x,y,_)}),v.append("span").html(function(x){return x.text}),g.merge(h).each(function(x){var _=this.parentNode;_.__data__.chosen===x.id&&m(null,_,x)})}function m(b,h,g){b&&b.preventDefault(),G(h).selectAll("li").classed("active",function(_){return _===g}).selectAll("input").property("checked",function(_){return _===g});var v=new Ne,x;x=e.graph().hasEntity(g.id),x&&(v=v.extend(x.extent(e.graph()))),g.action(),x=e.graph().hasEntity(g.id),x&&(v=v.extend(x.extent(e.graph()))),w(g.id,v)}function w(b,h){e.surface().selectAll(".hover").classed("hover",!1);var g=e.graph().hasEntity(b);g&&(h?e.map().trimmedExtent(h):e.map().zoomToEase(g),e.surface().selectAll(Uo([g.id],e.graph())).classed("hover",!0))}return c.conflictList=function(b){return arguments.length?(i=b,c):i},c.origChanges=function(b){return arguments.length?(n=b,c):n},c.shownEntityIds=function(){return i&&typeof a=="number"?[i[a].id]:[]},ke(c,t,"on")}function Mo(e){var t=wr(e);t.select(".modal").classed("modal-alert",!0);var r=t.select(".content");r.append("div").attr("class","modal-section header"),r.append("div").attr("class","modal-section message-text");var n=r.append("div").attr("class","modal-section buttons cf");return t.okButton=function(){return n.append("button").attr("class","button ok-button action").on("click.confirm",function(){t.remove()}).html(F.html("confirm.okay")).node().focus(),t},t}var Xb=Xe(bi());var u5;function Ft(e,t){var r=be("accept","cancel"),n=e.container(),i=[],a=[],o={},s=null,l=!0,u=!1,c=!1,d=2,p=0,m,w,b=function(v,x){x(a.filter(function(_){var y=_.terms||[];return y.push(_.value),y.some(function(E){return E.toString().toLowerCase().indexOf(v.toLowerCase())!==-1})}))},h=function(v,x){if(!v||v.empty())return;v.classed("combobox-input",!0).on("focus.combo-input",E).on("blur.combo-input",k).on("keydown.combo-input",D).on("keyup.combo-input",S).on("input.combo-input",N).on("mousedown.combo-input",_).each(function(){var I=this.parentNode,z=this.nextSibling;G(I).selectAll(".combobox-caret").filter(function(q){return q===v.node()}).data([v.node()]).enter().insert("div",function(){return z}).attr("class","combobox-caret").on("mousedown.combo-caret",function(q){q.preventDefault(),v.node().focus(),_(q)}).on("mouseup.combo-caret",function(q){q.preventDefault(),y(q)})});function _(I){if(I.button===0){p=+new Date;var z=v.property("selectionStart"),q=v.property("selectionEnd");if(z!==q){var V=Qe(v);v.node().setSelectionRange(V.length,V.length);return}v.on("mouseup.combo-input",y)}}function y(I){if(v.on("mouseup.combo-input",null),I.button===0&&v.node()===document.activeElement){var z=v.property("selectionStart"),q=v.property("selectionEnd");if(z===q){var V=n.selectAll(".combobox");if(V.empty()||V.datum()!==v.node()){var Y=p;window.setTimeout(function(){Y===p&&B("",function(){A(),U()})},250)}else C()}}}function E(){B("")}function k(){u5=window.setTimeout(C,75)}function A(){C(),n.insert("div",":first-child").datum(v.node()).attr("class","combobox"+(t?" combobox-"+t:"")).style("position","absolute").style("display","block").style("left","0px").on("mousedown.combo-container",function(I){I.preventDefault()}),n.on("scroll.combo-scroll",U,!0)}function C(){u5&&(window.clearTimeout(u5),u5=void 0),n.selectAll(".combobox").remove(),n.on("scroll.combo-scroll",null)}function D(I){var z=!n.selectAll(".combobox").empty(),q=v.node()?v.node().tagName.toLowerCase():"";switch(I.keyCode){case 8:case 46:I.stopPropagation(),s=null,U(),v.on("input.combo-input",function(){var V=v.property("selectionStart");v.node().setSelectionRange(V,V),v.on("input.combo-input",N)});break;case 9:T(I);break;case 13:I.preventDefault(),I.stopPropagation();break;case 38:if(q==="textarea"&&!z)return;I.preventDefault(),q==="input"&&!z&&A(),R(-1);break;case 40:if(q==="textarea"&&!z)return;I.preventDefault(),q==="input"&&!z&&A(),R(1);break}}function S(I){switch(I.keyCode){case 27:M();break;case 13:T(I);break}}function N(){B(L(),function(){s=null;var I=v.property("value");if(i.length&&(v.property("selectionEnd")===I.length&&(s=O()),s||(s=I)),I.length){var z=n.selectAll(".combobox");z.empty()&&A()}else C();U()})}function R(I){if(i.length){for(var z=-1,q=0;q<i.length;q++)if(s&&i[q].value===s){z=q;break}z=Math.max(Math.min(z+I,i.length-1),0),s=i[z].value,v.property("value",s)}U(),P()}function P(){var I=n.selectAll(".combobox");if(!I.empty()){var z=n.node().getBoundingClientRect(),q=I.node().getBoundingClientRect();if(q.bottom>z.bottom){var V=x?x.node():v.node();V.scrollIntoView({behavior:"instant",block:"center"}),U()}var Y=I.selectAll(".combobox-option.selected").node();Y&&Y.scrollIntoView({behavior:"smooth",block:"nearest"})}}function L(){var I=v.property("value"),z=v.property("selectionStart"),q=v.property("selectionEnd");return z&&q&&(I=I.substring(0,z)),I}function B(I,z){c=!1,b.call(v,I,function(q){c||(i=q,q.forEach(function(V){o[V.value]=V}),z&&z())})}function O(){if(!!l){var I=u?L():L().toLowerCase();if(!!I&&!(!isNaN(parseFloat(I))&&isFinite(I))){for(var z=-1,q=0;q<i.length;q++){var V=i[q].value,Y=u?V:V.toLowerCase();if(Y===I){z=q;break}else z===-1&&Y.indexOf(I)===0&&(z=q)}if(z!==-1){var ee=i[z].value;return v.property("value",ee),v.node().setSelectionRange(I.length,ee.length),ee}}}}function U(){if(i.length<d||document.activeElement!==v.node()){C();return}var I=!n.selectAll(".combobox").empty();if(!!I){var z=n.selectAll(".combobox"),q=z.selectAll(".combobox-option").data(i,function(ie){return ie.value});q.exit().remove(),q.enter().append("a").attr("class",function(ie){return"combobox-option "+(ie.klass||"")}).attr("title",function(ie){return ie.title}).html(function(ie){return ie.display||ie.value}).on("mouseenter",m).on("mouseleave",w).merge(q).classed("selected",function(ie){return ie.value===s}).on("click.combo-option",T).order();var V=x?x.node():v.node(),Y=n.node().getBoundingClientRect(),ee=V.getBoundingClientRect();z.style("left",ee.left+5-Y.left+"px").style("width",ee.width-10+"px").style("top",ee.height+ee.top-Y.top+"px")}}function T(I,z){c=!0;var q=v.node();z&&(Qe(v,z.value),ys(v,"change"));var V=Qe(v);q.setSelectionRange(V.length,V.length),z=o[V],r.call("accept",q,z,V),C()}function M(){c=!0;var I=v.node(),z=Qe(v),q=v.property("selectionStart"),V=v.property("selectionEnd");z=z.slice(0,q)+z.slice(V),Qe(v,z),I.setSelectionRange(z.length,z.length),r.call("cancel",I),C()}};return h.canAutocomplete=function(g){return arguments.length?(l=g,h):l},h.caseSensitive=function(g){return arguments.length?(u=g,h):u},h.data=function(g){return arguments.length?(a=g,h):a},h.fetcher=function(g){return arguments.length?(b=g,h):b},h.minItems=function(g){return arguments.length?(d=g,h):d},h.itemsMouseEnter=function(g){return arguments.length?(m=g,h):m},h.itemsMouseLeave=function(g){return arguments.length?(w=g,h):w},ke(h,r,"on")}Ft.off=function(e,t){e.on("focus.combo-input",null).on("blur.combo-input",null).on("keydown.combo-input",null).on("keyup.combo-input",null).on("input.combo-input",null).on("mousedown.combo-input",null).on("mouseup.combo-input",null),t.container().on("scroll.combo-scroll",null)};var Zb=Xe(da());function Ai(e,t){var r=t.surfaceRect(),n=t.curtainProjection(e);return{left:n[0]+r.left-40,top:n[1]+r.top-60,width:80,height:90}}function ht(e,t,r){var n;if(e instanceof Array){var i=r.surfaceRect(),a=r.curtainProjection(e);n={left:a[0]+i.left,top:a[1]+i.top}}else n=e;return{left:n.left-t,top:n.top-t,width:(n.width||0)+2*t,height:(n.width||0)+2*t}}function je(e,t,r){return'<svg class="icon '+(t||"")+'"><use xlink:href="'+e+'"'+(r?' class="'+r+'"':"")+"></use></svg>"}var c5;function we(e,t){c5||(c5={point_icon:je("#iD-icon-point","inline"),line_icon:je("#iD-icon-line","inline"),area_icon:je("#iD-icon-area","inline"),note_icon:je("#iD-icon-note","inline add-note"),plus:je("#iD-icon-plus","inline"),minus:je("#iD-icon-minus","inline"),layers_icon:je("#iD-icon-layers","inline"),data_icon:je("#iD-icon-data","inline"),inspect:je("#iD-icon-inspect","inline"),help_icon:je("#iD-icon-help","inline"),undo_icon:je(_e.textDirection()==="rtl"?"#iD-icon-redo":"#iD-icon-undo","inline"),redo_icon:je(_e.textDirection()==="rtl"?"#iD-icon-undo":"#iD-icon-redo","inline"),save_icon:je("#iD-icon-save","inline"),circularize_icon:je("#iD-operation-circularize","inline operation"),continue_icon:je("#iD-operation-continue","inline operation"),copy_icon:je("#iD-operation-copy","inline operation"),delete_icon:je("#iD-operation-delete","inline operation"),disconnect_icon:je("#iD-operation-disconnect","inline operation"),downgrade_icon:je("#iD-operation-downgrade","inline operation"),extract_icon:je("#iD-operation-extract","inline operation"),merge_icon:je("#iD-operation-merge","inline operation"),move_icon:je("#iD-operation-move","inline operation"),orthogonalize_icon:je("#iD-operation-orthogonalize","inline operation"),paste_icon:je("#iD-operation-paste","inline operation"),reflect_long_icon:je("#iD-operation-reflect-long","inline operation"),reflect_short_icon:je("#iD-operation-reflect-short","inline operation"),reverse_icon:je("#iD-operation-reverse","inline operation"),rotate_icon:je("#iD-operation-rotate","inline operation"),split_icon:je("#iD-operation-split","inline operation"),straighten_icon:je("#iD-operation-straighten","inline operation"),leftclick:je("#iD-walkthrough-mouse-left","inline operation"),rightclick:je("#iD-walkthrough-mouse-right","inline operation"),mousewheel_icon:je("#iD-walkthrough-mousewheel","inline operation"),tap_icon:je("#iD-walkthrough-tap","inline operation"),doubletap_icon:je("#iD-walkthrough-doubletap","inline operation"),longpress_icon:je("#iD-walkthrough-longpress","inline operation"),touchdrag_icon:je("#iD-walkthrough-touchdrag","inline operation"),pinch_icon:je("#iD-walkthrough-pinch-apart","inline operation"),shift:qe.display("\u21E7"),alt:qe.display("\u2325"),return:qe.display("\u21B5"),esc:F.html("shortcuts.key.esc"),space:F.html("shortcuts.key.space"),add_note_key:F.html("modes.add_note.key"),help_key:F.html("help.key"),shortcuts_key:F.html("shortcuts.toggle.key"),save:F.html("save.title"),undo:F.html("undo.title"),redo:F.html("redo.title"),upload:F.html("commit.save"),point:F.html("modes.add_point.title"),line:F.html("modes.add_line.title"),area:F.html("modes.add_area.title"),note:F.html("modes.add_note.label"),circularize:F.html("operations.circularize.title"),continue:F.html("operations.continue.title"),copy:F.html("operations.copy.title"),delete:F.html("operations.delete.title"),disconnect:F.html("operations.disconnect.title"),downgrade:F.html("operations.downgrade.title"),extract:F.html("operations.extract.title"),merge:F.html("operations.merge.title"),move:F.html("operations.move.title"),orthogonalize:F.html("operations.orthogonalize.title"),paste:F.html("operations.paste.title"),reflect_long:F.html("operations.reflect.title.long"),reflect_short:F.html("operations.reflect.title.short"),reverse:F.html("operations.reverse.title"),rotate:F.html("operations.rotate.title"),split:F.html("operations.split.title"),straighten:F.html("operations.straighten.title"),map_data:F.html("map_data.title"),osm_notes:F.html("map_data.layers.notes.title"),fields:F.html("inspector.fields"),tags:F.html("inspector.tags"),relations:F.html("inspector.relations"),new_relation:F.html("inspector.new_relation"),turn_restrictions:F.html("_tagging.presets.fields.restrictions.label"),background_settings:F.html("background.description"),imagery_offset:F.html("background.fix_misalignment"),start_the_walkthrough:F.html("splash.walkthrough"),help:F.html("help.title"),ok:F.html("intro.ok")});var r;return t?r=Object.assign(t,c5):r=c5,F.html(e,r).replace(/\`(.*?)\`/g,"<kbd>$1</kbd>")}function Wb(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}var Vb={};function Kb(e,t){if(F(e,{default:void 0})===void 0){if(Vb.hasOwnProperty(e))return;Vb[e]=t;var r=e+": "+t;typeof console!="undefined"&&console.log(r)}}function C8(e){var t,r=e.tags&&e.tags.name;r&&(t="intro.graph.name."+Wb(r),e.tags.name=F(t,{default:r}),Kb(t,r));var n=e.tags&&e.tags["addr:street"];if(n){t="intro.graph.name."+Wb(n),e.tags["addr:street"]=F(t,{default:n}),Kb(t,n);var i=["block_number","city","county","district","hamlet","neighbourhood","postcode","province","quarter","state","subdistrict","suburb"];i.forEach(function(a){var o="intro.graph."+a,s="addr:"+a,l=e.tags&&e.tags[s],u=F(o,{default:l});u&&(u.match(/^<.*>$/)!==null?delete e.tags[s]:e.tags[s]=u)})}return e}function Yb(e){for(var t=15,r=Math.cos((90-t)*Math.PI/180),n=Math.cos(t*Math.PI/180),i=0;i<e.length;i++){var a=e[(i-1+e.length)%e.length],o=e[i],s=e[(i+1)%e.length],l=P2(a,s,o),u=Math.abs(l);if(u>r&&u<n)return!1}return!0}function bn(e,t){return e.container().select(".edit-menu .edit-menu-item-"+t)}function mn(e,t){var r=bt(e,t);return r===0?0:r<80?500:1e3}function f5(e,t){var r={},n=G(null),i=G(null),a=G(null),o={restrictions:[["about",["about","from_via_to","maxdist","maxvia"]],["inspecting",["about","from_shadow","allow_shadow","restrict_shadow","only_shadow","restricted","only"]],["modifying",["about","indicators","allow_turn","restrict_turn","only_turn"]],["tips",["simple","simple_example","indirect","indirect_example","indirect_noedit"]]]},s={},l={distField:F.html("restriction.controls.distance"),viaField:F.html("restriction.controls.via"),fromShadow:je("#iD-turn-shadow","inline shadow from"),allowShadow:je("#iD-turn-shadow","inline shadow allow"),restrictShadow:je("#iD-turn-shadow","inline shadow restrict"),onlyShadow:je("#iD-turn-shadow","inline shadow only"),allowTurn:je("#iD-turn-yes","inline turn"),restrictTurn:je("#iD-turn-no","inline turn"),onlyTurn:je("#iD-turn-only","inline turn")},u=o[t].map(function(w){var b="help.field."+t+"."+w[0],h=w[1].reduce(function(g,v){var x=b+"."+v,_=s[x],y=_?Array(_+1).join("#")+" ":"";return g+y+F.html(x,l)+"\n\n"},"");return{key:b,title:F.html(b+".title"),html:(0,Zb.default)(h.trim())}});function c(){m(),a.classed("hide",!1).style("opacity","0").transition().duration(200).style("opacity","1")}function d(){a.classed("hide",!0).transition().duration(200).style("opacity","0").on("end",function(){a.classed("hide",!0)})}function p(w){var b=u[w],h=o[t][w][1];a.selectAll(".field-help-nav-item").classed("active",function(v,x){return x===w});var g=a.selectAll(".field-help-content").html(b.html);g.selectAll("p").attr("class",function(v,x){return h[x]}),b.key==="help.field.restrictions.inspecting"?g.insert("img","p.from_shadow").attr("class","field-help-image cf").attr("src",e.imagePath("tr_inspect.gif")):b.key==="help.field.restrictions.modifying"&&g.insert("img","p.allow_turn").attr("class","field-help-image cf").attr("src",e.imagePath("tr_modify.gif"))}r.button=function(w){if(!a.empty()){var b=w.selectAll(".field-help-button").data([0]);b.enter().append("button").attr("class","field-help-button").call(ce("#iD-icon-help")).merge(b).on("click",function(h){h.stopPropagation(),h.preventDefault(),a.classed("hide")?c():d()})}};function m(){var w=i.node(),b=n.node(),h=w.getBoundingClientRect(),g=b.getBoundingClientRect();a.style("top",h.top+b.scrollTop-g.top+"px")}return r.body=function(w){if(i=w.selectAll(".form-field-input-wrap"),!i.empty()&&(n=e.container().select(".sidebar .entity-editor-pane .inspector-body"),!n.empty())){a=n.selectAll(".field-help-body").data([0]);var b=a.enter().append("div").attr("class","field-help-body hide"),h=b.append("div").attr("class","field-help-title cf");h.append("h2").attr("class",_e.textDirection()==="rtl"?"fr":"fl").html(F.html("help.field."+t+".title")),h.append("button").attr("class","fr close").on("click",function(x){x.stopPropagation(),x.preventDefault(),d()}).call(ce("#iD-icon-close"));var g=b.append("div").attr("class","field-help-nav cf"),v=u.map(function(x){return x.title});g.selectAll(".field-help-nav-item").data(v).enter().append("div").attr("class","field-help-nav-item").html(function(x){return x}).on("click",function(x,_){x.stopPropagation(),x.preventDefault(),p(v.indexOf(_))}),b.append("div").attr("class","field-help-content"),a=a.merge(b),p(0)}},r}function v1(e,t){var r=be("change"),n=e.options,i=[],a=[],o,s=G(null),l=G(null),u=G(null),c=G(null),d,p=[],m;if(n)for(var w in n){var b=n[w];i.push(b==="undefined"?void 0:b),a.push(e.t.html("options."+b,{default:b}))}else i=[void 0,"yes"],a=[F.html("inspector.unknown"),F.html("inspector.check.yes")],e.type!=="defaultCheck"&&(i.push("no"),a.push(F.html("inspector.check.no")));function h(){if(d=e.id==="oneway_yes",e.id==="oneway"){var _=t.entity(p[0]);for(var y in _.tags)if(y in Ti&&_.tags[y]in Ti[y]){d=!0,a[0]=F.html("_tagging.presets.fields.oneway_yes.options.undefined");break}}}function g(){return t.container().select("div.inspector-hover").empty()?!(m==="yes"||d&&!m):!0}function v(_){var y=p.length&&t.hasEntity(p[0]);if(g()||!y)return _;var E=y.first(),k=y.isClosed()?y.nodes[y.nodes.length-2]:y.last(),A=E<k,C=A?"#iD-icon-forward":"#iD-icon-backward";return _.selectAll(".reverser-span").html(F.html("inspector.check.reverser")).call(ce(C,"inline")),_}var x=function(y){h(),u=y.selectAll(".form-field-input-wrap").data([0]);var E=u.enter().append("label").attr("class","form-field-input-wrap form-field-input-check");E.append("input").property("indeterminate",e.type!=="defaultCheck").attr("type","checkbox").attr("id",e.domId),E.append("span").html(a[0]).attr("class","value"),e.type==="onewayCheck"&&E.append("button").attr("class","reverser"+(g()?" hide":"")).append("span").attr("class","reverser-span"),u=u.merge(E),s=u.selectAll("input"),l=u.selectAll("span.value"),s.on("click",function(k){k.stopPropagation();var A={};Array.isArray(o[e.key])?i.indexOf("yes")!==-1?A[e.key]="yes":A[e.key]=i[0]:A[e.key]=i[(i.indexOf(m)+1)%i.length],(A[e.key]==="reversible"||A[e.key]==="alternating")&&(A[e.key]=i[0]),r.call("change",this,A)}),e.type==="onewayCheck"&&(c=u.selectAll(".reverser"),c.call(v).on("click",function(k){k.preventDefault(),k.stopPropagation(),t.perform(function(A){for(var C in p)A=ui(p[C])(A);return A},F("operations.reverse.annotation.line",{n:1})),t.validator().validate(),G(this).call(v)}))};return x.entityIDs=function(_){return arguments.length?(p=_,x):p},x.tags=function(_){o=_;function y(A){return A!=="no"&&A!==""&&A!==void 0&&A!==null}function E(A){A===""&&(A=void 0);var C=i.indexOf(A);return C!==-1?a[C]:'"'+A+'"'}h();var k=Array.isArray(_[e.key]);m=!k&&_[e.key]&&_[e.key].toLowerCase(),e.type==="onewayCheck"&&(m==="1"||m==="-1")&&(m="yes"),s.property("indeterminate",k||e.type!=="defaultCheck"&&!m).property("checked",y(m)),l.html(k?F.html("inspector.multiple_values"):E(m)).classed("mixed",k),u.classed("set",!!m),e.type==="onewayCheck"&&c.classed("hide",g()).call(v)},x.focus=function(){s.node().focus()},ke(x,r,"on")}function ni(e,t){var r=be("change"),n=e.type==="multiCombo"||e.type==="manyCombo",i=e.type==="networkCombo",a=e.type==="semiCombo",o=e.options,s=e.type!=="manyCombo"&&e.autoSuggestions!==!1,l=e.type!=="manyCombo"&&e.customValues!==!1,u=e.snake_case||e.snake_case===void 0,c=Ft(t,"combo-"+e.safeid).caseSensitive(e.caseSensitive).minItems(n||a?1:2),d=G(null),p=G(null),m=G(null),w=[],b=[],h=[],g,v,x,_=[];Je.get("deprecated").then(function(M){_=M}).catch(function(){}),n&&e.key&&/[^:]$/.test(e.key)&&(e.key+=":");function y(M){return M.replace(/\s+/g,"_").toLowerCase()}function E(M){return M.split(";").map(function(I){return I.trim()}).join(";")}function k(M){M=E(M||"");var I=w.find(function(z){return z.key&&E(z.value)===M});return I?I.key:e.type==="typeCombo"&&!M?"yes":(u?y(M):M)||void 0}function A(M){return M=M||"",e.hasTextForStringId("options."+M)?e.t("options."+M,{default:M}):e.type==="typeCombo"&&M.toLowerCase()==="yes"?"":M}function C(M,I){return M.filter(function(z){return!I.some(function(q){return!q.isMixed&&z.value===q.value})})}function D(M,I){l||M.attr("readonly","readonly"),s&&ue.taginfo?(M.call(c.fetcher(N),I),N("",R)):(M.call(c,I),S(R))}function S(M){!o||(w=o.map(function(I){return{key:I,value:e.t("options."+I,{default:I}),title:I,display:e.t.html("options."+I,{default:I}),klass:e.hasTextForStringId("options."+I)?"":"raw-option"}}),c.data(C(w,b)),M&&M(w))}function N(M,I){var z=n?"multikeys":"values",q=(n?e.key:"")+M,V=i&&v&&v.indexOf(M.toLowerCase())===0;V&&(q=v+":");var Y={debounce:M!=="",key:e.key,query:q};h.length&&(Y.geometry=t.graph().geometry(h[0])),ue.taginfo[z](Y,function(ee,ie){if(!ee){ie=ie.filter(function(ve){return e.type==="typeCombo"&&ve.value==="yes"?!1:!ve.count||ve.count>10});var se=Me.deprecatedTagValuesByKey(_)[e.key];se&&(ie=ie.filter(function(ve){return se.indexOf(ve.value)===-1})),V&&(ie=ie.filter(function(ve){return ve.value.toLowerCase().indexOf(v+":")===0})),d.classed("empty-combobox",ie.length===0),w=ie.map(function(ve){var le=ve.value;n&&(le=le.replace(e.key,""));var re=e.t("options."+le,{default:le});return{key:le,value:re,display:e.t.html("options."+le,{default:le}),title:ve.title||re,klass:e.hasTextForStringId("options."+le)?"":"raw-option"}}),w=C(w,b),I&&I(w)}})}function R(M){if(n||a)x=e.placeholder()||F("inspector.add");else{var I=M.map(function(V){return V.value}).filter(function(V){return V.length<20}),z=I.length>1?I:M.map(function(V){return V.key});x=e.placeholder()||z.slice(0,3).join(", ")}/(…|\.\.\.)$/.test(x)||(x+="\u2026");var q;!n&&!a&&g&&Array.isArray(g[e.key])?q=F("inspector.multiple_values"):q=x,d.selectAll("input").attr("placeholder",q)}function P(){var M={},I;if(n||a){I=k(Qe(m).replace(/,/g,";"))||"",d.classed("active",!1),Qe(m,"");var z=I.split(";").filter(Boolean);if(!z.length)return;if(n)Ve(z).forEach(function(Y){var ee=(e.key||"")+Y;if(g){var ie=g[ee];if(typeof ie=="string"&&ie.toLowerCase()!=="no")return}ee=t.cleanTagKey(ee),e.keys.push(ee),M[ee]="yes"});else if(a){var q=b.map(function(Y){return Y.key});q=q.concat(z),M[e.key]=t.cleanTagValue(Ve(q).filter(Boolean).join(";"))}window.setTimeout(function(){m.node().focus()},10)}else{var V=Qe(m);if(!V&&Array.isArray(g[e.key]))return;I=t.cleanTagValue(k(V)),M[e.key]=I||void 0}r.call("change",this,M)}function L(M){return M.id?M.id.startswith("w-"):!1}function B(M,I){if(M.preventDefault(),M.stopPropagation(),!(e.key==="source"&&h[0]&&L(h[0])&&(I.value==="digitalglobe"||I.value==="maxar"))){var z={};if(n)z[I.key]=void 0;else if(a){var q=b.map(function(V){return V.key===I.key?null:V.key}).filter(Boolean);q=Ve(q),z[e.key]=q.length?q.join(";"):void 0}r.call("change",this,z)}}function O(M){d=M.selectAll(".form-field-input-wrap").data([0]);var I=n||a?"multicombo":"combo";if(d=d.enter().append("div").attr("class","form-field-input-wrap form-field-input-"+I).merge(d),n||a){d=d.selectAll(".chiplist").data([0]);var z="chiplist";(e.key==="destination"||e.key==="via")&&(z+=" full-line-chips"),d=d.enter().append("ul").attr("class",z).on("click",function(){window.setTimeout(function(){m.node().focus()},10)}).merge(d),p=d.selectAll(".input-wrap").data([0]),p=p.enter().append("li").attr("class","input-wrap").merge(p),m=p.selectAll("input").data([0])}else m=d.selectAll("input").data([0]);if(m=m.enter().append("input").attr("type","text").attr("id",e.domId).call(et).call(D,M).merge(m),i){var q=T(),V=q&&fo(q.center());v=V&&V.toLowerCase()}m.on("change",P).on("blur",P),m.on("keydown.field",function(Y){switch(Y.keyCode){case 13:m.node().blur(),Y.stopPropagation();break}}),(n||a)&&(c.on("accept",function(){m.node().blur(),m.node().focus()}),m.on("focus",function(){d.classed("active",!0)}))}O.tags=function(M){if(g=M,n||a){b=[];var I;if(n){for(var z in M)if(!(e.key&&z.indexOf(e.key)!==0)&&!(!e.key&&e.keys.indexOf(z)===-1)){var q=M[z];if(!(!q||typeof q=="string"&&q.toLowerCase()==="no")){var V=e.key?z.substr(e.key.length):z;b.push({key:z,value:A(V),isMixed:Array.isArray(q)})}}e.key?(e.keys=b.map(function(Q){return Q.key}),I=t.maxCharsForTagKey()-c7(e.key)):I=t.maxCharsForTagKey()}else if(a){var Y=[],ee;Array.isArray(M[e.key])?(M[e.key].forEach(function(Q){var H=Ve((Q||"").split(";")).filter(Boolean);Y=Y.concat(H),ee?ee=ee.filter(function(K){return H.includes(K)}):ee=H}),Y=Ve(Y).filter(Boolean)):(Y=Ve((M[e.key]||"").split(";")).filter(Boolean),ee=Y),b=Y.map(function(Q){return{key:Q,value:A(Q),isMixed:!ee.includes(Q)}});var ie=c7(ee.join(";"));I=t.maxCharsForTagValue()-ie,ie>0&&(I-=1)}I=Math.max(0,I);var se=a&&!Array.isArray(M[e.key]),ve=C(w,b);c.data(ve);var le=!l&&!ve.length||I<=0;d.selectAll(".chiplist .input-wrap").style("display",le?"none":null);var re=d.selectAll(".chip").data(b);re.exit().remove();var Ae=re.enter().insert("li",".input-wrap").attr("class","chip");Ae.append("span"),Ae.append("a"),re=re.merge(Ae).order().classed("raw-value",function(Q){var H=Q.key;return n&&(H=H.replace(e.key,"")),!e.hasTextForStringId("options."+H)}).classed("draggable",se).classed("mixed",function(Q){return Q.isMixed}).attr("title",function(Q){return Q.isMixed?F("inspector.unshared_value_tooltip"):null}),se&&U(re),re.select("span").html(function(Q){return Q.value}),re.select("a").attr("href","#").on("click",B).attr("class","remove").text(function(Q){return h[0]&&L(h[0])&&e.key==="source"&&(Q.value==="digitalglobe"||Q.value==="maxar")?"":"\xD7"})}else{var ae=Array.isArray(M[e.key]),he=ae&&M[e.key].map(function(Q){return A(Q)}).filter(Boolean),Ce=!ae&&M[e.key]&&!(e.type==="typeCombo"&&M[e.key]==="yes"),Te=Ce&&!e.hasTextForStringId("options."+M[e.key]),$=Ce&&!Te,W=!l||$;Qe(m,ae?"":A(M[e.key])).classed("raw-value",Te).classed("known-value",$).attr("readonly",W?"readonly":void 0).attr("title",ae?he.join("\n"):void 0).attr("placeholder",ae?F("inspector.multiple_values"):x||"").classed("mixed",ae).on("keydown.deleteCapture",function(Q){if(W&&$&&(Q.keyCode===Re.keyCodes["\u232B"]||Q.keyCode===Re.keyCodes["\u2326"])){Q.preventDefault(),Q.stopPropagation();var H={};H[e.key]=void 0,r.call("change",this,H)}})}};function U(M){var I,z;M.call(Sl().on("start",function(q){I={x:q.x,y:q.y},z=null}).on("drag",function(q){var V=q.x-I.x,Y=q.y-I.y;if(!(!G(this).classed("dragging")&&Math.sqrt(Math.pow(V,2)+Math.pow(Y,2))<=5)){var ee=M.nodes().indexOf(this);G(this).classed("dragging",!0),z=null;var ie=null,se=G(this).node().offsetWidth;e.key==="destination"||e.key==="via"?d.selectAll(".chip").style("transform",function(ve,le){var re=G(this).node();return ee===le?"translate("+V+"px, "+Y+"px)":le>ee&&q.y>re.offsetTop?((z===null||le>z)&&(z=le),"translateY(-100%)"):le<ee&&q.y<re.offsetTop+re.offsetHeight?((z===null||le<z)&&(z=le),"translateY(100%)"):null}):d.selectAll(".chip").each(function(ve,le){var re=G(this).node();ee!==le&&q.x<re.offsetLeft+re.offsetWidth+5&&q.x>re.offsetLeft&&q.y<re.offsetTop+re.offsetHeight&&q.y>re.offsetTop&&(z=le,ie=re.offsetTop)}).style("transform",function(ve,le){var re=G(this).node();if(ee===le)return"translate("+V+"px, "+Y+"px)";if(re.offsetTop===ie){if(le<ee&&le>=z)return"translateX("+se+"px)";if(le>ee&&le<=z)return"translateX(-"+se+"px)"}return null})}}).on("end",function(){if(!!G(this).classed("dragging")){var q=M.nodes().indexOf(this);if(G(this).classed("dragging",!1),d.selectAll(".chip").style("transform",null),typeof z=="number"){var V=b[q];b.splice(q,1),b.splice(z,0,V);var Y={};b.length?Y[e.key]=b.map(function(ee){return ee.key}).join(";"):Y[e.key]=void 0,r.call("change",this,Y)}I=void 0,z=void 0}}))}O.focus=function(){m.node().focus()},O.entityIDs=function(M){return arguments.length?(h=M,O):h};function T(){return h&&h.length&&St(h,t.graph())}return ke(O,r,"on")}function Kn(e,t){var r=be("change"),n=G(null),i=G(null),a=[],o,s={};e.type==="tel"&&Je.get("phone_formats").then(function(b){s=b,c()}).catch(function(){});function l(){var b=(e.id==="brand"||e.id==="network"||e.id==="operator"||e.id==="flag")&&a.length&&a.some(function(h){var g=t.graph().hasEntity(h);if(!g)return!1;if(g.tags.wikidata)return!0;var v=Ie.match(g,t.graph()),x=v&&v.suggestion,_=e.id;return x&&!!g.tags[_]&&!!g.tags[_+":wikidata"]});e.locked(b)}function u(b){l();var h=e.locked(),g=b.selectAll(".form-field-input-wrap").data([0]);if(g=g.enter().append("div").attr("class","form-field-input-wrap form-field-input-"+e.type).merge(g),n=g.selectAll("input").data([0]),n=n.enter().append("input").attr("type",e.type==="identifier"||e.type==="roadheight"?"text":e.type).attr("id",e.domId).classed(e.type,!0).call(et).merge(n),n.classed("disabled",!!h).attr("readonly",h||null).on("input",m(!0)).on("blur",m()).on("change",m()),e.type==="tel")c();else if(e.type==="number"){var v=_e.textDirection()==="rtl";n.attr("type","text");var x=e.increment,_=g.selectAll(".increment, .decrement").data(v?[x,-x]:[-x,x]);_.enter().append("button").attr("class",function(y){var E=y>0?"increment":"decrement";return"form-field-button "+E}).merge(_).on("click",function(y,E){y.preventDefault();var k=n.node().value||"0",A=k.split(";");A=A.map(function(C){var D=parseFloat(C.trim(),10);return isFinite(D)?p(D+E):C.trim()}),n.node().value=A.join(";"),m()()})}else e.type==="identifier"&&e.urlFormat&&e.pattern?(n.attr("type","text"),i=g.selectAll(".foreign-id-permalink").data([0]),i.enter().append("button").call(ce("#iD-icon-out-link")).attr("class","form-field-button foreign-id-permalink").attr("title",function(){var y=/^https?:\/\/(.{1,}?)\//.exec(e.urlFormat);if(y.length>=2&&y[1]){var E=y[1];return F("icons.view_on",{domain:E})}return""}).on("click",function(y){y.preventDefault();var E=d();if(E){var k=e.urlFormat.replace(/{value}/,encodeURIComponent(E));window.open(k,"_blank")}}).merge(i)):e.type==="url"&&(n.attr("type","text"),i=g.selectAll(".foreign-id-permalink").data([0]),i.enter().append("button").call(ce("#iD-icon-out-link")).attr("class","form-field-button foreign-id-permalink").attr("title",function(){return F("icons.visit_website")}).on("click",function(y){y.preventDefault();var E=d();E&&window.open(E,"_blank")}).merge(i))}function c(){if(!(n.empty()||!Object.keys(s).length)){var b=w(),h=b&&fo(b.center()),g=h&&s[h.toLowerCase()];g&&n.attr("placeholder",g)}}function d(){var b=Qe(n).trim().split(";")[0];return e.type==="url"&&b?b:e.type==="identifier"&&e.pattern?b&&b.match(new RegExp(e.pattern)):null}function p(b){return e.minValue!==void 0&&(b=Math.max(b,e.minValue)),e.maxValue!==void 0&&(b=Math.min(b,e.maxValue)),b}function m(b){return function(){var h={},g=Qe(n);if(b||(g=t.cleanTagValue(g)),!(!g&&Array.isArray(o[e.key]))){if(!b){if(e.type==="number"&&g){var v=g.split(";");v=v.map(function(x){var _=parseFloat(x.trim(),10);return isFinite(_)?p(_):x.trim()}),g=v.join(";")}Qe(n,g)}h[e.key]=g||void 0,r.call("change",this,h,b)}}}u.entityIDs=function(b){return arguments.length?(a=b,u):a},u.tags=function(b){o=b;var h=Array.isArray(b[e.key]);if(Qe(n,!h&&b[e.key]?b[e.key]:"").attr("title",h?b[e.key].filter(Boolean).join("\n"):void 0).attr("placeholder",h?F("inspector.multiple_values"):e.placeholder()||F("inspector.unknown")).classed("mixed",h),i&&!i.empty()){var g=!d();i.classed("disabled",g)}},u.focus=function(){var b=n.node();b&&b.focus()};function w(){return a&&a.length&&St(a,t.graph())}return ke(u,r,"on")}function D8(e,t){var r=be("change"),n=G(null),i;function a(l){var u=l.selectAll(".form-field-input-wrap").data([0]);u=u.enter().append("div").attr("class","form-field-input-wrap form-field-input-"+e.type).merge(u);var c=u.selectAll("ul").data([0]);c=c.enter().append("ul").attr("class","rows").merge(c),n=c.selectAll("li").data(e.keys);var d=n.enter().append("li").attr("class",function(p){return"labeled-input preset-access-"+p});d.append("span").attr("class","label preset-label-access").attr("for",function(p){return"preset-input-access-"+p}).html(function(p){return e.t.html("types."+p)}),d.append("div").attr("class","preset-input-access-wrap").append("input").attr("type","text").attr("class",function(p){return"preset-input-access preset-input-access-"+p}).call(et).each(function(p){G(this).call(Ft(t,"access-"+p).data(a.options(p)))}),n=n.merge(d),u.selectAll(".preset-input-access").on("change",o).on("blur",o)}function o(l,u){var c={},d=t.cleanTagValue(Qe(G(this)));!d&&typeof i[u]!="string"||(c[u]=d||void 0,r.call("change",this,c))}a.options=function(l){var u=["no","permissive","private","permit","destination"];return l!=="access"&&(u.unshift("yes"),u.push("designated"),l==="bicycle"&&u.push("dismount")),u.map(function(c){return{title:e.t("options."+c+".description"),value:c}})};var s={footway:{foot:"designated",motor_vehicle:"no"},steps:{foot:"yes",motor_vehicle:"no",bicycle:"no",horse:"no"},pedestrian:{foot:"yes",motor_vehicle:"no"},cycleway:{motor_vehicle:"no",bicycle:"designated"},bridleway:{motor_vehicle:"no",horse:"designated"},path:{foot:"yes",motor_vehicle:"no",bicycle:"yes",horse:"yes"},motorway:{foot:"no",motor_vehicle:"yes",bicycle:"no",horse:"no"},trunk:{motor_vehicle:"yes"},primary:{foot:"yes",motor_vehicle:"yes",bicycle:"yes",horse:"yes"},secondary:{foot:"yes",motor_vehicle:"yes",bicycle:"yes",horse:"yes"},tertiary:{foot:"yes",motor_vehicle:"yes",bicycle:"yes",horse:"yes"},residential:{foot:"yes",motor_vehicle:"yes",bicycle:"yes",horse:"yes"},unclassified:{foot:"yes",motor_vehicle:"yes",bicycle:"yes",horse:"yes"},service:{foot:"yes",motor_vehicle:"yes",bicycle:"yes",horse:"yes"},motorway_link:{foot:"no",motor_vehicle:"yes",bicycle:"no",horse:"no"},trunk_link:{motor_vehicle:"yes"},primary_link:{foot:"yes",motor_vehicle:"yes",bicycle:"yes",horse:"yes"},secondary_link:{foot:"yes",motor_vehicle:"yes",bicycle:"yes",horse:"yes"},tertiary_link:{foot:"yes",motor_vehicle:"yes",bicycle:"yes",horse:"yes"}};return a.tags=function(l){i=l,Qe(n.selectAll(".preset-input-access"),function(u){return typeof l[u]=="string"?l[u]:""}).classed("mixed",function(u){return l[u]&&Array.isArray(l[u])}).attr("title",function(u){return l[u]&&Array.isArray(l[u])&&l[u].filter(Boolean).join("\n")}).attr("placeholder",function(u){if(l[u]&&Array.isArray(l[u]))return F("inspector.multiple_values");if(u==="access")return"yes";if(l.access&&typeof l.access=="string")return l.access;if(l.highway)if(typeof l.highway=="string"){if(s[l.highway]&&s[l.highway][u])return s[l.highway][u]}else{var c=l.highway.filter(Boolean).map(function(d){return s[d]&&s[d][u]}).filter(Boolean);if(c.length===l.highway.length&&new Set(c).size===1)return c[0]}return e.placeholder()})},a.focus=function(){n.selectAll(".preset-input-access").node().focus()},ke(a,r,"on")}function S8(e,t){var r=be("change"),n=G(null),i=G(null),a=Ie.field("address"),o=[],s,l,u=[{format:[["housenumber","street"],["city","postcode"]]}];Je.get("address_formats").then(function(x){u=x,n.empty()||n.call(w)}).catch(function(){});function c(){var x=v(),_=x.center(),y=new Ne(_).padByMeters(200),E=t.history().intersects(y).filter(k).map(function(A){var C=t.projection([(x.min[0]+x.max[0])/2,(x.min[1]+x.max[1])/2]),D=Zr(t.graph().childNodes(A),C,t.projection);return{title:A.tags.name,value:A.tags.name,dist:D.distance}}).sort(function(A,C){return A.dist-C.dist});return O1(E,"value");function k(A){return A.tags.highway&&A.tags.name&&A.type==="way"}}function d(){var x=v(),_=x.center(),y=new Ne(_).padByMeters(200),E=t.history().intersects(y).filter(k).map(function(A){return{title:A.tags["addr:city"]||A.tags.name,value:A.tags["addr:city"]||A.tags.name,dist:bt(A.extent(t.graph()).center(),_)}}).sort(function(A,C){return A.dist-C.dist});return O1(E,"value");function k(A){return!!(A.tags.name&&(A.tags.admin_level==="8"&&A.tags.boundary==="administrative"||A.tags.border_type==="city"||A.tags.place==="city"||A.tags.place==="town"||A.tags.place==="village")||A.tags["addr:city"])}}function p(x){var _=v(),y=_.center(),E=new Ne(y).padByMeters(200),k=t.history().intersects(E).filter(function(C){return o.indexOf(C.id)===-1&&C.tags[x]}).map(function(A){return{title:A.tags[x],value:A.tags[x],dist:bt(A.extent(t.graph()).center(),y)}}).sort(function(A,C){return A.dist-C.dist});return O1(k,"value")}function m(){if(!l)return;for(var x,_=0;_<u.length;_++){var y=u[_];if(!y.countryCodes)x=y;else if(y.countryCodes.indexOf(l)!==-1){x=y;break}}var E=x.dropdowns||["city","county","country","district","hamlet","neighbourhood","place","postcode","province","quarter","state","street","subdistrict","suburb"],k=x.widths||{housenumber:1/3,street:2/3,city:2/3,state:1/4,postcode:1/3};function A(S){var N=S.reduce(function(R,P){return R+(k[P]||.5)},0);return S.map(function(R){return{id:R,width:(k[R]||.5)/N}})}var C=i.selectAll(".addr-row").data(x.format,function(S){return S.toString()});C.exit().remove(),C.enter().append("div").attr("class","addr-row").selectAll("input").data(A).enter().append("input").property("type","text").call(h).attr("class",function(S){return"addr-"+S.id}).call(et).each(D).style("width",function(S){return S.width*100+"%"});function D(S){if(E.indexOf(S.id)!==-1){var N=S.id==="street"?c:S.id==="city"?d:p;G(this).call(Ft(t,"address-"+S.id).minItems(1).caseSensitive(!0).fetcher(function(R,P){P(N("addr:"+S.id))}))}}i.selectAll("input").on("blur",b()).on("change",b()),i.selectAll("input:not(.combobox-input)").on("input",b(!0)),s&&g(s)}function w(x){n=x,i=x.selectAll(".form-field-input-wrap").data([0]),i=i.enter().append("div").attr("class","form-field-input-wrap form-field-input-"+e.type).merge(i);var _=v();if(_){var y;if(t.inIntro())y=F("intro.graph.countrycode");else{var E=_.center();y=fo(E)}y&&(l=y.toLowerCase(),m())}}function b(x){return function(){var _={};i.selectAll("input").each(function(y){var E=e.key+":"+y.id,k=this.value;x||(k=t.cleanTagValue(k)),!(Array.isArray(s[E])&&!k)&&(_[E]=k||void 0)}),r.call("change",this,_,x)}}function h(x){return x.attr("placeholder",function(_){if(s&&Array.isArray(s[e.key+":"+_.id]))return F("inspector.multiple_values");if(l){var y=_.id+"!"+l,E=a.hasTextForStringId("placeholders."+y)?y:_.id;return a.t("placeholders."+E)}})}function g(x){Qe(i.selectAll("input"),function(_){var y=x[e.key+":"+_.id];return typeof y=="string"?y:""}).attr("title",function(_){var y=x[e.key+":"+_.id];return y&&Array.isArray(y)&&y.filter(Boolean).join("\n")}).classed("mixed",function(_){return Array.isArray(x[e.key+":"+_.id])}).call(h)}function v(){return o&&o.length&&St(o,t.graph())}return w.entityIDs=function(x){return arguments.length?(o=x,w):o},w.tags=function(x){s=x,g(x)},w.focus=function(){var x=i.selectAll("input").node();x&&x.focus()},ke(w,r,"on")}function F8(e,t){var r=be("change"),n=G(null),i=G(null),a;function o(l){function u(m){return m.replace(":","")}i=l.selectAll(".form-field-input-wrap").data([0]),i=i.enter().append("div").attr("class","form-field-input-wrap form-field-input-"+e.type).merge(i);var c=i.selectAll("ul").data([0]);c=c.enter().append("ul").attr("class","rows").merge(c);var d=["cycleway:left","cycleway:right"];n=c.selectAll("li").data(d);var p=n.enter().append("li").attr("class",function(m){return"labeled-input preset-cycleway-"+u(m)});p.append("span").attr("class","label preset-label-cycleway").attr("for",function(m){return"preset-input-cycleway-"+u(m)}).html(function(m){return e.t.html("types."+m)}),p.append("div").attr("class","preset-input-cycleway-wrap").append("input").attr("type","text").attr("class",function(m){return"preset-input-cycleway preset-input-"+u(m)}).call(et).each(function(m){G(this).call(Ft(t,"cycleway-"+u(m)).data(o.options(m)))}),n=n.merge(p),i.selectAll(".preset-input-cycleway").on("change",s).on("blur",s)}function s(l,u){var c=t.cleanTagValue(Qe(G(this)));if(!(!c&&(Array.isArray(a.cycleway)||Array.isArray(a[u])))){(c==="none"||c==="")&&(c=void 0);var d=u==="cycleway:left"?"cycleway:right":"cycleway:left",p=typeof a.cycleway=="string"?a.cycleway:a[d];p&&Array.isArray(p)&&(p=p[0]),(p==="none"||p==="")&&(p=void 0);var m={};c===p?m={cycleway:c,"cycleway:left":void 0,"cycleway:right":void 0}:(m={cycleway:void 0},m[u]=c,m[d]=p),r.call("change",this,m)}}return o.options=function(){return e.options.map(function(l){return{title:e.t("options."+l+".description"),value:l}})},o.tags=function(l){a=l;var u=typeof l.cycleway=="string"&&l.cycleway;Qe(n.selectAll(".preset-input-cycleway"),function(c){return u||(!l.cycleway&&typeof l[c]=="string"?l[c]:"")}).attr("title",function(c){if(Array.isArray(l.cycleway)||Array.isArray(l[c])){var d=[];return Array.isArray(l.cycleway)&&(d=d.concat(l.cycleway)),Array.isArray(l[c])&&(d=d.concat(l[c])),d.filter(Boolean).join("\n")}return null}).attr("placeholder",function(c){return Array.isArray(l.cycleway)||Array.isArray(l[c])?F("inspector.multiple_values"):e.placeholder()}).classed("mixed",function(c){return Array.isArray(l.cycleway)||Array.isArray(l[c])})},o.focus=function(){var l=i.selectAll("input").node();l&&l.focus()},ke(o,r,"on")}function d5(e,t){var r=be("change"),n=40,i=200,a=[];function o(s){var l=t.entity(a[0]).lanes();if(!t.container().select(".inspector-wrap.inspector-hidden").empty()||!s.node().parentNode){s.call(o.off);return}var u=s.selectAll(".form-field-input-wrap").data([0]);u=u.enter().append("div").attr("class","form-field-input-wrap form-field-input-"+e.type).merge(u);var c=u.selectAll(".surface").data([0]),d=yn(u),p=d[0]-l.lanes.length*n*1.5+n*.5;c=c.enter().append("svg").attr("width",d[0]).attr("height",300).attr("class","surface").merge(c);var m=c.selectAll(".lanes").data([0]);m=m.enter().append("g").attr("class","lanes").merge(m),m.attr("transform",function(){return"translate("+p/2+", 0)"});var w=m.selectAll(".lane").data(l.lanes);w.exit().remove();var b=w.enter().append("g").attr("class","lane");b.append("g").append("rect").attr("y",50).attr("width",n).attr("height",i),b.append("g").attr("class","forward").append("text").attr("y",40).attr("x",14).html("\u25B2"),b.append("g").attr("class","bothways").append("text").attr("y",40).attr("x",14).html("\u25B2\u25BC"),b.append("g").attr("class","backward").append("text").attr("y",40).attr("x",14).html("\u25BC"),w=w.merge(b),w.attr("transform",function(h){return"translate("+n*h.index*1.5+", 0)"}),w.select(".forward").style("visibility",function(h){return h.direction==="forward"?"visible":"hidden"}),w.select(".bothways").style("visibility",function(h){return h.direction==="bothways"?"visible":"hidden"}),w.select(".backward").style("visibility",function(h){return h.direction==="backward"?"visible":"hidden"})}return o.entityIDs=function(s){a=s},o.tags=function(){},o.focus=function(){},o.off=function(){},ke(o,r,"on")}d5.supportsMultiselection=!1;var b4=[];function T8(e,t){var r=be("change","input"),n=ue.wikipedia,i=G(null),a=G(null),o,s;Je.get("languages").then(b).catch(function(){});var l={};Je.get("territory_languages").then(function(D){l=D}).catch(function(){});var u=Ft(t,"localized-lang").fetcher(E).minItems(0),c=G(null),d=[],p=Pe().title(F.html("translate.translate")).placement("left"),m,w=[];function b(D){if(b4.length===0){var S={sr:"sr-Cyrl","sr-Cyrl":!1};for(var N in D)if(S[N]!==!1){var R=N;S[N]&&(R=S[N]),b4.push({localName:_e.languageName(R,{localOnly:!0}),nativeName:D[R].nativeName,code:N,label:_e.languageName(R)})}}}function h(){var D=e.id==="name"&&w.length&&w.some(function(S){var N=t.graph().hasEntity(S);if(!N)return!1;if(N.tags.wikidata||N.tags["name:etymology:wikidata"])return!0;var R=Ie.match(N,t.graph());if(R){var P=R.suggestion,L=R.fields(),B=L.some(function(I){return I.id==="brand"}),O=L.some(function(I){return I.id==="operator"}),U=R.addTags.name,T=R.addTags["brand:wikidata"],M=R.addTags["operator:wikidata"];return P&&U&&(T&&!B||M&&!O)}return!1});e.locked(D)}function g(D){var S=d.map(function(B){return B.lang}),N=new Set(S.filter(Boolean));for(var R in D){var P=R.match(/^(.*):(.*)$/);if(P&&P[1]===e.key&&P[2]){var L={lang:P[2],value:D[R]};N.has(L.lang)?(d[S.indexOf(L.lang)].value=L.value,N.delete(L.lang)):d.push(L)}}d.forEach(function(B){B.lang&&N.has(B.lang)&&(B.value="")})}function v(D){c=D,h();var S=e.locked(),N=D.selectAll(".form-field-input-wrap").data([0]);N=N.enter().append("div").attr("class","form-field-input-wrap form-field-input-"+e.type).merge(N),i=N.selectAll(".localized-main").data([0]),i=i.enter().append("input").attr("type","text").attr("id",e.domId).attr("class","localized-main").call(et).merge(i),i.classed("disabled",!!S).attr("readonly",S||null).on("input",L(!0)).on("blur",L()).on("change",L());var R=N.selectAll(".localized-add").data([0]);R=R.enter().append("button").attr("class","localized-add form-field-button").call(ce("#iD-icon-plus")).merge(R),R.classed("disabled",!!S).call(S?p.destroy:p).on("click",P),s&&!d.length&&g(s),a=D.selectAll(".localized-multilingual").data([0]),a=a.enter().append("div").attr("class","localized-multilingual").merge(a),a.call(k),a.selectAll("button, input").classed("disabled",!!S).attr("readonly",S||null);function P(B){if(B.preventDefault(),!e.locked()){var O=_e.languageCode().toLowerCase(),U=d.find(function(M){return M.lang===O}),T=O.indexOf("en")>-1;(T||U)&&(O="",U=d.find(function(M){return M.lang===O})),U||(d.unshift({lang:O,value:""}),a.call(k))}}function L(B){return function(O){if(e.locked()){O.preventDefault();return}var U=Qe(G(this));if(B||(U=t.cleanTagValue(U)),!(!U&&Array.isArray(s[e.key]))){var T={};T[e.key]=U||void 0,r.call("change",this,T,B)}}}}function x(D){return e.key+":"+D}function _(D,S){var N={},R=Qe(G(this)).toLowerCase(),P=b4.find(function(O){return O.label.toLowerCase()===R||O.localName&&O.localName.toLowerCase()===R||O.nativeName&&O.nativeName.toLowerCase()===R});P&&(R=P.code),S.lang&&S.lang!==R&&(N[x(S.lang)]=void 0);var L=R&&t.cleanTagKey(x(R)),B=Qe(G(this.parentNode).selectAll(".localized-value"));L&&B?N[L]=B:L&&m&&m[S.lang]&&(N[L]=m[S.lang]),S.lang=R,r.call("change",this,N)}function y(D,S){if(!!S.lang){var N=t.cleanTagValue(Qe(G(this)))||void 0;if(!(!N&&Array.isArray(S.value))){var R={};R[x(S.lang)]=N,S.value=N,r.call("change",this,R)}}}function E(D,S){var N=D.toLowerCase(),R=[_e.localeCode(),_e.languageCode()];o&&l[o]&&(R=R.concat(l[o]));var P=[];R.forEach(function(L){var B=b4.find(function(O){return O.code===L});B&&P.push(B)}),P=Ve(P.concat(b4)),S(P.filter(function(L){return L.label.toLowerCase().indexOf(N)>=0||L.localName&&L.localName.toLowerCase().indexOf(N)>=0||L.nativeName&&L.nativeName.toLowerCase().indexOf(N)>=0||L.code.toLowerCase().indexOf(N)>=0}).map(function(L){return{value:L.label}}))}function k(D){var S=D.selectAll("div.entry").data(d,function(R){return R.lang});S.exit().style("top","0").style("max-height","240px").transition().duration(200).style("opacity","0").style("max-height","0px").remove();var N=S.enter().append("div").attr("class","entry").each(function(R,P){var L=G(this),B=li(P),O=L.append("label").attr("class","field-label").attr("for",B),U=O.append("span").attr("class","label-text");U.append("span").attr("class","label-textvalue").html(F.html("translate.localized_translation_label")),U.append("span").attr("class","label-textannotation"),O.append("button").attr("class","remove-icon-multilingual").on("click",function(T,M){if(!e.locked()){T.preventDefault(),d.splice(d.indexOf(M),1);var I=M.lang&&x(M.lang);if(I&&I in s){delete s[I];var z={};z[I]=void 0,r.call("change",this,z);return}k(D)}}).call(ce("#iD-operation-delete")),L.append("input").attr("class","localized-lang").attr("id",B).attr("type","text").attr("placeholder",F("translate.localized_translation_language")).on("blur",_).on("change",_).call(u),L.append("input").attr("type","text").attr("class","localized-value").on("blur",y).on("change",y)});N.style("margin-top","0px").style("max-height","0px").style("opacity","0").transition().duration(200).style("margin-top","10px").style("max-height","240px").style("opacity","1").on("end",function(){G(this).style("max-height","").style("overflow","visible")}),S=S.merge(N),S.order(),S.classed("present",!0),Qe(S.select(".localized-lang"),function(R){var P=b4.find(function(L){return L.code===R.lang});return P?P.label:R.lang}),Qe(S.select(".localized-value"),function(R){return typeof R.value=="string"?R.value:""}).attr("title",function(R){return Array.isArray(R.value)?R.value.filter(Boolean).join("\n"):null}).attr("placeholder",function(R){return Array.isArray(R.value)?F("inspector.multiple_values"):F("translate.localized_translation_name")}).classed("mixed",function(R){return Array.isArray(R.value)})}v.tags=function(D){if(s=D,typeof D.wikipedia=="string"&&!m){m={};var S=D.wikipedia.match(/([^:]+):(.+)/);S&&S[0]&&S[1]&&n.translations(S[1],S[2],function(R,P){R||!P||(m=P)})}var N=Array.isArray(D[e.key]);Qe(i,typeof D[e.key]=="string"?D[e.key]:"").attr("title",N?D[e.key].filter(Boolean).join("\n"):void 0).attr("placeholder",N?F("inspector.multiple_values"):e.placeholder()).classed("mixed",N),g(D),c.call(v)},v.focus=function(){i.node().focus()},v.entityIDs=function(D){return arguments.length?(w=D,d=[],A(),v):w};function A(){var D=C(),S=D&&fo(D.center());o=S&&S.toLowerCase()}function C(){return w&&w.length&&St(w,t.graph())}return ke(v,r,"on")}function M8(e,t){var r=be("change"),n=G(null),i=G(null),a=[],o,s,l=Ft(t,"roadspeed"),u=Ft(t,"roadspeed-unit").data(["km/h","mph"].map(w)),c=[20,30,40,50,60,70,80,90,100,110,120],d=[5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80];function p(g){var v=g.selectAll(".form-field-input-wrap").data([0]);v=v.enter().append("div").attr("class","form-field-input-wrap form-field-input-"+e.type).merge(v),i=v.selectAll("input.roadspeed-number").data([0]),i=i.enter().append("input").attr("type","text").attr("class","roadspeed-number").attr("id",e.domId).call(et).call(l).merge(i),i.on("change",b).on("blur",b);var x=h().center();s=Yh(x)==="mph",n=v.selectAll("input.roadspeed-unit").data([0]),n=n.enter().append("input").attr("type","text").attr("class","roadspeed-unit").call(u).merge(n),n.on("blur",_).on("change",_);function _(){s=Qe(n)==="mph",Qe(n,s?"mph":"km/h"),m(),b()}}function m(){l.data((s?d:c).map(w)),Qe(n,s?"mph":"km/h")}function w(g){return{value:g.toString(),title:g.toString()}}function b(){var g={},v=Qe(i).trim();!v&&Array.isArray(o[e.key])||(v?isNaN(v)||!s?g[e.key]=t.cleanTagValue(v):g[e.key]=t.cleanTagValue(v+" mph"):g[e.key]=void 0,r.call("change",this,g))}p.tags=function(g){o=g;var v=g[e.key],x=Array.isArray(v);x||(v&&v.indexOf("mph")>=0?(v=parseInt(v,10).toString(),s=!0):v&&(s=!1)),m(),Qe(i,typeof v=="string"?v:"").attr("title",x?v.filter(Boolean).join("\n"):null).attr("placeholder",x?F("inspector.multiple_values"):e.placeholder()).classed("mixed",x)},p.focus=function(){i.node().focus()},p.entityIDs=function(g){a=g};function h(){return a&&a.length&&St(a,t.graph())}return ke(p,r,"on")}function k0(e,t){var r=be("change"),n=G(null),i=G(null),a=G(null),o=G(null),s=(e.options||e.keys).slice(),l,u,c={},d=[];function p(){var v=i.selectAll(".form-field-input-radio label.active input");return!v.empty()&&v.datum()}function m(v){v.classed("preset-radio",!0),i=v.selectAll(".form-field-input-wrap").data([0]);var x=i.enter().append("div").attr("class","form-field-input-wrap form-field-input-radio");x.append("span").attr("class","placeholder"),i=i.merge(x),n=i.selectAll(".placeholder"),a=i.selectAll("label").data(s),x=a.enter().append("label"),x.append("input").attr("type","radio").attr("name",e.id).attr("value",function(_){return e.t("options."+_,{default:_})}).attr("checked",!1),x.append("span").html(function(_){return e.t.html("options."+_,{default:_})}),a=a.merge(x),o=a.selectAll("input").on("change",g)}function w(v,x){var _=p()||x.layer!==void 0,y=Ie.field(_),E=Ie.field("layer"),k=_==="bridge"||_==="tunnel"||x.layer!==void 0,A=v.selectAll(".structure-extras-wrap").data(_?[0]:[]);A.exit().remove(),A=A.enter().append("div").attr("class","structure-extras-wrap").merge(A);var C=A.selectAll("ul").data([0]);C=C.enter().append("ul").attr("class","rows").merge(C),y?((!l||l.id!==_)&&(l=ii(t,y,d,{wrap:!1}).on("change",b)),l.tags(x)):l=null;var D=C.selectAll(".structure-type-item").data(l?[l]:[],function(P){return P.id});D.exit().remove();var S=D.enter().insert("li",":first-child").attr("class","labeled-input structure-type-item");S.append("span").attr("class","label structure-label-type").attr("for","preset-input-"+_).html(F.html("inspector.radio.structure.type")),S.append("div").attr("class","structure-input-type-wrap"),D=D.merge(S),l&&D.selectAll(".structure-input-type-wrap").call(l.render),E&&k?(u||(u=ii(t,E,d,{wrap:!1}).on("change",h)),u.tags(x),e.keys=Yt(e.keys,["layer"])):(u=null,e.keys=e.keys.filter(function(P){return P!=="layer"}));var N=C.selectAll(".structure-layer-item").data(u?[u]:[]);N.exit().remove();var R=N.enter().append("li").attr("class","labeled-input structure-layer-item");R.append("span").attr("class","label structure-label-layer").attr("for","preset-input-layer").html(F.html("inspector.radio.structure.layer")),R.append("div").attr("class","structure-input-layer-wrap"),N=N.merge(R),u&&N.selectAll(".structure-input-layer-wrap").call(u.render)}function b(v,x){var _=p();if(!!_){var y=v[_];y!=="no"&&(c[_]=y),e.type==="structureRadio"&&((y==="no"||_!=="bridge"&&_!=="tunnel"||_==="tunnel"&&y==="building_passage")&&(v.layer=void 0),v.layer===void 0&&(_==="bridge"&&y!=="no"&&(v.layer="1"),_==="tunnel"&&y!=="no"&&y!=="building_passage"&&(v.layer="-1"))),r.call("change",this,v,x)}}function h(v,x){v.layer==="0"&&(v.layer=void 0),r.call("change",this,v,x)}function g(){var v={},x;e.key&&(v[e.key]=void 0),o.each(function(_){var y=G(this).property("checked");if(y&&(x=_),e.key)y&&(v[e.key]=_);else{var E=c[x]||"yes";v[_]=y?E:void 0}}),e.type==="structureRadio"&&(x==="bridge"?v.layer="1":x==="tunnel"&&v.tunnel!=="building_passage"?v.layer="-1":v.layer=void 0),r.call("change",this,v)}return m.tags=function(v){o.property("checked",function(y){return e.key?v[e.key]===y:typeof v[y]=="string"&&v[y].toLowerCase()!=="no"});function x(y){return e.key?Array.isArray(v[e.key])&&v[e.key].includes(y):Array.isArray(v[y])}a.classed("active",function(y){return e.key?Array.isArray(v[e.key])&&v[e.key].includes(y)||v[e.key]===y:Array.isArray(v[y])||!!(v[y]&&v[y].toLowerCase()!=="no")}).classed("mixed",x).attr("title",function(y){return x(y)?F("inspector.unshared_value_tooltip"):null});var _=o.filter(function(){return this.checked});_.empty()?n.html(F.html("inspector.none")):(n.html(_.attr("value")),c[_.datum()]=v[_.datum()]),e.type==="structureRadio"&&(!!v.waterway&&!c.tunnel&&(c.tunnel="culvert"),i.call(w,v))},m.focus=function(){o.node().focus()},m.entityIDs=function(v){return arguments.length?(d=v,c={},m):d},m.isAllowed=function(){return d.length===1},ke(m,r,"on")}function p5(e,t){var r=be("change"),n=qn(t);pe("turn-restriction-via-way",null);var i=pe("turn-restriction-via-way0"),a=pe("turn-restriction-distance"),o=i!==null?+i:0,s=a?+a:30,l=!1,u=G(null),c=G(null),d,p,m,w,b,h;function g(k){u=k,m&&(t.graph()!==p||!w)&&(p=t.graph(),w=Cu(p,m,s));var A=w&&w.vertices.length&&w.vertices.filter(function(R){return R.id===m}).length&&w.ways.length>2&&w.ways.filter(function(R){return R.__to}).length>1;if(G(k.node().parentNode).classed("hide",!A),!A||!t.container().select(".inspector-wrap.inspector-hidden").empty()||!k.node().parentNode||!k.node().parentNode.parentNode){k.call(g.off);return}var C=k.selectAll(".form-field-input-wrap").data([0]);C=C.enter().append("div").attr("class","form-field-input-wrap form-field-input-"+e.type).merge(C);var D=C.selectAll(".restriction-container").data([0]),S=D.enter().append("div").attr("class","restriction-container");S.append("div").attr("class","restriction-help"),c=S.merge(D).call(x);var N=C.selectAll(".restriction-controls").data([0]);N.enter().append("div").attr("class","restriction-controls-container").append("div").attr("class","restriction-controls").merge(N).call(v)}function v(k){var A=k.selectAll(".restriction-distance").data([0]);A.exit().remove();var C=A.enter().append("div").attr("class","restriction-control restriction-distance");C.append("span").attr("class","restriction-control-label restriction-distance-label").html(F.html("restriction.controls.distance")+":"),C.append("input").attr("class","restriction-distance-input").attr("type","range").attr("min","20").attr("max","50").attr("step","5"),C.append("span").attr("class","restriction-distance-text"),k.selectAll(".restriction-distance-input").property("value",s).on("input",function(){var N=G(this).property("value");s=+N,w=null,c.selectAll(".layer-osm .layer-turns *").remove(),pe("turn-restriction-distance",s),u.call(g)}),k.selectAll(".restriction-distance-text").html(_(s));var D=k.selectAll(".restriction-via-way").data([0]);D.exit().remove();var S=D.enter().append("div").attr("class","restriction-control restriction-via-way");S.append("span").attr("class","restriction-control-label restriction-via-way-label").html(F.html("restriction.controls.via")+":"),S.append("input").attr("class","restriction-via-way-input").attr("type","range").attr("min","0").attr("max","2").attr("step","1"),S.append("span").attr("class","restriction-via-way-text"),k.selectAll(".restriction-via-way-input").property("value",o).on("input",function(){var N=G(this).property("value");o=+N,c.selectAll(".layer-osm .layer-turns *").remove(),pe("turn-restriction-via-way0",o),u.call(g)}),k.selectAll(".restriction-via-way-text").html(y(o))}function x(k){if(!w)return;var A=w.graph,C=_t(!0),D=xi(),S=yn(t.container().select(".sidebar")),N=[S[0]-50,370],R=Ni(N,.5),P=22;D.scale(Qr(P));var L=w.vertices.reduce(function($,W){return $.min=[Math.min($.min[0],W.loc[0]),Math.min($.min[1],W.loc[1])],$.max=[Math.max($.max[0],W.loc[0]),Math.max($.max[1],W.loc[1])],$},new Ne);if(w.vertices.length>1){var B=180,O=D([L.min[0],L.max[1]]),U=D([L.max[0],L.min[1]]),T=(U[0]-O[0])/(N[0]-B),M=(U[1]-O[1])/(N[1]-B),I=Math.log(Math.abs(T))/Math.LN2,z=Math.log(Math.abs(M))/Math.LN2;P=P-Math.max(I,z),D.scale(Qr(P))}var q=35,V=D(L.center());V[1]=V[1]-q,D.translate(Lt(R,V)).clipExtent([[0,0],N]);var Y=Ws(D,t).only(["osm","touch"]).dimensions(N),ee=f4(D,t),ie=c4(D,t),se=G3(D,t),ve=k.selectAll(".surface").empty();k.call(Y);var le=k.selectAll(".surface").classed("tr",!0);ve&&(l=!0,le.call(n)),b&&!A.hasEntity(b)&&(b=null,d=null),le.call(v0,N).call(ee,A,w.vertices,C,L,P).call(ie,A,w.ways,C).call(se,A,w.turns(b,o)),le.on("click.restrictions",Ae).on("mouseover.restrictions",ae),le.selectAll(".selected").classed("selected",!1),le.selectAll(".related").classed("related",!1);var re;b&&(re=A.entity(b),le.selectAll("."+b).classed("selected",!0).classed("related",!0)),document.addEventListener("resizeWindow",function(){v0(c,null),he(1)},!1),Te(null);function Ae($){le.call(n.off).call(n);var W=$.target.__data__,Q=W&&W.properties&&W.properties.entity;if(Q&&(W=Q),W instanceof Pt&&(W.__from||W.__via))b=W.id,d=null,he();else if(W instanceof bo){var H,K,Z,te,fe=ks(A,W,D);if(W.restrictionID&&!W.direct)return;if(W.restrictionID&&!W.only){var de={},xe=JSON.parse(JSON.stringify(W));for(xe.only=!0,fe=fe.replace(/^no/,"only"),Z=w.turns(b,2),K=[],d=[],te=0;te<Z.length;te++){var Oe=Z[te];de[Oe.restrictionID]||Oe.direct&&Oe.path[1]===W.path[1]&&(de[Z[te].restrictionID]=!0,Oe.restrictionType=ks(A,Oe,D),d.push(Oe),K.push(i0(Oe)))}H=w.actions.concat(K,[Ds(xe,fe),F("operations.restriction.annotation.create")])}else if(W.restrictionID){for(Z=d||[],K=[],te=0;te<Z.length;te++)Z[te].key!==W.key&&K.push(Ds(Z[te],Z[te].restrictionType));d=null,H=w.actions.concat(K,[i0(W),F("operations.restriction.annotation.delete")])}else H=w.actions.concat([Ds(W,fe),F("operations.restriction.annotation.create")]);t.perform.apply(t,H);var Be=le.selectAll("."+W.key);W=Be.empty()?null:Be.datum(),Te(W)}else b=null,d=null,he()}function ae($){var W=$.target.__data__;Te(W)}h=h||S[0];function he($){var W=-1;$&&(W=yn(t.container().select(".sidebar"))[0]),(!$||$&&Math.abs(W-h)>=$)&&t.hasEntity(m)&&(h=W,c.call(x))}function Ce($){if(le.selectAll(".related").classed("related",!1).classed("allow",!1).classed("restrict",!1).classed("only",!1),le.selectAll("."+$).classed("related",!0),$)for(var W=w.turns($,o),Q=0;Q<W.length;Q++){var H=W[Q],K=[H.to.way],Z=H.no?"restrict":H.only?"only":"allow";if(H.only||W.length===1)H.via.ways&&(K=K.concat(H.via.ways));else if(H.to.way===$)continue;le.selectAll(Fi(K)).classed("related",!0).classed("allow",Z==="allow").classed("restrict",Z==="restrict").classed("only",Z==="only")}}function Te($){var W=c.selectAll(".restriction-help").html(""),Q={};["from","via","to"].forEach(function(Ke){Q[Ke]='<span class="qualifier">'+F("restriction.help."+Ke)+"</span>"});var H=$&&$.properties&&$.properties.entity;if(H&&($=H),b&&(re=A.entity(b),le.selectAll("."+b).classed("selected",!0).classed("related",!0)),$ instanceof Pt&&$.__from){re=$,Ce(b?null:re.id),le.selectAll("."+re.id).classed("related",!0);var K=!b||b!==re.id;W.append("div").html(F.html("restriction.help."+(K?"select_from_name":"from_name"),{from:Q.from,fromName:E(re.id,A)}))}else if($ instanceof bo){var Z=ks(A,$,D),te=Z.replace(/^(only|no)\_/,""),fe=$.direct===!1?F.html("restriction.help.indirect"):"",de,xe,Oe;if($.no?(de="restrict",xe=F.html("restriction.help.turn.no_"+te,{indirect:fe}),Oe=F.html("restriction.help.turn.only_"+te,{indirect:""})):$.only?(de="only",xe=F.html("restriction.help.turn.only_"+te,{indirect:fe}),Oe=F.html("restriction.help.turn.allowed_"+te,{indirect:""})):(de="allow",xe=F.html("restriction.help.turn.allowed_"+te,{indirect:fe}),Oe=F.html("restriction.help.turn.no_"+te,{indirect:""})),W.append("div").attr("class","qualifier "+de).html(xe),W.append("div").html(F.html("restriction.help.from_name_to_name",{from:Q.from,fromName:E($.from.way,A),to:Q.to,toName:E($.to.way,A)})),$.via.ways&&$.via.ways.length){for(var Be=[],Ge=0;Ge<$.via.ways.length;Ge++){var nt=Be[Be.length-1],Ye=E($.via.ways[Ge],A);(!nt||Ye!==nt)&&Be.push(Ye)}W.append("div").html(F.html("restriction.help.via_names",{via:Q.via,viaNames:Be.join(", ")}))}fe||W.append("div").html(F.html("restriction.help.toggle",{turn:Oe.trim()})),Ce(null);var We=$.path.slice();le.selectAll(Fi(We)).classed("related",!0).classed("allow",de==="allow").classed("restrict",de==="restrict").classed("only",de==="only")}else Ce(null),b?W.append("div").html(F.html("restriction.help.from_name",{from:Q.from,fromName:E(b,A)})):W.append("div").html(F.html("restriction.help.select_from",{from:Q.from}))}}function _(k){var A=!_e.usesMetric(),C;if(A){var D={20:70,25:85,30:100,35:115,40:130,45:145,50:160}[k];C={distance:F("units.feet",{quantity:D})}}else C={distance:F("units.meters",{quantity:k})};return F.html("restriction.controls.distance_up_to",C)}function y(k){return k===0?F.html("restriction.controls.via_node_only"):k===1?F.html("restriction.controls.via_up_to_one"):F.html("restriction.controls.via_up_to_two")}function E(k,A){var C=A.entity(k),D=nr(C)||"",S=Ie.match(C,A),N=S&&S.name()||Un(C.id);return D||N}return g.entityIDs=function(k){w=null,b=null,d=null,m=k[0]},g.tags=function(){},g.focus=function(){},g.off=function(k){!l||(k.selectAll(".surface").call(n.off).on("click.restrictions",null).on("mouseover.restrictions",null),G(window).on("resize.restrictions",null))},ke(g,r,"on")}p5.supportsMultiselection=!1;function I8(e,t){var r=be("change"),n=G(null),i;function a(s){var l=s.selectAll(".form-field-input-wrap").data([0]);l=l.enter().append("div").attr("class","form-field-input-wrap form-field-input-"+e.type).merge(l),n=l.selectAll("textarea").data([0]),n=n.enter().append("textarea").attr("id",e.domId).call(et).on("input",o(!0)).on("blur",o()).on("change",o()).merge(n)}function o(s){return function(){var l=Qe(n);if(s||(l=t.cleanTagValue(l)),!(!l&&Array.isArray(i[e.key]))){var u={};u[e.key]=l||void 0,r.call("change",this,u,s)}}}return a.tags=function(s){i=s;var l=Array.isArray(s[e.key]);Qe(n,!l&&s[e.key]?s[e.key]:"").attr("title",l?s[e.key].filter(Boolean).join("\n"):void 0).attr("placeholder",l?F("inspector.multiple_values"):e.placeholder()||F("inspector.unknown")).classed("mixed",l)},a.focus=function(){n.node().focus()},ke(a,r,"on")}function N8(e,t){var r=ue.wikidata,n=be("change"),i=G(null),a=G(null),o=null,s=null,l="",u=[],c=e.keys&&e.keys.find(function(v){return v.includes("wikipedia")}),d=e.key==="wikidata"?"name":e.key.split(":")[0],p=Ft(t,"combo-"+e.safeid).caseSensitive(!0).minItems(1);function m(v){i=v;var x=v.selectAll(".form-field-input-wrap").data([0]);x=x.enter().append("div").attr("class","form-field-input-wrap form-field-input-"+e.type).merge(x);var _=x.selectAll("ul").data([0]);_=_.enter().append("ul").attr("class","rows").merge(_);var y=_.selectAll("li.wikidata-search").data([0]),E=y.enter().append("li").attr("class","wikidata-search");E.append("input").attr("type","text").attr("id",e.domId).style("flex","1").call(et).on("focus",function(){var D=G(this).node();D.setSelectionRange(0,D.value.length)}).on("blur",function(){h()}).call(p.fetcher(w)),p.on("accept",function(D){D&&(o=D.id,b())}).on("cancel",function(){h()}),E.append("button").attr("class","form-field-button wiki-link").attr("title",F("icons.view_on",{domain:"wikidata.org"})).call(ce("#iD-icon-out-link")).on("click",function(D){D.preventDefault(),l&&window.open(l,"_blank")}),y=y.merge(E),a=y.select("input");var k=["description","identifier"],A=_.selectAll("li.labeled-input").data(k),C=A.enter().append("li").attr("class",function(D){return"labeled-input preset-wikidata-"+D});C.append("span").attr("class","label").html(function(D){return F.html("wikidata."+D)}),C.append("input").attr("type","text").call(et).classed("disabled","true").attr("readonly","true"),C.append("button").attr("class","form-field-button").attr("title",F("icons.copy")).call(ce("#iD-operation-copy")).on("click",function(D){D.preventDefault(),G(this.parentNode).select("input").node().select(),document.execCommand("copy")})}function w(v,x){if(!v&&d)for(var _ in u){var y=t.hasEntity(u[_]);if(y.tags[d]){v=y.tags[d];break}}r.itemsForSearchQuery(v,function(E,k){if(!E){for(var A in k)k[A].value=k[A].label+" ("+k[A].id+")",k[A].title=k[A].description;x&&x(k)}})}function b(){var v={};v[e.key]=o,n.call("change",this,v);var x=t.graph(),_=u;r.entityByQID(o,function(y,E){if(!y&&t.graph()===x&&!!E.sitelinks){var k=r.languagesToQuery();["labels","descriptions"].forEach(function(O){if(!!E[O]){var U=Object.keys(E[O]);if(U.length!==0){var T=U[0];k.indexOf(T)===-1&&k.push(T)}}});var A;if(c){var C;for(var D in k){var S=k[D],N=S.replace("-","_")+"wiki";if(E.sitelinks[N]){C=!0,A=S+":"+E.sitelinks[N].title;break}}if(!C){var R=Object.keys(E.sitelinks).filter(function(O){return O.endsWith("wiki")});if(R.length===0)A=null;else{var P=R[0].slice(0,-4).replace("_","-"),L=E.sitelinks[R[0]].title;A=P+":"+L}}}if(A&&(A=t.cleanTagValue(A)),typeof A!="undefined"){var B=_.map(function(O){var U=t.hasEntity(O);if(!U)return null;var T=Object.assign({},U.tags);if(A===null){if(!T[c])return null;delete T[c]}else T[c]=A;return Qt(O,T)}).filter(Boolean);!B.length||t.overwrite(function(U){return B.forEach(function(T){U=T(U)}),U},t.history().undoAnnotation())}}})}function h(){var v="";s&&(v=g(s,"labels"),v.length===0&&(v=s.id.toString())),Qe(a,v)}m.tags=function(v){var x=Array.isArray(v[e.key]);if(a.attr("title",x?v[e.key].filter(Boolean).join("\n"):null).attr("placeholder",x?F("inspector.multiple_values"):"").classed("mixed",x),o=typeof v[e.key]=="string"&&v[e.key]||"",!/^Q[0-9]*$/.test(o)){_();return}l="https://wikidata.org/wiki/"+o,r.entityByQID(o,function(y,E){if(y){_();return}s=E,h();var k=g(E,"descriptions");i.select("button.wiki-link").classed("disabled",!1),i.select(".preset-wikidata-description").style("display",function(){return k.length>0?"flex":"none"}).select("input").attr("value",k),i.select(".preset-wikidata-identifier").style("display",function(){return E.id?"flex":"none"}).select("input").attr("value",E.id)});function _(){s=null,h(),i.select(".preset-wikidata-description").style("display","none"),i.select(".preset-wikidata-identifier").style("display","none"),i.select("button.wiki-link").classed("disabled",!0),o&&o!==""?l="https://wikidata.org/wiki/Special:Search?search="+o:l=""}};function g(v,x){if(!v[x])return"";var _=v[x],y=Object.keys(_);if(y.length===0)return"";var E=r.languagesToQuery();for(var k in E){var A=E[k],C=_[A];if(C&&C.value&&C.value.length>0)return C.value}return _[y[0]].value}return m.entityIDs=function(v){return arguments.length?(u=v,m):u},m.focus=function(){a.node().focus()},ke(m,n,"on")}function m5(e,t){var r=arguments,n=be("change"),i=ue.wikipedia,a=ue.wikidata,o=G(null),s=G(null),l="",u,c,d=[];Je.get("wmf_sitematrix").then(function(_){d=_,c&&x(c)}).catch(function(){});var p=Ft(t,"wikipedia-lang").fetcher(function(_,y){var E=_.toLowerCase();y(d.filter(function(k){return k[0].toLowerCase().indexOf(E)>=0||k[1].toLowerCase().indexOf(E)>=0||k[2].toLowerCase().indexOf(E)>=0}).map(function(k){return{value:k[1]}}))}),m=Ft(t,"wikipedia-title").fetcher(function(_,y){if(!_){_="";for(var E in u){var k=t.hasEntity(u[E]);if(k.tags.name){_=k.tags.name;break}}}var A=_.length>7?i.search:i.suggestions;A(h()[2],_,function(C,D){y(D.map(function(S){return{value:S}}))})});function w(_){var y=_.selectAll(".form-field-input-wrap").data([0]);y=y.enter().append("div").attr("class","form-field-input-wrap form-field-input-".concat(e.type)).merge(y);var E=y.selectAll(".wiki-lang-container").data([0]);E=E.enter().append("div").attr("class","wiki-lang-container").merge(E),o=E.selectAll("input.wiki-lang").data([0]),o=o.enter().append("input").attr("type","text").attr("class","wiki-lang").attr("placeholder",F("translate.localized_translation_language")).call(et).call(p).merge(o),o.on("blur",g).on("change",g);var k=y.selectAll(".wiki-title-container").data([0]);k=k.enter().append("div").attr("class","wiki-title-container").merge(k),s=k.selectAll("input.wiki-title").data([0]),s=s.enter().append("input").attr("type","text").attr("class","wiki-title").attr("id",e.domId).call(et).call(m).merge(s),s.on("blur",function(){v(!0)}).on("change",function(){v(!1)});var A=k.selectAll(".wiki-link").data([0]);A=A.enter().append("button").attr("class","form-field-button wiki-link").attr("title",F("icons.view_on",{domain:"wikipedia.org"})).call(ce("#iD-icon-out-link")).merge(A),A.on("click",function(C){C.preventDefault(),l&&window.open(l,"_blank")})}function b(_){var y=_e.languageCode().toLowerCase();for(var E in d){var k=d[E];if(k[2]===y)return k}return _?["","",""]:["English","English","en"]}function h(_){var y=Qe(o).toLowerCase();for(var E in d){var k=d[E];if(k[0].toLowerCase()===y||k[1].toLowerCase()===y||k[2]===y)return k}return b(_)}function g(){Qe(o,h()[1]),v(!0)}function v(_){var y=Qe(s),E=y.match(/https?:\/\/([-a-z]+)\.wikipedia\.org\/(?:wiki|\1-[-a-z]+)\/([^#]+)(?:#(.+))?/),k=E&&d.find(function(R){return E[1]===R[2]}),A={};if(k){var C=k[1];if(y=decodeURIComponent(E[2]).replace(/_/g," "),E[3]){var D;D=decodeURIComponent(E[3]),y+="#"+D.replace(/_/g," ")}y=y.slice(0,1).toUpperCase()+y.slice(1),Qe(o,C),Qe(s,y)}if(y?A.wikipedia=t.cleanTagValue(h()[2]+":"+y):A.wikipedia=void 0,n.call("change",this,A),!(_||!y||!h()[2])){var S=t.graph(),N=u;a.itemsByTitle(h()[2],y,function(R,P){if(!(R||!P||!Object.keys(P).length)&&t.graph()===S){var L=Object.keys(P),B=L&&L.find(function(U){return U.match(/^Q\d+$/)}),O=N.map(function(U){var T=t.entity(U).tags,M=Object.assign({},T);return M.wikidata!==B?(M.wikidata=B,Qt(U,M)):null}).filter(Boolean);!O.length||t.overwrite(function(T){return O.forEach(function(M){T=M(T)}),T},t.history().undoAnnotation())}})}}w.tags=function(_){c=_,x(_)};function x(_){var y=typeof _[e.key]=="string"?_[e.key]:"",E=y.match(/([^:]+):([^#]+)(?:#(.+))?/),k=E&&E[1],A=E&&E[2],C=E&&E[3],D=k&&d.find(function(P){return k===P[2]});if(D){var S=D[1];if(Qe(o,S),Qe(s,A+(C?"#"+C:"")),C)try{C=encodeURIComponent(C.replace(/ /g,"_")).replace(/%/g,".")}catch(P){C=C.replace(/ /g,"_")}l="https://"+k+".wikipedia.org/wiki/"+A.replace(/ /g,"_")+(C?"#"+C:"")}else if(Qe(s,y),y&&y!==""){Qe(o,"");var N=b();l="https://".concat(N[2],".wikipedia.org/w/index.php?fulltext=1&search=").concat(y)}else{var R=h(!0);Qe(o,R[1]),l=""}}return w.entityIDs=function(_){return r.length?(u=_,w):u},w.focus=function(){s.node().focus()},ke(w,n,"on")}m5.supportsMultiselection=!1;var h5={access:D8,address:S8,check:v1,combo:ni,cycleway:F8,defaultCheck:v1,email:Kn,identifier:Kn,lanes:d5,localized:T8,roadspeed:M8,roadheight:Kn,manyCombo:ni,multiCombo:ni,networkCombo:ni,number:Kn,onewayCheck:v1,radio:k0,restrictions:p5,semiCombo:ni,structureRadio:k0,tel:Kn,text:Kn,textarea:I8,typeCombo:ni,url:Kn,wikidata:N8,wikipedia:m5};function pa(e){var t=e.qid?ue.wikidata:ue.osmWikibase,r={},n=G(null),i=G(null),a,o;function s(){!t||(n.classed("tag-reference-loading",!0),t.getDocs(e,l))}function l(d,p){if(i.html(""),!p||!p.title){i.append("p").attr("class","tag-reference-description").html(F.html("inspector.no_documentation_key")),u();return}p.imageURL?i.append("img").attr("class","tag-reference-wiki-image").attr("src",p.imageURL).on("load",function(){u()}).on("error",function(){G(this).remove(),u()}):u(),i.append("p").attr("class","tag-reference-description").html(p.description?_e.htmlForLocalizedText(p.description,p.descriptionLocaleCode):F.html("inspector.no_documentation_key")).append("a").attr("class","tag-reference-edit").attr("target","_blank").attr("title",F("inspector.edit_reference")).attr("href",p.editURL).call(ce("#iD-icon-edit","inline")),p.wiki&&i.append("a").attr("class","tag-reference-link").attr("target","_blank").attr("href",p.wiki.url).call(ce("#iD-icon-out-link","inline")).append("span").html(F.html(p.wiki.text)),e.key==="comment"&&i.append("a").attr("class","tag-reference-comment-link").attr("target","_blank").call(ce("#iD-icon-out-link","inline")).attr("href",F("commit.about_changeset_comments_link")).append("span").html(F.html("commit.about_changeset_comments"))}function u(){a=!0,n.classed("tag-reference-loading",!1),i.classed("expanded",!0).transition().duration(200).style("max-height","200px").style("opacity","1"),o=!0,n.selectAll("svg.icon use").each(function(){var d=G(this);d.attr("href")==="#iD-icon-info"&&d.attr("href","#iD-icon-info-filled")})}function c(){i.transition().duration(200).style("max-height","0px").style("opacity","0").on("end",function(){i.classed("expanded",!1)}),o=!1,n.selectAll("svg.icon use").each(function(){var d=G(this);d.attr("href")==="#iD-icon-info-filled"&&d.attr("href","#iD-icon-info")})}return r.button=function(d,p,m){n=d.selectAll(".tag-reference-button").data([0]),n=n.enter().append("button").attr("class","tag-reference-button "+(p||"")).attr("title",F("icons.information")).call(ce("#iD-icon-"+(m||"inspect"))).merge(n),n.on("click",function(w){w.stopPropagation(),w.preventDefault(),this.blur(),o?c():a?u():s()})},r.body=function(d){var p=e.qid||e.key+"-"+(e.value||"");i=d.selectAll(".tag-reference-body").data([p],function(m){return m}),i.exit().remove(),i=i.enter().append("div").attr("class","tag-reference-body").style("max-height","0").style("opacity","0").merge(i),o===!1&&c()},r.showing=function(d){return arguments.length?(o=d,r):o},r}function ii(e,t,r,n){n=Object.assign({show:!0,wrap:!0,remove:!0,revert:!0,info:!0},n);var i=r?r.some(function(v){return v.__fbid__&&(v.tags.source==="maxar"||v.tags.source==="digitalglobe")}):!1;i&&(n.remove=!1,n.revert=!1);var a=be("change","revert"),o=Object.assign({},t);o.domId=li("form-field-"+o.safeid);var s=n.show,l="",u={},c=null;r&&r.length&&(c=St(r,e.graph()));var d=!1,p=Pe().title(F.html("inspector.lock.suggestion",{label:o.label})).placement("bottom");o.keys=o.keys||[o.key],s&&!o.impl&&m();function m(){o.impl=h5[o.type](o,e).on("change",function(v,x){a.call("change",o,v,x)}),r&&(o.entityIDs=r,o.impl.entityIDs&&o.impl.entityIDs(r))}function w(){return!r||!r.length?!1:r.some(function(v){var x=e.graph().base().entities[v],_=e.graph().entity(v);return o.keys.some(function(y){return x?_.tags[y]!==x.tags[y]:_.tags[y]})})}function b(){return o.keys.some(function(v){if(o.type==="multiCombo"){for(var x in u)if(x.indexOf(v)===0)return!0;return!1}return u[v]!==void 0})}function h(v,x){v.stopPropagation(),v.preventDefault(),!(!r||d)&&a.call("revert",x,x.keys)}function g(v,x){if(v.stopPropagation(),v.preventDefault(),!d){var _={};x.keys.forEach(function(y){_[y]=void 0}),a.call("change",x,_)}}return o.render=function(v){var x=v.selectAll(".form-field").data([o]),_=x.enter().append("div").attr("class",function(C){return"form-field form-field-"+C.safeid}).classed("nowrap",!n.wrap);if(n.wrap){var y=_.append("label").attr("class","field-label").attr("for",function(C){return C.domId}),E=y.append("span").attr("class","label-text");E.append("span").attr("class","label-textvalue").html(function(C){return C.label()}),E.append("span").attr("class","label-textannotation"),n.remove&&y.append("button").attr("class","remove-icon").attr("title",F("icons.remove")).call(ce("#iD-operation-delete")),n.revert&&y.append("button").attr("class","modified-icon").attr("title",F("icons.undo")).call(ce(_e.textDirection()==="rtl"?"#iD-icon-redo":"#iD-icon-undo"))}x=x.merge(_),x.select(".field-label > .remove-icon").on("click",g),x.select(".field-label > .modified-icon").on("click",h),x.each(function(C){var D=G(this);C.impl||m();var S,N;if(n.wrap&&o.type==="restrictions"&&(N=f5(e,"restrictions")),n.wrap&&n.info){var R=C.key||"";C.type==="multiCombo"&&(R=R.replace(/:$/,"")),S=pa(C.reference||{key:R},e),l==="hover"&&S.showing(!1)}D.call(C.impl),N&&D.call(N.body).select(".field-label").call(N.button),S&&D.call(S.body).select(".field-label").call(S.button),C.impl.tags(u)}),x.classed("locked",d).classed("modified",w()).classed("present",b());var k=x.selectAll(".field-label .label-textannotation"),A=k.selectAll(".icon").data(d?[0]:[]);A.exit().remove(),A.enter().append("svg").attr("class","icon").append("use").attr("xlink:href","#fas-lock"),x.call(d?p:p.destroy)},o.state=function(v){return arguments.length?(l=v,o):l},o.tags=function(v){return arguments.length?(u=v,b()&&!s&&(s=!0,o.impl||m()),o):u},o.locked=function(v){return arguments.length?(d=v,o):d},o.show=function(){if(s=!0,o.impl||m(),o.default&&o.key&&u[o.key]!==o.default){var v={};v[o.key]=o.default,a.call("change",this,v)}},o.isShown=function(){return s},o.isAllowed=function(){if(r&&r.length>1&&h5[o.type].supportsMultiselection===!1||o.geometry&&!r.every(function(_){return o.matchGeometry(e.graph().geometry(_))}))return!1;if(r&&c&&o.locationSetID){var v=tn.locationsAt(c.center());if(!v[o.locationSetID])return!1}var x=o.prerequisiteTag;return!(r&&!b()&&x&&!r.every(function(_){var y=e.graph().entity(_);if(x.key){var E=y.tags[x.key];if(!E)return!1;if(x.valueNot)return x.valueNot!==E;if(x.value)return x.value===E}else if(x.keyNot&&y.tags[x.keyNot])return!1;return!0}))},o.focus=function(){o.impl&&o.impl.focus()},ke(o,a,"on")}function w4(e){var t=Ft(e,"more-fields").minItems(1),r=[],n="",i="",a="";function o(s){var l=r.filter(function(_){return _.isAllowed()}),u=l.filter(function(_){return _.isShown()}),c=l.filter(function(_){return!_.isShown()}),d=s.selectAll(".form-fields-container").data([0]);d=d.enter().append("div").attr("class","form-fields-container "+(a||"")).merge(d);var p=d.selectAll(".wrap-form-field").data(u,function(_){return _.id+(_.entityIDs?_.entityIDs.join():"")});p.exit().remove();var m=p.enter().append("div").attr("class",function(_){return"wrap-form-field wrap-form-field-"+_.safeid});p=p.merge(m),p.order().each(function(_){G(this).call(_.render)});var w=[],b=c.map(function(_){var y=_.title();w.push(y);var E=_.terms();return _.key&&E.push(_.key),_.keys&&(E=E.concat(_.keys)),{display:_.label(),value:y,title:y,field:_,terms:E}}),h=w.slice(0,3).join(", ")+(w.length>3?"\u2026":""),g=s.selectAll(".more-fields").data(i==="hover"||b.length===0?[]:[0]);g.exit().remove();var v=g.enter().append("div").attr("class","more-fields").append("label");v.append("span").html(F.html("inspector.add_fields")),g=v.merge(g);var x=g.selectAll(".value").data([0]);x.exit().remove(),x=x.enter().append("input").attr("class","value").attr("type","text").attr("placeholder",h).call(et).merge(x),x.call(Qe,"").call(t.data(b).on("accept",function(_){if(!!_){var y=_.field;y.show(),s.call(o),y.focus()}})),n!==h&&(x.attr("placeholder",h),n=h)}return o.fieldsArr=function(s){return arguments.length?(r=s||[],o):r},o.state=function(s){return arguments.length?(i=s,o):i},o.klass=function(s){return arguments.length?(a=s,o):a},o}function g5(e){var t=be("change"),r=w4(e),n=Ft(e,"comment").caseSensitive(!0),i,a,o;function s(u){l(u)}function l(u){var c=!1;if(!i){c=!0;var d=Ie;i=[ii(e,d.field("comment"),null,{show:!0,revert:!1}),ii(e,d.field("source"),null,{show:!1,revert:!1}),ii(e,d.field("hashtags"),null,{show:!1,revert:!1})],i.forEach(function(v){v.on("change",function(x,_){t.call("change",v,void 0,x,_)})})}if(i.forEach(function(v){v.tags(a)}),u.call(r.fieldsArr(i)),c){var p=u.select(".form-field-comment textarea"),m=p.node();m&&(m.focus(),m.select()),ys(p,"blur");var w=e.connection();w&&w.userChangesets(function(v,x){if(!v){var _=x.map(function(y){var E=y.tags.comment;return E?{title:E,value:E}:null}).filter(Boolean);p.call(n.data(O1(_,"title")))}})}var b=a.comment.match(/google/i),h=u.select(".form-field-comment").selectAll(".comment-warning").data(b?[0]:[]);h.exit().transition().duration(200).style("opacity",0).remove();var g=h.enter().insert("div",".tag-reference-body").attr("class","field-warning comment-warning").style("opacity",0);g.append("a").attr("target","_blank").call(ce("#iD-icon-alert","inline")).attr("href",F("commit.google_warning_link")).append("span").html(F.html("commit.google_warning")),g.transition().duration(200).style("opacity",1)}return s.tags=function(u){return arguments.length?(a=u,s):a},s.changesetID=function(u){return arguments.length?(o===u||(o=u,i=null),s):o},ke(s,t,"on")}function ma(e,t){return function(r){r.style("opacity",e?0:1).classed("hide",!1).transition().style("opacity",e?1:0).on("end",function(){G(this).classed("hide",!e).style("opacity",null),t&&t.apply(this)})}}function y1(e,t,r){var n=be("toggled"),i,a=_t(""),o=!0,s=function(){},l=function(c){if(i==null){var d=pe("disclosure."+t+".expanded");i=d===null?!!r:d==="true"}var p=c.selectAll(".hide-toggle-"+t).data([0]),m=p.enter().append("a").attr("href","#").attr("class","hide-toggle hide-toggle-"+t).call(ce("","pre-text","hide-toggle-icon"));m.append("span").attr("class","hide-toggle-text"),p=m.merge(p),p.on("click",b).classed("expanded",i),p.selectAll(".hide-toggle-text").html(a()),p.selectAll(".hide-toggle-icon").attr("xlink:href",i?"#iD-icon-down":_e.textDirection()==="rtl"?"#iD-icon-backward":"#iD-icon-forward");var w=c.selectAll(".disclosure-wrap").data([0]);w=w.enter().append("div").attr("class","disclosure-wrap disclosure-wrap-"+t).merge(w).classed("hide",!i),i&&w.call(s);function b(h){h.preventDefault(),i=!i,o&&pe("disclosure."+t+".expanded",i),p.classed("expanded",i),p.selectAll(".hide-toggle-icon").attr("xlink:href",i?"#iD-icon-down":_e.textDirection()==="rtl"?"#iD-icon-backward":"#iD-icon-forward"),w.call(ma(i)),i&&w.call(s),n.call("toggled",this,i)}};return l.label=function(u){return arguments.length?(a=_t(u),l):a},l.expanded=function(u){return arguments.length?(i=u,l):i},l.updatePreference=function(u){return arguments.length?(o=u,l):o},l.content=function(u){return arguments.length?(s=u,l):s},ke(l,n,"on")}function gt(e,t){var r=_t(""),n,i,a,o,s=_t(!0),l,u,c=G(null),d={id:e};d.classes=function(m){return arguments.length?(r=_t(m),d):r},d.label=function(m){return arguments.length?(o=_t(m),d):o},d.expandedByDefault=function(m){return arguments.length?(s=_t(m),d):s},d.shouldDisplay=function(m){return arguments.length?(n=_t(m),d):n},d.content=function(m){return arguments.length?(i=m,d):i},d.disclosureContent=function(m){return arguments.length?(l=m,d):l},d.disclosureExpanded=function(m){return arguments.length?(u=m,d):u},d.render=function(m){c=m.selectAll(".section-"+e).data([0]);var w=c.enter().append("div").attr("class","section section-"+e+" "+(r&&r()||""));c=w.merge(c),c.call(p)},d.reRender=function(){c.call(p)},d.selection=function(){return c},d.disclosure=function(){return a};function p(m){if(n){var w=n();if(m.classed("hide",!w),!w){m.html("");return}}if(l){a||(a=y1(t,e.replace(/-/g,"_"),s()).label(o||"").content(l)),u!==void 0&&(a.expanded(u),u=void 0),m.call(a);return}i&&m.call(i)}return d}function v5(e){var t=qt(),r={};Je.get("discarded").then(function(a){r=a}).catch(function(){});var n=gt("changes-list",e).label(function(){var a=e.history(),o=a.difference().summary();return F("inspector.title_count",{title:F.html("commit.changes"),count:o.length})}).disclosureContent(i);function i(a){var o=e.history(),s=o.difference().summary(),l=a.selectAll(".commit-section").data([0]),u=l.enter().append("div").attr("class","commit-section");u.append("ul").attr("class","changeset-list"),l=u.merge(l);var c=l.select("ul").selectAll("li").data(s),d=c.enter().append("li").attr("class","change-item"),p=d.append("button").on("mouseover",x).on("mouseout",_).on("click",y);p.each(function(E){G(this).call(ce("#iD-icon-"+E.entity.geometry(E.graph),"pre-text "+E.changeType))}),p.append("span").attr("class","change-type").html(function(E){return F.html("commit."+E.changeType)+" "}),p.append("strong").attr("class","entity-type").html(function(E){var k=Ie.match(E.entity,E.graph);return k&&k.name()||Un(E.entity.id)}),p.append("span").attr("class","entity-name").html(function(E){var k=nr(E.entity)||"",A="";return k!==""&&(A+=":"),A+=" "+k}),c=d.merge(c);var m=new Nn().update({id:void 0}),w=o.changes(Na(o.difference(),r));delete m.id;var b=fa.stringify(m.osmChangeJXON(w)),h=new Blob([b],{type:"text/xml;charset=utf-8;"}),g="changes.osc",v=l.selectAll(".download-changes").data([0]).enter().append("a").attr("class","download-changes");t.download?v.attr("href",window.URL.createObjectURL(h)).attr("download",g):v.attr("target","_blank").on("click.download",function(){navigator.msSaveBlob(h,g)}),v.call(ce("#iD-icon-load","inline")).append("span").html(F.html("commit.download_changes"));function x(E){E.entity&&e.surface().selectAll(Uo([E.entity.id],e.graph())).classed("hover",!0)}function _(){e.surface().selectAll(".hover").classed("hover",!1)}function y(E,k){if(k.changeType!=="deleted"){var A=k.entity;e.map().zoomToEase(A),e.surface().selectAll(Uo([A.id],e.graph())).classed("hover",!0)}}}return n}function y5(e){function t(r){var n=e.validator().getIssuesBySeverity({what:"edited",where:"all",includeDisabledRules:!0});for(var i in n){var a=n[i];i!=="error"&&(a=a.filter(function(m){return m.type!=="help_request"}));var o=i+"-section",s=i+"-item",l=r.selectAll("."+o).data(a.length?[0]:[]);l.exit().remove();var u=l.enter().append("div").attr("class","modal-section "+o+" fillL2");u.append("h3").html(i==="warning"?F.html("commit.warnings"):F.html("commit.errors")),u.append("ul").attr("class","changeset-list"),l=u.merge(l);var c=l.select("ul").selectAll("li").data(a,function(m){return m.key});c.exit().remove();var d=c.enter().append("li").attr("class",s),p=d.append("button").on("mouseover",function(m,w){w.entityIds&&e.surface().selectAll(Uo(w.entityIds,e.graph())).classed("hover",!0)}).on("mouseout",function(){e.surface().selectAll(".hover").classed("hover",!1)}).on("click",function(m,w){e.validator().focusIssue(w)});p.call(ce("#iD-icon-alert","pre-text")),p.append("strong").attr("class","issue-message"),p.filter(function(m){return m.tooltip}).call(Pe().title(function(m){return m.tooltip}).placement("top")),c=d.merge(c),c.selectAll(".issue-message").html(function(m){return m.message(e)})}}return t}function Io(e,t){var r=gt(e,t).classes("raw-tag-editor").label(function(){var B=Object.keys(m).filter(function(O){return O}).length;return F("inspector.title_count",{title:F.html("inspector.tags"),count:B})}).expandedByDefault(!1).disclosureContent(g),n=ue.taginfo,i=be("change"),a=[{id:"list",icon:"#fas-th-list"},{id:"text",icon:"#fas-i-cursor"}],o=pe("raw-tag-editor-view")||"list",s=[],l=[],u=!1,c=null,d,p,m,w,b=!1;function h(){b=!0}function g(B){l=l.filter(function(re){return m[re]!==void 0});var O=Object.keys(m).sort(),U=vr(O,l);for(var T in U)l.push(U[T]);var M=l.map(function(re,Ae){return{index:Ae,key:re,value:m[re]}});(!M.length||u)&&(u=!1,M.push({index:M.length,key:"",value:""}));var I=B.selectAll(".raw-tag-options").data([0]);I.exit().remove();var z=I.enter().insert("div",":first-child").attr("class","raw-tag-options"),q=z.selectAll(".raw-tag-option").data(a,function(re){return re.id}).enter();q.append("button").attr("class",function(re){return"raw-tag-option raw-tag-option-"+re.id+(o===re.id?" selected":"")}).attr("title",function(re){return F("icons."+re.id)}).on("click",function(re,Ae){o=Ae.id,pe("raw-tag-editor-view",Ae.id),B.selectAll(".raw-tag-option").classed("selected",function(ae){return ae===Ae}),B.selectAll(".tag-text").classed("hide",Ae.id!=="text").each(x),B.selectAll(".tag-list, .add-row").classed("hide",Ae.id!=="list")}).each(function(re){G(this).call(ce(re.icon))});var V=E(M),Y=B.selectAll(".tag-text").data([0]);Y=Y.enter().append("textarea").attr("class","tag-text"+(o!=="text"?" hide":"")).call(et).attr("placeholder",F("inspector.key_value")).attr("spellcheck","false").merge(Y),Y.call(Qe,V).each(x).on("input",x).on("focus",h).on("blur",k).on("change",k);var ee=B.selectAll(".tag-list").data([0]);ee=ee.enter().append("ul").attr("class","tag-list"+(o!=="list"?" hide":"")).merge(ee);var ie=B.selectAll(".add-row").data([0]).enter().append("div").attr("class","add-row"+(o!=="list"?" hide":""));ie.append("button").attr("class","add-tag").call(ce("#iD-icon-plus","light")).on("click",P),ie.append("div").attr("class","space-value"),ie.append("div").attr("class","space-buttons");var se=ee.selectAll(".tag-row").data(M,function(re){return re.key});se.exit().each(D).remove();var ve=se.enter().append("li").attr("class","tag-row").classed("readonly",v),le=ve.append("div").attr("class","inner-wrap");le.append("div").attr("class","key-wrap").append("input").property("type","text").attr("class","key").call(et).on("focus",h).on("blur",S).on("change",S),le.append("div").attr("class","value-wrap").append("input").property("type","text").attr("class","value").call(et).on("focus",h).on("blur",N).on("change",N).on("keydown.push-more",A),le.append("button").attr("class","form-field-button remove").attr("title",F("icons.remove")).call(ce("#iD-operation-delete")),se=se.merge(ve).sort(function(re,Ae){return re.index-Ae.index}),se.each(function(re){var Ae=G(this),ae=Ae.select("input.key"),he=Ae.select("input.value");w&&n&&d!=="hover"&&C(ae,he);var Ce={key:re.key};typeof re.value=="string"&&(Ce.value=re.value);var Te=pa(Ce,t);d==="hover"&&Te.showing(!1),Ae.select(".inner-wrap").call(Te.button),Ae.call(Te.body),Ae.select("button.remove")}),se.selectAll("input.key").attr("title",function(re){return re.key}).call(Qe,function(re){return re.key}).attr("readonly",function(re){return v(re)||typeof re.value!="string"||null}),se.selectAll("input.value").attr("title",function(re){return Array.isArray(re.value)?re.value.filter(Boolean).join("\n"):re.value}).classed("mixed",function(re){return Array.isArray(re.value)}).attr("placeholder",function(re){return typeof re.value=="string"?null:F("inspector.multiple_values")}).call(Qe,function(re){return typeof re.value=="string"?re.value:""}).attr("readonly",function(re){return v(re)||null}),se.selectAll("button.remove").on(("PointerEvent"in window?"pointer":"mouse")+"down",R)}function v(B){for(var O=0;O<s.length;O++)if(B.key.match(s[O])!==null)return!0;return!1}function x(){if(o==="text"){var B=G(this),O=B.node().value.match(/\n/g),U=2+Number(O&&O.length),T=20;B.style("height",U*T+"px")}}function _(B){return JSON.stringify(B).slice(1,-1)}function y(B){var O="",U="";return(B.length<1||B.charAt(0)!=='"')&&(O='"'),(B.length<2||B.charAt(B.length-1)!=='"'||B.charAt(B.length-1)==='"'&&B.charAt(B.length-2)==="\\")&&(U='"'),JSON.parse(O+B+U)}function E(B){var O=B.filter(function(U){return U.key&&U.key.trim()!==""}).map(function(U){var T=U.value;typeof T!="string"&&(T="*");var M=T?_(T):"";return _(U.key)+"="+M}).join("\n");return d!=="hover"&&O.length?O+"\n":O}function k(){var B=this.value.trim(),O={};B.split("\n").forEach(function(T){var M=T.match(/^\s*([^=]+)=(.*)$/);if(M!==null){var I=t.cleanTagKey(y(M[1].trim())),z=t.cleanTagValue(y(M[2].trim()));O[I]=z}});var U=P1(m,O);if(!!U.length){if(c=c||{},U.forEach(function(T){v({key:T.key})||T.newVal==="*"&&typeof T.oldVal!="string"||(T.type==="-"?c[T.key]=void 0:T.type==="+"&&(c[T.key]=T.newVal||""))}),Object.keys(c).length===0){c=null;return}L()}}function A(B){B.keyCode===9&&!B.shiftKey&&r.selection().selectAll(".tag-list li:last-child input.value").node()===this&&Qe(G(this))&&P()}function C(B,O){if(v(B.datum()))return;if(Array.isArray(O.datum().value)){O.call(Ft(t,"tag-value").minItems(1).fetcher(function(M,I){var z=Qe(B);if(!!m[z]){var q=m[z].filter(Boolean).map(function(V){return{value:V,title:V}});I(q)}}));return}var U=t.graph().geometry(w[0]);B.call(Ft(t,"tag-key").fetcher(function(M,I){n.keys({debounce:!0,geometry:U,query:M},function(z,q){if(!z){var V=q.filter(function(Y){return m[Y.value]===void 0});I(T(M,V))}})})),O.call(Ft(t,"tag-value").fetcher(function(M,I){n.values({debounce:!0,key:Qe(B),geometry:U,query:M},function(z,q){z||I(T(M,q))})}));function T(M,I){for(var z=[],q=[],V=0;V<I.length;V++)I[V].value.substring(0,M.length)===M?z.push(I[V]):q.push(I[V]);return z.concat(q)}}function D(){var B=G(this);B.selectAll("input.key").call(Ft.off,t),B.selectAll("input.value").call(Ft.off,t)}function S(B,O){if(!G(this).attr("readonly")){var U=O.key;if(!(c&&c.hasOwnProperty(U)&&c[U]===void 0)){var T=t.cleanTagKey(this.value.trim());if(v({key:T})){this.value=U;return}if(T&&T!==U&&m[T]!==void 0){this.value=U,r.selection().selectAll(".tag-list input.value").each(function(V){if(V.key===T){var Y=G(this).node();Y.focus(),Y.select()}});return}var M=this.parentNode.parentNode,I=G(M).selectAll("input.value"),z=t.cleanTagValue(Qe(I));c=c||{},U&&(c[U]=void 0),c[T]=z;var q=l.indexOf(U);q!==-1&&(l[q]=T),O.key=T,O.value=z,this.value=T,Qe(I,z),L()}}}function N(B,O){v(O)||typeof O.value!="string"&&!this.value||c&&c.hasOwnProperty(O.key)&&c[O.key]===void 0||(c=c||{},c[O.key]=t.cleanTagValue(this.value),L())}function R(B,O){v(O)||(O.key===""?(u=!1,r.reRender()):(l=l.filter(function(U){return U!==O.key}),c=c||{},c[O.key]=void 0,L()))}function P(){window.setTimeout(function(){u=!0,r.reRender(),r.selection().selectAll(".tag-list li:last-child input.key").node().focus()},20)}function L(){var B=w;window.setTimeout(function(){!c||(i.call("change",this,B,c),c=null)},10)}return r.state=function(B){return arguments.length?(d!==B&&(l=[],d=B),r):d},r.presets=function(B){return arguments.length?(p=B,p&&p.length&&p[0].isFallback()?r.disclosureExpanded(!0):b||r.disclosureExpanded(null),r):p},r.tags=function(B){return arguments.length?(m=B,r):m},r.entityIDs=function(B){return arguments.length?((!w||!B||!Jr(w,B))&&(w=B,l=[]),r):w},r.readOnlyTags=function(B){return arguments.length?(s=B,r):s},ke(r,i,"on")}var $b=[/^changesets_count$/,/^created_by$/,/^ideditor:/,/^imagery_used$/,/^host$/,/^locale$/,/^warnings:/,/^resolved:/,/^closed:note$/,/^closed:keepright$/,/^closed:improveosm:/,/^closed:osmose:/],Jb=/(#[^\u2000-\u206F\u2E00-\u2E7F\s\\'!"#$%()*,.\/:;<=>?@\[\]^`{|}~]+)/g;function b5(e){var t=be("cancel"),r,n,i=g5(e).on("change",m),a=Io("changeset-tag-editor",e).on("change",m).readOnlyTags($b),o=v5(e),s=y5(e);function l(g){n=g,e.changeset||u(),c(),g.call(d)}function u(){var g=+pe("commentDate")||0,v=Date.now(),x=2*86400*1e3;(g>v||v-g>x)&&(pe("comment",null),pe("hashtags",null),pe("source",null)),e.defaultChangesetComment()&&(pe("comment",e.defaultChangesetComment()),pe("commentDate",Date.now())),e.defaultChangesetSource()&&(pe("source",e.defaultChangesetSource()),pe("commentDate",Date.now())),e.defaultChangesetHashtags()&&(pe("hashtags",e.defaultChangesetHashtags()),pe("commentDate",Date.now()));var _=ue.esriData.getLoadedDatasetNames().join(", "),y={comment:pe("comment")||(_.includes("Address Update")?_:"Import ".concat(_)),created_by:e.cleanTagValue("LINZ Data Import "+e.rapidContext().version),host:e.cleanTagValue("https://github.com/osm-nz/linz-address-import"),source:e.cleanTagValue("https://wiki.osm.org/LINZ"),attribution:e.cleanTagValue("https://wiki.openstreetmap.org/wiki/Contributors#LINZ"),locale:e.cleanTagValue(_e.localeCode())};w(y,!0);var E=pe("hashtags");E&&(y.hashtags=E);var k=pe("source");k&&(y.source=k),e.changeset=new Nn({tags:y})}function c(){var g=e.connection();if(!g)return;var v=Object.assign({},e.changeset.tags),x=new Set((v.source||"").split(";")),_=new Set(e.history().photoOverlaysUsed()),y=["streetside","mapillary","mapillary-map-features","mapillary-signs","openstreetcam"];y.forEach(function(M){x.delete(M)}),_.size?(x.add("streetlevel imagery"),_.forEach(function(M){x.add(M)})):x.delete("streetlevel imagery");var E=e.rapidContext().sources,k=["mapwithai","esri"];k.forEach(function(M){x.delete(M)}),E.forEach(function(M){x.add(M)});var A=e.cleanTagValue(Array.from(x).filter(Boolean).join(";"));A?v.source=A:delete v.source;var C=new Set(e.history().imageryUsed()),D=e.cleanTagValue(Array.from(C).filter(Boolean).join(";"));v.imagery_used=D||"None";var S=g.getClosedIDs(),N;if(S.length&&(v["closed:note"]=e.cleanTagValue(S.join(";"))),ue.keepRight){var R=ue.keepRight.getClosedIDs();R.length&&(v["closed:keepright"]=e.cleanTagValue(R.join(";")))}if(ue.improveOSM){var P=ue.improveOSM.getClosedCounts();for(N in P)v["closed:improveosm:"+N]=e.cleanTagValue(P[N].toString())}if(ue.osmose){var L=ue.osmose.getClosedCounts();for(N in L)v["closed:osmose:"+N]=e.cleanTagValue(L[N].toString())}for(var B in v)B.match(/(^warnings:)|(^resolved:)/)&&delete v[B];function O(M,I){var z=ar(M,"type");for(var q in z){var V=z[q];if(V[0].subtype){var Y=ar(V,"subtype");for(var ee in Y){var ie=Y[ee];v[I+":"+q+":"+ee]=e.cleanTagValue(ie.length.toString())}}else v[I+":"+q]=e.cleanTagValue(V.length.toString())}}var U=e.validator().getIssuesBySeverity({what:"edited",where:"all",includeIgnored:!0,includeDisabledRules:!0}).warning.filter(function(M){return M.type!=="help_request"});O(U,"warnings");var T=e.validator().getResolvedIssues();O(T,"resolved"),e.changeset=e.changeset.update({tags:v})}function d(g){var v=e.connection();if(!v)return;var x=g.selectAll(".header").data([0]),_=x.enter().append("div").attr("class","header fillL");_.append("div").append("h3").html(F.html("commit.title")),_.append("button").attr("class","close").on("click",function(){t.call("cancel",this)}).call(ce("#iD-icon-close"));var y=g.selectAll(".body").data([0]);y=y.enter().append("div").attr("class","body").merge(y);var E=y.selectAll(".changeset-editor").data([0]);E=E.enter().append("div").attr("class","modal-section changeset-editor").merge(E),E.call(i.changesetID(e.changeset.id).tags(e.changeset.tags)),y.call(s);var k=y.selectAll(".save-section").data([0]);k=k.enter().append("div").attr("class","modal-section save-section fillL").merge(k);var A=k.selectAll(".commit-info").data([0]);A.enter().size()&&(r=null),A=A.enter().append("p").attr("class","commit-info").html(F.html("commit.upload_explanation")).merge(A),v.userDetails(function(I,z){if(!I&&r!==z){r=z;var q=G(document.createElement("div"));z.image_url&&q.append("img").attr("src",z.image_url).attr("class","icon pre-text user-icon"),q.append("a").attr("class","user-info").html(z.display_name).attr("href",v.userURL(z.display_name)).attr("target","_blank"),A.html(F.html("commit.upload_explanation_with_user",{user:q.html()}))}});var C=k.selectAll(".request-review").data([0]),D=C.enter().append("div").attr("class","request-review"),S=li("commit-input-request-review"),N=D.append("label").attr("for",S);N.empty()||N.call(Pe().title(F.html("commit.request_review_info")).placement("top")),N.append("input").attr("type","checkbox").attr("id",S),N.append("span").html(F.html("commit.request_review")),C=C.merge(D);var R=C.selectAll("input").property("checked",b(e.changeset.tags)).on("change",M),P=k.selectAll(".buttons").data([0]),L=P.enter().append("div").attr("class","buttons fillL");L.append("button").attr("class","secondary-action button cancel-button").append("span").attr("class","label").html(F.html("commit.cancel"));var B=L.append("button").attr("class","action button save-button");B.append("span").attr("class","label").html(F.html("commit.save"));var O=p();P=P.merge(L),P.selectAll(".cancel-button").on("click.cancel",function(){t.call("cancel",this)}),P.selectAll(".save-button").classed("disabled",O!==null).on("click.save",function(){if(!G(this).classed("disabled")){this.blur();for(var I in e.changeset.tags)I||delete e.changeset.tags[I];fetch(window.APIROOT+"/__done/"+ue.esriData.getLoadedDatasetIDs().join(",")+"?u="+(window.__user||{}).display_name),ue.esriData.resetLoadedDatasets(),e.uploader().save(e.changeset)}}),Pe().destroyAny(P.selectAll(".save-button")),O&&P.selectAll(".save-button").call(Pe().title(O).placement("top"));var U=y.selectAll(".tag-section.raw-tag-editor").data([0]);U=U.enter().append("div").attr("class","modal-section tag-section raw-tag-editor").merge(U),U.call(a.tags(Object.assign({},e.changeset.tags)).render);var T=y.selectAll(".commit-changes-section").data([0]);T=T.enter().append("div").attr("class","modal-section commit-changes-section").merge(T),T.call(o.render);function M(){var I=R.property("checked");h({review_requested:I?"yes":void 0}),U.call(a.tags(Object.assign({},e.changeset.tags)).render)}}function p(){var g=e.validator().getIssuesBySeverity({what:"edited",where:"all"}).error;if(g.length)return F("commit.outstanding_errors_message",{count:g.length});var v=e.changeset&&e.changeset.tags.comment&&e.changeset.tags.comment.trim().length;return v?null:F("commit.comment_needed_message")}function m(g,v,x){v.hasOwnProperty("comment")&&(v.comment===void 0&&(v.comment=""),x||(pe("comment",v.comment),pe("commentDate",Date.now()))),v.hasOwnProperty("source")&&(v.source===void 0?pe("source",null):x||(pe("source",v.source),pe("commentDate",Date.now()))),h(v,x),n&&n.call(d)}function w(g,v){var x=y();x.length&&pe("hashtags",null),(!x.length||!v)&&(x=x.concat(E()));var _=new Set;return x.filter(function(k){var A=k.toLowerCase();return _.has(A)?!1:(_.add(A),!0)});function y(){var k=(g.comment||"").replace(/http\S*/g,"").match(Jb);return k||[]}function E(){var k=(g.hashtags||"").split(/[,;\s]+/).map(function(A){A[0]!=="#"&&(A="#"+A);var C=A.match(Jb);return C&&C[0]}).filter(Boolean);return k||[]}}function b(g){var v=g.review_requested;return v===void 0?!1:(v=v.trim().toLowerCase(),!(v===""||v==="no"))}function h(g,v){var x=Object.assign({},e.changeset.tags);if(Object.keys(g).forEach(function(A){var C=g[A];A=e.cleanTagKey(A),$b.indexOf(A)===-1&&(C===void 0?delete x[A]:v?x[A]=C:x[A]=e.cleanTagValue(C))}),!v){var _=g.hasOwnProperty("comment")&&g.comment!=="",y=w(x,_);y.length?(x.hashtags=e.cleanTagValue(y.join(";")),pe("hashtags",x.hashtags)):(delete x.hashtags,pe("hashtags",null))}if(r&&r.changesets_count!==void 0){var E=parseInt(r.changesets_count,10)+1;if(x.changesets_count=String(E),E<=100){var k;k=pe("walkthrough_completed"),k&&(x["ideditor:walkthrough_completed"]=k),k=pe("walkthrough_progress"),k&&(x["ideditor:walkthrough_progress"]=k),k=pe("walkthrough_started"),k&&(x["ideditor:walkthrough_started"]=k)}}else delete x.changesets_count;(0,Xb.default)(e.changeset.tags,x)||(e.changeset=e.changeset.update({tags:x}))}return l.reset=function(){e.changeset=null},ke(l,t,"on")}var ew=Xe(H0());function tw(e){return typeof e!="string"?"":ew.default.remove(e.replace(/&/g,"and").replace(/İ/ig,"i").replace(/[\s\-=_!"#%'*{},.\/:;?\(\)\[\]@\\$\^*+<>«»~`’\u00a1\u00a7\u00b6\u00b7\u00bf\u037e\u0387\u055a-\u055f\u0589\u05c0\u05c3\u05c6\u05f3\u05f4\u0609\u060a\u060c\u060d\u061b\u061e\u061f\u066a-\u066d\u06d4\u0700-\u070d\u07f7-\u07f9\u0830-\u083e\u085e\u0964\u0965\u0970\u0af0\u0df4\u0e4f\u0e5a\u0e5b\u0f04-\u0f12\u0f14\u0f85\u0fd0-\u0fd4\u0fd9\u0fda\u104a-\u104f\u10fb\u1360-\u1368\u166d\u166e\u16eb-\u16ed\u1735\u1736\u17d4-\u17d6\u17d8-\u17da\u1800-\u1805\u1807-\u180a\u1944\u1945\u1a1e\u1a1f\u1aa0-\u1aa6\u1aa8-\u1aad\u1b5a-\u1b60\u1bfc-\u1bff\u1c3b-\u1c3f\u1c7e\u1c7f\u1cc0-\u1cc7\u1cd3\u200b-\u200f\u2016\u2017\u2020-\u2027\u2030-\u2038\u203b-\u203e\u2041-\u2043\u2047-\u2051\u2053\u2055-\u205e\u2cf9-\u2cfc\u2cfe\u2cff\u2d70\u2e00\u2e01\u2e06-\u2e08\u2e0b\u2e0e-\u2e16\u2e18\u2e19\u2e1b\u2e1e\u2e1f\u2e2a-\u2e2e\u2e30-\u2e39\u3001-\u3003\u303d\u30fb\ua4fe\ua4ff\ua60d-\ua60f\ua673\ua67e\ua6f2-\ua6f7\ua874-\ua877\ua8ce\ua8cf\ua8f8-\ua8fa\ua92e\ua92f\ua95f\ua9c1-\ua9cd\ua9de\ua9df\uaa5c-\uaa5f\uaade\uaadf\uaaf0\uaaf1\uabeb\ufe10-\ufe16\ufe19\ufe30\ufe45\ufe46\ufe49-\ufe4c\ufe50-\ufe52\ufe54-\ufe57\ufe5f-\ufe61\ufe68\ufe6a\ufe6b\ufeff\uff01-\uff03\uff05-\uff07\uff0a\uff0c\uff0e\uff0f\uff1a\uff1b\uff1f\uff20\uff3c\uff61\uff64\uff65]+/g,"").toLowerCase())}function O8(e,t,r){var n=Object.assign({},e.strings),i=Object.assign({},t[e.type]),a=new RegExp(/(\{\w+\})/,"gi");if(r){if(n.community){var o=tw(n.community);n.community=r("_communities.".concat(o))}["name","description","extendedDescription"].forEach(function(d){i[d]&&(i[d]=r("_defaults.".concat(e.type,".").concat(d))),n[d]&&(n[d]=r("".concat(e.id,".").concat(d)))})}var s={account:e.account,community:n.community,signupUrl:n.signupUrl,url:n.url};s.signupUrl||(s.signupUrl=u(n.signupUrl||i.signupUrl)),s.url||(s.url=u(n.url||i.url));var l={name:u(n.name||i.name),url:u(n.url||i.url),signupUrl:u(n.signupUrl||i.signupUrl),description:u(n.description||i.description),extendedDescription:u(n.extendedDescription||i.extendedDescription)};return l.nameHTML=c(l.url,l.name),l.urlHTML=c(l.url),l.signupUrlHTML=c(l.signupUrl),l.descriptionHTML=u(n.description||i.description,!0),l.extendedDescriptionHTML=u(n.extendedDescription||i.extendedDescription,!0),l;function u(d,p){if(!!d){var m=d;for(var w in s){var b="{".concat(w,"}"),h=new RegExp(b,"g");if(h.test(m)){var g=s[w];if(g)p&&(w==="signupUrl"||w==="url")&&(g=c(g)),m=m.replace(h,g);else throw new Error("Cannot resolve token: ".concat(b))}}var v=m.match(a);if(v)throw new Error("Cannot resolve tokens: ".concat(v));return p&&e.type==="reddit"&&(m=m.replace(/(\/r\/\w+\/*)/i,function(x){return c(l.url,x)})),m}}function c(d,p){if(!!d)return p=p||d,'<a target="_blank" href="'.concat(d,'">').concat(p,"</a>")}}var x4=null;function w5(e){var t=2,r=be("cancel"),n,i;a();function a(){var c=Je;return Promise.all([c.get("oci_features"),c.get("oci_resources"),c.get("oci_defaults")]).then(function(d){if(x4)return x4;d[0]&&Array.isArray(d[0].features)&&tn.mergeCustomGeoJSON(d[0]);var p=Object.values(d[1].resources);return p.length?tn.mergeLocationSets(p).then(function(){return x4={resources:p,defaults:d[2].defaults},x4}):(x4={resources:[],defaults:d[2].defaults},x4)})}function o(c){if(!!c){var d=c.trim();if(!!d){/Z$/.test(d)||(d+="Z");var p=new Date(d);return new Date(p.toUTCString().substr(0,25))}}}function s(c){var d=c.append("div").attr("class","header fillL");d.append("h3").html(F.html("success.just_edited")),d.append("button").attr("class","close").on("click",function(){return r.call("cancel")}).call(ce("#iD-icon-close"));var p=c.append("div").attr("class","body save-success fillL"),m=p.append("div").attr("class","save-summary");m.append("h3").html(F.html("success.thank_you"+(i?"_location":""),{where:i})),m.append("p").html(F.html("success.help_html")).append("a").attr("class","link-out").attr("target","_blank").attr("href",F("success.help_link_url")).call(ce("#iD-icon-out-link","inline")).append("span").html(F.html("success.help_link_text"));var w=e.connection();if(!!w){var b=w.changesetURL(n.id),h=m.append("table").attr("class","summary-table"),g=h.append("tr").attr("class","summary-row");g.append("td").attr("class","cell-icon summary-icon").append("a").attr("target","_blank").attr("href",b).append("svg").attr("class","logo-small").append("use").attr("xlink:href","#iD-logo-osm");var v=g.append("td").attr("class","cell-detail summary-detail");v.append("a").attr("class","cell-detail summary-view-on-osm").attr("target","_blank").attr("href",b).html(F.html("success.view_on_osm")),v.append("div").html(F.html("success.changeset_id",{changeset_id:'<a href="'.concat(b,'" target="_blank">').concat(n.id,"</a>")})),a().then(function(x){var _=e.map().center(),y=tn.locationsAt(_),E=[];x.resources.forEach(function(k){var A=y[k.locationSetID];if(!!A){var C=function(S){return F.html("community.".concat(S))};k.resolved=O8(k,x.defaults,C),E.push({area:A,order:k.order||0,resource:k})}}),E.sort(function(k,A){return k.area-A.area||A.order-k.order}),p.call(l,E.map(function(k){return k.resource}))})}}function l(c,d){var p=c.append("div").attr("class","save-communityLinks");p.append("h3").html(F.html("success.like_osm"));var m=p.append("table").attr("class","community-table"),w=m.selectAll(".community-row").data(d),b=w.enter().append("tr").attr("class","community-row");b.append("td").attr("class","cell-icon community-icon").append("a").attr("target","_blank").attr("href",function(g){return g.resolved.url}).append("svg").attr("class","logo-small").append("use").attr("xlink:href",function(g){return"#community-".concat(g.type)});var h=b.append("td").attr("class","cell-detail community-detail");h.each(u),p.append("div").attr("class","community-missing").html(F.html("success.missing")).append("a").attr("class","link-out").attr("target","_blank").call(ce("#iD-icon-out-link","inline")).attr("href","https://github.com/osmlab/osm-community-index/issues").append("span").html(F.html("success.tell_us"))}function u(c){var d=G(this),p=c.id;d.append("div").attr("class","community-name").html(c.resolved.nameHTML),d.append("div").attr("class","community-description").html(c.resolved.descriptionHTML),(c.resolved.extendedDescriptionHTML||c.languageCodes&&c.languageCodes.length)&&d.append("div").call(y1(e,"community-more-".concat(c.id),!1).expanded(!1).updatePreference(!1).label(F.html("success.more")).content(w));var m=(c.events||[]).map(function(h){return h.date=o(h.when),h}).filter(function(h){var g=h.date.getTime(),v=new Date().setHours(0,0,0,0);return!isNaN(g)&&g>=v}).sort(function(h,g){return h.date<g.date?-1:h.date>g.date?1:0}).slice(0,t);m.length&&d.append("div").call(y1(e,"community-events-".concat(c.id),!1).expanded(!1).updatePreference(!1).label(F.html("success.events")).content(b)).select(".hide-toggle").append("span").attr("class","badge-text").html(m.length);function w(h){var g=h.selectAll(".community-more").data([0]),v=g.enter().append("div").attr("class","community-more");if(c.resolved.extendedDescriptionHTML&&v.append("div").attr("class","community-extended-description").html(c.resolved.extendedDescriptionHTML),c.languageCodes&&c.languageCodes.length){var x=c.languageCodes.map(function(_){return _e.languageName(_)}).join(", ");v.append("div").attr("class","community-languages").html(F.html("success.languages",{languages:x}))}}function b(h){var g=h.append("div").attr("class","community-events"),v=g.selectAll(".community-event").data(m),x=v.enter().append("div").attr("class","community-event");x.append("div").attr("class","community-event-name").append("a").attr("target","_blank").attr("href",function(_){return _.url}).html(function(_){var y=_.name;return _.i18n&&_.id&&(y=F("community.".concat(p,".events.").concat(_.id,".name"),{default:y})),y}),x.append("div").attr("class","community-event-when").html(function(_){var y={weekday:"short",day:"numeric",month:"short",year:"numeric"};return(_.date.getHours()||_.date.getMinutes())&&(y.hour="numeric",y.minute="numeric"),_.date.toLocaleString(_e.localeCode(),y)}),x.append("div").attr("class","community-event-where").html(function(_){var y=_.where;return _.i18n&&_.id&&(y=F("community.".concat(p,".events.").concat(_.id,".where"),{default:y})),y}),x.append("div").attr("class","community-event-description").html(function(_){var y=_.description;return _.i18n&&_.id&&(y=F("community.".concat(p,".events.").concat(_.id,".description"),{default:y})),y})}}return s.changeset=function(c){return arguments.length?(n=c,s):n},s.location=function(c){return arguments.length?(i=c,s):i},ke(s,r,"on")}function x5(e){var t={id:"save"},r=Re("modeSave"),n=b5(e).on("cancel",l),i,a,o,s=e.uploader().on("saveStarted.modeSave",function(){b()}).on("willAttemptUpload.modeSave",h).on("progressChanged.modeSave",u).on("resultNoChanges.modeSave",function(){l()}).on("resultErrors.modeSave",d).on("resultConflicts.modeSave",c).on("resultSuccess.modeSave",m);function l(){e.enter(De(e))}function u(g,v){var x=e.container().select(".loading-modal .modal-section"),_=x.selectAll(".progress").data([0]);_.enter().append("div").attr("class","progress").merge(_).text(F("save.conflict_progress",{num:g,total:v}))}function c(g,v,x){var _=e.container().select(".sidebar").append("div").attr("class","sidebar-component");e.container().selectAll(".main-content").classed("active",!0).classed("inactive",!1),i=l5(e).conflictList(v).origChanges(x).on("cancel",function(){e.container().selectAll(".main-content").classed("active",!1).classed("inactive",!0),_.remove(),w(),s.cancelConflictResolution()}).on("save",function(){e.container().selectAll(".main-content").classed("active",!1).classed("inactive",!0),_.remove(),s.processResolvedConflicts(g)}),_.call(i)}function d(g){w();var v=Mo(e.container());v.select(".modal-section.header").append("h3").text(F("save.error")),p(v,g),v.okButton()}function p(g,v){var x=g.select(".modal-section.message-text"),_=x.selectAll(".error-container").data(v),y=_.enter().append("div").attr("class","error-container");y.append("a").attr("class","error-description").attr("href","#").classed("hide-toggle",!0).text(function(k){return k.msg||F("save.unknown_error_details")}).on("click",function(k){k.preventDefault();var A=G(this),C=G(this.nextElementSibling),D=A.classed("expanded");C.style("display",D?"none":"block"),A.classed("expanded",!D)});var E=y.append("div").attr("class","error-detail-container").style("display","none");E.append("ul").attr("class","error-detail-list").selectAll("li").data(function(k){return k.details||[]}).enter().append("li").attr("class","error-detail-item").text(function(k){return k}),_.exit().remove()}function m(g){n.reset();var v=o.changeset(g).location(a).on("cancel",function(){e.ui().sidebar.hide()});e.enter(De(e).sidebar(v))}function w(){G(document).call(r.on("\u238B",l,!0))}function b(){G(document).call(r.unbind)}function h(){o=w5(e),a=null,!!ue.geocoder&&ue.geocoder.reverse(e.map().center(),function(g,v){if(!(g||!v||!v.address)){var x=v.address,_=x&&(x.town||x.city||x.county)||"",y=x&&(x.state||x.country)||"",E=_&&y?F("success.thank_you_where.separator"):"";a=F("success.thank_you_where.format",{place:_,separator:E,region:y})}})}return t.selectedIDs=function(){return i?i.shownEntityIds():[]},t.enter=function(){e.ui().sidebar.expand();function g(){e.ui().sidebar.show(n)}w(),e.container().selectAll(".main-content").classed("active",!1).classed("inactive",!0);var v=e.connection();if(!v){l();return}v.authenticated()?g():v.authenticate(function(x){x?l():g()})},t.exit=function(){b(),e.container().selectAll(".main-content").classed("active",!0).classed("inactive",!1),e.ui().sidebar.hide()},t}function _5(){var e;function t(n){var i=n.selectAll(".comments-container").data([0]);i=i.enter().append("div").attr("class","comments-container").merge(i),ue.improveOSM.getComments(e).then(function(a){if(!!a.comments){var o=i.selectAll(".comment").data(a.comments).enter().append("div").attr("class","comment");o.append("div").attr("class","comment-avatar").call(ce("#iD-icon-avatar","comment-avatar-icon"));var s=o.append("div").attr("class","comment-main"),l=s.append("div").attr("class","comment-metadata");l.append("div").attr("class","comment-author").each(function(u){var c=ue.osm,d=G(this);c&&u.username&&(d=d.append("a").attr("class","comment-author-link").attr("href",c.userURL(u.username)).attr("target","_blank")),d.html(function(p){return p.username})}),l.append("div").attr("class","comment-date").html(function(u){return F.html("note.status.commented",{when:r(u.timestamp)})}),s.append("div").attr("class","comment-text").append("p").html(function(u){return u.text})}}).catch(function(a){console.log(a)})}function r(n){if(!n)return null;var i={day:"numeric",month:"short",year:"numeric"},a=new Date(n*1e3);return isNaN(a.getTime())?null:a.toLocaleDateString(_e.localeCode(),i)}return t.issue=function(n){return arguments.length?(e=n,t):e},t}function k5(e){var t;function r(i){if(i.desc)return i.desc;var a=i.issueKey;return i.replacements=i.replacements||{},i.replacements.default=F.html("inspector.unknown"),F.html("QA.improveOSM.error_types.".concat(a,".description"),i.replacements)}function n(i){var a=i.selectAll(".error-details").data(t?[t]:[],function(u){return"".concat(u.id,"-").concat(u.status||0)});a.exit().remove();var o=a.enter().append("div").attr("class","error-details qa-details-container"),s=o.append("div").attr("class","qa-details-subsection");s.append("h4").html(F.html("QA.keepRight.detail_description")),s.append("div").attr("class","qa-details-description-text").html(r);var l=[];s.selectAll(".error_entity_link, .error_object_link").attr("href","#").each(function(){var u=G(this),c=u.classed("error_object_link"),d=c?t.objectType.charAt(0)+t.objectId:this.textContent,p=e.hasEntity(d);if(l.push(d),u.on("mouseenter",function(){ot([d],!0,e)}).on("mouseleave",function(){ot([d],!1,e)}).on("click",function(b){b.preventDefault(),ot([d],!1,e);var h=e.layers().layer("osm");h.enabled()||h.enabled(!0),e.map().centerZoom(t.loc,20),p?e.enter(Le(e,[d])):e.loadEntity(d,function(g,v){if(!g){var x=v.data.find(function(_){return _.id===d});x&&e.enter(Le(e,[d]))}})}),p){var m=nr(p);if(!m&&!c){var w=Ie.match(p,e.graph());m=w&&!w.isFallback()&&w.name()}m&&(this.innerText=m)}}),e.features().forceVisible(l),e.map().pan([0,0])}return n.issue=function(i){return arguments.length?(t=i,n):t},n}function E5(){var e;function t(n){var i=n.issueKey;return n.replacements=n.replacements||{},n.replacements.default=F.html("inspector.unknown"),F.html("QA.improveOSM.error_types.".concat(i,".title"),n.replacements)}function r(n){var i=n.selectAll(".qa-header").data(e?[e]:[],function(s){return"".concat(s.id,"-").concat(s.status||0)});i.exit().remove();var a=i.enter().append("div").attr("class","qa-header"),o=a.append("div").attr("class","qa-header-icon").classed("new",function(s){return s.id<0}).append("svg").attr("width","20px").attr("height","30px").attr("viewbox","0 0 20 30").attr("class",function(s){return"preset-icon-28 qaItem ".concat(s.service," itemId-").concat(s.id," itemType-").concat(s.itemType)});o.append("polygon").attr("fill","currentColor").attr("class","qaItem-fill").attr("points","16,3 4,3 1,6 1,17 4,20 7,20 10,27 13,20 16,20 19,17.033 19,6"),o.append("use").attr("class","icon-annotation").attr("width","13px").attr("height","13px").attr("transform","translate(3.5, 5)").attr("xlink:href",function(s){var l=s.icon;if(l){var u=/^maki-/.test(l);return"#".concat(l).concat(u?"-11":"")}else return""}),a.append("div").attr("class","qa-header-label").html(t)}return r.issue=function(n){return arguments.length?(e=n,r):e},r}function _4(e){var t=be("change"),r=k5(e),n=_5(e),i=E5(e),a;function o(u){var c=u.selectAll(".header").data([0]).enter().append("div").attr("class","header fillL");c.append("button").attr("class","close").on("click",function(){return e.enter(De(e))}).call(ce("#iD-icon-close")),c.append("h3").html(F.html("QA.improveOSM.title"));var d=u.selectAll(".body").data([0]);d=d.enter().append("div").attr("class","body").merge(d);var p=d.selectAll(".qa-editor").data([0]);p.enter().append("div").attr("class","modal-section qa-editor").merge(p).call(i.issue(a)).call(r.issue(a)).call(n.issue(a)).call(s)}function s(u){var c=a&&a.id===e.selectedErrorID(),d=a&&(c||a.newComment||a.comment),p=u.selectAll(".qa-save").data(d?[a]:[],function(b){return"".concat(b.id,"-").concat(b.status||0)});p.exit().remove();var m=p.enter().append("div").attr("class","qa-save save-section cf");m.append("h4").attr("class",".qa-save-header").html(F.html("note.newComment")),m.append("textarea").attr("class","new-comment-input").attr("placeholder",F("QA.keepRight.comment_placeholder")).attr("maxlength",1e3).property("value",function(b){return b.newComment}).call(et).on("input",w).on("blur",w),p=m.merge(p).call(l);function w(){var b=G(this),h=b.property("value").trim();h===""&&(h=void 0),a=a.update({newComment:h});var g=ue.improveOSM;g&&g.replaceItem(a),p.call(l)}}function l(u){var c=a&&a.id===e.selectedErrorID(),d=u.selectAll(".buttons").data(c?[a]:[],function(m){return m.status+m.id});d.exit().remove();var p=d.enter().append("div").attr("class","buttons");p.append("button").attr("class","button comment-button action").html(F.html("QA.keepRight.save_comment")),p.append("button").attr("class","button close-button action"),p.append("button").attr("class","button ignore-button action"),d=d.merge(p),d.select(".comment-button").attr("disabled",function(m){return m.newComment?null:!0}).on("click.comment",function(m,w){this.blur();var b=ue.improveOSM;b&&b.postUpdate(w,function(h,g){return t.call("change",g)})}),d.select(".close-button").html(function(m){var w=m.newComment?"_comment":"";return F.html("QA.keepRight.close".concat(w))}).on("click.close",function(m,w){this.blur();var b=ue.improveOSM;b&&(w.newStatus="SOLVED",b.postUpdate(w,function(h,g){return t.call("change",g)}))}),d.select(".ignore-button").html(function(m){var w=m.newComment?"_comment":"";return F.html("QA.keepRight.ignore".concat(w))}).on("click.ignore",function(m,w){this.blur();var b=ue.improveOSM;b&&(w.newStatus="INVALID",b.postUpdate(w,function(h,g){return t.call("change",g)}))})}return o.error=function(u){return arguments.length?(a=u,o):a},ke(o,t,"on")}function A5(e){var t;function r(i){var a=i.itemType,o=i.parentIssueType,s=F.html("inspector.unknown"),l=i.replacements||{};l.default=s;var u=F.html("QA.keepRight.errorTypes.".concat(a,".description"),l);return u===s&&(u=F.html("QA.keepRight.errorTypes.".concat(o,".description"),l)),u}function n(i){var a=i.selectAll(".error-details").data(t?[t]:[],function(u){return"".concat(u.id,"-").concat(u.status||0)});a.exit().remove();var o=a.enter().append("div").attr("class","error-details qa-details-container"),s=o.append("div").attr("class","qa-details-subsection");s.append("h4").html(F.html("QA.keepRight.detail_description")),s.append("div").attr("class","qa-details-description-text").html(r);var l=[];s.selectAll(".error_entity_link, .error_object_link").attr("href","#").each(function(){var u=G(this),c=u.classed("error_object_link"),d=c?t.objectType.charAt(0)+t.objectId:this.textContent,p=e.hasEntity(d);if(l.push(d),u.on("mouseenter",function(){ot([d],!0,e)}).on("mouseleave",function(){ot([d],!1,e)}).on("click",function(b){b.preventDefault(),ot([d],!1,e);var h=e.layers().layer("osm");h.enabled()||h.enabled(!0),e.map().centerZoomEase(t.loc,20),p?e.enter(Le(e,[d])):e.loadEntity(d,function(g,v){if(!g){var x=v.data.find(function(_){return _.id===d});x&&e.enter(Le(e,[d]))}})}),p){var m=nr(p);if(!m&&!c){var w=Ie.match(p,e.graph());m=w&&!w.isFallback()&&w.name()}m&&(this.innerText=m)}}),e.features().forceVisible(l),e.map().pan([0,0])}return n.issue=function(i){return arguments.length?(t=i,n):t},n}function C5(){var e;function t(n){var i=n.itemType,a=n.parentIssueType,o=F.html("inspector.unknown"),s=n.replacements||{};s.default=o;var l=F.html("QA.keepRight.errorTypes.".concat(i,".title"),s);return l===o&&(l=F.html("QA.keepRight.errorTypes.".concat(a,".title"),s)),l}function r(n){var i=n.selectAll(".qa-header").data(e?[e]:[],function(s){return"".concat(s.id,"-").concat(s.status||0)});i.exit().remove();var a=i.enter().append("div").attr("class","qa-header"),o=a.append("div").attr("class","qa-header-icon").classed("new",function(s){return s.id<0});o.append("div").attr("class",function(s){return"preset-icon-28 qaItem ".concat(s.service," itemId-").concat(s.id," itemType-").concat(s.parentIssueType)}).call(ce("#iD-icon-bolt","qaItem-fill")),a.append("div").attr("class","qa-header-label").html(t)}return r.issue=function(n){return arguments.length?(e=n,r):e},r}function D5(){var e;function t(r){var n;ue.keepRight&&e instanceof lr&&(n=ue.keepRight.issueURL(e));var i=r.selectAll(".view-on-keepRight").data(n?[n]:[]);i.exit().remove();var a=i.enter().append("a").attr("class","view-on-keepRight").attr("target","_blank").attr("rel","noopener").attr("href",function(o){return o}).call(ce("#iD-icon-out-link","inline"));a.append("span").html(F.html("inspector.view_on_keepRight"))}return t.what=function(r){return arguments.length?(e=r,t):e},t}function k4(e){var t=be("change"),r=A5(e),n=C5(e),i;function a(l){var u=l.selectAll(".header").data([0]).enter().append("div").attr("class","header fillL");u.append("button").attr("class","close").on("click",function(){return e.enter(De(e))}).call(ce("#iD-icon-close")),u.append("h3").html(F.html("QA.keepRight.title"));var c=l.selectAll(".body").data([0]);c=c.enter().append("div").attr("class","body").merge(c);var d=c.selectAll(".qa-editor").data([0]);d.enter().append("div").attr("class","modal-section qa-editor").merge(d).call(n.issue(i)).call(r.issue(i)).call(o);var p=l.selectAll(".footer").data([0]);p.enter().append("div").attr("class","footer").merge(p).call(D5(e).what(i))}function o(l){var u=i&&i.id===e.selectedErrorID(),c=i&&(u||i.newComment||i.comment),d=l.selectAll(".qa-save").data(c?[i]:[],function(w){return"".concat(w.id,"-").concat(w.status||0)});d.exit().remove();var p=d.enter().append("div").attr("class","qa-save save-section cf");p.append("h4").attr("class",".qa-save-header").html(F.html("QA.keepRight.comment")),p.append("textarea").attr("class","new-comment-input").attr("placeholder",F("QA.keepRight.comment_placeholder")).attr("maxlength",1e3).property("value",function(w){return w.newComment||w.comment}).call(et).on("input",m).on("blur",m),d=p.merge(d).call(s);function m(){var w=G(this),b=w.property("value").trim();b===i.comment&&(b=void 0),i=i.update({newComment:b});var h=ue.keepRight;h&&h.replaceItem(i),d.call(s)}}function s(l){var u=i&&i.id===e.selectedErrorID(),c=l.selectAll(".buttons").data(u?[i]:[],function(p){return p.status+p.id});c.exit().remove();var d=c.enter().append("div").attr("class","buttons");d.append("button").attr("class","button comment-button action").html(F.html("QA.keepRight.save_comment")),d.append("button").attr("class","button close-button action"),d.append("button").attr("class","button ignore-button action"),c=c.merge(d),c.select(".comment-button").attr("disabled",function(p){return p.newComment?null:!0}).on("click.comment",function(p,m){this.blur();var w=ue.keepRight;w&&w.postUpdate(m,function(b,h){return t.call("change",h)})}),c.select(".close-button").html(function(p){var m=p.newComment?"_comment":"";return F.html("QA.keepRight.close".concat(m))}).on("click.close",function(p,m){this.blur();var w=ue.keepRight;w&&(m.newStatus="ignore_t",w.postUpdate(m,function(b,h){return t.call("change",h)}))}),c.select(".ignore-button").html(function(p){var m=p.newComment?"_comment":"";return F.html("QA.keepRight.ignore".concat(m))}).on("click.ignore",function(p,m){this.blur();var w=ue.keepRight;w&&(m.newStatus="ignore",w.postUpdate(m,function(b,h){return t.call("change",h)}))})}return a.error=function(l){return arguments.length?(i=l,a):i},ke(a,t,"on")}function rw(e){var t;function r(i,a){if(!i)return"";var o=ue.osmose.getStrings(i.itemType);return a in o?o[a]:""}function n(i){var a=i.selectAll(".error-details").data(t?[t]:[],function(m){return"".concat(m.id,"-").concat(m.status||0)});a.exit().remove();var o=a.enter().append("div").attr("class","error-details qa-details-container");if(r(t,"detail")){var s=o.append("div").attr("class","qa-details-subsection");s.append("h4").html(F.html("QA.keepRight.detail_description")),s.append("p").attr("class","qa-details-description-text").html(function(m){return r(m,"detail")}).selectAll("a").attr("rel","noopener").attr("target","_blank")}var l=o.append("div").attr("class","qa-details-subsection"),u=o.append("div").attr("class","qa-details-subsection");if(r(t,"fix")){var c=o.append("div").attr("class","qa-details-subsection");c.append("h4").html(F.html("QA.osmose.fix_title")),c.append("p").html(function(m){return r(m,"fix")}).selectAll("a").attr("rel","noopener").attr("target","_blank")}if(r(t,"trap")){var d=o.append("div").attr("class","qa-details-subsection");d.append("h4").html(F.html("QA.osmose.trap_title")),d.append("p").html(function(m){return r(m,"trap")}).selectAll("a").attr("rel","noopener").attr("target","_blank")}var p=t;ue.osmose.loadIssueDetail(t).then(function(m){!m.elems||m.elems.length===0||e.selectedErrorID()!==p.id&&e.container().selectAll(".qaItem.osmose.hover.itemId-".concat(p.id)).empty()||(m.detail&&(l.append("h4").html(F.html("QA.osmose.detail_title")),l.append("p").html(function(w){return w.detail}).selectAll("a").attr("rel","noopener").attr("target","_blank")),u.append("h4").html(F.html("QA.osmose.elems_title")),u.append("ul").selectAll("li").data(m.elems).enter().append("li").append("a").attr("href","#").attr("class","error_entity_link").html(function(w){return w}).each(function(){var w=G(this),b=this.textContent,h=e.hasEntity(b);if(w.on("mouseenter",function(){ot([b],!0,e)}).on("mouseleave",function(){ot([b],!1,e)}).on("click",function(x){x.preventDefault(),ot([b],!1,e);var _=e.layers().layer("osm");_.enabled()||_.enabled(!0),e.map().centerZoom(m.loc,20),h?e.enter(Le(e,[b])):e.loadEntity(b,function(y,E){if(!y){var k=E.data.find(function(A){return A.id===b});k&&e.enter(Le(e,[b]))}})}),h){var g=nr(h);if(!g){var v=Ie.match(h,e.graph());g=v&&!v.isFallback()&&v.name()}g&&(this.innerText=g)}}),e.features().forceVisible(m.elems),e.map().pan([0,0]))}).catch(function(m){console.log(m)})}return n.issue=function(i){return arguments.length?(t=i,n):t},n}function nw(){var e;function t(n){var i=F("inspector.unknown");if(!n)return i;var a=ue.osmose.getStrings(n.itemType);return"title"in a?a.title:i}function r(n){var i=n.selectAll(".qa-header").data(e?[e]:[],function(s){return"".concat(s.id,"-").concat(s.status||0)});i.exit().remove();var a=i.enter().append("div").attr("class","qa-header"),o=a.append("div").attr("class","qa-header-icon").classed("new",function(s){return s.id<0}).append("svg").attr("width","20px").attr("height","30px").attr("viewbox","0 0 20 30").attr("class",function(s){return"preset-icon-28 qaItem ".concat(s.service," itemId-").concat(s.id," itemType-").concat(s.itemType)});o.append("polygon").attr("fill",function(s){return ue.osmose.getColor(s.item)}).attr("class","qaItem-fill").attr("points","16,3 4,3 1,6 1,17 4,20 7,20 10,27 13,20 16,20 19,17.033 19,6"),o.append("use").attr("class","icon-annotation").attr("width","13px").attr("height","13px").attr("transform","translate(3.5, 5)").attr("xlink:href",function(s){var l=s.icon;if(l){var u=/^maki-/.test(l);return"#".concat(l).concat(u?"-11":"")}else return""}),a.append("div").attr("class","qa-header-label").html(t)}return r.issue=function(n){return arguments.length?(e=n,r):e},r}function iw(){var e;function t(r){var n;ue.osmose&&e instanceof lr&&(n=ue.osmose.itemURL(e));var i=r.selectAll(".view-on-osmose").data(n?[n]:[]);i.exit().remove();var a=i.enter().append("a").attr("class","view-on-osmose").attr("target","_blank").attr("rel","noopener").attr("href",function(o){return o}).call(ce("#iD-icon-out-link","inline"));a.append("span").html(F.html("inspector.view_on_osmose"))}return t.what=function(r){return arguments.length?(e=r,t):e},t}function S5(e){var t=be("change"),r=rw(e),n=nw(e),i;function a(l){var u=l.selectAll(".header").data([0]),c=u.enter().append("div").attr("class","header fillL");c.append("button").attr("class","close").on("click",function(){return e.enter(De(e))}).call(ce("#iD-icon-close")),c.append("h3").html(F.html("QA.osmose.title"));var d=l.selectAll(".body").data([0]);d=d.enter().append("div").attr("class","body").merge(d);var p=d.selectAll(".qa-editor").data([0]);p.enter().append("div").attr("class","modal-section qa-editor").merge(p).call(n.issue(i)).call(r.issue(i)).call(o);var m=l.selectAll(".footer").data([0]);m.enter().append("div").attr("class","footer").merge(m).call(iw(e).what(i))}function o(l){var u=i&&i.id===e.selectedErrorID(),c=i&&u,d=l.selectAll(".qa-save").data(c?[i]:[],function(m){return"".concat(m.id,"-").concat(m.status||0)});d.exit().remove();var p=d.enter().append("div").attr("class","qa-save save-section cf");d=p.merge(d).call(s)}function s(l){var u=i&&i.id===e.selectedErrorID(),c=l.selectAll(".buttons").data(u?[i]:[],function(p){return p.status+p.id});c.exit().remove();var d=c.enter().append("div").attr("class","buttons");d.append("button").attr("class","button close-button action"),d.append("button").attr("class","button ignore-button action"),c=c.merge(d),c.select(".close-button").html(F.html("QA.keepRight.close")).on("click.close",function(p,m){this.blur();var w=ue.osmose;w&&(m.newStatus="done",w.postUpdate(m,function(b,h){return t.call("change",h)}))}),c.select(".ignore-button").html(F.html("QA.keepRight.ignore")).on("click.ignore",function(p,m){this.blur();var w=ue.osmose;w&&(m.newStatus="false",w.postUpdate(m,function(b,h){return t.call("change",h)}))})}return a.error=function(l){return arguments.length?(i=l,a):i},ke(a,t,"on")}function F5(e,t,r){var n={id:"select-error",button:"browse"},i=Re("select-error"),a=ue[r],o;switch(r){case"improveOSM":o=_4(e).on("change",function(){e.map().pan([0,0]);var u=l();!u||e.ui().sidebar.show(o.error(u))});break;case"keepRight":o=k4(e).on("change",function(){e.map().pan([0,0]);var u=l();!u||e.ui().sidebar.show(o.error(u))});break;case"osmose":o=S5(e).on("change",function(){e.map().pan([0,0]);var u=l();!u||e.ui().sidebar.show(o.error(u))});break}var s=[qn(e),rn(e),Wn(e),Vn(e),Qn(e).behavior,Hn(e).behavior];function l(){if(!!a){var u=a.getError(t);return u||e.enter(De(e)),u}}return n.zoomToSelected=function(){if(!!a){var u=a.getError(t);u&&e.map().centerZoomEase(u.loc,20)}},n.enter=function(){var u=l();if(!u)return;s.forEach(e.install),i.on(F("inspector.zoom_to.key"),n.zoomToSelected).on("\u238B",p,!0),G(document).call(i),d();var c=e.ui().sidebar;c.show(o.error(u)),c.expand(c.intersects(new Ne(u.loc))),e.map().on("drawn.select-error",d);function d(m,w){if(!!l()){var b=e.surface().selectAll(".itemId-"+t+"."+r);if(b.empty()){var h=m&&m.type==="zoom"&&m.sourceEvent;w&&h&&(h.type==="pointermove"||h.type==="mousemove"||h.type==="touchmove")&&e.enter(De(e))}else b.classed("selected",!0),e.selectedErrorID(t)}}function p(){e.container().select(".combobox").size()||e.enter(De(e))}},n.exit=function(){s.forEach(e.uninstall),G(document).call(i.unbind),e.surface().selectAll(".qaItem.selected").classed("selected hover",!1),e.map().on("drawn.select-error",null),e.ui().sidebar.hide(),e.selectedErrorID(null),e.features().forceVisible([])},n}function T5(e){var t=G(null),r=G(null),n=G(null);function i(o){t=o.append("svg").attr("class","curtain").style("top",0).style("left",0),n=t.append("path").attr("x",0).attr("y",0).attr("class","curtain-darkness"),G(window).on("resize.curtain",s),r=o.append("div").attr("class","tooltip"),r.append("div").attr("class","popover-arrow"),r.append("div").attr("class","popover-inner"),s();function s(){t.attr("width",e.clientWidth).attr("height",e.clientHeight),i.cut(n.datum())}}i.reveal=function(o,s,l){if(l=l||{},typeof o=="string"&&(o=G(o).node()),o&&o.getBoundingClientRect){o=a(o.getBoundingClientRect());var u=e.getBoundingClientRect();o.top-=u.top,o.left-=u.left}o&&l.padding&&(o.top-=l.padding,o.left-=l.padding,o.bottom+=l.padding,o.right+=l.padding,o.height+=l.padding*2,o.width+=l.padding*2);var c;if(l.tooltipBox?(c=l.tooltipBox,typeof c=="string"&&(c=G(c).node()),c&&c.getBoundingClientRect&&(c=a(c.getBoundingClientRect()))):c=o,c&&s){s.indexOf("**")!==-1&&(s.indexOf("<span")===0?s=s.replace(/^(<span.*?>)(.+?)(\*\*)/,"$1<span>$2</span>$3"):s=s.replace(/^(.+?)(\*\*)/,"<span>$1</span>$2"),s=s.replace(/\*\*(.*?)\*\*/g,'<span class="instruction">$1</span>')),s=s.replace(/\*(.*?)\*/g,"<em>$1</em>"),s=s.replace(/\{br\}/g,"<br/><br/>"),l.buttonText&&l.buttonCallback&&(s+='<div class="button-section"><button href="#" class="button action">'+l.buttonText+"</button></div>");var d="curtain-tooltip popover tooltip arrowed in "+(l.tooltipClass||"");if(r.classed(d,!0).selectAll(".popover-inner").html(s),l.buttonText&&l.buttonCallback){var p=r.selectAll(".button-section .button.action");p.on("click",function(E){E.preventDefault(),l.buttonCallback()})}var m=a(r.node().getBoundingClientRect()),w=e.clientWidth,b=e.clientHeight,h=200,g=5,v,x;if(l.tooltipClass==="intro-mouse"&&(m.height+=80),c.top+c.height>b&&(c.height-=c.top+c.height-b),c.left+c.width>w&&(c.width-=c.left+c.width-w),c.top+c.height<100)v="bottom",x=[c.left+c.width/2-m.width/2,c.top+c.height];else if(c.top>b-140)v="top",x=[c.left+c.width/2-m.width/2,c.top-m.height];else{var _=c.top+c.height/2-m.height/2;_e.textDirection()==="rtl"?c.left-h-g<70?(v="right",x=[c.left+c.width+g,_]):(v="left",x=[c.left-h-g,_]):c.left+c.width+g+h>w-70?(v="left",x=[c.left-h-g,_]):(v="right",x=[c.left+c.width+g,_])}(l.duration!==0||!r.classed(v))&&r.call(ma(!0)),r.style("top",x[1]+"px").style("left",x[0]+"px").attr("class",d+" "+v);var y=0;(v==="left"||v==="right")&&(x[1]<60?y=60-x[1]:x[1]+m.height>b-100&&(y=b-x[1]-m.height-100)),r.selectAll(".popover-inner").style("top",y+"px")}else r.classed("in",!1).call(ma(!1));return i.cut(o,l.duration),r},i.cut=function(o,s){n.datum(o).interrupt();var l;s===0?l=n:l=n.transition().duration(s||600).ease(Ql),l.attr("d",function(u){var c=e.clientWidth,d=e.clientHeight,p="M 0,0 L 0,"+d+" L "+c+","+d+"L"+c+",0 Z";return u?p+"M"+u.left+","+u.top+"L"+u.left+","+(u.top+u.height)+"L"+(u.left+u.width)+","+(u.top+u.height)+"L"+(u.left+u.width)+","+u.top+"Z":p})},i.remove=function(){t.remove(),r.remove(),G(window).on("resize.curtain",null)};function a(o){return{top:o.top,right:o.right,bottom:o.bottom,left:o.left,width:o.width,height:o.height}}return i}function M5(){var e;function t(r){var n=r.selectAll(".data-header").data(e?[e]:[],function(o){return o.__featurehash__});n.exit().remove();var i=n.enter().append("div").attr("class","data-header"),a=i.append("div").attr("class","data-header-icon");a.append("div").attr("class","preset-icon-28").call(ce("#iD-icon-data","note-fill")),i.append("div").attr("class","data-header-label").html(F.html("map_data.layers.custom.title"))}return t.datum=function(r){return arguments.length?(e=r,this):e},t}function E4(e){var t=M5(),r=Io("custom-data-tag-editor",e).expandedByDefault(!0).readOnlyTags([/./]),n;function i(a){var o=a.selectAll(".header").data([0]),s=o.enter().append("div").attr("class","header fillL");s.append("button").attr("class","close").on("click",function(){e.enter(De(e))}).call(ce("#iD-icon-close")),s.append("h3").html(F.html("map_data.title"));var l=a.selectAll(".body").data([0]);l=l.enter().append("div").attr("class","body").merge(l);var u=l.selectAll(".data-editor").data([0]);u.enter().append("div").attr("class","modal-section data-editor").merge(u).call(t.datum(n));var c=l.selectAll(".raw-tag-editor").data([0]);c.enter().append("div").attr("class","raw-tag-editor data-editor").merge(c).call(r.tags(n&&n.properties||{}).state("hover").render).selectAll("textarea.tag-text").attr("readonly",!0).classed("readonly",!0)}return i.datum=function(a){return arguments.length?(n=a,this):n},i}var P8=Xe(bi());function I5(e){var t=pe("entity-issues.reference.expanded"),r=t===null?!0:t==="true",n=[],i=[],a,o=gt("entity-issues",e).shouldDisplay(function(){return i.length>0}).label(function(){return F("inspector.title_count",{title:F.html("issues.list_title"),count:i.length})}).disclosureContent(u);e.validator().on("validated.entity_issues",function(){s(),o.reRender()}).on("focusedIssue.entity_issues",function(c){l(c.id)});function s(){i=e.validator().getSharedEntityIssues(n,{includeDisabledRules:!0})}function l(c){a=c,o.selection().selectAll(".issue-container").classed("active",function(d){return d.id===a})}function u(c){c.classed("grouped-items-area",!0),a=i.length>0?i[0].id:null;var d=c.selectAll(".issue-container").data(i,function(y){return y.key});d.exit().remove();var p=d.enter().append("div").attr("class","issue-container"),m=p.append("div").attr("class",function(y){return"issue severity-"+y.severity}).on("mouseover.highlight",function(y,E){var k=E.entityIds.filter(function(A){return n.indexOf(A)===-1});ot(k,!0,e)}).on("mouseout.highlight",function(y,E){var k=E.entityIds.filter(function(A){return n.indexOf(A)===-1});ot(k,!1,e)}),w=m.append("div").attr("class","issue-label"),b=w.append("button").attr("class","issue-text").on("click",function(y,E){l(E.id);var k=E.extent(e.graph());if(k){var A=Math.max(e.map().zoom(),19);e.map().unobscuredCenterZoomEase(k.center(),A)}});b.each(function(y){var E="#iD-icon-"+(y.severity==="warning"?"alert":"error");G(this).call(ce(E,"issue-icon"))}),b.append("span").attr("class","issue-message");var h=w.append("button").attr("class","issue-info-button").attr("title",F("icons.information")).call(ce("#iD-icon-inspect"));h.on("click",function(y){y.stopPropagation(),y.preventDefault(),this.blur();var E=G(this.parentNode.parentNode.parentNode),k=E.selectAll(".issue-info"),A=k.classed("expanded");r=!A,pe("entity-issues.reference.expanded",r),A?k.transition().duration(200).style("max-height","0px").style("opacity","0").on("end",function(){k.classed("expanded",!1)}):k.classed("expanded",!0).transition().duration(200).style("max-height","200px").style("opacity","1").on("end",function(){k.style("max-height",null)})}),m.append("ul").attr("class","issue-fix-list"),p.append("div").attr("class","issue-info"+(r?" expanded":"")).style("max-height",r?null:"0").style("opacity",r?"1":"0").each(function(y){typeof y.reference=="function"?G(this).call(y.reference):G(this).html(F.html("inspector.no_documentation_key"))}),d=d.merge(p).classed("active",function(y){return y.id===a}),d.selectAll(".issue-message").html(function(y){return y.message(e)});var g=d.selectAll(".issue-fix-list"),v=g.selectAll(".issue-fix-item").data(function(y){return y.fixes?y.fixes(e):[]},function(y){return y.id});v.exit().remove();var x=v.enter().append("li").attr("class","issue-fix-item"),_=x.append("button").on("click",function(y,E){G(this).attr("disabled")||!E.onClick||E.issue.dateLastRanFix&&new Date-E.issue.dateLastRanFix<1e3||(E.issue.dateLastRanFix=new Date,ot(E.issue.entityIds.concat(E.entityIds),!1,e),new Promise(function(k,A){E.onClick(e,k,A),E.onClick.length<=1&&k()}).then(function(){e.validator().validate()}))}).on("mouseover.highlight",function(y,E){ot(E.entityIds,!0,e)}).on("mouseout.highlight",function(y,E){ot(E.entityIds,!1,e)});_.each(function(y){var E=y.icon||"iD-icon-wrench";E.startsWith("maki")&&(E+="-15"),G(this).call(ce("#"+E,"fix-icon"))}),_.append("span").attr("class","fix-message").html(function(y){return y.title}),x.merge(v).selectAll("button").classed("actionable",function(y){return y.onClick}).attr("disabled",function(y){return y.onClick?null:"true"}).attr("title",function(y){return y.disabledReason?y.disabledReason:null})}return o.entityIDs=function(c){return arguments.length?((!n||!c||!Jr(n,c))&&(n=c,a=null,s()),o):n},o}function b1(){var e,t,r="medium";function n(){return r==="small"}function i(h){h.each(b)}function a(h,g){return n()&&h.isFallback&&h.isFallback()?"iD-icon-"+h.id:h.icon?h.icon:g==="line"?"iD-other-line":g==="vertex"?h.isFallback()?"":"temaki-vertex":n()&&g==="point"?"":"maki-marker-stroked"}function o(h,g){var v=h.selectAll(".preset-icon-point-border").data(g?[0]:[]);v.exit().remove();var x=v.enter(),_=40,y=40;x.append("svg").attr("class","preset-icon-fill preset-icon-point-border").attr("width",_).attr("height",y).attr("viewBox","0 0 ".concat(_," ").concat(y)).append("path").attr("transform","translate(11.5, 8)").attr("d","M 17,8 C 17,13 11,21 8.5,23.5 C 6,21 0,13 0,8 C 0,4 4,-0.5 8.5,-0.5 C 13,-0.5 17,4 17,8 z"),v=x.merge(v)}function s(h,g){var v=h.selectAll(".preset-icon-category-border").data(g?[0]:[]);v.exit().remove();var x=v.enter(),_=60,y=x.append("svg").attr("class","preset-icon-fill preset-icon-category-border").attr("width",_).attr("height",_).attr("viewBox","0 0 ".concat(_," ").concat(_));if(["fill","stroke"].forEach(function(k){y.append("path").attr("class","area ".concat(k)).attr("d","M9.5,7.5 L25.5,7.5 L28.5,12.5 L49.5,12.5 C51.709139,12.5 53.5,14.290861 53.5,16.5 L53.5,43.5 C53.5,45.709139 51.709139,47.5 49.5,47.5 L10.5,47.5 C8.290861,47.5 6.5,45.709139 6.5,43.5 L6.5,12.5 L9.5,7.5 Z")}),v=x.merge(v),g){var E=Pn().getClassesString(g.members.collection[0].addTags,"");v.selectAll("path.stroke").attr("class","area stroke ".concat(E)),v.selectAll("path.fill").attr("class","area fill ".concat(E))}}function l(h,g){var v=h.selectAll(".preset-icon-fill-vertex").data(g?[0]:[]);v.exit().remove();var x=v.enter(),_=60,y=60,E=40;x.append("svg").attr("class","preset-icon-fill preset-icon-fill-vertex").attr("width",_).attr("height",y).attr("viewBox","0 0 ".concat(_," ").concat(y)).append("circle").attr("cx",_/2).attr("cy",y/2).attr("r",E/2),v=x.merge(v)}function u(h,g,v){var x=h.selectAll(".preset-icon-fill-area").data(g?[0]:[]);x.exit().remove();var _=x.enter(),y=n()?40:60,E=y,k=y,A=y*2/3,C=(E-A)/2,D=C+A;_=_.append("svg").attr("class","preset-icon-fill preset-icon-fill-area").attr("width",E).attr("height",k).attr("viewBox","0 0 ".concat(E," ").concat(k)),["fill","stroke"].forEach(function(R){_.append("path").attr("d","M".concat(C," ").concat(C," L").concat(C," ").concat(D," L").concat(D," ").concat(D," L").concat(D," ").concat(C," Z")).attr("class","area ".concat(R))});var S=2.5;if([[C,C],[C,D],[D,D],[D,C]].forEach(function(R){_.append("circle").attr("class","vertex").attr("cx",R[0]).attr("cy",R[1]).attr("r",S)}),!n()){var N=1.25;[[C,E/2],[D,E/2],[k/2,C],[k/2,D]].forEach(function(R){_.append("circle").attr("class","midpoint").attr("cx",R[0]).attr("cy",R[1]).attr("r",N)})}x=_.merge(x),x.selectAll("path.stroke").attr("class","area stroke ".concat(v)),x.selectAll("path.fill").attr("class","area fill ".concat(v))}function c(h,g,v){var x=h.selectAll(".preset-icon-line").data(g?[0]:[]);x.exit().remove();var _=x.enter(),y=n()?40:60,E=y,k=y,A=Math.round(y*.72),C=Math.round(y*.6),D=2.5,S=(E-C)/2,N=S+C;_=_.append("svg").attr("class","preset-icon-line").attr("width",E).attr("height",k).attr("viewBox","0 0 ".concat(E," ").concat(k)),["casing","stroke"].forEach(function(R){_.append("path").attr("d","M".concat(S," ").concat(A," L").concat(N," ").concat(A)).attr("class","line ".concat(R))}),[[S-1,A],[N+1,A]].forEach(function(R){_.append("circle").attr("class","vertex").attr("cx",R[0]).attr("cy",R[1]).attr("r",D)}),x=_.merge(x),x.selectAll("path.stroke").attr("class","line stroke ".concat(v)),x.selectAll("path.casing").attr("class","line casing ".concat(v))}function d(h,g,v){var x=h.selectAll(".preset-icon-route").data(g?[0]:[]);x.exit().remove();var _=x.enter(),y=n()?40:60,E=y,k=y,A=Math.round(y*.8),C=Math.round(y*.68),D=Math.round(y*.6),S=2,N=(E-D)/2,R=N+D/3,P=R+D/3,L=P+D/3;if(_=_.append("svg").attr("class","preset-icon-route").attr("width",E).attr("height",k).attr("viewBox","0 0 ".concat(E," ").concat(k)),["casing","stroke"].forEach(function(I){_.append("path").attr("d","M".concat(N," ").concat(A," L").concat(R," ").concat(C)).attr("class","segment0 line ".concat(I)),_.append("path").attr("d","M".concat(R," ").concat(C," L").concat(P," ").concat(A)).attr("class","segment1 line ".concat(I)),_.append("path").attr("d","M".concat(P," ").concat(A," L").concat(L," ").concat(C)).attr("class","segment2 line ".concat(I))}),[[N,A],[R,C],[P,A],[L,C]].forEach(function(I){_.append("circle").attr("class","vertex").attr("cx",I[0]).attr("cy",I[1]).attr("r",S)}),x=_.merge(x),g){var B=v.tags.type==="waterway"?"waterway":v.tags.route,O=w[B];for(var U in O){var T=Ie.item(O[U]),M=Pn().getClassesString(T.tags,"");x.selectAll("path.stroke.segment".concat(U)).attr("class","segment".concat(U," line stroke ").concat(M)),x.selectAll("path.casing.segment".concat(U)).attr("class","segment".concat(U," line casing ").concat(M))}}}function p(h,g,v,x,_,y){var E=g&&/^maki-/.test(g),k=g&&/^temaki-/.test(g),A=g&&/^fa[srb]-/.test(g),C=g&&!(E||k||A),D=h.selectAll(".preset-icon").data(g?[0]:[]);D.exit().remove(),D=D.enter().append("div").attr("class","preset-icon").call(ce("")).merge(D),D.attr("class","preset-icon "+(v?v+"-geom":"")).classed("category",_).classed("framed",x).classed("preset-icon-iD",C),D.selectAll("svg").attr("class","icon "+g+" "+(!C&&v!=="line"?"":y));var S="";E&&(S=n()&&v==="point"?"-11":"-15"),D.selectAll("use").attr("href","#"+g+S)}function m(h,g){var v=h.selectAll("img.image-icon").data(g?[0]:[]);v.exit().remove(),v=v.enter().append("img").attr("class","image-icon").on("load",function(){return h.classed("showing-img",!0)}).on("error",function(){return h.classed("showing-img",!1)}).merge(v),v.attr("src",g)}var w={bicycle:["highway/cycleway","highway/cycleway","highway/cycleway"],bus:["highway/unclassified","highway/secondary","highway/primary"],trolleybus:["highway/unclassified","highway/secondary","highway/primary"],detour:["highway/tertiary","highway/residential","highway/unclassified"],ferry:["route/ferry","route/ferry","route/ferry"],foot:["highway/footway","highway/footway","highway/footway"],hiking:["highway/path","highway/path","highway/path"],horse:["highway/bridleway","highway/bridleway","highway/bridleway"],light_rail:["railway/light_rail","railway/light_rail","railway/light_rail"],monorail:["railway/monorail","railway/monorail","railway/monorail"],mtb:["highway/path","highway/track","highway/bridleway"],pipeline:["man_made/pipeline","man_made/pipeline","man_made/pipeline"],piste:["piste/downhill","piste/hike","piste/nordic"],power:["power/line","power/line","power/line"],road:["highway/secondary","highway/primary","highway/trunk"],subway:["railway/subway","railway/subway","railway/subway"],train:["railway/rail","railway/rail","railway/rail"],tram:["railway/tram","railway/tram","railway/tram"],waterway:["waterway/stream","waterway/stream","waterway/stream"]};function b(){var h=e.apply(this,arguments),g=t?t.apply(this,arguments):null;g==="relation"&&h.tags&&(h.tags.type==="route"&&h.tags.route&&w[h.tags.route]||h.tags.type==="waterway")&&(g="route");var v=pe("preferences.privacy.thirdpartyicons")||"true",x=n()&&h.isFallback&&h.isFallback(),_=v==="true"&&h.imageURL,y=a(h,g),E=!h.setTags,k=y&&g==="point"&&n()&&!x,A=y!==null&&g==="vertex"&&(!n()||!x),C=y&&g==="line"&&!x&&!E,D=y&&g==="area"&&!x&&!E,S=y&&g==="route",N=A||D||C||S||E,R=E?{}:h.setTags({},g);for(var P in R)R[P]==="*"&&(R[P]="yes");var L=Pn().getClassesString(R,""),B=G(this),O=B.selectAll(".preset-icon-container").data([0]);O=O.enter().append("div").attr("class","preset-icon-container ".concat(r)).merge(O),O.classed("showing-img",!!_).classed("fallback",x),s(O,E&&h),o(O,k),l(O,A),u(O,D,L),c(O,C,L),d(O,S,h),p(O,y,g,N,E,L),m(O,_)}return i.preset=function(h){return arguments.length?(e=_t(h),i):e},i.geometry=function(h){return arguments.length?(t=_t(h),i):t},i.sizeClass=function(h){return arguments.length?(r=h,i):r},i}function N5(e){var t=be("choose"),r=[],n=[],i,a=gt("feature-type",e).label(F.html("inspector.feature_type")).disclosureContent(o);function o(l){l.classed("preset-list-item",!0),l.classed("mixed-types",n.length>1);var u=l.selectAll(".preset-list-button-wrap").data([0]).enter().append("div").attr("class","preset-list-button-wrap"),c=u.append("button").attr("class","preset-list-button preset-reset").call(Pe().title(F.html("inspector.back_tooltip")).placement("bottom"));c.append("div").attr("class","preset-icon-container"),c.append("div").attr("class","label").append("div").attr("class","label-inner"),u.append("div").attr("class","accessory-buttons");var d=l.selectAll(".tag-reference-body-wrap").data([0]);d=d.enter().append("div").attr("class","tag-reference-body-wrap").merge(d),i&&(l.selectAll(".preset-list-button-wrap .accessory-buttons").style("display",n.length===1?null:"none").call(i.button),d.style("display",n.length===1?null:"none").call(i.body)),l.selectAll(".preset-reset").on("click",function(){t.call("choose",this,n)}).on("pointerdown pointerup mousedown mouseup",function(h){h.preventDefault(),h.stopPropagation()});var p=s();l.select(".preset-list-item button").call(b1().geometry(n.length===1?p.length===1&&p[0]:null).preset(n.length===1?n[0]:Ie.item("point")));var m=n.length===1?[n[0].nameLabel(),n[0].subtitleLabel()].filter(Boolean):[F("inspector.multiple_types")],w=l.select(".label-inner"),b=w.selectAll(".namepart").data(m,function(h){return h});b.exit().remove(),b.enter().append("div").attr("class","namepart").html(function(h){return h})}a.entityIDs=function(l){return arguments.length?(r=l,a):r},a.presets=function(l){return arguments.length?(Jr(l,n)||(n=l,n.length===1&&(i=pa(n[0].reference(),e).showing(!1))),a):n};function s(){var l={};for(var u in r){var c=e.graph().geometry(r[u]);l[c]||(l[c]=0),l[c]+=1}return Object.keys(l).sort(function(d,p){return l[p]-l[d]})}return ke(a,t,"on")}function O5(e){var t=gt("preset-fields",e).label(F.html("inspector.fields")).disclosureContent(u),r=be("change","revert"),n=w4(e),i,a,o=[],s,l;function u(c){if(!a){var d=e.graph(),p=Object.keys(l.reduce(function(y,E){return y[d.entity(E).geometry(d)]=!0,y},{})),m=Ie,w=[],b=[],h;o.forEach(function(y){var E=y.fields(),k=y.moreFields();w=Yt(w,E),b=Yt(b,k),h?h=h.filter(function(A){return E.indexOf(A)!==-1||k.indexOf(A)!==-1}):h=Yt(E,k)});var g=w.filter(function(y){return h.indexOf(y)!==-1}),v=b.filter(function(y){return h.indexOf(y)!==-1});a=[],g.forEach(function(y){y.matchAllGeometry(p)&&a.push(ii(e,y,l))});var x=l.length===1&&d.hasEntity(l[0]);x&&x.isHighwayIntersection(d)&&m.field("restrictions")&&a.push(ii(e,m.field("restrictions"),l));var _=Yt(v,m.universal());_.sort(function(y,E){return y.label().localeCompare(E.label(),_e.localeCode())}),_.forEach(function(y){g.indexOf(y)===-1&&y.matchAllGeometry(p)&&a.push(ii(e,y,l,{show:!1}))}),a.forEach(function(y){y.on("change",function(E,k){r.call("change",y,l,E,k)}).on("revert",function(E){r.call("revert",y,E)})})}a.forEach(function(y){y.state(i).tags(s)}),c.call(n.fieldsArr(a).state(i).klass("grouped-items-area")),c.selectAll(".wrap-form-field input").on("keydown",function(y){y.keyCode===13&&e.container().select(".combobox").empty()&&e.enter(De(e))})}return t.presets=function(c){return arguments.length?((!o||!c||!Jr(o,c))&&(o=c,a=null),t):o},t.state=function(c){return arguments.length?(i=c,t):i},t.tags=function(c){return arguments.length?(s=c,t):s},t.entityIDs=function(c){return arguments.length?((!c||!l||!Jr(l,c))&&(l=c,a=null),t):l},ke(t,r,"on")}function P5(e){var t=gt("raw-member-editor",e).shouldDisplay(function(){if(!n||n.length!==1)return!1;var d=e.hasEntity(n[0]);return d&&d.type==="relation"}).label(function(){var d=e.hasEntity(n[0]);if(!d)return"";var p=d.members.length>i?">":"",m=p+d.members.slice(0,i).length;return F("inspector.title_count",{title:F.html("inspector.members"),count:m})}).disclosureContent(c),r=ue.taginfo,n,i=1e3;function a(d,p){d.preventDefault(),G(this.parentNode).classed("tag-reference-loading",!0),e.loadEntity(p.id,function(){t.reRender()})}function o(d,p){d.preventDefault();var m=e.entity(p.id);e.map().zoomToEase(m),ot([p.id],!0,e)}function s(d,p){d.preventDefault(),ot([p.id],!1,e);var m=e.entity(p.id),w=e.map().extent();m.intersects(w,e.graph())||e.map().zoomToEase(m),e.enter(Le(e,[p.id]))}function l(d,p){var m=p.role,w=e.cleanRelationRole(G(this).property("value"));if(m!==w){var b={id:p.id,type:p.type,role:w};e.perform(ho(p.relation.id,b,p.index),F("operations.change_role.annotation",{n:1})),e.validator().validate()}}function u(d,p){ot([p.id],!1,e),e.perform(yo(p.relation.id,p.index),F("operations.delete_member.annotation",{n:1})),e.hasEntity(p.relation.id)?e.validator().validate():e.enter(De(e))}function c(d){var p=n[0],m=[],w=e.entity(p);w.members.slice(0,i).forEach(function(k,A){m.push({index:A,id:k.id,type:k.type,role:k.role,relation:w,member:e.hasEntity(k.id),domId:li(p+"-member-"+A)})});var b=d.selectAll(".member-list").data([0]);b=b.enter().append("ul").attr("class","member-list").merge(b);var h=b.selectAll("li").data(m,function(k){return Me.key(k.relation)+","+k.index+","+(k.member?Me.key(k.member):"incomplete")});h.exit().each(E).remove();var g=h.enter().append("li").attr("class","member-row form-field").classed("member-incomplete",function(k){return!k.member});g.each(function(k){var A=G(this),C=A.append("label").attr("class","field-label").attr("for",k.domId);if(k.member){A.on("mouseover",function(){ot([k.id],!0,e)}).on("mouseout",function(){ot([k.id],!1,e)});var D=C.append("span").attr("class","label-text").append("a").attr("href","#").on("click",s);D.append("span").attr("class","member-entity-type").html(function(N){var R=Ie.match(N.member,e.graph());return R&&R.name()||Un(N.member.id)}),D.append("span").attr("class","member-entity-name").html(function(N){return nr(N.member)}),C.append("button").attr("title",F("icons.remove")).attr("class","remove member-delete").call(ce("#iD-operation-delete")),C.append("button").attr("class","member-zoom").attr("title",F("icons.zoom_to")).call(ce("#iD-icon-framed-dot","monochrome")).on("click",o)}else{var S=C.append("span").attr("class","label-text");S.append("span").attr("class","member-entity-type").html(F.html("inspector."+k.type,{id:k.id})),S.append("span").attr("class","member-entity-name").html(F.html("inspector.incomplete",{id:k.id})),C.append("button").attr("class","member-download").attr("title",F("icons.download")).call(ce("#iD-icon-load")).on("click",a)}});var v=g.append("div").attr("class","form-field-input-wrap form-field-input-member");v.append("input").attr("class","member-role").attr("id",function(k){return k.domId}).property("type","text").attr("placeholder",F("inspector.role")).call(et),r&&v.each(y),h=h.merge(g).order(),h.select("input.member-role").property("value",function(k){return k.role}).on("blur",l).on("change",l),h.select("button.member-delete").on("click",u);var x,_;h.call(Sl().on("start",function(k){x={x:k.x,y:k.y},_=null}).on("drag",function(k){var A=k.x-x.x,C=k.y-x.y;if(!(!G(this).classed("dragging")&&Math.sqrt(Math.pow(A,2)+Math.pow(C,2))<=5)){var D=h.nodes().indexOf(this);G(this).classed("dragging",!0),_=null,d.selectAll("li.member-row").style("transform",function(S,N){var R=G(this).node();return D===N?"translate("+A+"px, "+C+"px)":N>D&&k.y>R.offsetTop?((_===null||N>_)&&(_=N),"translateY(-100%)"):N<D&&k.y<R.offsetTop+R.offsetHeight?((_===null||N<_)&&(_=N),"translateY(100%)"):null})}}).on("end",function(k,A){if(!!G(this).classed("dragging")){var C=h.nodes().indexOf(this);G(this).classed("dragging",!1),d.selectAll("li.member-row").style("transform",null),_!==null&&(e.perform(Tu(A.relation.id,C,_),F("operations.reorder_members.annotation")),e.validator().validate())}}));function y(k){var A=G(this),C=A.selectAll("input.member-role"),D=C.property("value");function S(N,R){for(var P=[],L=[],B=0;B<R.length;B++)R[B].value.substring(0,N.length)===N?P.push(R[B]):L.push(R[B]);return P.concat(L)}C.call(Ft(e,"member-role").fetcher(function(N,R){var P;k.member?P=e.graph().geometry(k.member.id):k.type==="relation"?P="relation":k.type==="way"?P="line":P="point";var L=w.tags.type;r.roles({debounce:!0,rtype:L||"",geometry:P,query:N},function(B,O){B||R(S(N,O))})}).on("cancel",function(){C.property("value",D)}))}function E(){var k=G(this);k.selectAll("input.member-role").call(Ft.off,e)}}return t.entityIDs=function(d){return arguments.length?(n=d,t):n},t}function aw(e,t){return function(r){t.sort(function(i,a){return a-i});for(var n in t)r=yo(e,t[n])(r);return r}}function B5(e){var t=gt("raw-membership-editor",e).shouldDisplay(function(){return a&&a.length}).label(function(){var g=l(),v=g.length>s?">":"",x=v+g.slice(0,s).length;return F("inspector.title_count",{title:F.html("inspector.relations"),count:x})}).disclosureContent(h),r=ue.taginfo,n=Ft(e,"parent-relation").minItems(1).fetcher(b).itemsMouseEnter(function(g,v){v.relation&&ot([v.relation.id],!0,e)}).itemsMouseLeave(function(g,v){v.relation&&ot([v.relation.id],!1,e)}),i=!1,a=[],o,s=1e3;function l(){for(var g=[],v=0;v<a.length;v++){var x=e.graph().hasEntity(a[v]);if(!!x&&(v===0?g=e.graph().parentRelations(x):g=Ar(g,e.graph().parentRelations(x)),!g.length))break}return g}function u(){var g=[],v=l().slice(0,s),x=a.length>1,_,y,E,k,A,C;for(_=0;_<v.length;_++){for(y=v[_],E={relation:y,members:[],hash:Me.key(y)},k=0;k<y.members.length;k++)A=y.members[k],a.indexOf(A.id)!==-1&&(C=Object.assign({},A,{index:k}),E.members.push(C),E.hash+=","+k.toString(),x||(g.push(E),E={relation:y,members:[],hash:Me.key(y)}));E.members.length&&g.push(E)}return g.forEach(function(D){D.domId=li("membership-"+D.relation.id);var S=[];D.members.forEach(function(N){S.indexOf(N.role)===-1&&S.push(N.role)}),D.role=S.length===1?S[0]:S}),g}function c(g,v){g.preventDefault(),ot([v.relation.id],!1,e),e.enter(Le(e,[v.relation.id]))}function d(g,v){g.preventDefault();var x=e.entity(v.relation.id);e.map().zoomToEase(x),ot([v.relation.id],!0,e)}function p(g,v){if(v!==0&&!i){var x=e.cleanRelationRole(G(this).property("value"));if(!(!x.trim()&&typeof v.role!="string")){var _=v.members.filter(function(y){return y.role!==x});_.length&&(i=!0,e.perform(function(E){return _.forEach(function(k){var A=Object.assign({},k,{role:x});delete A.index,E=ho(v.relation.id,A,k.index)(E)}),E},F("operations.change_role.annotation",{n:_.length})),e.validator().validate()),i=!1}}}function m(g,v){this.blur(),o=!1;function x(y,E,k){return function(A){for(var C in E){var D={id:E[C],type:A.entity(E[C]).type,role:k};A=n1(y,D)(A)}return A}}if(g.relation)e.perform(x(g.relation.id,a,v),F("operations.add_member.annotation",{n:a.length})),e.validator().validate();else{var _=br();e.perform($r(_),x(_.id,a,v),F("operations.add.annotation.relation")),e.enter(Le(e,[_.id]).newFeature(!0))}}function w(g,v){if(this.blur(),v!==0){ot([v.relation.id],!1,e);var x=v.members.map(function(_){return _.index});e.perform(aw(v.relation.id,x),F("operations.delete_member.annotation",{n:a.length})),e.validator().validate()}}function b(g,v){var x={relation:null,value:F("inspector.new_relation"),display:F.html("inspector.new_relation")},_=a[0],y=[],E=e.graph();function k(D){var S=Ie.match(D,E),N=S&&S.name()||F("inspector.relation"),R=nr(D)||"";return N+" "+R}var A=g&&e.hasEntity(g.toLowerCase());if(A&&A.type==="relation"&&A.id!==_)y.push({relation:A,value:k(A)+" "+A.id});else{e.history().intersects(e.map().extent()).forEach(function(D){if(!(D.type!=="relation"||D.id===_)){var S=k(D);g&&(S+" "+D.id).toLowerCase().indexOf(g.toLowerCase())===-1||y.push({relation:D,value:S})}}),y.sort(function(D,S){return br.creationOrder(D.relation,S.relation)});var C=Object.values(ar(y,"value")).filter(function(D){return D.length>1});C.forEach(function(D){D.forEach(function(S){S.value+=" "+S.relation.id})})}y.forEach(function(D){D.title=D.value}),y.unshift(x),v(y)}function h(g){var v=u(),x=g.selectAll(".member-list").data([0]);x=x.enter().append("ul").attr("class","member-list").merge(x);var _=x.selectAll("li.member-row-normal").data(v,function(M){return M.hash});_.exit().each(T).remove();var y=_.enter().append("li").attr("class","member-row member-row-normal form-field");y.on("mouseover",function(M,I){ot([I.relation.id],!0,e)}).on("mouseout",function(M,I){ot([I.relation.id],!1,e)});var E=y.append("label").attr("class","field-label").attr("for",function(M){return M.domId}),k=E.append("span").attr("class","label-text").append("a").attr("href","#").on("click",c);k.append("span").attr("class","member-entity-type").html(function(M){var I=Ie.match(M.relation,e.graph());return I&&I.name()||F("inspector.relation")}),k.append("span").attr("class","member-entity-name").html(function(M){var I=Ie.match(M.relation,e.graph());return nr(M.relation,I.suggestion)}),E.append("button").attr("class","remove member-delete").call(ce("#iD-operation-delete")).on("click",w),E.append("button").attr("class","member-zoom").attr("title",F("icons.zoom_to")).call(ce("#iD-icon-framed-dot","monochrome")).on("click",d);var A=y.append("div").attr("class","form-field-input-wrap form-field-input-member");A.append("input").attr("class","member-role").attr("id",function(M){return M.domId}).property("type","text").property("value",function(M){return typeof M.role=="string"?M.role:""}).attr("title",function(M){return Array.isArray(M.role)?M.role.filter(Boolean).join("\n"):M.role}).attr("placeholder",function(M){return Array.isArray(M.role)?F("inspector.multiple_roles"):F("inspector.role")}).classed("mixed",function(M){return Array.isArray(M.role)}).call(et).on("blur",p).on("change",p),r&&A.each(U);var C=x.selectAll(".member-row-new").data(o?[0]:[]);C.exit().remove();var D=C.enter().append("li").attr("class","member-row member-row-new form-field"),S=D.append("label").attr("class","field-label");S.append("input").attr("placeholder",F("inspector.choose_relation")).attr("type","text").attr("class","member-entity-input").call(et),S.append("button").attr("class","remove member-delete").call(ce("#iD-operation-delete")).on("click",function(){x.selectAll(".member-row-new").remove()});var N=D.append("div").attr("class","form-field-input-wrap form-field-input-member");N.append("input").attr("class","member-role").property("type","text").attr("placeholder",F("inspector.role")).call(et),C=C.merge(D),C.selectAll(".member-entity-input").on("blur",O).call(n.on("accept",B).on("cancel",O));var R=g.selectAll(".add-row").data([0]),P=R.enter().append("div").attr("class","add-row"),L=P.append("button").attr("class","add-relation");L.call(ce("#iD-icon-plus","light")),L.call(Pe().title(F.html("inspector.add_to_relation")).placement(_e.textDirection()==="ltr"?"right":"left")),P.append("div").attr("class","space-value"),P.append("div").attr("class","space-buttons"),R=R.merge(P),R.select(".add-relation").on("click",function(){o=!0,t.reRender(),x.selectAll(".member-entity-input").node().focus()});function B(M){if(!M){O();return}M.relation&&ot([M.relation.id],!1,e);var I=e.cleanRelationRole(x.selectAll(".member-row-new .member-role").property("value"));m(M,I)}function O(){var M=C.selectAll(".member-entity-input");M.property("value",""),e.surface().selectAll(".highlighted").classed("highlighted",!1)}function U(M){var I=G(this),z=I.selectAll("input.member-role"),q=z.property("value");function V(Y,ee){for(var ie=[],se=[],ve=0;ve<ee.length;ve++)ee[ve].value.substring(0,Y.length)===Y?ie.push(ee[ve]):se.push(ee[ve]);return ie.concat(se)}z.call(Ft(e,"member-role").fetcher(function(Y,ee){var ie=M.relation.tags.type;r.roles({debounce:!0,rtype:ie||"",geometry:e.graph().geometry(a[0]),query:Y},function(se,ve){se||ee(V(Y,ve))})}).on("cancel",function(){z.property("value",q)}))}function T(){var M=G(this);M.selectAll("input.member-role").call(Ft.off,e)}}return t.entityIDs=function(g){return arguments.length?(a=g,o=!1,t):a},t}function R5(e){var t=[],r=gt("selected-features",e).shouldDisplay(function(){return t.length>1}).label(function(){return F("inspector.title_count",{title:F.html("inspector.features"),count:t.length})}).disclosureContent(a);e.history().on("change.selectionList",function(o){o&&r.reRender()}),r.entityIDs=function(o){return arguments.length?(t=o,r):t};function n(o,s){e.enter(Le(e,[s.id]))}function i(o,s){var l=t.slice(),u=l.indexOf(s.id);u>-1&&(l.splice(u,1),e.enter(Le(e,l)))}function a(o){var s=o.selectAll(".feature-list").data([0]);s=s.enter().append("ul").attr("class","feature-list").merge(s);var l=t.map(function(p){return e.hasEntity(p)}).filter(Boolean),u=s.selectAll(".feature-list-item").data(l,Me.key);u.exit().remove();var c=u.enter().append("li").attr("class","feature-list-item").each(function(p){G(this).on("mouseover",function(){ot([p.id],!0,e)}).on("mouseout",function(){ot([p.id],!1,e)})}),d=c.append("button").attr("class","label").on("click",n);d.append("span").attr("class","entity-geom-icon").call(ce("","pre-text")),d.append("span").attr("class","entity-type"),d.append("span").attr("class","entity-name"),c.append("button").attr("class","close").attr("title",F("icons.deselect")).on("click",i).call(ce("#iD-icon-close")),u=u.merge(c),u.selectAll(".entity-geom-icon use").attr("href",function(){var p=this.parentNode.parentNode.__data__;return"#iD-icon-"+p.geometry(e.graph())}),u.selectAll(".entity-type").html(function(p){return Ie.match(p,e.graph()).name()}),u.selectAll(".entity-name").html(function(p){var m=e.entity(p.id);return nr(m)})}return r}function L5(e){var t=be("choose"),r="select",n=!1,i=!1,a,o,s=[],l,u;function c(b,h){var g={},v={},x=new Set,_=b.map(function(E){return h.hasEntity(E)}).filter(Boolean);_.forEach(function(E){var k=Object.keys(E.tags).filter(Boolean);k.forEach(function(A){x.add(A)})}),_.forEach(function(E){x.forEach(function(k){var A=E.tags[k];g.hasOwnProperty(k)?Array.isArray(g[k])?g[k].indexOf(A)===-1&&g[k].push(A):g[k]!==A&&(g[k]=[g[k],A]):g[k]=A;var C=k+"="+A;v[C]||(v[C]=0),v[C]+=1})});for(var y in g)!Array.isArray(g[y])||(g[y]=g[y].sort(function(E,k){var A=A,C=v[A+"="+k],D=v[A+"="+E];return C!==D?C-D:k&&E?E.localeCompare(k):E?1:-1}));return g}function d(b){var h=c(o,e.graph()),g=b.selectAll(".header").data([0]),v=g.enter().append("div").attr("class","header fillL");v.append("button").attr("class","preset-reset preset-choose").call(ce(_e.textDirection()==="rtl"?"#iD-icon-forward":"#iD-icon-backward")),v.append("button").attr("class","close").on("click",function(){e.enter(De(e))}).call(ce(i?"#iD-icon-apply":"#iD-icon-close")),v.append("h3"),g=g.merge(v),g.selectAll("h3").html(o.length===1?F.html("inspector.edit"):F.html("rapid_multiselect")),g.selectAll(".preset-reset").on("click",function(){t.call("choose",this,s)});var x=b.selectAll(".inspector-body").data([0]),_=x.enter().append("div").attr("class","entity-editor inspector-body sep-top");x=x.merge(_),u||(u=[R5(e),N5(e).on("choose",function(E){t.call("choose",this,E)}),I5(e),O5(e).on("change",p).on("revert",m),Io("raw-tag-editor",e).on("change",p),P5(e),B5(e)]),u.forEach(function(E){E.entityIDs&&E.entityIDs(o),E.presets&&E.presets(s),E.tags&&E.tags(h),E.state&&E.state(r),x.call(E.render)}),e.history().on("change.entity-editor",y);function y(E){if(!b.selectAll(".entity-editor").empty()&&r!=="hide"){var k=!E||E.didChange.properties||E.didChange.addition||E.didChange.deletion;if(!!k&&(o=o.filter(e.hasEntity),!!o.length)){var A=s.length===1&&s[0];w();var C=e.graph();d.modified(a!==C),d(b),A&&s.length===1&&A!==s[0]&&e.container().selectAll(".entity-editor button.preset-reset .label").style("background-color","#fff").transition().duration(750).style("background-color",null)}}}}function p(b,h,g){var v=[];for(var x in b){var _=b[x],y=e.entity(_),E=Object.assign({},y.tags);for(var k in h)if(!!k&&!(y.__fbid__&&k==="source"&&(y.tags.source==="digitalglobe"||y.tags.source==="maxar"))){var A=h[k];(A!==void 0||E.hasOwnProperty(k))&&(E[k]=A)}g||(E=l7(E)),(0,P8.default)(y.tags,E)||v.push(Qt(_,E))}if(v.length){var C=function(N){return v.forEach(function(R){N=R(N)}),N},D=F("operations.change_tags.annotation");n?e.overwrite(C,D):(e.perform(C,D),n=!!g)}g||e.validator().validate()}function m(b){var h=[];for(var g in o){var v=o[g],x=e.graph().base().entities[v],_={};for(var y in b){var E=b[y];_[E]=x?x.tags[E]:void 0}var k=e.entity(v),A=Object.assign({},k.tags);for(var C in _)if(!!C){var D=_[C];(D!==void 0||A.hasOwnProperty(C))&&(A[C]=D)}A=l7(A),(0,P8.default)(k.tags,A)||h.push(Qt(v,A))}if(h.length){var S=function(P){return h.forEach(function(L){P=L(P)}),P},N=F("operations.change_tags.annotation");n?e.overwrite(S,N):(e.perform(S,N),n=!1)}e.validator().validate()}d.modified=function(b){return arguments.length?(i=b,d):i},d.state=function(b){return arguments.length?(r=b,d):r},d.entityIDs=function(b){return arguments.length?(a=e.graph(),n=!1,b&&o&&Jr(o,b)?d:(o=b,w(!0),d.modified(!1))):o},d.newFeature=function(b){return arguments.length?(l=b,d):l};function w(b){var h=e.graph(),g={};for(var v in o){var x=h.hasEntity(o[v]);if(!x)return;var _=Ie.match(x,h);g[_.id]||(g[_.id]=0),g[_.id]+=1}var y=Object.keys(g).sort(function(k,A){return g[A]-g[k]}).map(function(k){return Ie.item(k)});if(!b){var E=s.length===1&&!s[0].isFallback()&&Object.keys(s[0].addTags||{}).length===0;if(E&&y.length===1&&y[0].isFallback())return}d.presets(y)}return d.presets=function(b){return arguments.length?(Jr(b,s)||(s=b),d):s},ke(d,t,"on")}var lw=Xe(sw());function j5(e){var t;function r(n){var i=n.append("div").attr("class","header fillL");i.append("h3").html(F.html("inspector.feature_list"));var a=n.append("div").attr("class","search-header");a.call(ce("#iD-icon-search","pre-text"));var o=a.append("input").attr("placeholder",F("inspector.search")).attr("type","search").call(et).on("keypress",d).on("keydown",c).on("input",p),s=n.append("div").attr("class","inspector-body"),l=s.append("div").attr("class","feature-list");e.on("exit.feature-list",m),e.map().on("drawn.feature-list",w),e.keybinding().on(qe("\u2318F"),u);function u(y){var E=e.mode()&&e.mode().id;E==="browse"&&(y.preventDefault(),o.node().focus())}function c(y){y.keyCode===27&&o.node().blur()}function d(y){var E=o.property("value"),k=l.selectAll(".feature-list-item");y.keyCode===13&&E.length&&k.size()&&x(y,k.datum())}function p(){t=void 0,h()}function m(){o.property("value",""),h()}function w(y){y.full&&h()}function b(){var y=[],E=e.graph(),k=e.map().extent().center(),A=o.property("value").toLowerCase();if(!A)return y;var C=lw.pair(A.toUpperCase())||A.match(/^(-?\d+\.?\d*)\s+(-?\d+\.?\d*)$/);if(C){var D=[parseFloat(C[0]),parseFloat(C[1])];y.push({id:-1,geometry:"point",type:F("inspector.location"),name:Fo([D[1],D[0]]),location:D})}var S=!C&&A.match(/(?:^|\W)(node|way|relation|[nwr])\W?0*([1-9]\d*)(?:\W|$)/i);if(S){var N=S[1].charAt(0),R=S[2];y.push({id:N+R,geometry:N==="n"?"point":N==="w"?"line":"relation",type:N==="n"?F("inspector.node"):N==="w"?F("inspector.way"):F("inspector.relation"),name:R})}var P=E.entities,L=[];for(var B in P){var O=P[B];if(!!O){var U=nr(O)||"";if(!(U.toLowerCase().indexOf(A)<0)){var T=Ie.match(O,E),M=T&&T.name()||Un(O.id),I=O.extent(E),z=I?bt(k,I.center()):0;if(L.push({id:O.id,entity:O,geometry:O.geometry(E),type:M,name:U,distance:z}),L.length>100)break}}}return L=L.sort(function(V,Y){return V.distance-Y.distance}),y=y.concat(L),(t||[]).forEach(function(q){if(q.osm_type&&q.osm_id){var V=Me.id.fromOSM(q.osm_type,q.osm_id),Y={};Y[q.class]=q.type;var ee={id:V,type:q.osm_type,tags:Y};q.osm_type==="way"&&(ee.nodes=["a","a"]);var ie=Me(ee),se=dr([ie]),ve=Ie.match(ie,se),le=ve&&ve.name()||Un(V);y.push({id:ie.id,geometry:ie.geometry(se),type:le,name:q.display_name,extent:new Ne([parseFloat(q.boundingbox[3]),parseFloat(q.boundingbox[0])],[parseFloat(q.boundingbox[2]),parseFloat(q.boundingbox[1])])})}}),A.match(/^[0-9]+$/)&&(y.push({id:"n"+A,geometry:"point",type:F("inspector.node"),name:A}),y.push({id:"w"+A,geometry:"line",type:F("inspector.way"),name:A}),y.push({id:"r"+A,geometry:"relation",type:F("inspector.relation"),name:A})),y}function h(){var y=o.property("value"),E=b();l.classed("filtered",y.length);var k=l.selectAll(".no-results-item").data([0]).enter().append("button").property("disabled",!0).attr("class","no-results-item").call(ce("#iD-icon-alert","pre-text"));k.append("span").attr("class","entity-name"),l.selectAll(".no-results-item .entity-name").html(F.html("geocoder.no_results_worldwide")),ue.geocoder&&l.selectAll(".geocode-item").data([0]).enter().append("button").attr("class","geocode-item secondary-action").on("click",_).append("div").attr("class","label").append("span").attr("class","entity-name").html(F.html("geocoder.search")),l.selectAll(".no-results-item").style("display",y.length&&!E.length?"block":"none"),l.selectAll(".geocode-item").style("display",y&&t===void 0?"block":"none"),l.selectAll(".feature-list-item").data([-1]).remove();var A=l.selectAll(".feature-list-item").data(E,function(S){return S.id}),C=A.enter().insert("button",".geocode-item").attr("class","feature-list-item").on("mouseover",g).on("mouseout",v).on("click",x),D=C.append("div").attr("class","label");D.each(function(S){G(this).call(ce("#iD-icon-"+S.geometry,"pre-text"))}),D.append("span").attr("class","entity-type").html(function(S){return S.type}),D.append("span").attr("class","entity-name").html(function(S){return S.name}),C.style("opacity",0).transition().style("opacity",1),A.order(),A.exit().remove()}function g(y,E){E.id!==-1&&ot([E.id],!0,e)}function v(y,E){E.id!==-1&&ot([E.id],!1,e)}function x(y,E){y.preventDefault(),E.location?e.map().centerZoomEase([E.location[1],E.location[0]],19):E.entity?(ot([E.id],!1,e),e.enter(Le(e,[E.entity.id])),e.map().zoomToEase(E.entity)):e.zoomToEntity(E.id)}function _(){ue.geocoder.search(o.property("value"),function(y,E){t=E||[],h()})}}return r}function z5(e){var t=be("cancel","choose"),r,n,i,a=!1;function o(m){if(!r)return;var w=Ie.matchAllGeometry(p());m.html("");var b=m.append("div").attr("class","header fillL"),h=b.append("h3").html(F.html("inspector.choose"));b.append("button").attr("class","preset-choose").on("click",function(){t.call("cancel",this)}).call(ce(_e.textDirection()==="rtl"?"#iD-icon-backward":"#iD-icon-forward"));function g(C){E.property("value").length===0&&(C.keyCode===Re.keyCodes["\u232B"]||C.keyCode===Re.keyCodes["\u2326"])?(C.preventDefault(),C.stopPropagation(),nn(e,r)()):E.property("value").length===0&&(C.ctrlKey||C.metaKey)&&C.keyCode===Re.keyCodes.z?(C.preventDefault(),C.stopPropagation(),e.undo()):!C.ctrlKey&&!C.metaKey&&(G(this).on("keydown",v),v.call(this,C))}function v(C){if(C.keyCode===Re.keyCodes["\u2193"]&&E.node().selectionStart===E.property("value").length){C.preventDefault(),C.stopPropagation();var D=A.selectAll(".preset-list-button");D.empty()||D.nodes()[0].focus()}}function x(C){var D=E.property("value");C.keyCode===13&&D.length&&A.selectAll(".preset-list-item:first-child").each(function(S){S.choose.call(this)})}function _(){var C=E.property("value");A.classed("filtered",C.length);var D,S;C.length?(D=w.search(C,p()[0],n),S=F("inspector.results",{n:D.collection.length,search:C})):(D=Ie.defaults(p()[0],36,!e.inIntro(),n),S=F("inspector.choose")),A.call(s,D),h.html(S)}var y=m.append("div").attr("class","search-header");y.call(ce("#iD-icon-search","pre-text"));var E=y.append("input").attr("class","preset-search-input").attr("placeholder",F("inspector.search")).attr("type","search").call(et).on("keydown",g).on("keypress",x).on("input",Nt(_));a&&(E.node().focus(),setTimeout(function(){E.node().focus()},0));var k=m.append("div").attr("class","inspector-body"),A=k.append("div").attr("class","preset-list").call(s,Ie.defaults(p()[0],36,!e.inIntro(),n));e.features().on("change.preset-list",d)}function s(m,w){w=w.matchAllGeometry(p());var b=w.collection.reduce(function(g,v){return v&&(v.members?v.members.collection.filter(function(x){return x.addable()}).length>1&&g.push(u(v)):v.addable()&&g.push(c(v))),g},[]),h=m.selectAll(".preset-list-item").data(b,function(g){return g.preset.id});h.order(),h.exit().remove(),h.enter().append("div").attr("class",function(g){return"preset-list-item preset-"+g.preset.id.replace("/","-")}).classed("current",function(g){return i.indexOf(g.preset)!==-1}).each(function(g){G(this).call(g)}).style("opacity",0).transition().style("opacity",1),d()}function l(m){var w=G(this.closest(".preset-list-item")),b=G(w.node().parentNode.closest(".preset-list-item"));if(m.keyCode===Re.keyCodes["\u2193"]){m.preventDefault(),m.stopPropagation();var h=G(w.node().nextElementSibling);h.empty()?b.empty()||(h=G(b.node().nextElementSibling)):G(this).classed("expanded")&&(h=w.select(".subgrid .preset-list-item:first-child")),h.empty()||h.select(".preset-list-button").node().focus()}else if(m.keyCode===Re.keyCodes["\u2191"]){m.preventDefault(),m.stopPropagation();var g=G(w.node().previousElementSibling);if(g.empty()?b.empty()||(g=b):g.select(".preset-list-button").classed("expanded")&&(g=g.select(".subgrid .preset-list-item:last-child")),!g.empty())g.select(".preset-list-button").node().focus();else{var v=G(this.closest(".preset-list-pane")).select(".preset-search-input");v.node().focus()}}else m.keyCode===Re.keyCodes[_e.textDirection()==="rtl"?"\u2192":"\u2190"]?(m.preventDefault(),m.stopPropagation(),b.empty()||b.select(".preset-list-button").node().focus()):m.keyCode===Re.keyCodes[_e.textDirection()==="rtl"?"\u2190":"\u2192"]&&(m.preventDefault(),m.stopPropagation(),w.datum().choose.call(G(this).node()))}function u(m){var w,b,h=!1;function g(v){var x=v.append("div").attr("class","preset-list-button-wrap category");function _(){var A=G(this).classed("expanded"),C=A?_e.textDirection()==="rtl"?"#iD-icon-backward":"#iD-icon-forward":"#iD-icon-down";G(this).classed("expanded",!A),G(this).selectAll("div.label-inner svg.icon use").attr("href",C),g.choose()}var y=p(),E=x.append("button").attr("class","preset-list-button").classed("expanded",!1).call(b1().geometry(y.length===1&&y[0]).preset(m)).on("click",_).on("keydown",function(A){A.keyCode===Re.keyCodes[_e.textDirection()==="rtl"?"\u2190":"\u2192"]?(A.preventDefault(),A.stopPropagation(),G(this).classed("expanded")||_.call(this,A)):A.keyCode===Re.keyCodes[_e.textDirection()==="rtl"?"\u2192":"\u2190"]?(A.preventDefault(),A.stopPropagation(),G(this).classed("expanded")&&_.call(this,A)):l.call(this,A)}),k=E.append("div").attr("class","label").append("div").attr("class","label-inner");k.append("div").attr("class","namepart").call(ce(_e.textDirection()==="rtl"?"#iD-icon-backward":"#iD-icon-forward","inline")).append("span").html(function(){return m.nameLabel()+"&hellip;"}),w=v.append("div").attr("class","subgrid").style("max-height","0px").style("opacity",0),w.append("div").attr("class","arrow"),b=w.append("div").attr("class","preset-list fillL3")}return g.choose=function(){if(!(!w||!b))if(h)h=!1,w.transition().duration(200).style("opacity","0").style("max-height","0px").style("padding-bottom","0px");else{h=!0;var v=m.members.matchAllGeometry(p());b.call(s,v),w.transition().duration(200).style("opacity","1").style("max-height",200+v.collection.length*190+"px").style("padding-bottom","10px")}},g.preset=m,g}function c(m){function w(b){var h=b.append("div").attr("class","preset-list-button-wrap"),g=p(),v=h.append("button").attr("class","preset-list-button").call(b1().geometry(g.length===1&&g[0]).preset(m)).on("click",w.choose).on("keydown",l),x=v.append("div").attr("class","label").append("div").attr("class","label-inner"),_=[m.nameLabel(),m.subtitleLabel()].filter(Boolean);x.selectAll(".namepart").data(_).enter().append("div").attr("class","namepart").html(function(y){return y}),h.call(w.reference.button),b.call(w.reference.body)}return w.choose=function(){G(this).classed("disabled")||(e.inIntro()||Ie.setMostRecent(m,p()[0]),e.perform(function(b){for(var h in r){var g=r[h],v=Ie.match(b.entity(g),b);b=go(g,v,m)(b)}return b},F("operations.change_tags.annotation")),e.validator().validate(),t.call("choose",this,m))},w.help=function(b){b.stopPropagation(),w.reference.toggle()},w.preset=m,w.reference=pa(m.reference(),e),w}function d(){if(!!r.every(e.hasEntity)){var m=p(),w=e.container().selectAll(".preset-list .preset-list-button");w.call(Pe().destroyAny),w.each(function(b,h){var g;for(var v in m)if(g=e.features().isHiddenPreset(b.preset,m[v]),g)break;var x=!e.inIntro()&&!!g&&(i.length!==1||b.preset!==i[0]);if(G(this).classed("disabled",x),x){var _=e.features().autoHidden(g);G(this).call(Pe().title(F.html("inspector.hidden_preset."+(_?"zoom":"manual"),{features:F.html("feature."+g+".description")})).placement(h<2?"bottom":"top"))}})}}o.autofocus=function(m){return arguments.length?(a=m,o):a},o.entityIDs=function(m){if(!arguments.length)return r;if(r=m,n=null,r&&r.length){n=St(r,e.graph()).center();var w=r.map(function(b){return Ie.match(e.entity(b),e.graph())});o.presets(w)}return o},o.presets=function(m){return arguments.length?(i=m,o):i};function p(){var m={};for(var w in r){var b=r[w],h=e.entity(b),g=h.geometry(e.graph());g==="vertex"&&h.isOnAddressLine(e.graph())&&(g="point"),m[g]||(m[g]=0),m[g]+=1}return Object.keys(m).sort(function(v,x){return m[x]-m[v]})}return ke(o,t,"on")}function U5(e){var t=z5(e),r=L5(e),n=G(null),i=G(null),a=G(null),o="select",s,l=!1;function u(c){t.entityIDs(s).autofocus(l).on("choose",u.setPreset).on("cancel",function(){u.setPreset()}),r.state(o).entityIDs(s).on("choose",u.showList),n=c.selectAll(".panewrap").data([0]);var d=n.enter().append("div").attr("class","panewrap");d.append("div").attr("class","preset-list-pane pane"),d.append("div").attr("class","entity-editor-pane pane"),n=n.merge(d),i=n.selectAll(".preset-list-pane"),a=n.selectAll(".entity-editor-pane");function p(){if(o!=="select"||s.length!==1)return!1;var w=s[0],b=e.hasEntity(w);return!b||b.hasNonGeometryTags()?!1:l?!0:!(b.geometry(e.graph())!=="vertex"||e.graph().parentRelations(b).length||e.validator().getEntityIssues(w).length||b.isHighwayIntersection(e.graph()))}p()?(n.style("right","-100%"),a.classed("hide",!0),i.classed("hide",!1).call(t)):(n.style("right","0%"),i.classed("hide",!0),a.classed("hide",!1).call(r));var m=c.selectAll(".footer").data([0]);m=m.enter().append("div").attr("class","footer").merge(m),m.call(v4(e).what(e.hasEntity(s.length===1&&s[0])))}return u.showList=function(c){i.classed("hide",!1),n.transition().styleTween("right",function(){return mi("0%","-100%")}).on("end",function(){a.classed("hide",!0)}),c&&t.presets(c),i.call(t.autofocus(!0))},u.setPreset=function(c){c&&c.id==="type/multipolygon"?i.call(t.autofocus(!0)):(a.classed("hide",!1),n.transition().styleTween("right",function(){return mi("-100%","0%")}).on("end",function(){i.classed("hide",!0)}),c&&r.presets([c]),a.call(r))},u.state=function(c){return arguments.length?(o=c,r.state(o),e.container().selectAll(".field-help-body").remove(),u):o},u.entityIDs=function(c){return arguments.length?(s=c,u):s},u.newFeature=function(c){return arguments.length?(l=c,u):l},u}function q5(e){var t={id:"warnings",count:0,iconID:"iD-icon-alert",descriptionID:"issues.warnings_and_errors"},r={id:"resolved",count:0,iconID:"iD-icon-apply",descriptionID:"issues.user_resolved_issues"};function n(i){var a=[],o=e.validator().getIssues({what:pe("validate-what")||"edited",where:pe("validate-where")||"all"});if(o.length&&(t.count=o.length,a.push(t)),pe("validate-what")==="all"){var s=e.validator().getResolvedIssues();s.length&&(r.count=s.length,a.push(r))}var l=i.selectAll(".chip").data(a,function(c){return c.id});l.exit().remove();var u=l.enter().append("a").attr("class",function(c){return"chip "+c.id+"-count"}).attr("href","#").each(function(c){var d=G(this),p=Pe().placement("top").title(F.html(c.descriptionID));d.call(p).on("click",function(m){m.preventDefault(),p.hide(G(this)),e.ui().togglePanes(e.container().select(".map-panes .issues-pane"))}),d.call(ce("#"+c.iconID))});u.append("span").attr("class","count"),u.merge(l).selectAll("span.count").html(function(c){return c.count.toString()})}return function(i){n(i),e.validator().on("validated.infobox",function(){n(i)})}}function Q5(e){var t,r;n.coordinates=[];function n(a){e.container().classed("lasso",!0),t=a.append("g").attr("class","lasso hide"),r=t.append("path").attr("class","lasso-path"),t.call(ma(!0))}function i(){r&&r.data([n.coordinates]).attr("d",function(a){return"M"+a.join(" L")+" Z"})}return n.extent=function(){return n.coordinates.reduce(function(a,o){return a.min=[Math.min(a.min[0],o[0]),Math.min(a.min[1],o[1])],a.max=[Math.max(a.max[0],o[0]),Math.max(a.max[1],o[1])],a},new Ne)},n.p=function(a){return arguments.length&&(n.coordinates.push(a),i()),n},n.close=function(){t&&t.call(ma(!1,function(){G(this).remove()})),e.container().classed("lasso",!1)},n}function w1(e){function t(r){var n=Eo(e),i={},a=xi(),o=Bs(a,e).showLabels(!1),s=Rs(a,e),l=so().scaleExtent([Qr(.5),Qr(24)]).on("start",E).on("zoom",k).on("end",A),u=G(null),c=G(null),d=G(null),p=!1,m=!0,w=!1,b=null,h=6,g,v,x,_,y;function E(){w||(x=_=a.transform(),b=null)}function k(R){if(!w){var P=R.transform.x,L=R.transform.y,B=R.transform.k,O=B!==x.k,U=P!==x.x||L!==x.y;if(!(!O&&!U)){b||(b=O?"zoom":"pan");var T=a.transform(),M,I,z;b==="zoom"?(z=B/T.k,M=(v[0]/z-v[0])*z,I=(v[1]/z-v[1])*z):(B=T.k,z=1,M=P-T.x,I=L-T.y),ei(c,M,I,z),ei(d,0,0,z),p=!0,_=Ir.translate(P,L).scale(B);var q=Jt(e.projection.scale()),V=Jt(B);h=q-V,S()}}}function A(){w||b==="pan"&&(C(),b=null,e.map().center(a.invert(v)))}function C(){var R=e.map().center(),P=e.projection.transform(),L=Jt(P.k),B=Math.max(L-h,.5),O=Qr(B);a.translate([P.x,P.y]).scale(O);var U=a(R),T=b==="pan"?Lt([_.x,_.y],[x.x,x.y]):[0,0],M=v[0]-U[0]+P.x+T[0],I=v[1]-U[1]+P.y+T[1];a.translate([M,I]).clipExtent([[0,0],g]),_=a.transform(),p&&(ei(c,0,0),ei(d,0,0),p=!1),l.scaleExtent([Qr(.5),Qr(L-3)]),w=!0,u.call(l.transform,_),w=!1}function D(){if(clearTimeout(y),!m){C();var R=Jt(a.scale());c=u.selectAll(".map-in-map-tiles").data([0]),c=c.enter().append("div").attr("class","map-in-map-tiles").merge(c),n.source(e.background().baseLayerSource()).projection(a).dimensions(g);var P=c.selectAll(".map-in-map-background").data([0]);P.enter().append("div").attr("class","map-in-map-background").merge(P).call(n);for(var L=e.background().overlayLayerSources(),B=[],O=0;O<L.length;O++)L[O].validZoom(R)&&(i[O]||(i[O]=Eo(e)),B.push(i[O].source(L[O]).projection(a).dimensions(g)));var U=c.selectAll(".map-in-map-overlay").data([0]);U=U.enter().append("div").attr("class","map-in-map-overlay").merge(U);var T=U.selectAll("div").data(B,function(V){return V.source().name()});T.exit().remove(),T=T.enter().append("div").merge(T).each(function(V){G(this).call(V)});var M=c.selectAll(".map-in-map-data").data([0]);if(M.exit().remove(),M=M.enter().append("svg").attr("class","map-in-map-data").merge(M).call(o).call(s),b!=="pan"){var I=Dn(a),z={type:"Polygon",coordinates:[e.map().extent().polygon()]};d=u.selectAll(".map-in-map-viewport").data([0]),d=d.enter().append("svg").attr("class","map-in-map-viewport").merge(d);var q=d.selectAll(".map-in-map-bbox").data([z]);q.enter().append("path").attr("class","map-in-map-bbox").merge(q).attr("d",I).classed("thick",function(V){return I.area(V)<30})}}}function S(){clearTimeout(y),y=setTimeout(function(){D()},750)}function N(R){R&&R.preventDefault(),m=!m,e.container().select(".minimap-toggle-item").classed("active",!m).select("input").property("checked",!m),m?u.style("display","block").style("opacity","1").transition().duration(200).style("opacity","0").on("end",function(){r.selectAll(".map-in-map").style("display","none")}):u.style("display","block").style("opacity","0").transition().duration(200).style("opacity","1").on("end",function(){D()})}w1.toggle=N,u=r.selectAll(".map-in-map").data([0]),u=u.enter().append("div").attr("class","map-in-map").style("display",m?"none":"block").call(l).on("dblclick.zoom",null).merge(u),g=[200,150],v=Ni(g,.5),e.map().on("drawn.map-in-map",function(R){R.full===!0&&D()}),D(),e.keybinding().on(F("background.minimap.key"),N)}return t}function G5(e){return function(t){var r=t.append("div").attr("class","notice"),n=r.append("button").attr("class","zoom-to notice fillD").on("click",function(){e.map().zoomEase(e.minEditableZoom())}).on("wheel",function(a){var o=new WheelEvent(a.type,a);e.surface().node().dispatchEvent(o)});n.call(ce("#iD-icon-plus","pre-text")).append("span").attr("class","label").html(F.html("zoom_in_edit"));function i(){var a=e.map().zoom()>=e.minEditableZoom();r.style("display",a?"none":"block")}e.map().on("move.notice",Nt(i,500)),i()}}function H5(e){return function(t){if(!!e.history().hasRestorableChanges()){var r=wr(t,!0);r.select(".modal").attr("class","modal fillL");var n=r.select(".content");n.append("div").attr("class","modal-section").append("h3").html(F.html("restore.heading")),n.append("div").attr("class","modal-section").append("p").html(F.html("restore.description"));var i=n.append("div").attr("class","modal-actions"),a=i.append("button").attr("class","restore").on("click",function(){e.history().restore(),r.remove()});a.append("svg").attr("class","logo logo-restore").append("use").attr("xlink:href","#iD-logo-restore"),a.append("div").html(F.html("restore.restore"));var o=i.append("button").attr("class","reset").on("click",function(){e.history().clearSaved(),r.remove()});o.append("svg").attr("class","logo logo-reset").append("use").attr("xlink:href","#iD-logo-reset"),o.append("div").html(F.html("restore.reset")),a.node().focus()}}}function W5(e){var t=e.projection,r=!_e.usesMetric(),n=180,i=8;function a(s,l){var u=(l[1]+s[1])/2,c=r?3.28084:1,d=vl(l[0]-s[0],u)*c,p={dist:0,px:0,text:""},m,w,b,h;for(r?m=[528e4,528e3,52800,5280,500,50,5,1]:m=[5e6,5e5,5e4,5e3,500,50,5,1],w=0;w<m.length;w++)if(b=m[w],d>=b){p.dist=Math.floor(d/b)*b;break}else p.dist=+d.toFixed(2);return h=ln(p.dist/c,u),p.px=Math.round(t([s[0]+h,s[1]])[0]),p.text=_0(p.dist/c,r),p}function o(s){var l=e.map().dimensions(),u=t.invert([0,l[1]]),c=t.invert([n,l[1]]),d=a(u,c);s.select(".scale-path").attr("d","M0.5,0.5v"+i+"h"+d.px+"v-"+i),s.select(".scale-text").style(_e.textDirection()==="ltr"?"left":"right",d.px+16+"px").html(d.text)}return function(s){function l(){r=!r,s.call(o)}var u=s.append("svg").attr("class","scale").on("click",l).append("g").attr("transform","translate(10,11)");u.append("path").attr("class","scale-path"),s.append("div").attr("class","scale-text"),s.call(o),e.map().on("move.scale",function(){o(s)})}}An();var DO={n:"node",r:"relation",w:"way"};function C4(e,t){var r=e.rapidContext(),n=1/0,i;function a(){var h=e.initialHashParams.hasOwnProperty("gpx");if(h)return!1;var g=e.history().peekAllAnnotations(),v=g.filter(function(x){return x.type==="rapid_accept_feature"});return v.length>=n}function o(h){var g=e.graph();if(!g.hasEntity(h)){e.ui().flash.iconName("#iD-icon-no").label("Looks like this node has not loaded yet or has been deleted")();return}var v=g.entity(h);e.perform(Qt(v.id,Object.assign({check_date:new Date().toISOString().split("T")[0]},v.tags)),F("operations.change_tags.annotation"))}function s(h){var g=e.graph();return g.hasEntity(h)?(e.perform(yi(h),F("operations.delete.annotation.point")),!0):(e.ui().flash.iconName("#iD-icon-no").label("Looks like this node hasn't downloaded yet, or has already been deleted")(),!1)}function l(h,g){var v=Object.assign({},g),x=e.graph();if(!x.hasEntity(h))return e.ui().flash.iconName("#iD-icon-no").label("Looks like this node hasn't downloaded yet")(),!1;var _=x.entity(h),y=Object.assign({},_.tags,v);for(var E in y)y[E]==="\uD83D\uDDD1\uFE0F"&&delete y[E];return delete y.__action,e.perform(Qt(_.id,y),F("operations.change_tags.annotation")),!0}function u(){if(!!i){var h=i.__featureid__.split("-"),g=xt(h,2),v=g[0],x=g[1];if(v!=="create")if(v==="move"){var _=ue.esriData.graph(i.__datasetid__),y=_.entity(i.nodes[0]).loc,E=_.entity(i.nodes[1]).loc,k=e.graph().entity(x),A=window.__moveNodeHook(k,y,E);return A?c(!0):void 0}else if(v==="edit"){var C=l(x,i.tags);return C?c(!0):void 0}else if(v==="delete"){var D=s(x);return D?c(!0):void 0}else{console.error("Invalid osmAction",v);return}if(a()){var S=p4(e).duration(5e3).label(F("rapid_feature_inspector.option_accept.disabled_flash",{n:n}));S();return}var N={type:"rapid_accept_feature",description:F("rapid_feature_inspector.option_accept.annotation"),id:i.id,origid:i.__origid__},R=i.__service__==="esri"?ue.esriData:ue.fbMLRoads,P=R.graph(i.__datasetid__);if(e.perform(Lu(i.id,P),N),e.enter(Le(e,[i.id])),!e.inIntro()){var L=i.tags&&i.tags.source;L&&r.sources.add(L),window._dsState[i.__datasetid__][i.__featureid__]="done",window.sessionStorage.getItem("acknowledgedLogin")!=="true"&&window.sessionStorage.setItem("acknowledgedLogin","true")}}}function c(h){if(!!i){var g=i.__featureid__.split("-"),v=xt(g,2),x=v[0],_=v[1],y={type:"rapid_ignore_feature",description:F("rapid_feature_inspector.option_ignore.annotation"),id:i.id,origid:i.__origid__};if(e.perform(Fr(),y),e.enter(De(e)),window._dsState[i.__datasetid__][i.__featureid__]="done",h!==!0)if(x==="create"){fetch(window.APIROOT+"/__ignoreFeature?"+new URLSearchParams({reportedBy:(window.__user||{}).display_name,id:"t".concat(_),sector:i.__datasetid__}).toString());return}else o(_)}}function d(h){var g=h.length<6,v=parseInt(g?h[1]+h[1]:h[1]+h[2],16),x=parseInt(g?h[2]+h[2]:h[3]+h[4],16),_=parseInt(g?h[3]+h[3]:h[5]+h[6],16);return(v*299+x*587+_*114)/1e3}function p(h){if(!!i){var g=i.__datasetid__.replace("-conflated",""),v=r.datasets()[g],x=v.color,_=h.selectAll(".feature-info").data([x]),y=_.enter().append("div").attr("class","feature-info");y.append("div").attr("class","dataset-label").text(v.label||v.id),v.beta&&y.append("div").attr("class","dataset-beta beta").attr("title",F("rapid_poweruser_features.beta")),_=_.merge(y).style("background",function(E){return E}).style("color",function(E){return d(E)>140.5?"#333":"#fff"})}}function m(h){var g=i&&i.tags;if(!!g){var v=h.selectAll(".tag-info").data([0]).enter().append("div").attr("class","tag-info"),x=v.append("div").attr("class","tag-bag");x.append("div").attr("class","tag-heading").text(F("rapid_feature_inspector.tags"));var _=Object.keys(g).map(function(y){return{key:y,value:g[y]}}).filter(function(y){return y.key!=="__action"});_.forEach(function(y){var E=x.append("div").attr("class","tag-entry");E.append("div").attr("class","tag-key").text(y.key),E.append("div").attr("class","tag-value").text(y.value)})}}function w(h){var g=h.selectAll(".rapid-inspector").data([0]),v=g.enter().append("div").attr("class","rapid-inspector");g=g.merge(v);var x=g.selectAll(".header").data([0]).enter().append("div").attr("class","header");x.append("h3").append("svg").attr("class","logo-rapid").append("use").attr("xlink:href","#iD-logo-rapid"),x.append("button").attr("class","fr rapid-inspector-close").on("click",function(){e.enter(De(e))}).call(ce("#iD-icon-close"));var _=g.selectAll(".body").data([0]),y=_.enter().append("div").attr("class","body");_=_.merge(y).call(p).call(m);var E=i&&i.tags&&i.tags.__action||"create",k=!1;try{if(E==="edit"){var A=i.__featureid__.split("-")[1];if(e.graph().hasEntity(A)){var C=e.graph().entity(A),D=(new Date-new Date(C.timestamp))/1e3/60/60/24;D<30&&(k=[C,D])}}}catch(M){console.error(M)}var S={move:"Move this address",create:F("rapid_feature_inspector.option_accept.label"),edit:"Edit this address",delete:"Delete this address"},N={move:"Move the existing node to the new proposed location",create:F("rapid_feature_inspector.option_accept.description"),edit:"Update the tags on this node with the suggested changes",delete:"Remove this node from OSM"},R={move:"Do not move",create:F("rapid_feature_inspector.option_ignore.label"),edit:"Do not edit",delete:"Do not delete"},P={move:"\u2728 This node is in the wrong location! Do you want to move it?",delete:"\uD83D\uDDD1\uFE0F This node has been deleted by LINZ! Do you want to delete it from OSM?",edit:"\uD83D\uDD22 Some tags need changing on the address under this diamond!",create:F("rapid_feature_inspector.prompt")},L={move:"Move",delete:"Delete",edit:"Edit",create:"Create"},B=[{key:"accept",iconName:"#iD-icon-rapid-plus-circle",label:S[E],description:N[E],onClick:u,flag:!!k,isDelete:E==="action"},{key:"ignore",iconName:"#iD-icon-rapid-minus-circle",label:R[E],description:F("rapid_feature_inspector.option_ignore.description"),onClick:c}],O=_.selectAll(".rapid-inspector-choices").data([0]),U=O.enter().append("div").attr("class","rapid-inspector-choices");if(U.append("h3").text(L[E]),U.append("p").text(P[E]),k){var T="https://openstreetmap.org/".concat(DO[k[0].id[0]],"/").concat(k[0].id.slice(1));U.append("p").html("Last editted by <strong>".concat(k[0].user,'</strong> <a href="').concat(T,'" target="_blank">').concat(Math.round(k[1])," days ago</a>"))}U.selectAll(".rapid-inspector-choice").data(B,function(M){return M.key}).enter().append("div").attr("class",function(M){return"rapid-inspector-choice rapid-inspector-choice-".concat(M.key)}).each(b)}function b(h,g,v){var x=G(v[g]),_=h.key==="accept"&&a()?"secondary disabled":"",y=x.append("div").attr("class","choice-wrap choice-wrap-".concat(h.key)),E=x.append("div").attr("class","tag-reference-body");E.text(h.description);var k=h.onClick,A=y.append("button").attr("class","choice-button choice-button-".concat(h.key," ").concat(_," ").concat(h.isDelete?"del-btn":""," ").concat(h.flag?"flag-btn":"")).on("click",k),C,D;h.key==="accept"?a()?(C=F("rapid_feature_inspector.option_accept.disabled",{n:n}),D=[]):(C=F("rapid_feature_inspector.option_accept.tooltip"),D=[F("rapid_feature_inspector.option_accept.key")]):h.key==="ignore"&&(C=F("rapid_feature_inspector.option_ignore.tooltip"),D=[F("rapid_feature_inspector.option_ignore.key")]),C&&D&&(A=A.call(Pe().placement("bottom").title(C).keys(D))),A.append("svg").attr("class","choice-icon icon").append("use").attr("xlink:href",h.iconName),A.append("div").attr("class","choice-label").text(h.label),y.append("button").attr("class","tag-reference-button ".concat(_)).attr("title","info").attr("tabindex","-1").on("click",function(){E.classed("expanded",!E.classed("expanded"))}).call(ce("#iD-icon-inspect"))}return w.datum=function(h){return arguments.length?(i=h,this):i},t&&t().on(F("rapid_feature_inspector.option_accept.key"),u).on(F("rapid_feature_inspector.option_ignore.key"),c),w}function V5(e){var t=U5(e),r=C4(e),n=E4(e),i=y4(e),a=_4(e),o=k4(e),s=S5(e),l,u=!1,c=!1,d=!1,p=!1,m="PointerEvent"in window?"pointer":"mouse";function w(b){var h=e.container(),g=240,v,x,_;b.style("min-width",g+"px").style("max-width","400px").style("width","33.3333%");var y=b.append("div").attr("class","sidebar-resizer").on(m+"down.sidebar-resizer",C),E,k,A;function C(B){if(!E&&!("button"in B&&B.button!==0)){E=B.pointerId||"mouse",k=B.clientX,A=Dr(h.node()),_=Dr(y.node())(B)[0]-1,v=b.node().getBoundingClientRect().width,x=h.node().getBoundingClientRect().width;var O=v/x*100;b.style("width",O+"%").style("max-width","85%"),y.classed("dragging",!0),G(window).on("touchmove.sidebar-resizer",function(U){U.preventDefault()},{passive:!1}).on(m+"move.sidebar-resizer",D).on(m+"up.sidebar-resizer pointercancel.sidebar-resizer",S)}}function D(B){if(E===(B.pointerId||"mouse")){B.preventDefault();var O=B.clientX-k;k=B.clientX;var U=_e.textDirection()==="rtl",T=U?0:1,M=U?"margin-right":"margin-left",I=A(B)[0]-_;v=U?x-I:I;var z=b.classed("collapsed"),q=v<g;if(b.classed("collapsed",q),q)z||(b.style(M,"-400px").style("width","400px"),e.ui().onResize([(v-O)*T,0]));else{var V=v/x*100;b.style(M,null).style("width",V+"%"),z?e.ui().onResize([-v*T,0]):e.ui().onResize([-O*T,0])}}}function S(B){E===(B.pointerId||"mouse")&&(E=null,y.classed("dragging",!1),G(window).on("touchmove.sidebar-resizer",null).on(m+"move.sidebar-resizer",null).on(m+"up.sidebar-resizer pointercancel.sidebar-resizer",null))}var N=b.append("div").attr("class","feature-list-pane").call(j5(e)),R=b.append("div").attr("class","inspector-hidden inspector-wrap"),P=function(O){if(e.container().selectAll(".feature-list-item button").classed("hover",!1),e.selectedIDs().length>1&&O&&O.length){var U=e.container().selectAll(".feature-list-item button").filter(function(T){return O.indexOf(T)!==-1});U.empty()||U.classed("hover",!0)}};w.hoverModeSelect=Et(P,200);function L(B){var O=B&&B.length&&B[0];if(O&&O.__featurehash__)c=!0,w.show(n.datum(O)),b.selectAll(".sidebar-component").classed("inspector-hover",!0);else if(O&&O.__fbid__)u=!0,w.show(r.datum(O)),b.selectAll(".sidebar-component").classed("inspector-hover",!0).classed("rapid-inspector-fadein",!0);else if(O instanceof or){if(e.mode().id==="drag-note")return;d=!0;var U=ue.osm;U&&(O=U.getNote(O.id)),w.show(i.note(O)),b.selectAll(".sidebar-component").classed("inspector-hover",!0)}else if(O instanceof lr){p=!0;var T=ue[O.service];T&&(O=T.getError(O.id));var M;O.service==="keepRight"?M=o:O.service==="osmose"?M=s:M=a,e.container().selectAll(".qaItem."+O.service).classed("hover",function(I){return I.id===O.id}),w.show(M.error(O)),b.selectAll(".sidebar-component").classed("inspector-hover",!0)}else!l&&O instanceof Me?(N.classed("inspector-hidden",!0),R.classed("inspector-hidden",!1).classed("inspector-hover",!0),(!t.entityIDs()||!Jr(t.entityIDs(),[O.id])||t.state()!=="hover")&&(t.state("hover").entityIDs([O.id]).newFeature(!1),R.call(t))):l?(u||c||d||p)&&(u=!1,d=!1,c=!1,p=!1,e.container().selectAll(".layer-ai-features .hover").classed("hover",!1),e.container().selectAll(".note").classed("hover",!1),e.container().selectAll(".qaItem").classed("hover",!1),w.hide()):(N.classed("inspector-hidden",!1),R.classed("inspector-hidden",!0),t.state("hide"))}w.hover=Et(L,200),w.intersects=function(B){var O=b.node().getBoundingClientRect();return B.intersects(new Ne(e.projection.invert([0,O.height]),e.projection.invert([O.width,0])))},w.select=function(B,O){if(w.hide(),B&&B.length){var U=B.length===1&&e.entity(B[0]);if(U&&O&&b.classed("collapsed")){var T=U.extent(e.graph());w.expand(w.intersects(T))}N.classed("inspector-hidden",!0),R.classed("inspector-hidden",!1).classed("inspector-hover",!1),t.state("select").entityIDs(B).newFeature(O),R.call(t)}else t.state("hide")},w.showPresetList=function(){t.showList()},w.show=function(B,O){N.classed("inspector-hidden",!0),R.classed("inspector-hidden",!0),l&&l.remove(),l=b.append("div").attr("class","sidebar-component").call(B,O)},w.hide=function(){N.classed("inspector-hidden",!1),R.classed("inspector-hidden",!0),l&&l.remove(),l=null},w.expand=function(B){b.classed("collapsed")&&w.toggle(B)},w.collapse=function(B){b.classed("collapsed")||w.toggle(B)},w.toggle=function(B){if(!e.inIntro()){var O=b.classed("collapsed"),U=!O,T=_e.textDirection()==="rtl",M=T?0:1,I=T?"margin-right":"margin-left";v=b.node().getBoundingClientRect().width,b.style("width",v+"px");var z,q,V;U?(z=V=0,q=-v):(z=V=-v,q=0),U||b.classed("collapsed",U),b.transition().style(I,q+"px").tween("panner",function(){var Y=mr(z,q);return function(ee){var ie=V-Math.round(Y(ee));V=V-ie,e.ui().onResize(B?void 0:[ie*M,0])}}).on("end",function(){if(U&&b.classed("collapsed",U),!U){var Y=h.node().getBoundingClientRect().width,ee=v/Y*100;b.style(I,null).style("width",ee+"%")}})}},y.on("dblclick",function(B){B.preventDefault(),B.sourceEvent&&B.sourceEvent.preventDefault(),w.toggle()}),e.map().on("crossEditableZoom.sidebar",function(B){!B&&!b.select(".inspector-hover").empty()&&L([])})}return w.showPresetList=function(){},w.hover=function(){},w.hover.cancel=function(){},w.intersects=function(){},w.select=function(){},w.show=function(){},w.hide=function(){},w.expand=function(){},w.collapse=function(){},w.toggle=function(){},w}function K5(e){var t;function r(i){i.preventDefault();var a=e.connection();if(!!a&&!e.inIntro()&&!(e.history().hasChanges()&&!window.confirm(F("source_switch.lose_changes")))){var o=G(this).classed("live");o=!o,e.enter(De(e)),e.history().clearSaved(),e.flush(),G(this).html(o?F.html("source_switch.live"):F.html("source_switch.dev")).classed("live",o).classed("chip",o),a.switch(o?t[0]:t[1])}}var n=function(a){a.append("a").attr("href","#").html(F.html("source_switch.live")).attr("class","live chip").on("click",r)};return n.keys=function(i){return arguments.length?(t=i,n):t},n}function Y5(e){var t=e.connection();return function(r){var n=r.append("img").attr("src",e.imagePath("loader-black.gif")).style("opacity",0);t&&t.on("loading.spinner",function(){n.transition().style("opacity",1)}).on("loaded.spinner",function(){n.transition().style("opacity",0)})}}function uw(e,t){var r=be("done"),n={title:"intro.welcome.title"};function i(){e.map().centerZoom([-85.63591,41.94285],19),t(".intro-nav-wrap .chapter-welcome",we("intro.welcome.welcome"),{buttonText:F.html("intro.ok"),buttonCallback:a})}function a(){t(".intro-nav-wrap .chapter-welcome",we("intro.welcome.practice"),{buttonText:F.html("intro.ok"),buttonCallback:o})}function o(){t(".intro-nav-wrap .chapter-welcome",we("intro.welcome.words"),{buttonText:F.html("intro.ok"),buttonCallback:s})}function s(){r.call("done"),t(".intro-nav-wrap .chapter-navigation",we("intro.welcome.chapters",{next:F("intro.navigation.title")}))}return n.enter=function(){i()},n.exit=function(){e.container().select(".curtain-tooltip.intro-mouse").selectAll(".counter").remove()},n.restart=function(){n.exit(),n.enter()},ke(n,r,"on")}function cw(e,t){var r=be("done"),n=[],i="n2061",a=[-85.63591,41.94285],o="w397",s="n1834",l=[-85.63582,41.94255],u=Ie.field("oneway"),c=Ie.field("maxspeed"),d={title:"intro.navigation.title"};function p(L,B){n.push(window.setTimeout(L,B))}function m(L){L.stopPropagation(),L.preventDefault()}function w(){var L=e.selectedIDs();return L.length===1&&L[0]===i}function b(){e.enter(De(e)),e.history().reset("initial");var L=mn(a,e.map().center());L&&t(null,null,{duration:0}),e.map().centerZoomEase(a,19,L),p(function(){var O=e.map().center(),U=e.lastPointerType()==="mouse"?"drag":"drag_touch",T=we("intro.navigation.map_info")+"{br}"+we("intro.navigation."+U);t(".surface",T),e.map().on("drawn.intro",function(){t(".surface",T,{duration:0})}),e.map().on("move.intro",function(){var M=e.map().center();(O[0]!==M[0]||O[1]!==M[1])&&(e.map().on("move.intro",null),p(function(){B(h)},3e3))})},L+100);function B(O){e.map().on("move.intro drawn.intro",null),O()}}function h(){var L=e.map().zoom(),B=e.lastPointerType()==="mouse"?"zoom":"zoom_touch",O=we("intro.navigation."+B);t(".surface",O),e.map().on("drawn.intro",function(){t(".surface",O,{duration:0})}),e.map().on("move.intro",function(){e.map().zoom()!==L&&(e.map().on("move.intro",null),p(function(){U(g)},3e3))});function U(T){e.map().on("move.intro drawn.intro",null),T()}}function g(){var L=function(){B(v)};t(".surface",we("intro.navigation.features"),{buttonText:F.html("intro.ok"),buttonCallback:L}),e.map().on("drawn.intro",function(){t(".surface",we("intro.navigation.features"),{duration:0,buttonText:F.html("intro.ok"),buttonCallback:L})});function B(O){e.map().on("drawn.intro",null),O()}}function v(){var L=function(){B(x)};t(".surface",we("intro.navigation.points_lines_areas"),{buttonText:F.html("intro.ok"),buttonCallback:L}),e.map().on("drawn.intro",function(){t(".surface",we("intro.navigation.points_lines_areas"),{duration:0,buttonText:F.html("intro.ok"),buttonCallback:L})});function B(O){e.map().on("drawn.intro",null),O()}}function x(){var L=function(){B(_)};t(".surface",we("intro.navigation.nodes_ways"),{buttonText:F.html("intro.ok"),buttonCallback:L}),e.map().on("drawn.intro",function(){t(".surface",we("intro.navigation.nodes_ways"),{duration:0,buttonText:F.html("intro.ok"),buttonCallback:L})});function B(O){e.map().on("drawn.intro",null),O()}}function _(){e.enter(De(e)),e.history().reset("initial");var L=e.hasEntity(i);if(!L)return;t(null,null,{duration:0}),e.map().centerZoomEase(L.loc,19,500),p(function(){var O=e.hasEntity(i);if(!!O){var U=Ai(O.loc,e),T=e.lastPointerType()==="mouse"?"click_townhall":"tap_townhall";t(U,we("intro.navigation."+T)),e.map().on("move.intro drawn.intro",function(){var M=e.hasEntity(i);if(!!M){var I=Ai(M.loc,e);t(I,we("intro.navigation."+T),{duration:0})}}),e.on("enter.intro",function(){w()&&B(y)})}},550),e.history().on("change.intro",function(){e.hasEntity(i)||B(_)});function B(O){e.on("enter.intro",null),e.map().on("move.intro drawn.intro",null),e.history().on("change.intro",null),O()}}function y(){if(!w())return _();var L=e.hasEntity(i);if(!L)return _();var B=Ai(L.loc,e),O=function(){U(E)};t(B,we("intro.navigation.selected_townhall"),{buttonText:F.html("intro.ok"),buttonCallback:O}),e.map().on("move.intro drawn.intro",function(){var T=e.hasEntity(i);if(!!T){var M=Ai(T.loc,e);t(M,we("intro.navigation.selected_townhall"),{duration:0,buttonText:F.html("intro.ok"),buttonCallback:O})}}),e.history().on("change.intro",function(){e.hasEntity(i)||U(_)});function U(T){e.map().on("move.intro drawn.intro",null),e.history().on("change.intro",null),T()}}function E(){if(!w())return _();e.container().select(".inspector-wrap").on("wheel.intro",m);var L=function(){B(k)};t(".entity-editor-pane",we("intro.navigation.editor_townhall"),{buttonText:F.html("intro.ok"),buttonCallback:L}),e.on("exit.intro",function(){B(_)}),e.history().on("change.intro",function(){e.hasEntity(i)||B(_)});function B(O){e.on("exit.intro",null),e.history().on("change.intro",null),e.container().select(".inspector-wrap").on("wheel.intro",null),O()}}function k(){if(!w())return _();e.container().select(".inspector-wrap .panewrap").style("right","0%"),e.container().select(".inspector-wrap").on("wheel.intro",m);var L=e.entity(e.selectedIDs()[0]),B=Ie.match(L,e.graph()),O=function(){U(A)};t(".entity-editor-pane .section-feature-type",we("intro.navigation.preset_townhall",{preset:B.name()}),{buttonText:F.html("intro.ok"),buttonCallback:O}),e.on("exit.intro",function(){U(_)}),e.history().on("change.intro",function(){e.hasEntity(i)||U(_)});function U(T){e.on("exit.intro",null),e.history().on("change.intro",null),e.container().select(".inspector-wrap").on("wheel.intro",null),T()}}function A(){if(!w())return _();e.container().select(".inspector-wrap .panewrap").style("right","0%"),e.container().select(".inspector-wrap").on("wheel.intro",m);var L=function(){B(C)};t(".entity-editor-pane .section-preset-fields",we("intro.navigation.fields_townhall"),{buttonText:F.html("intro.ok"),buttonCallback:L}),e.on("exit.intro",function(){B(_)}),e.history().on("change.intro",function(){e.hasEntity(i)||B(_)});function B(O){e.on("exit.intro",null),e.history().on("change.intro",null),e.container().select(".inspector-wrap").on("wheel.intro",null),O()}}function C(){if(!w())return _();var L=".entity-editor-pane button.close svg use",B=G(L).attr("href")||"#iD-icon-close";t(".entity-editor-pane",we("intro.navigation.close_townhall",{button:je(B,"inline")})),e.on("exit.intro",function(){O(D)}),e.history().on("change.intro",function(){var U=".entity-editor-pane button.close svg use",T=G(U).attr("href")||"#iD-icon-close";t(".entity-editor-pane",we("intro.navigation.close_townhall",{button:je(T,"inline")}),{duration:0})});function O(U){e.on("exit.intro",null),e.history().on("change.intro",null),U()}}function D(){e.enter(De(e)),e.history().reset("initial");var L=mn(l,e.map().center());L&&t(null,null,{duration:0}),e.map().centerZoomEase(l,19,L),p(function(){t(".search-header input",we("intro.navigation.search_street",{name:F("intro.graph.name.spring-street")})),e.container().select(".search-header input").on("keyup.intro",S)},L+100)}function S(){var L=e.container().select(".feature-list-item:nth-child(0n+2)"),B=L.select(".entity-name"),O=F("intro.graph.name.spring-street");!B.empty()&&B.html()===O&&(t(L.node(),we("intro.navigation.choose_street",{name:O}),{duration:300}),e.on("exit.intro",function(){U(N)}),e.container().select(".search-header input").on("keydown.intro",m,!0).on("keyup.intro",null));function U(T){e.on("exit.intro",null),e.container().select(".search-header input").on("keydown.intro",null).on("keyup.intro",null),T()}}function N(){if(!e.hasEntity(s)||!e.hasEntity(o))return D();var L=function(){U(R)},B=e.entity(s),O=Ai(B.loc,e);O.height=500,t(O,we("intro.navigation.selected_street",{name:F("intro.graph.name.spring-street")}),{duration:600,buttonText:F.html("intro.ok"),buttonCallback:L}),p(function(){e.map().on("move.intro drawn.intro",function(){var T=e.hasEntity(s);if(!!T){var M=Ai(T.loc,e);M.height=500,t(M,we("intro.navigation.selected_street",{name:F("intro.graph.name.spring-street")}),{duration:0,buttonText:F.html("intro.ok"),buttonCallback:L})}})},600),e.on("enter.intro",function(T){if(!e.hasEntity(o))return U(D);var M=e.selectedIDs();(T.id!=="select"||!M.length||M[0]!==o)&&e.enter(Le(e,[o]))}),e.history().on("change.intro",function(){(!e.hasEntity(s)||!e.hasEntity(o))&&p(function(){U(D)},300)});function U(T){e.map().on("move.intro drawn.intro",null),e.on("enter.intro",null),e.history().on("change.intro",null),T()}}function R(){var L=".entity-editor-pane button.close svg use",B=G(L).attr("href")||"#iD-icon-close";t(".entity-editor-pane",we("intro.navigation.street_different_fields")+"{br}"+we("intro.navigation.editor_street",{button:je(B,"inline"),field1:u.label(),field2:c.label()})),e.on("exit.intro",function(){O(P)}),e.history().on("change.intro",function(){var U=".entity-editor-pane button.close svg use",T=G(U).attr("href")||"#iD-icon-close";t(".entity-editor-pane",we("intro.navigation.street_different_fields")+"{br}"+we("intro.navigation.editor_street",{button:je(T,"inline"),field1:u.label(),field2:c.label()}),{duration:0})});function O(U){e.on("exit.intro",null),e.history().on("change.intro",null),U()}}function P(){r.call("done"),t(".ideditor",we("intro.navigation.play",{next:F("intro.points.title")}),{tooltipBox:".intro-nav-wrap .chapter-point",buttonText:F.html("intro.ok"),buttonCallback:function(){t(".ideditor")}})}return d.enter=function(){b()},d.exit=function(){n.forEach(window.clearTimeout),e.on("enter.intro exit.intro",null),e.map().on("move.intro drawn.intro",null),e.history().on("change.intro",null),e.container().select(".inspector-wrap").on("wheel.intro",null),e.container().select(".search-header input").on("keydown.intro keyup.intro",null)},d.restart=function(){d.exit(),d.enter()},ke(d,r,"on")}function fw(e,t){var r=be("done"),n=[],i=[-85.63279,41.94394],a=[-85.632422,41.944045],o=Ie.item("amenity/cafe"),s=null,l={title:"intro.points.title"};function u(A,C){n.push(window.setTimeout(A,C))}function c(A){A.stopPropagation(),A.preventDefault()}function d(){e.enter(De(e)),e.history().reset("initial");var A=mn(i,e.map().center());A&&t(null,null,{duration:0}),e.map().centerZoomEase(i,19,A),u(function(){var D=t("button.add-point",we("intro.points.points_info")+"{br}"+we("intro.points.add_point"));s=null,D.selectAll(".popover-inner").insert("svg","span").attr("class","tooltip-illustration").append("use").attr("xlink:href","#iD-graphic-points"),e.on("enter.intro",function(S){S.id==="add-point"&&C(p)})},A+100);function C(D){e.on("enter.intro",null),D()}}function p(){if(e.mode().id!=="add-point")return l.restart();var A=ht(a,150,e),C=e.lastPointerType()==="mouse"?"place_point":"place_point_touch";t(A,we("intro.points."+C)),e.map().on("move.intro drawn.intro",function(){A=ht(a,150,e),t(A,we("intro.points."+C),{duration:0})}),e.on("enter.intro",function(S){if(S.id!=="select")return l.restart();s=e.mode().selectedIDs()[0],D(m)});function D(S){e.map().on("move.intro drawn.intro",null),e.on("enter.intro",null),S()}}function m(){if(e.mode().id!=="select"||!s||!e.hasEntity(s))return d();e.container().select(".inspector-wrap").on("wheel.intro",c),e.container().select(".preset-search-input").on("keydown.intro",null).on("keyup.intro",A),t(".preset-search-input",we("intro.points.search_cafe",{preset:o.name()})),e.on("enter.intro",function(D){if(!s||!e.hasEntity(s))return C(d);var S=e.selectedIDs();(D.id!=="select"||!S.length||S[0]!==s)&&(e.enter(Le(e,[s])),e.container().select(".inspector-wrap").on("wheel.intro",c),e.container().select(".preset-search-input").on("keydown.intro",null).on("keyup.intro",A),t(".preset-search-input",we("intro.points.search_cafe",{preset:o.name()})),e.history().on("change.intro",null))});function A(){var D=e.container().select(".preset-list-item:first-child");D.classed("preset-amenity-cafe")&&(e.container().select(".preset-search-input").on("keydown.intro",c,!0).on("keyup.intro",null),t(D.select(".preset-list-button").node(),we("intro.points.choose_cafe",{preset:o.name()}),{duration:300}),e.history().on("change.intro",function(){C(w)}))}function C(D){e.on("enter.intro",null),e.history().on("change.intro",null),e.container().select(".inspector-wrap").on("wheel.intro",null),e.container().select(".preset-search-input").on("keydown.intro keyup.intro",null),D()}}function w(){if(e.mode().id!=="select"||!s||!e.hasEntity(s))return d();u(function(){t(".entity-editor-pane",we("intro.points.feature_editor"),{tooltipClass:"intro-points-describe",buttonText:F.html("intro.ok"),buttonCallback:function(){A(b)}})},400),e.on("exit.intro",function(){A(g)});function A(C){e.on("exit.intro",null),C()}}function b(){if(e.mode().id!=="select"||!s||!e.hasEntity(s))return d();e.container().select(".inspector-wrap .panewrap").style("right","0%");var A=we("intro.points.fields_info")+"{br}"+we("intro.points.add_name");u(function(){var D=e.entity(s);if(D.tags.name){var S=t(".entity-editor-pane",A,{tooltipClass:"intro-points-describe",buttonText:F.html("intro.ok"),buttonCallback:function(){C(h)}});S.select(".instruction").style("display","none")}else t(".entity-editor-pane",A,{tooltipClass:"intro-points-describe"})},400),e.history().on("change.intro",function(){C(h)}),e.on("exit.intro",function(){C(g)});function C(D){e.on("exit.intro",null),e.history().on("change.intro",null),D()}}function h(){e.container().select(".inspector-wrap .panewrap").style("right","0%");var A=".entity-editor-pane button.close svg use",C=G(A).attr("href")||"#iD-icon-close";e.on("exit.intro",function(){D(g)}),t(".entity-editor-pane",we("intro.points.add_close",{button:je(C,"inline")}));function D(S){e.on("exit.intro",null),S()}}function g(){if(!s)return l.restart();var A=e.hasEntity(s);if(!A)return l.restart();var C=Ie.match(A,e.graph());e.replace(go(s,C,o)),e.enter(De(e));var D=mn(A.loc,e.map().center());D&&t(null,null,{duration:0}),e.map().centerEase(A.loc,D),u(function(){var N=Ai(A.loc,e);t(N,we("intro.points.reselect"),{duration:600}),u(function(){e.map().on("move.intro drawn.intro",function(){var R=e.hasEntity(s);if(!R)return l.restart();var P=Ai(R.loc,e);t(P,we("intro.points.reselect"),{duration:0})})},600),e.on("enter.intro",function(R){R.id==="select"&&S(v)})},D+100);function S(N){e.map().on("move.intro drawn.intro",null),e.on("enter.intro",null),N()}}function v(){if(e.mode().id!=="select"||!s||!e.hasEntity(s))return A(g);e.container().select(".inspector-wrap .panewrap").style("right","0%"),e.on("exit.intro",function(){A(g)}),e.history().on("change.intro",function(){A(x)}),u(function(){t(".entity-editor-pane",we("intro.points.update"),{tooltipClass:"intro-points-describe"})},400);function A(C){e.on("exit.intro",null),e.history().on("change.intro",null),C()}}function x(){if(e.mode().id!=="select"||!s||!e.hasEntity(s))return A(g);e.container().select(".inspector-wrap .panewrap").style("right","0%"),e.on("exit.intro",function(){A(_)}),u(function(){t(".entity-editor-pane",we("intro.points.update_close",{button:je("#iD-icon-close","inline")}))},500);function A(C){e.on("exit.intro",null),C()}}function _(){if(!s)return l.restart();var A=e.hasEntity(s);if(!A)return l.restart();e.enter(De(e));var C=Ai(A.loc,e),D=e.lastPointerType()==="mouse"?"rightclick":"edit_menu_touch";t(C,we("intro.points."+D),{duration:600}),u(function(){e.map().on("move.intro",function(){var N=e.hasEntity(s);if(!N)return l.restart();var R=Ai(N.loc,e);t(R,we("intro.points."+D),{duration:0})})},600),e.on("enter.intro",function(N){if(N.id==="select"){var R=e.selectedIDs();R.length!==1||R[0]!==s||u(function(){var P=bn(e,"delete").node();!P||S(y)},50)}});function S(N){e.on("enter.intro",null),e.map().on("move.intro",null),N()}}function y(){if(!s)return l.restart();var A=e.hasEntity(s);if(!A)return l.restart();var C=bn(e,"delete").node();if(!C)return D(_);t(".edit-menu",we("intro.points.delete"),{padding:50}),u(function(){e.map().on("move.intro",function(){t(".edit-menu",we("intro.points.delete"),{duration:0,padding:50})})},300),e.on("exit.intro",function(){if(!s)return l.restart();var S=e.hasEntity(s);if(S)return D(_)}),e.history().on("change.intro",function(S){S.deleted().length&&D(E)});function D(S){e.map().on("move.intro",null),e.history().on("change.intro",null),e.on("exit.intro",null),S()}}function E(){e.history().on("change.intro",function(){A(k)}),t(".top-toolbar button.undo-button",we("intro.points.undo"));function A(C){e.history().on("change.intro",null),C()}}function k(){r.call("done"),t(".ideditor",we("intro.points.play",{next:F("intro.areas.title")}),{tooltipBox:".intro-nav-wrap .chapter-area",buttonText:F.html("intro.ok"),buttonCallback:function(){t(".ideditor")}})}return l.enter=function(){d()},l.exit=function(){n.forEach(window.clearTimeout),e.on("enter.intro exit.intro",null),e.map().on("move.intro drawn.intro",null),e.history().on("change.intro",null),e.container().select(".inspector-wrap").on("wheel.intro",c),e.container().select(".preset-search-input").on("keydown.intro keyup.intro",null)},l.restart=function(){l.exit(),l.enter()},ke(l,r,"on")}function dw(e,t){var r=be("done"),n=[-85.63552,41.94159],i=Ie.item("leisure/playground"),a=Ie.field("name"),o=Ie.field("description"),s=[],l,u={title:"intro.areas.title"};function c(k,A){s.push(window.setTimeout(k,A))}function d(k){k.stopPropagation(),k.preventDefault()}function p(k,A,C){var D=180*Math.pow(2,e.map().zoom()-19.5),S=ht(k,D,e);t(S,A,C)}function m(){e.enter(De(e)),e.history().reset("initial"),l=null;var k=mn(n,e.map().center());k&&t(null,null,{duration:0}),e.map().centerZoomEase(n,19,k),c(function(){var C=t("button.add-area",we("intro.areas.add_playground"));C.selectAll(".popover-inner").insert("svg","span").attr("class","tooltip-illustration").append("use").attr("xlink:href","#iD-graphic-areas"),e.on("enter.intro",function(D){D.id==="add-area"&&A(w)})},k+100);function A(C){e.on("enter.intro",null),C()}}function w(){if(e.mode().id!=="add-area")return u.restart();l=null,e.map().zoomEase(19.5,500),c(function(){var A=e.lastPointerType()==="mouse"?"starting_node_click":"starting_node_tap",C=we("intro.areas.start_playground")+we("intro.areas."+A);p(n,C,{duration:250}),c(function(){e.map().on("move.intro drawn.intro",function(){p(n,C,{duration:0})}),e.on("enter.intro",function(D){if(D.id!=="draw-area")return u.restart();k(b)})},250)},550);function k(A){e.map().on("move.intro drawn.intro",null),e.on("enter.intro",null),A()}}function b(){if(e.mode().id!=="draw-area")return u.restart();l=null,p(n,we("intro.areas.continue_playground"),{duration:250}),c(function(){e.map().on("move.intro drawn.intro",function(){p(n,we("intro.areas.continue_playground"),{duration:0})})},250),e.on("enter.intro",function(A){if(A.id==="draw-area"){var C=e.hasEntity(e.selectedIDs()[0]);return C&&C.nodes.length>=6?k(h):void 0}else return A.id==="select"?(l=e.selectedIDs()[0],k(g)):u.restart()});function k(A){e.map().on("move.intro drawn.intro",null),e.on("enter.intro",null),A()}}function h(){if(e.mode().id!=="draw-area")return u.restart();l=null;var k=we("intro.areas.finish_area_"+(e.lastPointerType()==="mouse"?"click":"tap"))+we("intro.areas.finish_playground");p(n,k,{duration:250}),c(function(){e.map().on("move.intro drawn.intro",function(){p(n,k,{duration:0})})},250),e.on("enter.intro",function(C){if(C.id!=="draw-area")return C.id==="select"?(l=e.selectedIDs()[0],A(g)):u.restart()});function A(C){e.map().on("move.intro drawn.intro",null),e.on("enter.intro",null),C()}}function g(){if(!l||!e.hasEntity(l))return m();var k=e.selectedIDs();(e.mode().id!=="select"||!k.length||k[0]!==l)&&e.enter(Le(e,[l])),e.container().select(".inspector-wrap").on("wheel.intro",d),c(function(){e.container().select(".inspector-wrap .panewrap").style("right","-100%"),e.container().select(".preset-search-input").on("keydown.intro",null).on("keyup.intro",A),t(".preset-search-input",we("intro.areas.search_playground",{preset:i.name()}))},400),e.on("enter.intro",function(D){if(!l||!e.hasEntity(l))return C(m);var S=e.selectedIDs();(D.id!=="select"||!S.length||S[0]!==l)&&(e.enter(Le(e,[l])),e.container().select(".inspector-wrap .panewrap").style("right","-100%"),e.container().select(".inspector-wrap").on("wheel.intro",d),e.container().select(".preset-search-input").on("keydown.intro",null).on("keyup.intro",A),t(".preset-search-input",we("intro.areas.search_playground",{preset:i.name()})),e.history().on("change.intro",null))});function A(){var D=e.container().select(".preset-list-item:first-child");D.classed("preset-leisure-playground")&&(t(D.select(".preset-list-button").node(),we("intro.areas.choose_playground",{preset:i.name()}),{duration:300}),e.container().select(".preset-search-input").on("keydown.intro",d,!0).on("keyup.intro",null),e.history().on("change.intro",function(){C(v)}))}function C(D){e.container().select(".inspector-wrap").on("wheel.intro",null),e.on("enter.intro",null),e.history().on("change.intro",null),e.container().select(".preset-search-input").on("keydown.intro keyup.intro",null),D()}}function v(){if(!l||!e.hasEntity(l))return m();var k=e.selectedIDs();if(e.mode().id!=="select"||!k.length||k[0]!==l)return g();if(!e.container().select(".form-field-description").empty())return A(_);e.container().select(".inspector-wrap").on("wheel.intro",d),c(function(){e.container().select(".inspector-wrap .panewrap").style("right","0%");var C=e.entity(l);if(C.tags.description)return A(E);var D=e.container().select(".more-fields").node().getBoundingClientRect();if(D.top>300){var S=e.container().select(".entity-editor-pane .inspector-body"),N=S.node().scrollTop,R=N+(D.top-300);S.transition().duration(250).tween("scroll.inspector",function(){var P=this,L=mr(N,R);return function(B){P.scrollTop=L(B)}})}c(function(){t(".more-fields .combobox-input",we("intro.areas.add_field",{name:a.label(),description:o.label()}),{duration:300}),e.container().select(".more-fields .combobox-input").on("click.intro",function(){var P;P=window.setInterval(function(){e.container().select("div.combobox").empty()||(window.clearInterval(P),A(x))},300)})},300)},400),e.on("exit.intro",function(){return A(g)});function A(C){e.container().select(".inspector-wrap").on("wheel.intro",null),e.container().select(".more-fields .combobox-input").on("click.intro",null),e.on("exit.intro",null),C()}}function x(){if(!l||!e.hasEntity(l))return m();var k=e.selectedIDs();if(e.mode().id!=="select"||!k.length||k[0]!==l)return g();if(!e.container().select(".form-field-description").empty())return C(_);if(e.container().select("div.combobox").empty())return C(v);var A;A=window.setInterval(function(){e.container().select("div.combobox").empty()&&(window.clearInterval(A),c(function(){e.container().select(".form-field-description").empty()?C(y):C(_)},300))},300),t("div.combobox",we("intro.areas.choose_field",{field:o.label()}),{duration:300}),e.on("exit.intro",function(){return C(g)});function C(D){A&&window.clearInterval(A),e.on("exit.intro",null),D()}}function _(){if(!l||!e.hasEntity(l))return m();var k=e.selectedIDs();if(e.mode().id!=="select"||!k.length||k[0]!==l)return g();if(e.container().select(".inspector-wrap .panewrap").style("right","0%"),e.container().select(".form-field-description").empty())return A(y);e.on("exit.intro",function(){A(E)}),t(".entity-editor-pane",we("intro.areas.describe_playground",{button:je("#iD-icon-close","inline")}),{duration:300});function A(C){e.on("exit.intro",null),C()}}function y(){if(!l||!e.hasEntity(l))return m();var k=e.selectedIDs();if(e.mode().id!=="select"||!k.length||k[0]!==l)return g();e.container().select(".inspector-wrap .panewrap").style("right","0%"),t(".entity-editor-pane",we("intro.areas.retry_add_field",{field:o.label()}),{buttonText:F.html("intro.ok"),buttonCallback:function(){A(v)}}),e.on("exit.intro",function(){return A(g)});function A(C){e.on("exit.intro",null),C()}}function E(){r.call("done"),t(".ideditor",we("intro.areas.play",{next:F("intro.lines.title")}),{tooltipBox:".intro-nav-wrap .chapter-line",buttonText:F.html("intro.ok"),buttonCallback:function(){t(".ideditor")}})}return u.enter=function(){m()},u.exit=function(){s.forEach(window.clearTimeout),e.on("enter.intro exit.intro",null),e.map().on("move.intro drawn.intro",null),e.history().on("change.intro",null),e.container().select(".inspector-wrap").on("wheel.intro",null),e.container().select(".preset-search-input").on("keydown.intro keyup.intro",null),e.container().select(".more-fields .combobox-input").on("click.intro",null)},u.restart=function(){u.exit(),u.enter()},ke(u,r,"on")}function pw(e,t){var r=be("done"),n=[],i=null,a="w646",o=[-85.6297754121684,41.95805253325314],s=[-85.62975395449628,41.95787501510204],l=[-85.62974496187628,41.95742515554585],u=Ie.item("category-road_minor"),c=Ie.item("highway/residential"),d="w525",p="n2862",m=[-85.62390110349587,41.95397111462291],w=[-85.623867390213,41.95466987786487],b=[-85.62386254803509,41.95430395953872],h="w522",g="w1",v="n3550",x="n5",_=null,y=e.entity(v).loc,E=e.entity(x).loc,k=[-85.6219395542764,41.95228033922477],A=[-85.62219310052491,41.952505413152956],C={title:"intro.lines.title"};function D(Q,H){n.push(window.setTimeout(Q,H))}function S(Q){Q.stopPropagation(),Q.preventDefault()}function N(){e.enter(De(e)),e.history().reset("initial");var Q=mn(o,e.map().center());Q&&t(null,null,{duration:0}),e.map().centerZoomEase(o,18.5,Q),D(function(){var K=t("button.add-line",we("intro.lines.add_line"));K.selectAll(".popover-inner").insert("svg","span").attr("class","tooltip-illustration").append("use").attr("xlink:href","#iD-graphic-lines"),e.on("enter.intro",function(Z){Z.id==="add-line"&&H(R)})},Q+100);function H(K){e.on("enter.intro",null),K()}}function R(){if(e.mode().id!=="add-line")return C.restart();i=null;var Q=70*Math.pow(2,e.map().zoom()-18),H=ht(o,Q,e);H.height=H.height+100;var K=e.lastPointerType()==="mouse"?"start_line":"start_line_tap",Z=we("intro.lines.missing_road")+"{br}"+we("intro.lines.line_draw_info")+we("intro.lines."+K);t(H,Z),e.map().on("move.intro drawn.intro",function(){Q=70*Math.pow(2,e.map().zoom()-18),H=ht(o,Q,e),H.height=H.height+100,t(H,Z,{duration:0})}),e.on("enter.intro",function(fe){if(fe.id!=="draw-line")return C.restart();te(P)});function te(fe){e.map().on("move.intro drawn.intro",null),e.on("enter.intro",null),fe()}}function P(){if(e.mode().id!=="draw-line")return C.restart();i=e.mode().selectedIDs()[0],e.map().centerEase(s,500),D(function(){var H=200*Math.pow(2,e.map().zoom()-18.5),K=ht(s,H,e);K.height=K.height*2,t(K,we("intro.lines.intersect",{name:F("intro.graph.name.flower-street")})),e.map().on("move.intro drawn.intro",function(){H=200*Math.pow(2,e.map().zoom()-18.5),K=ht(s,H,e),K.height=K.height*2,t(K,we("intro.lines.intersect",{name:F("intro.graph.name.flower-street")}),{duration:0})})},550),e.history().on("change.intro",function(){L()&&Q(O)}),e.on("enter.intro",function(H){if(H.id!=="draw-line")if(H.id==="select"){Q(B);return}else return C.restart()});function Q(H){e.map().on("move.intro drawn.intro",null),e.history().on("change.intro",null),e.on("enter.intro",null),H()}}function L(){var Q=i&&e.hasEntity(i);if(!Q)return!1;var H=e.graph().childNodes(Q);return H.some(function(K){return e.graph().parentWays(K).some(function(Z){return Z.id===a})})}function B(){G(window).on("pointerdown.intro mousedown.intro",S,!0);var Q=ht(l,80,e);t(Q,we("intro.lines.retry_intersect",{name:F("intro.graph.name.flower-street")})),D(C.restart,3e3)}function O(){if(e.mode().id!=="draw-line")return C.restart();var Q=i&&e.hasEntity(i);if(!Q)return C.restart();e.map().centerEase(l,500);var H=we("intro.lines.continue_line")+"{br}"+we("intro.lines.finish_line_"+(e.lastPointerType()==="mouse"?"click":"tap"))+we("intro.lines.finish_road");t(".surface",H),e.on("enter.intro",function(Z){if(Z.id!=="draw-line")return Z.id==="select"?K(U):C.restart()});function K(Z){e.on("enter.intro",null),Z()}}function U(){if(e.mode().id!=="select")return C.restart();e.on("exit.intro",function(){return C.restart()});var Q=e.container().select(".preset-category-road_minor .preset-list-button");if(Q.empty())return C.restart();e.container().select(".inspector-wrap").on("wheel.intro",S),D(function(){e.container().select(".inspector-wrap .panewrap").style("right","-100%"),t(Q.node(),we("intro.lines.choose_category_road",{category:u.name()})),Q.on("click.intro",function(){H(T)})},400);function H(K){e.container().select(".inspector-wrap").on("wheel.intro",null),e.container().select(".preset-list-button").on("click.intro",null),e.on("exit.intro",null),K()}}function T(){if(e.mode().id!=="select")return C.restart();e.on("exit.intro",function(){return C.restart()});var Q=e.container().select(".preset-category-road_minor .subgrid");if(Q.empty())return C.restart();Q.selectAll(":not(.preset-highway-residential) .preset-list-button").on("click.intro",function(){H(M)}),Q.selectAll(".preset-highway-residential .preset-list-button").on("click.intro",function(){H(I)}),D(function(){t(Q.node(),we("intro.lines.choose_preset_residential",{preset:c.name()}),{tooltipBox:".preset-highway-residential .preset-list-button",duration:300})},300);function H(K){e.container().select(".preset-list-button").on("click.intro",null),e.on("exit.intro",null),K()}}function M(){if(e.mode().id!=="select")return C.restart();e.on("exit.intro",function(){return C.restart()}),e.container().select(".inspector-wrap").on("wheel.intro",S),D(function(){var H=e.container().select(".entity-editor-pane .preset-list-button");t(H.node(),we("intro.lines.retry_preset_residential",{preset:c.name()})),H.on("click.intro",function(){Q(U)})},500);function Q(H){e.container().select(".inspector-wrap").on("wheel.intro",null),e.container().select(".preset-list-button").on("click.intro",null),e.on("exit.intro",null),H()}}function I(){e.on("exit.intro",function(){Q(z)}),D(function(){t(".entity-editor-pane",we("intro.lines.name_road",{button:je("#iD-icon-close","inline")}),{tooltipClass:"intro-lines-name_road"})},500);function Q(H){e.on("exit.intro",null),H()}}function z(){e.history().checkpoint("doneAddLine"),D(function(){t(".surface",we("intro.lines.did_name_road"),{buttonText:F.html("intro.ok"),buttonCallback:function(){Q(q)}})},500);function Q(H){H()}}function q(){if(e.history().reset("doneAddLine"),!e.hasEntity(d)||!e.hasEntity(p))return C.restart();var Q=mn(b,e.map().center());Q&&t(null,null,{duration:0}),e.map().centerZoomEase(b,19,Q),D(function(){var K=250*Math.pow(2,e.map().zoom()-19),Z=ht(b,K,e),te=function(){H(V)};t(Z,we("intro.lines.update_line"),{buttonText:F.html("intro.ok"),buttonCallback:te}),e.map().on("move.intro drawn.intro",function(){var fe=250*Math.pow(2,e.map().zoom()-19),de=ht(b,fe,e);t(de,we("intro.lines.update_line"),{duration:0,buttonText:F.html("intro.ok"),buttonCallback:te})})},Q+100);function H(K){e.map().on("move.intro drawn.intro",null),K()}}function V(){if(e.history().reset("doneAddLine"),!e.hasEntity(d)||!e.hasEntity(p))return C.restart();var Q=40*Math.pow(2,e.map().zoom()-19),H=ht(m,Q,e),K=we("intro.lines.add_node"+(e.lastPointerType()==="mouse"?"":"_touch"));t(H,K),e.map().on("move.intro drawn.intro",function(){var te=40*Math.pow(2,e.map().zoom()-19),fe=ht(m,te,e);t(fe,K,{duration:0})}),e.history().on("change.intro",function(te){if(!e.hasEntity(d)||!e.hasEntity(p))return Z(q);te.created().length===1&&D(function(){Z(Y)},500)}),e.on("enter.intro",function(te){te.id!=="select"&&Z(q)});function Z(te){e.map().on("move.intro drawn.intro",null),e.history().on("change.intro",null),e.on("enter.intro",null),te()}}function Y(){if(!e.hasEntity(d)||!e.hasEntity(p))return Z(q);var Q=100*Math.pow(2,e.map().zoom()-19),H=ht(w,Q,e),K=we("intro.lines.start_drag_endpoint"+(e.lastPointerType()==="mouse"?"":"_touch"))+we("intro.lines.drag_to_intersection");t(H,K),e.map().on("move.intro drawn.intro",function(){if(!e.hasEntity(d)||!e.hasEntity(p))return Z(q);var te=100*Math.pow(2,e.map().zoom()-19),fe=ht(w,te,e);t(fe,K,{duration:0});var de=e.entity(p);bt(de.loc,w)<=4&&Z(ee)});function Z(te){e.map().on("move.intro drawn.intro",null),te()}}function ee(){if(!e.hasEntity(d)||!e.hasEntity(p))return Z(q);var Q=100*Math.pow(2,e.map().zoom()-19),H=ht(w,Q,e),K=we("intro.lines.spot_looks_good")+we("intro.lines.finish_drag_endpoint"+(e.lastPointerType()==="mouse"?"":"_touch"));t(H,K),e.map().on("move.intro drawn.intro",function(){if(!e.hasEntity(d)||!e.hasEntity(p))return Z(q);var te=100*Math.pow(2,e.map().zoom()-19),fe=ht(w,te,e);t(fe,K,{duration:0});var de=e.entity(p);bt(de.loc,w)>4&&Z(Y)}),e.on("enter.intro",function(){Z(ie)});function Z(te){e.map().on("move.intro drawn.intro",null),e.on("enter.intro",null),te()}}function ie(){if(!e.hasEntity(d)||!e.hasEntity(p))return K(q);e.selectedIDs().indexOf(d)===-1&&e.enter(Le(e,[d]));var Q=80*Math.pow(2,e.map().zoom()-19),H=ht(b,Q,e);t(H,we("intro.lines.start_drag_midpoint")),e.map().on("move.intro drawn.intro",function(){if(!e.hasEntity(d)||!e.hasEntity(p))return K(q);var Z=80*Math.pow(2,e.map().zoom()-19),te=ht(b,Z,e);t(te,we("intro.lines.start_drag_midpoint"),{duration:0})}),e.history().on("change.intro",function(Z){Z.created().length===1&&K(se)}),e.on("enter.intro",function(Z){Z.id!=="select"&&e.enter(Le(e,[d]))});function K(Z){e.map().on("move.intro drawn.intro",null),e.history().on("change.intro",null),e.on("enter.intro",null),Z()}}function se(){if(!e.hasEntity(d)||!e.hasEntity(p))return Z(q);var Q=100*Math.pow(2,e.map().zoom()-19),H=ht(w,Q,e);H.height+=400;var K=function(){e.history().checkpoint("doneUpdateLine"),Z(ve)};t(H,we("intro.lines.continue_drag_midpoint"),{buttonText:F.html("intro.ok"),buttonCallback:K}),e.map().on("move.intro drawn.intro",function(){if(!e.hasEntity(d)||!e.hasEntity(p))return Z(q);var te=100*Math.pow(2,e.map().zoom()-19),fe=ht(w,te,e);fe.height+=400,t(fe,we("intro.lines.continue_drag_midpoint"),{duration:0,buttonText:F.html("intro.ok"),buttonCallback:K})});function Z(te){e.map().on("move.intro drawn.intro",null),te()}}function ve(){if(e.history().reset("doneUpdateLine"),e.enter(De(e)),!e.hasEntity(h)||!e.hasEntity(g)||!e.hasEntity(v))return C.restart();var Q=mn(k,e.map().center());Q&&t(null,null,{duration:0}),e.map().centerZoomEase(k,18,Q),D(function(){var K=200*Math.pow(2,e.map().zoom()-18),Z=ht(k,K,e);Z.top-=200,Z.height+=400;var te=function(){H(le)};t(Z,we("intro.lines.delete_lines",{street:F("intro.graph.name.12th-avenue")}),{buttonText:F.html("intro.ok"),buttonCallback:te}),e.map().on("move.intro drawn.intro",function(){var fe=200*Math.pow(2,e.map().zoom()-18),de=ht(k,fe,e);de.top-=200,de.height+=400,t(de,we("intro.lines.delete_lines",{street:F("intro.graph.name.12th-avenue")}),{duration:0,buttonText:F.html("intro.ok"),buttonCallback:te})}),e.history().on("change.intro",function(){D(function(){H(ve)},500)})},Q+100);function H(K){e.map().on("move.intro drawn.intro",null),e.history().on("change.intro",null),K()}}function le(){e.history().reset("doneUpdateLine"),e.enter(De(e)),e.map().centerZoomEase(y,18,500);var Q=we("intro.lines.split_street",{street1:F("intro.graph.name.11th-avenue"),street2:F("intro.graph.name.washington-street")})+we("intro.lines."+(e.lastPointerType()==="mouse"?"rightclick_intersection":"edit_menu_intersection_touch"));D(function(){var K=60*Math.pow(2,e.map().zoom()-18),Z=ht(y,K,e);t(Z,Q),e.map().on("move.intro drawn.intro",function(){var te=60*Math.pow(2,e.map().zoom()-18),fe=ht(y,te,e);t(fe,Q,{duration:0})}),e.on("enter.intro",function(te){if(te.id==="select"){var fe=e.selectedIDs();fe.length!==1||fe[0]!==v||D(function(){var de=bn(e,"split").node();!de||H(re)},50)}}),e.history().on("change.intro",function(){D(function(){H(ve)},300)})},600);function H(K){e.map().on("move.intro drawn.intro",null),e.on("enter.intro",null),e.history().on("change.intro",null),K()}}function re(){if(!e.hasEntity(h)||!e.hasEntity(g)||!e.hasEntity(v))return K(ve);var Q=bn(e,"split").node();if(!Q)return K(le);var H=!1;_=null,t(".edit-menu",we("intro.lines.split_intersection",{street:F("intro.graph.name.washington-street")}),{padding:50}),e.map().on("move.intro drawn.intro",function(){var Z=bn(e,"split").node();if(!H&&!Z)return K(le);t(".edit-menu",we("intro.lines.split_intersection",{street:F("intro.graph.name.washington-street")}),{duration:0,padding:50})}),e.history().on("change.intro",function(Z){H=!0,D(function(){e.history().undoAnnotation()===F("operations.split.annotation.line",{n:1})?(_=Z.created()[0].id,K(ae)):(_=null,K(Ae))},300)});function K(Z){e.map().on("move.intro drawn.intro",null),e.history().on("change.intro",null),Z()}}function Ae(){e.enter(De(e)),e.map().centerZoomEase(y,18,500);var Q=function(){Z(le)},H=60*Math.pow(2,e.map().zoom()-18),K=ht(y,H,e);t(K,we("intro.lines.retry_split"),{buttonText:F.html("intro.ok"),buttonCallback:Q}),e.map().on("move.intro drawn.intro",function(){var te=60*Math.pow(2,e.map().zoom()-18),fe=ht(y,te,e);t(fe,we("intro.lines.retry_split"),{duration:0,buttonText:F.html("intro.ok"),buttonCallback:Q})});function Z(te){e.map().on("move.intro drawn.intro",null),te()}}function ae(){if(!_||!e.hasEntity(_)||!e.hasEntity(h)||!e.hasEntity(g)||!e.hasEntity(v))return fe(le);var Q=e.selectedIDs(),H="intro.lines.did_split_"+(Q.length>1?"multi":"single"),K=F("intro.graph.name.washington-street"),Z=200*Math.pow(2,e.map().zoom()-18),te=ht(A,Z,e);te.width=te.width/2,t(te,we(H,{street1:K,street2:K}),{duration:500}),D(function(){e.map().centerZoomEase(A,18,500),e.map().on("move.intro drawn.intro",function(){var de=200*Math.pow(2,e.map().zoom()-18),xe=ht(A,de,e);xe.width=xe.width/2,t(xe,we(H,{street1:K,street2:K}),{duration:0})})},600),e.on("enter.intro",function(){var de=e.selectedIDs();de.length===1&&de[0]===_&&fe(he)}),e.history().on("change.intro",function(){if(!_||!e.hasEntity(_)||!e.hasEntity(h)||!e.hasEntity(g)||!e.hasEntity(v))return fe(le)});function fe(de){e.map().on("move.intro drawn.intro",null),e.on("enter.intro",null),e.history().on("change.intro",null),de()}}function he(){if(!_||!e.hasEntity(_)||!e.hasEntity(h)||!e.hasEntity(g)||!e.hasEntity(v))return Z(le);var Q=e.selectedIDs(),H=Q.indexOf(_)!==-1,K=Q.indexOf(g)!==-1;if(H&&K)return Z(Ce);if(!H&&!K)return Z(ae);e.map().centerZoomEase(A,18,500),D(function(){var te,fe,de,xe;H?(te=F("intro.graph.name.washington-street"),fe=F("intro.graph.name.12th-avenue"),de=60*Math.pow(2,e.map().zoom()-18),xe=ht(E,de,e),xe.width*=3):(te=F("intro.graph.name.12th-avenue"),fe=F("intro.graph.name.washington-street"),de=200*Math.pow(2,e.map().zoom()-18),xe=ht(A,de,e),xe.width/=2),t(xe,we("intro.lines.multi_select",{selected:te,other1:fe})+" "+we("intro.lines.add_to_selection_"+(e.lastPointerType()==="mouse"?"click":"touch"),{selected:te,other2:fe})),e.map().on("move.intro drawn.intro",function(){H?(te=F("intro.graph.name.washington-street"),fe=F("intro.graph.name.12th-avenue"),de=60*Math.pow(2,e.map().zoom()-18),xe=ht(E,de,e),xe.width*=3):(te=F("intro.graph.name.12th-avenue"),fe=F("intro.graph.name.washington-street"),de=200*Math.pow(2,e.map().zoom()-18),xe=ht(A,de,e),xe.width/=2),t(xe,we("intro.lines.multi_select",{selected:te,other1:fe})+" "+we("intro.lines.add_to_selection_"+(e.lastPointerType()==="mouse"?"click":"touch"),{selected:te,other2:fe}),{duration:0})}),e.on("enter.intro",function(){Z(he)}),e.history().on("change.intro",function(){if(!_||!e.hasEntity(_)||!e.hasEntity(h)||!e.hasEntity(g)||!e.hasEntity(v))return Z(le)})},600);function Z(te){e.map().on("move.intro drawn.intro",null),e.on("enter.intro",null),e.history().on("change.intro",null),te()}}function Ce(){if(!_||!e.hasEntity(_)||!e.hasEntity(h)||!e.hasEntity(g)||!e.hasEntity(v))return Z(le);var Q=200*Math.pow(2,e.map().zoom()-18),H=ht(A,Q,e),K=we("intro.lines.multi_select_success")+we("intro.lines.multi_"+(e.lastPointerType()==="mouse"?"rightclick":"edit_menu_touch"));t(H,K),e.map().on("move.intro drawn.intro",function(){var te=200*Math.pow(2,e.map().zoom()-18),fe=ht(A,te,e);t(fe,K,{duration:0})}),e.ui().editMenu().on("toggled.intro",function(te){!te||D(function(){var fe=e.selectedIDs();if(fe.length===2&&fe.indexOf(g)!==-1&&fe.indexOf(_)!==-1){var de=bn(e,"delete").node();if(!de)return;Z(Te)}else return fe.length===1&&fe.indexOf(_)!==-1?Z(he):Z(ae)},300)}),e.history().on("change.intro",function(){if(!_||!e.hasEntity(_)||!e.hasEntity(h)||!e.hasEntity(g)||!e.hasEntity(v))return Z(le)});function Z(te){e.map().on("move.intro drawn.intro",null),e.ui().editMenu().on("toggled.intro",null),e.history().on("change.intro",null),te()}}function Te(){if(!_||!e.hasEntity(_)||!e.hasEntity(h)||!e.hasEntity(g)||!e.hasEntity(v))return H(le);var Q=bn(e,"delete").node();if(!Q)return H(Ce);t(".edit-menu",we("intro.lines.multi_delete"),{padding:50}),e.map().on("move.intro drawn.intro",function(){t(".edit-menu",we("intro.lines.multi_delete"),{duration:0,padding:50})}),e.on("exit.intro",function(){if(e.hasEntity(_)||e.hasEntity(g))return H(he)}),e.history().on("change.intro",function(){e.hasEntity(_)||e.hasEntity(g)?H($):H(W)});function H(K){e.map().on("move.intro drawn.intro",null),e.on("exit.intro",null),e.history().on("change.intro",null),K()}}function $(){e.enter(De(e));var Q=200*Math.pow(2,e.map().zoom()-18),H=ht(A,Q,e);t(H,we("intro.lines.retry_delete"),{buttonText:F.html("intro.ok"),buttonCallback:function(){K(he)}});function K(Z){Z()}}function W(){r.call("done"),t(".ideditor",we("intro.lines.play",{next:F("intro.buildings.title")}),{tooltipBox:".intro-nav-wrap .chapter-building",buttonText:F.html("intro.ok"),buttonCallback:function(){t(".ideditor")}})}return C.enter=function(){N()},C.exit=function(){n.forEach(window.clearTimeout),G(window).on("pointerdown.intro mousedown.intro",null,!0),e.on("enter.intro exit.intro",null),e.map().on("move.intro drawn.intro",null),e.history().on("change.intro",null),e.container().select(".inspector-wrap").on("wheel.intro",null),e.container().select(".preset-list-button").on("click.intro",null)},C.restart=function(){C.exit(),C.enter()},ke(C,r,"on")}function mw(e,t){var r=be("done"),n=[-85.62815,41.95638],i=[-85.62732,41.95347],a=Ie.item("category-building"),o=Ie.item("building/house"),s=Ie.item("man_made/storage_tank"),l=[],u=null,c=null,d={title:"intro.buildings.title"};function p(M,I){l.push(window.setTimeout(M,I))}function m(M){M.stopPropagation(),M.preventDefault()}function w(M,I,z){var q=160*Math.pow(2,e.map().zoom()-20),V=ht(M,q,e);t(V,I,z)}function b(M,I,z){var q=190*Math.pow(2,e.map().zoom()-19.5),V=ht(M,q,e);t(V,I,z)}function h(){e.enter(De(e)),e.history().reset("initial"),u=null;var M=mn(n,e.map().center());M&&t(null,null,{duration:0}),e.map().centerZoomEase(n,19,M),p(function(){var z=t("button.add-area",we("intro.buildings.add_building"));z.selectAll(".popover-inner").insert("svg","span").attr("class","tooltip-illustration").append("use").attr("xlink:href","#iD-graphic-buildings"),e.on("enter.intro",function(q){q.id==="add-area"&&I(g)})},M+100);function I(z){e.on("enter.intro",null),z()}}function g(){if(e.mode().id!=="add-area")return M(h);u=null,e.map().zoomEase(20,500),p(function(){var I=we("intro.buildings.start_building")+we("intro.buildings.building_corner_"+(e.lastPointerType()==="mouse"?"click":"tap"));w(n,I),e.map().on("move.intro drawn.intro",function(){w(n,I,{duration:0})}),e.on("enter.intro",function(z){if(z.id!=="draw-area")return d.restart();M(v)})},550);function M(I){e.map().on("move.intro drawn.intro",null),e.on("enter.intro",null),I()}}function v(){if(e.mode().id!=="draw-area")return I(h);u=null;var M=we("intro.buildings.continue_building")+"{br}"+we("intro.areas.finish_area_"+(e.lastPointerType()==="mouse"?"click":"tap"))+we("intro.buildings.finish_building");w(n,M),e.map().on("move.intro drawn.intro",function(){w(n,M,{duration:0})}),e.on("enter.intro",function(z){if(z.id!=="draw-area")if(z.id==="select"){var q=e.graph(),V=e.entity(e.selectedIDs()[0]),Y=q.childNodes(V),ee=Ve(Y).map(function(ie){return e.projection(ie.loc)});return Yb(ee)?(u=V.id,I(_)):I(x)}else return d.restart()});function I(z){e.map().on("move.intro drawn.intro",null),e.on("enter.intro",null),z()}}function x(){var M=function(){I(h)};w(n,we("intro.buildings.retry_building"),{buttonText:F.html("intro.ok"),buttonCallback:M}),e.map().on("move.intro drawn.intro",function(){w(n,we("intro.buildings.retry_building"),{duration:0,buttonText:F.html("intro.ok"),buttonCallback:M})});function I(z){e.map().on("move.intro drawn.intro",null),z()}}function _(){if(!u||!e.hasEntity(u))return h();var M=e.selectedIDs();(e.mode().id!=="select"||!M.length||M[0]!==u)&&e.enter(Le(e,[u])),e.container().select(".inspector-wrap").on("wheel.intro",m),p(function(){e.container().select(".inspector-wrap .panewrap").style("right","-100%");var z=e.container().select(".preset-category-building .preset-list-button");t(z.node(),we("intro.buildings.choose_category_building",{category:a.name()})),z.on("click.intro",function(){z.on("click.intro",null),I(y)})},400),e.on("enter.intro",function(z){if(!u||!e.hasEntity(u))return I(h);var q=e.selectedIDs();if(z.id!=="select"||!q.length||q[0]!==u)return I(_)});function I(z){e.container().select(".inspector-wrap").on("wheel.intro",null),e.container().select(".preset-list-button").on("click.intro",null),e.on("enter.intro",null),z()}}function y(){if(!u||!e.hasEntity(u))return h();var M=e.selectedIDs();(e.mode().id!=="select"||!M.length||M[0]!==u)&&e.enter(Le(e,[u])),e.container().select(".inspector-wrap").on("wheel.intro",m),p(function(){e.container().select(".inspector-wrap .panewrap").style("right","-100%");var z=e.container().select(".preset-building-house .preset-list-button");t(z.node(),we("intro.buildings.choose_preset_house",{preset:o.name()}),{duration:300}),z.on("click.intro",function(){z.on("click.intro",null),I(E)})},400),e.on("enter.intro",function(z){if(!u||!e.hasEntity(u))return I(h);var q=e.selectedIDs();if(z.id!=="select"||!q.length||q[0]!==u)return I(_)});function I(z){e.container().select(".inspector-wrap").on("wheel.intro",null),e.container().select(".preset-list-button").on("click.intro",null),e.on("enter.intro",null),z()}}function E(){if(!u||!e.hasEntity(u))return h();var M=e.selectedIDs();(e.mode().id!=="select"||!M.length||M[0]!==u)&&e.enter(Le(e,[u])),e.history().checkpoint("hasHouse"),e.on("exit.intro",function(){I(k)}),p(function(){t(".entity-editor-pane",we("intro.buildings.close",{button:je("#iD-icon-close","inline")}))},500);function I(z){e.on("exit.intro",null),z()}}function k(){if(!u)return d.restart();e.enter(De(e)),e.history().reset("hasHouse");var M=e.map().zoom();M<20&&(M=20),e.map().centerZoomEase(n,M,500),e.on("enter.intro",function(z){if(z.id==="select"){var q=e.selectedIDs();q.length!==1||q[0]!==u||p(function(){var V=bn(e,"orthogonalize").node();!V||I(A)},50)}}),e.map().on("move.intro drawn.intro",function(){var z=we("intro.buildings."+(e.lastPointerType()==="mouse"?"rightclick_building":"edit_menu_building_touch"));w(n,z,{duration:0})}),e.history().on("change.intro",function(){I(k)});function I(z){e.on("enter.intro",null),e.map().on("move.intro drawn.intro",null),e.history().on("change.intro",null),z()}}function A(){if(!u)return d.restart();var M=e.hasEntity(u);if(!M)return q(k);var I=bn(e,"orthogonalize").node();if(!I)return q(k);var z=!1;t(".edit-menu",we("intro.buildings.square_building"),{padding:50}),e.on("enter.intro",function(V){V.id==="browse"?q(k):(V.id==="move"||V.id==="rotate")&&q(C)}),e.map().on("move.intro",function(){var V=bn(e,"orthogonalize").node();if(!z&&!V)return q(k);t(".edit-menu",we("intro.buildings.square_building"),{duration:0,padding:50})}),e.history().on("change.intro",function(){z=!0,e.history().on("change.intro",null),p(function(){e.history().undoAnnotation()===F("operations.orthogonalize.annotation.feature",{n:1})?q(D):q(C)},500)});function q(V){e.on("enter.intro",null),e.map().on("move.intro",null),e.history().on("change.intro",null),V()}}function C(){e.enter(De(e)),w(n,we("intro.buildings.retry_square"),{buttonText:F.html("intro.ok"),buttonCallback:function(){M(k)}});function M(I){I()}}function D(){e.history().checkpoint("doneSquare"),w(n,we("intro.buildings.done_square"),{buttonText:F.html("intro.ok"),buttonCallback:function(){M(S)}});function M(I){I()}}function S(){e.enter(De(e)),e.history().reset("doneSquare"),c=null;var M=mn(i,e.map().center());M&&t(null,null,{duration:0}),e.map().centerZoomEase(i,19.5,M),p(function(){t("button.add-area",we("intro.buildings.add_tank")),e.on("enter.intro",function(z){z.id==="add-area"&&I(N)})},M+100);function I(z){e.on("enter.intro",null),z()}}function N(){if(e.mode().id!=="add-area")return M(S);c=null,p(function(){var I=we("intro.buildings.start_tank")+we("intro.buildings.tank_edge_"+(e.lastPointerType()==="mouse"?"click":"tap"));b(i,I),e.map().on("move.intro drawn.intro",function(){b(i,I,{duration:0})}),e.on("enter.intro",function(z){if(z.id!=="draw-area")return d.restart();M(R)})},550);function M(I){e.map().on("move.intro drawn.intro",null),e.on("enter.intro",null),I()}}function R(){if(e.mode().id!=="draw-area")return I(S);c=null;var M=we("intro.buildings.continue_tank")+"{br}"+we("intro.areas.finish_area_"+(e.lastPointerType()==="mouse"?"click":"tap"))+we("intro.buildings.finish_tank");b(i,M),e.map().on("move.intro drawn.intro",function(){b(i,M,{duration:0})}),e.on("enter.intro",function(z){if(z.id!=="draw-area")return z.id==="select"?(c=e.selectedIDs()[0],I(P)):I(S)});function I(z){e.map().on("move.intro drawn.intro",null),e.on("enter.intro",null),z()}}function P(){if(!c||!e.hasEntity(c))return S();var M=e.selectedIDs();(e.mode().id!=="select"||!M.length||M[0]!==c)&&e.enter(Le(e,[c])),e.container().select(".inspector-wrap").on("wheel.intro",m),p(function(){e.container().select(".inspector-wrap .panewrap").style("right","-100%"),e.container().select(".preset-search-input").on("keydown.intro",null).on("keyup.intro",I),t(".preset-search-input",we("intro.buildings.search_tank",{preset:s.name()}))},400),e.on("enter.intro",function(q){if(!c||!e.hasEntity(c))return z(S);var V=e.selectedIDs();(q.id!=="select"||!V.length||V[0]!==c)&&(e.enter(Le(e,[c])),e.container().select(".inspector-wrap .panewrap").style("right","-100%"),e.container().select(".inspector-wrap").on("wheel.intro",m),e.container().select(".preset-search-input").on("keydown.intro",null).on("keyup.intro",I),t(".preset-search-input",we("intro.buildings.search_tank",{preset:s.name()})),e.history().on("change.intro",null))});function I(){var q=e.container().select(".preset-list-item:first-child");q.classed("preset-man_made-storage_tank")&&(t(q.select(".preset-list-button").node(),we("intro.buildings.choose_tank",{preset:s.name()}),{duration:300}),e.container().select(".preset-search-input").on("keydown.intro",m,!0).on("keyup.intro",null),e.history().on("change.intro",function(){z(L)}))}function z(q){e.container().select(".inspector-wrap").on("wheel.intro",null),e.on("enter.intro",null),e.history().on("change.intro",null),e.container().select(".preset-search-input").on("keydown.intro keyup.intro",null),q()}}function L(){if(!c||!e.hasEntity(c))return S();var M=e.selectedIDs();(e.mode().id!=="select"||!M.length||M[0]!==c)&&e.enter(Le(e,[c])),e.history().checkpoint("hasTank"),e.on("exit.intro",function(){I(B)}),p(function(){t(".entity-editor-pane",we("intro.buildings.close",{button:je("#iD-icon-close","inline")}))},500);function I(z){e.on("exit.intro",null),z()}}function B(){if(!c)return M(S);e.enter(De(e)),e.history().reset("hasTank"),e.map().centerEase(i,500),p(function(){e.on("enter.intro",function(z){if(z.id==="select"){var q=e.selectedIDs();q.length!==1||q[0]!==c||p(function(){var V=bn(e,"circularize").node();!V||M(O)},50)}});var I=we("intro.buildings."+(e.lastPointerType()==="mouse"?"rightclick_tank":"edit_menu_tank_touch"));b(i,I),e.map().on("move.intro drawn.intro",function(){b(i,I,{duration:0})}),e.history().on("change.intro",function(){M(B)})},600);function M(I){e.on("enter.intro",null),e.map().on("move.intro drawn.intro",null),e.history().on("change.intro",null),I()}}function O(){if(!c)return d.restart();var M=e.hasEntity(c);if(!M)return q(B);var I=bn(e,"circularize").node();if(!I)return q(B);var z=!1;t(".edit-menu",we("intro.buildings.circle_tank"),{padding:50}),e.on("enter.intro",function(V){V.id==="browse"?q(B):(V.id==="move"||V.id==="rotate")&&q(U)}),e.map().on("move.intro",function(){var V=bn(e,"circularize").node();if(!z&&!V)return q(B);t(".edit-menu",we("intro.buildings.circle_tank"),{duration:0,padding:50})}),e.history().on("change.intro",function(){z=!0,e.history().on("change.intro",null),p(function(){e.history().undoAnnotation()===F("operations.circularize.annotation.feature",{n:1})?q(T):q(U)},500)});function q(V){e.on("enter.intro",null),e.map().on("move.intro",null),e.history().on("change.intro",null),V()}}function U(){e.enter(De(e)),b(i,we("intro.buildings.retry_circle"),{buttonText:F.html("intro.ok"),buttonCallback:function(){M(B)}});function M(I){I()}}function T(){r.call("done"),t(".ideditor",we("intro.buildings.play",{next:F("intro.rapid.title")}),{tooltipBox:".intro-nav-wrap .chapter-rapid",buttonText:F.html("intro.ok"),buttonCallback:function(){t(".ideditor")}})}return d.enter=function(){h()},d.exit=function(){l.forEach(window.clearTimeout),e.on("enter.intro exit.intro",null),e.map().on("move.intro drawn.intro",null),e.history().on("change.intro",null),e.container().select(".inspector-wrap").on("wheel.intro",null),e.container().select(".preset-search-input").on("keydown.intro keyup.intro",null),e.container().select(".more-fields .combobox-input").on("click.intro",null)},d.restart=function(){d.exit(),d.enter()},ke(d,r,"on")}function hw(e,t){var r=be("done","startEditing"),n=G(null),i={title:"intro.startediting.title"};function a(){t(".map-control.help-control",we("intro.startediting.help"),{buttonText:F.html("intro.ok"),buttonCallback:function(){o()}})}function o(){t(".map-control.help-control",we("intro.startediting.shortcuts"),{buttonText:F.html("intro.ok"),buttonCallback:function(){s()}})}function s(){e.container().selectAll(".shaded").remove(),t(".top-toolbar button.save",we("intro.startediting.save"),{buttonText:F.html("intro.ok"),buttonCallback:function(){l()}})}function l(){e.container().selectAll(".shaded").remove(),n=wr(e.container()),n.select(".modal").attr("class","modal-splash modal"),n.selectAll(".close").remove();var u=n.select(".content").attr("class","fillL").append("button").attr("class","modal-section huge-modal-button").on("click",function(){n.remove()});u.append("svg").attr("class","illustration").append("use").attr("xlink:href","#iD-logo-walkthrough"),u.append("h2").html(F.html("intro.startediting.start")),r.call("startEditing")}return i.enter=function(){a()},i.exit=function(){n.remove(),e.container().selectAll(".shaded").remove()},ke(i,r,"on")}var gw=Xe(da());function vw(e,t){var r=be("done"),n={title:"intro.rapid.title"},i=[],a=[-85.6297512,41.9561476],o=[-85.6281089,41.9561288],s=[-85.627267,41.955878];function l(S,N){i.push(window.setTimeout(S,N))}function u(){var S=70*Math.pow(2,e.map().zoom()-18),N=ht(s,S,e);return N.height=N.height+65,N.width=N.width+65,N}function c(){var S=70*Math.pow(2,e.map().zoom()-18),N=ht(a,S,e);return N.height=N.height+65,N.width=N.width+600,N}function d(S){S.stopPropagation(),S.preventDefault()}function p(){e.layers().layer("ai-features").enabled(!0),e.enter(De(e)),e.history().reset("initial"),t(".intro-nav-wrap .chapter-rapid",F("intro.rapid.start",{rapid:je("#iD-logo-rapid","pre-text")}),{buttonText:F("intro.ok"),buttonCallback:m})}function m(){var S=mn(o,e.map().center());S&&t(null,null,{duration:0}),e.map().centerZoomEase(o,18.5,S),t("button.rapid-features",F("intro.rapid.ai_roads",{rapid:je("#iD-logo-rapid","pre-text")}),{buttonText:F("intro.ok"),buttonCallback:w})}function w(){e.layers().layer("ai-features").enabled(!0),G(".inspector-wrap").on("wheel.intro",d),t(c(),F("intro.rapid.select_road")),l(function(){var S=G(".data-layer.ai-features");S.on("click.intro",b)},250)}function b(){l(function(){t(".rapid-inspector-choice-accept",F("intro.rapid.add_road"));var S=G(".choice-button-accept");S.on("click.intro",h)},250)}function h(){if(e.mode().id!=="select")return n.restart();l(function(){t(c(),F("intro.rapid.add_road_not_saved_yet",{rapid:je("#iD-logo-rapid","pre-text")}),{buttonText:F("intro.ok"),buttonCallback:g})},250)}function g(){if(e.mode().id!=="select")return n.restart();var S=G("li.issue-list-item.actionable > button");S.on("click.intro",function(){return N(v)}),l(function(){t("div.issue.severity-warning",F("intro.rapid.new_lints"),{buttonText:F("intro.ok"),buttonCallback:v})},250);function N(R){S.on("click.intro",null),R()}}function v(){if(e.mode().id!=="select")return n.restart();var S=G("li.issue-fix-item.actionable");S.on("click.intro",function(){return N(x)}),l(function(){t("li.issue-fix-item.actionable",F("intro.rapid.fix_lint",{connect:je("#iD-icon-crossing","pre-text")}))},250);function N(R){S.on("click.intro",null),R()}}function x(){if(e.mode().id!=="select")return n.restart();l(function(){t(u(),F("intro.rapid.fixed_lint"),{buttonText:F("intro.ok"),buttonCallback:_})},250)}function _(){if(e.mode().id!=="select")return n.restart();l(function(){var S=G(".top-toolbar button.undo-button"),N="#iD-icon-undo";t(".top-toolbar button.undo-button",F("intro.rapid.undo_fix_lint",{button:je(N,"pre-text")})),S.on("click.intro",y)},250)}function y(){if(e.mode().id!=="select")return n.restart();l(function(){var S=G(".top-toolbar button.undo-button"),N="#iD-icon-undo";t(".top-toolbar button.undo-button",F("intro.rapid.undo_road_add",{button:je(N,"pre-text")})),S.on("click.intro",E)},250)}function E(){l(function(){t(c(),F("intro.rapid.undo_road_add_aftermath"),{buttonText:F("intro.ok"),buttonCallback:k})},250)}function k(){l(function(){t(c(),F("intro.rapid.select_road_again"));var S=G(".data-layer.ai-features");S.on("click.intro",A)},250)}function A(){l(function(){t(".rapid-inspector-choice-ignore",F("intro.rapid.ignore_road"));var S=G(".choice-button-ignore");S.on("click.intro",C)},250)}function C(){t(".map-control.help-control",F("intro.rapid.help",{rapid:je("#iD-logo-rapid","pre-text"),button:je("#iD-icon-help","pre-text"),key:F("help.key")}),{buttonText:F("intro.ok"),buttonCallback:D})}function D(){if(e.mode().id!=="browse")return n.restart();r.call("done"),t(".intro-nav-wrap .chapter-startEditing",(0,gw.default)(F("intro.rapid.done",{next:F("intro.startediting.title")})))}return n.enter=function(){p()},n.exit=function(){i.forEach(window.clearTimeout),G(window).on("mousedown.intro-rapid",null,!0),e.on("enter.intro-rapid exit.intro-rapid",null),e.map().on("move.intro-rapid drawn.intro-rapid",null),e.history().on("change.intro-rapid",null),G(".inspector-wrap").on("wheel.intro-rapid",null),G(".preset-list-button").on("click.intro-rapid",null)},n.restart=function(){n.exit(),n.enter()},ke(n,r,"on")}var SO={welcome:uw,navigation:cw,point:fw,area:dw,line:pw,building:mw,rapid:vw,startEditing:hw},E0=["welcome","navigation","point","area","line","building","rapid","startEditing"];function No(e,t){var r="EsriWorldImageryClarity",n={},i={},a;function o(l){Promise.all([Je.get("intro_rapid_graph"),Je.get("intro_graph")]).then(function(u){var c=u[0],d=u[1];for(var p in c)i[p]||(i[p]=Me(C8(c[p])));for(var m in d)n[m]||(n[m]=Me(C8(d[m])));l.call(s,t)})}function s(l){e.enter(De(e));var u=e.connection(),c=e.history().toJSON(),d=window.location.hash,p=e.map().center(),m=e.map().zoom(),w=e.background().baseLayerSource(),b=e.background().overlayLayerSources(),h=e.container().selectAll(".main-map .layer-background").style("opacity"),g=u&&u.caches(),v=e.history().graph().base().entities;e.ui().sidebar.expand(),e.container().selectAll("button.sidebar-toggle").classed("disabled",!0),e.inIntro(!0),u&&u.toggle(!1).reset(),e.history().reset(),e.history().merge(Object.values(dr().load(n).entities)),e.history().checkpoint("initial");var x=e.background().findSource(r);x?e.background().baseLayerSource(x):e.background().bing(),b.forEach(function(B){return e.background().toggleOverlayLayer(B)});var _=e.layers();_.all().forEach(function(B){typeof B.layer.enabled=="function"&&B.layer.enabled(B.id==="osm"||B.id==="ai-features")});var y=e.rapidContext().datasets(),E=JSON.parse(JSON.stringify(y));if(Object.keys(y).forEach(function(B){return y[B].enabled=!1}),y.rapid_intro_graph={id:"rapid_intro_graph",beta:!1,added:!0,enabled:!0,conflated:!1,service:"fbml",color:"#da26d3",label:"RapiD Walkthrough"},ue.fbMLRoads){ue.fbMLRoads.toggle(!1);var k=Object.values(dr().load(i).entities);ue.fbMLRoads.merge("rapid_intro_graph",k)}e.container().selectAll(".main-map .layer-background").style("opacity",1);var A=T5(e.container().node());l.call(A),pe("walkthrough_started","yes");var C=pe("walkthrough_progress")||"",D=C.split(";").filter(Boolean),S=E0.map(function(B,O){var U=SO[B](e,A.reveal).on("done",function(){if(P.filter(function(M){return M.title===U.title}).classed("finished",!0),O<E0.length-1){var T=E0[O+1];e.container().select("button.chapter-".concat(T)).classed("next",!0)}D.push(B),pe("walkthrough_progress",Ve(D).join(";"))});return U});S[S.length-1].on("startEditing",function(){D.push("startEditing"),pe("walkthrough_progress",Ve(D).join(";"));var B=vr(E0,D);B.length||pe("walkthrough_completed","yes");var O=e.rapidContext().datasets();delete O.rapid_intro_graph,Object.keys(E).forEach(function(U){return O[U].enabled=E[U].enabled}),Object.assign(O,E),ue.fbMLRoads&&ue.fbMLRoads.toggle(!0),A.remove(),N.remove(),e.container().selectAll(".main-map .layer-background").style("opacity",h),e.container().selectAll("button.sidebar-toggle").classed("disabled",!1),u&&u.toggle(!0).reset().caches(g),e.history().reset().merge(Object.values(v)),e.background().baseLayerSource(w),b.forEach(function(U){return e.background().toggleOverlayLayer(U)}),c&&e.history().fromJSON(c,!1),e.map().centerZoom(p,m),window.location.replace(d),e.inIntro(!1)});var N=l.append("div").attr("class","intro-nav-wrap fillD");N.append("svg").attr("class","intro-nav-wrap-logo").append("use").attr("xlink:href","#iD-logo-walkthrough");var R=N.append("div").attr("class","joined").selectAll("button.chapter"),P=R.data(S).enter().append("button").attr("class",function(B,O){return"chapter chapter-".concat(E0[O])}).on("click",L);P.append("span").html(function(B){return F.html(B.title)}),P.append("span").attr("class","status").call(ce(_e.textDirection()==="rtl"?"#iD-icon-backward":"#iD-icon-forward","inline")),L(null,S[t?6:0]);function L(B,O){a&&a.exit(),e.enter(De(e)),a=O,a.enter(),P.classed("next",!1).classed("active",function(U){return U.title===a.title})}}return o}function yw(e){return function(t){if(!e.history().hasRestorableChanges()){var r="",n=pe("sawPrivacyVersion"),i=!pe("sawSplash");if(n!==e.privacyVersion&&(r=F("splash.privacy_update"),i=!0),!!i){pe("sawSplash",!0),pe("sawPrivacyVersion",e.privacyVersion),Je.get("intro_graph");var a=wr(t);a.select(".modal").attr("class","modal-splash modal");var o=a.select(".content").append("div").attr("class","fillL");o.append("div").attr("class","modal-section").append("h3").html(F.html("splash.welcome"));var s=o.append("div").attr("class","modal-section");s.append("p").html(F.html("splash.text",{version:e.version,website:'<a target="_blank" href="https://github.com/openstreetmap/iD/blob/develop/CHANGELOG.md#whats-new">changelog</a>',github:'<a target="_blank" href="https://github.com/openstreetmap/iD/issues">github.com</a>'})),s.append("p").html(F.html("splash.privacy",{updateMessage:r,privacyLink:'<a target="_blank" href="https://github.com/openstreetmap/iD/blob/release/PRIVACY.md">'+F("splash.privacy_policy")+"</a>"}));var l=o.append("div").attr("class","modal-actions"),u=l.append("button").attr("class","walkthrough").on("click",function(){e.container().call(No(e)),a.close()});u.append("svg").attr("class","logo logo-walkthrough").append("use").attr("xlink:href","#iD-logo-walkthrough"),u.append("div").html(F.html("splash.walkthrough"));var c=l.append("button").attr("class","start-editing").on("click",a.close);c.append("svg").attr("class","logo logo-features").append("use").attr("xlink:href","#iD-logo-features"),c.append("div").html(F.html("splash.start")),a.select("button.close").attr("class","hide")}}}}function Z5(e){var t=e.connection();return function(r){if(!t)return;function n(i,a){if(r.html(""),i){if(a==="connectionSwitched")return;if(a==="rateLimited")r.html(F.html("osm_api_status.message.rateLimit")).append("a").attr("href","#").attr("class","api-status-login").attr("target","_blank").call(ce("#iD-icon-out-link","inline")).append("span").html(F.html("login")).on("click.login",function(s){s.preventDefault(),t.authenticate()});else{var o=Et(function(){e.loadTiles(e.projection),t.reloadApiStatus()},2e3);r.html(F.html("osm_api_status.message.error")+" ").append("a").attr("href","#").html(F.html("osm_api_status.retry")).on("click.retry",function(s){s.preventDefault(),o()})}}else a==="readonly"?r.html(F.html("osm_api_status.message.readonly")):a==="offline"&&r.html(F.html("osm_api_status.message.offline"));r.attr("class","api-status "+(i?"error":a))}t.on("apiStatusChange.uiStatus",n),e.history().on("storage_error",function(){r.html(F.html("osm_api_status.message.local_storage_full")),r.attr("class","api-status error")}),window.setInterval(function(){t.reloadApiStatus()},9e4),t.reloadApiStatus()}}var bw=null,L8=!1,j8=!1;function X5(e){var t=e.rapidContext().version,r=t.match(/\d+\.\d+\.\d+.*/);return bw===null&&r!==null&&(pe("sawVersion")?(j8=!1,L8=pe("sawVersion")!==t&&t.indexOf("-")===-1):(j8=!0,L8=!0),pe("sawVersion",t),bw=t),function(n){n.append("a").attr("target","_blank").attr("tabindex",-1).attr("href","https://github.com/facebookincubator/RapiD").text(t),L8&&!j8&&n.append("a").attr("class","badge").attr("target","_blank").attr("tabindex",-1).attr("href","https://github.com/facebookincubator/RapiD/blob/main/CHANGELOG.md").call(ce("#maki-gift-11")).call(Pe().title(F.html("version.whats_new",{version:t})).placement("top").scrollContainer(e.container().select(".main-footer-wrap")))}}function $5(e){var t=[{id:"zoom-in",icon:"iD-icon-plus",title:F.html("zoom.in"),action:r,disabled:function(){return!e.map().canZoomIn()},disabledTitle:F.html("zoom.disabled.in"),key:"+"},{id:"zoom-out",icon:"iD-icon-minus",title:F.html("zoom.out"),action:n,disabled:function(){return!e.map().canZoomOut()},disabledTitle:F.html("zoom.disabled.out"),key:"-"}];function r(o){o.shiftKey||(o.preventDefault(),e.map().zoomIn())}function n(o){o.shiftKey||(o.preventDefault(),e.map().zoomOut())}function i(o){o.shiftKey||(o.preventDefault(),e.map().zoomInFurther())}function a(o){o.shiftKey||(o.preventDefault(),e.map().zoomOutFurther())}return function(o){var s=Pe().placement(_e.textDirection()==="rtl"?"right":"left").title(function(d){return d.disabled()?d.disabledTitle:d.title}).keys(function(d){return[d.key]}),l,u=o.selectAll("button").data(t).enter().append("button").attr("class",function(d){return d.id}).on("pointerup.editor",function(d){l=d.pointerType}).on("click.editor",function(d,p){p.disabled()?(l==="touch"||l==="pen")&&e.ui().flash.duration(2e3).iconName("#"+p.icon).iconClass("disabled").label(p.disabledTitle)():p.action(d),l=null}).call(s);u.each(function(d){G(this).call(ce("#"+d.icon,"light"))}),Re.plusKeys.forEach(function(d){e.keybinding().on([d],r),e.keybinding().on([qe("\u2325"+d)],i)}),Re.minusKeys.forEach(function(d){e.keybinding().on([d],n),e.keybinding().on([qe("\u2325"+d)],a)});function c(){u.classed("disabled",function(d){return d.disabled()}).each(function(){var d=G(this);d.select(".tooltip.in").empty()||d.call(s.updateContent)})}c(),e.map().on("move.uiZoom",c)}}function J5(e,t){var r=e.rapidContext(),n=be("change","done"),i=function(){};function a(c){var d=e.container().selectAll(".shaded");d.empty()||(d.selectAll(".colorpicker-popup").size()?i():u(d,c.currentTarget))}function o(c){var d=c.target,p=d&&d.className||"";/colorpicker/i.test(p)||(c.stopPropagation(),c.preventDefault(),i())}function s(c){var d=c.length<6,p=parseInt(d?c[1]+c[1]:c[1]+c[2],16),m=parseInt(d?c[2]+c[2]:c[3]+c[4],16),w=parseInt(d?c[3]+c[3]:c[5]+c[6],16);return(p*299+m*587+w*114)/1e3}function l(c){var d=c.selectAll(".rapid-colorpicker").data(function(m){return[m]},function(m){return m.id}),p=d.enter().append("div").attr("class","rapid-colorpicker").on("click",a);p.append("div").attr("class","rapid-colorpicker-fill").call(ce("#fas-palette")),d.merge(p).selectAll(".rapid-colorpicker-fill").style("background",function(m){return m.color}).select(".icon").style("color",function(m){return s(m.color)>140.5?"#333":"#fff"})}function u(c,d){var p=this,m=d.__data__,w=d.getBoundingClientRect(),b=180,h=w.bottom+15,g=_e.textDirection()==="rtl"?w.right-.3333*b:w.left-.6666*b,v=_e.textDirection()==="rtl"?.3333*b-w.width+10:.6666*b+10,x=t.close;t.close=function(){},i=function(){y.transition().duration(200).style("opacity",0).remove(),t.close=x;var S=Re("modal");S.on(["\u232B","\u238B"],x),G(document).call(S),G(document).on("click.colorpicker",null),i=function(){},n.call("done")};var _=Re("modal");_.on(["\u232B","\u238B"],i),G(document).call(_),G(document).on("click.colorpicker",o);var y=c.append("div").attr("class","colorpicker-popup").style("opacity",0).style("width",b+"px").style("top",h+"px").style("left",g+"px");y.append("div").attr("class","colorpicker-arrow").style("left",v+"px");var E=y.append("div").attr("class","colorpicker-content"),k=E.selectAll(".colorpicker-colors").data([0]);k=k.enter().append("div").attr("class","colorpicker-colors").merge(k);var A=k.selectAll(".colorpicker-option").data(r.colors()),C=A.enter().append("div").attr("class","colorpicker-option").style("color",function(D){return D}).on("click",function(D,S){n.call("change",p,m.id,S),A.classed("selected",function(N){return N===S})});C.append("div").attr("class","colorpicker-option-fill"),A=A.merge(C),A.classed("selected",function(D){return D===m.color}),y.transition().style("opacity",1)}return ke(l,n,"on")}var ww=Xe(da());function D4(e){return function(t){pe("sawRapidSplash",!0);var r=wr(t);r.select(".modal").attr("class","modal rapid-modal modal-splash");var n=r.select(".content");n.append("div").attr("class","modal-section").append("h3").text(F("rapid_splash.welcome")),n.append("div").attr("class","modal-section").append("p").html((0,ww.default)(F("rapid_splash.text",{rapidicon:je("#iD-logo-rapid","logo-rapid"),walkthrough:je("#iD-logo-walkthrough","logo-walkthrough"),edit:je("#iD-logo-features","logo-features")})));var i=n.append("div").attr("class","modal-actions"),a=i.append("button").attr("class","start-editing").on("click",function(){r.close()});a.append("svg").attr("class","logo logo-features").append("use").attr("xlink:href","#iD-logo-features"),a.append("div").text(F("rapid_splash.start")),r.select("button.close").attr("class","hide")}}function xw(e){return function(t){var r=wr(t);r.select(".modal").attr("class","modal rapid-modal");var n=r.select(".content");n.append("div").attr("class","modal-section").append("h3").html(F("rapid_first_edit.nice",{rapidicon:je("#iD-logo-rapid","logo-rapid")})),n.append("div").attr("class","modal-section").append("p").text(F("rapid_first_edit.text"));var i=n.append("div").attr("class","modal-actions"),a=i.append("button").attr("class","rapid-explore").on("click",function(){r.close()});a.append("div").text(F("rapid_first_edit.exploring"));var o=i.append("button").attr("class","rapid-login-to-osm").on("click",function(){r.close();var s=e.connection();!s||s.authenticate(function(){return e.container().call(D4(e))})});o.append("div").text(F("rapid_first_edit.login_with_osm")),r.select("button.close").attr("class","hide")}}var kw=Xe(da());An();var _w=Xe(da());var z8=!1;function e6(e,t){var r=e.rapidContext(),n=be("done"),i=Ft(e,"dataset-categories"),a=1/0,o=G(null),s,l,u,c=function(){return!0};function d(){if(!["localhost","127.0.0.1"].includes(location.hostname)&&!z8){z8=!0;var _=window.outerWidth*.8,y=window.outerHeight*.8,E=window.outerWidth/2-_/2,k=window.outerHeight/2-y/2,A=window.open(location.origin+"/#/map","","width=".concat(_,",height=").concat(y,",left=").concat(E,",top=").concat(k));A.onunload=function(){z8=!1}}}function p(){d();var _=e.container().selectAll(".shaded");if(!_.empty()&&!_.selectAll(".modal-view-manage").size()){var y=t.close;t.close=function(){},c=function(){s=null,l=null,A.transition().duration(200).style("top","0px").on("end",function(){return k.remove()}),t.close=y;var D=Re("modal");D.on(["\u232B","\u238B"],y),G(document).call(D),n.call("done")};var E=Re("modal");E.on(["\u232B","\u238B"],c),G(document).call(E);var k=_.append("div").attr("class","view-manage-wrap"),A=k.append("div").attr("class","modal rapid-modal modal-view-manage").style("opacity",0);A.append("button").attr("class","close").on("click",c).call(ce("#iD-icon-close")),o=A.append("div").attr("class","rapid-stack content"),o.call(m),o.selectAll(".ok-button").node().focus(),A.transition().style("opacity",1)}}function m(_){var y=_.selectAll(".rapid-view-manage-header").data([0]).enter().append("div").attr("class","modal-section rapid-view-manage-header"),E=y.append("div");E.append("div").attr("class","rapid-view-manage-header-icon").call(ce("#iD-icon-data","icon-30")),E.append("div").attr("class","rapid-view-manage-header-text").text(F("rapid_feature_toggle.esri.title"));var k=y.append("div");k.append("div").attr("class","rapid-view-manage-header-about").html((0,_w.default)(F("rapid_feature_toggle.esri.about"))),k.selectAll("a").attr("target","_blank");var A=_.selectAll(".rapid-view-manage-filter").data([0]).enter().append("div").attr("class","modal-section rapid-view-manage-filter"),C=A.append("div").attr("class","rapid-view-manage-filter-search-wrap");C.call(ce("#fas-filter","inline")),C.append("input").attr("class","rapid-view-manage-filter-search").attr("placeholder",F("rapid_feature_toggle.esri.filter_datasets")).call(et).on("input",function(P){var L=P.currentTarget,B=L&&L.value||"";s=B.trim().toLowerCase(),S.call(w)});var D=A.append("div").attr("class","rapid-view-manage-filter-type-wrap");D.append("input").attr("class","rapid-view-manage-filter-type").attr("placeholder",F("rapid_feature_toggle.esri.any_type")).call(et).call(i).on("blur change",function(P){var L=P.currentTarget,B=L&&L.value||"",O=i.data();O.some(function(U){return U.value===B})?l=B:(P.currentTarget.value="",l=null),S.call(w)}),A.append("div").attr("class","rapid-view-manage-filter-clear").append("a").attr("href","#").text(F("rapid_feature_toggle.esri.clear_filters")).on("click",function(P){P.preventDefault();var L=P.currentTarget;L.blur(),_.selectAll("input").property("value",""),s=null,l=null,S.call(w)}),A.append("div").attr("class","rapid-view-manage-filter-results");var S=_.selectAll(".rapid-view-manage-datasets-section").data([0]),N=S.enter().append("div").attr("class","modal-section rapid-view-manage-datasets-section");N.append("div").attr("class","rapid-view-manage-datasets-status"),N.append("div").attr("class","rapid-view-manage-datasets"),S=S.merge(N).call(w);var R=_.selectAll(".modal-section.buttons").data([0]).enter().append("div").attr("class","modal-section buttons");R.append("button").attr("class","button ok-button action").on("click",c).text(F("confirm.okay"))}function w(_){var y=_.selectAll(".rapid-view-manage-datasets-status"),E=_.selectAll(".rapid-view-manage-datasets"),k=pe("rapid-internal-feature.previewDatasets")==="true",A=ue.esriData;if(!A||Array.isArray(u)&&!u.length){E.classed("hide",!0),y.classed("hide",!1).text(F("rapid_feature_toggle.esri.no_datasets"));return}if(!u){E.classed("hide",!0),y.classed("hide",!1).text(F("rapid_feature_toggle.esri.fetching_datasets")),y.append("br"),y.append("img").attr("class","rapid-view-manage-datasets-spinner").attr("src",e.imagePath("loader-black.gif")),A.loadDatasets().then(function(B){var O=new Set;Object.values(B).forEach(function(T){T.groupCategories.forEach(function(M){O.add(M.toLowerCase().replace("/categories/",""))})}),k||O.delete("preview");var U=Array.from(O).sort().map(function(T){var M={title:T,value:T};return T==="preview"&&(M.display="".concat(T,' <span class="rapid-view-manage-dataset-beta beta"></span>')),M});return i.data(U),u=Object.values(B).filter(function(T){return k||!T.groupCategories.some(function(M){return M.toLowerCase()==="/categories/preview"})}),u}).then(function(){return o.call(m)});return}E.classed("hide",!1),y.classed("hide",!0);var C=0;u.forEach(function(B){var O=(B.title||"").toLowerCase(),U=(B.snippet||"").toLowerCase();if(g(B)){B.filtered=!1,++C;return}if(s&&O.indexOf(s)===-1&&U.indexOf(s)===-1){B.filtered=!0;return}if(l&&!B.groupCategories.some(function(T){return T.toLowerCase()==="/categories/".concat(l)})){B.filtered=!0;return}B.filtered=++C>a});var D=E.selectAll(".rapid-view-manage-dataset").data(u,function(B){return B.id});D.exit().remove();var S=D.enter().append("div").attr("class","rapid-view-manage-dataset"),N=S.append("div").attr("class","rapid-view-manage-dataset-label");N.append("div").attr("class","rapid-view-manage-dataset-name");var R=N.selectAll(".rapid-view-manage-dataset-featured").data(function(B){return B.groupCategories.filter(function(O){return O.toLowerCase()==="/categories/featured"})}).enter().append("div").attr("class","rapid-view-manage-dataset-featured");R.append("span").text("\u2B50"),R.append("span").text(F("rapid_feature_toggle.esri.featured")),N.selectAll(".rapid-view-manage-dataset-beta").data(function(B){return B.groupCategories.filter(function(O){return O.toLowerCase()==="/categories/preview"})}).enter().append("div").attr("class","rapid-view-manage-dataset-beta beta").attr("title",F("rapid_poweruser_features.beta")),N.append("div").attr("class","rapid-view-manage-dataset-snippet"),N.append("button").attr("class",function(B){return"rapid-view-manage-dataset-action "+(window.__locked[B.id]?"locked":"")}).on("click",h),D=D.merge(S).sort(b).classed("hide",function(B){return B.filtered}),D.selectAll(".rapid-view-manage-dataset-name").html(function(B){return v(s,B.title)}),D.selectAll(".rapid-view-manage-dataset-snippet").html(function(B){return v(s,B.snippet)}),D.selectAll(".rapid-view-manage-dataset-action").classed("secondary",function(B){return g(B)}).text(function(B){return g(B)?F("rapid_feature_toggle.esri.remove"):F("rapid_feature_toggle.esri.add_to_map")});var P=u.filter(function(B){return!B.filtered}).length,L=C>a&&P===a?">":"";o.selectAll(".rapid-view-manage-filter-results").text(F("rapid_feature_toggle.esri.datasets_found",{num:"".concat(L).concat(P)})),o.selectAll(".rapid-view-manage-filter-results").append("button").style("height","auto").style("line-height","normal").style("padding","1px 7px").style("margin-left","4px").text(" Open map").on("click",d)}function b(_,y){var E=g(_),k=g(y),A=_.groupCategories.some(function(D){return D.toLowerCase()==="/categories/featured"}),C=y.groupCategories.some(function(D){return D.toLowerCase()==="/categories/featured"});return E&&!k?-1:k&&!E?1:A&&!C?-1:C&&!A?1:_.title.localeCompare(y.title)}function h(_,y,E){var k=r.datasets(),A=k[y.id];if(A)A.added=!A.added;else{var C=window.__locked[y.id];if(C&&E!=="isFromPopup"){var D=xt(C,2),S=D[0],N=D[1],R=N==="done"?"This dataset may already have been uploaded by someone else!":"Someone else (".concat(S,") started editing ").concat(y.name," ").concat(N," minutes ago. If you continue, you might override or duplicate their work!");if(!confirm(R))return}y.instructions&&alert("Special instructions: ".concat(y.instructions));var P=ue.esriData;P&&P.loadLayer(y.id);var L=y.groupCategories.some(function(I){return I.toLowerCase()==="/categories/preview"}),B=y.groupCategories.some(function(I){return I.toLowerCase()==="/categories/buildings"}),O=r.colors(),U=Object.keys(k).length%O.length,T={id:y.id,beta:L,added:!0,enabled:!0,conflated:!1,service:"esri",color:O[U],label:y.title,license_markdown:F("rapid_feature_toggle.esri.license_markdown")};y.extent&&(T.extent=new Ne(y.extent[0],y.extent[1])),e.map().extent(T.extent),e.map().zoom(16),B&&(T.conflated=!0,T.service="fbml",k.msBuildings&&(k.msBuildings.enabled=!1)),k[y.id]=T}var M=Bt(window.location.hash);M.datasets=Object.values(k).filter(function(I){return I.added&&I.enabled}).map(function(I){return I.id}).join(","),o.call(m),e.enter(De(e)),e.map().pan([0,0])}function g(_){var y=r.datasets();return y[_.id]&&y[_.id].added}function v(_,y){var E=y;if(_){var k=new RegExp("("+x(_)+")","gi");E=E.replace(k,"<mark>$1</mark>")}return E}function x(_){return _.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}return window.addEventListener("message",function(_){if(typeof _.data=="string"&&_.data.startsWith("ADD_SECTOR=")){var y=_.data.split("="),E=xt(y,2),k=E[1];if(!u){alert("please wait for datasets to load");return}var A=u.find(function(C){return C.id===k});console.log("Loaded",A.name),h(null,A,"isFromPopup"),setTimeout(c,500)}},!1),ke(p,n,"on")}function t6(e,t,r){var n=e.rapidContext(),i=G(null),a=G(null),o,s;function l(b){var h=n.datasets()[b.id];return h&&h.enabled}function u(b,h){var g=n.datasets(),v=g[h.id];v&&(v.enabled=!v.enabled,e.enter(De(e)),e.map().pan([0,0]))}function c(b,h){var g=n.datasets(),v=g[b];if(v){v.color=h,e.map().pan([0,0]),a.call(m);var x=e.mode();x&&x.id==="select-ai-features"&&e.enter(x,x.selectedDatum())}}function d(){var b=e.layers().layer("ai-features");b.enabled(!b.enabled()),a.call(m)}function p(b){b.shiftKey&&b.key===F("map_data.layers.ai-features.key")&&d()}return function(h){i=wr(h),i.select(".modal").attr("class","modal rapid-modal"),o=e6(e,i).on("done",function(){return a.call(m)}),s=J5(e,i).on("change",c),a=i.select(".content").append("div").attr("class","rapid-stack").on("keypress",p),a.call(m),a.selectAll(".ok-button").node().focus(),r.on("ai_feature_toggle",function(){return a.call(m)})};function m(b){var h=e.layers().layer("ai-features"),g=b.selectAll(".rapid-toggle-all").data([0]),v=g.enter().append("div").attr("class","modal-section rapid-checkbox rapid-toggle-all"),x=v.append("div").attr("class","rapid-feature-label-container");x.append("div").attr("class","rapid-feature-label").html(F("rapid_feature_toggle.toggle_all",{rapidicon:je("#iD-logo-rapid","logo-rapid")})),x.append("span").attr("class","rapid-feature-hotkey").html("("+t+")");var _=v.append("div").attr("class","rapid-checkbox-inputs").append("label").attr("class","rapid-checkbox-label");_.append("input").attr("type","checkbox").attr("class","rapid-feature-checkbox").on("click",d),_.append("div").attr("class","rapid-checkbox-custom"),g=g.merge(v),g.selectAll(".rapid-feature-checkbox").property("checked",h.showAll());var y=b.selectAll(".rapid-datasets-container").data([0]),E=y.enter().append("div").attr("class","rapid-datasets-container");y.merge(E).call(w);var k=b.selectAll(".rapid-manage-datasets").data([0]).enter().append("div").attr("class","modal-section rapid-checkbox rapid-manage-datasets").on("click",function(){return e.container().call(o)});k.append("div").attr("class","rapid-feature-label-container").append("div").attr("class","rapid-feature-label").text(F("rapid_feature_toggle.view_manage_datasets")),k.append("div").attr("class","rapid-checkbox-inputs").append("div").attr("class","rapid-checkbox-label").call(ce(_e.textDirection()==="rtl"?"#iD-icon-backward":"#iD-icon-forward","icon-30"));var A=b.selectAll(".modal-section.buttons").data([0]).enter().append("div").attr("class","modal-section buttons");A.append("button").attr("class","button ok-button action").on("click",function(){return i.remove()}).text(F("confirm.okay"))}function w(b){var h=pe("rapid-internal-feature.previewDatasets")==="true",g=Object.values(n.datasets()).filter(function(k){return k.added&&(h||!k.beta)}),v=e.layers().layer("ai-features"),x=b.selectAll(".rapid-checkbox-dataset").data(g,function(k){return k.id});x.exit().remove();var _=x.enter().append("div").attr("class","modal-section rapid-checkbox rapid-checkbox-dataset");_.append("div").attr("class","rapid-feature").each(function(k,A,C){var D=G(C[A]),S=D.append("div").attr("class","rapid-feature-label-container");S.append("div").attr("class","rapid-feature-label").text(k.label||k.id),k.beta&&S.append("div").attr("class","rapid-feature-label-beta beta").attr("title",F("rapid_poweruser_features.beta")),k.description&&(S.append("div").attr("class","rapid-feature-label-divider"),S.append("div").attr("class","rapid-feature-description").text(k.description)),k.license_markdown&&(S.append("div").attr("class","rapid-feature-label-divider"),S.append("div").attr("class","rapid-feature-license").html((0,kw.default)(k.license_markdown)),S.select("p a").attr("target","_blank")),D.append("div").attr("class","rapid-feature-extent-container").each(function(N,R,P){var L=G(P[R]);N.extent&&N.extent.area()<1e4?L.append("a").attr("href","#").text(F("rapid_feature_toggle.center_map")).on("click",function(B){B.preventDefault(),e.map().extent(N.extent),e.map().zoom(16)}):L.text(F("rapid_feature_toggle.worldwide"))})});var y=_.append("div").attr("class","rapid-checkbox-inputs");y.append("label").attr("class","rapid-colorpicker-label");var E=y.append("label").attr("class","rapid-checkbox-label");E.append("input").attr("type","checkbox").attr("class","rapid-feature-checkbox").on("click",u),E.append("div").attr("class","rapid-checkbox-custom"),x=x.merge(_).classed("disabled",!v.showAll()),x.selectAll(".rapid-colorpicker-label").attr("disabled",v.showAll()?null:!0).call(s),x.selectAll(".rapid-checkbox-label").classed("disabled",!v.showAll()),x.selectAll(".rapid-feature-checkbox").property("checked",l).attr("disabled",v.showAll()?null:!0)}}function r6(e){var t=["previewDatasets","tagnosticRoadCombine","tagSources","showAutoFix","allowLargeEdits"],r=e.rapidContext(),n=r.showPowerUser,i=G(null),a=G(null);n?t.forEach(function(c){var d=pe("rapid-internal-feature.was.".concat(c));d&&(pe("rapid-internal-feature.".concat(c),d),pe("rapid-internal-feature.was.".concat(c),null))}):t.forEach(function(c){var d=pe("rapid-internal-feature.".concat(c));d&&(pe("rapid-internal-feature.was.".concat(c),d),pe("rapid-internal-feature.".concat(c),null))});function o(c){return pe("rapid-internal-feature.".concat(c))==="true"}function s(c,d){var p=pe("rapid-internal-feature.".concat(d))==="true";if(p=!p,pe("rapid-internal-feature.".concat(d),p),d==="previewDatasets"&&!p){var m=r.datasets();Object.values(m).forEach(function(w){w.beta&&(w.added=!1,w.enabled=!1)}),e.enter(De(e)),e.map().pan([0,0])}}return function(c){i=wr(c),i.select(".modal").attr("class","modal rapid-modal"),a=i.select(".content").append("div").attr("class","rapid-stack poweruser"),a.call(l),a.selectAll(".ok-button").node().focus()};function l(c){var d=c.selectAll(".modal-section-heading").data([0]).enter().append("div").attr("class","modal-section-heading");d.append("h3").attr("class","modal-heading").html(F("rapid_poweruser_features.heading.label")),d.append("div").attr("class","modal-heading-desc").text(F("rapid_poweruser_features.heading.description")).append("span").attr("class","smile").text("\uD83D\uDE0E");var p=c.selectAll(".rapid-features-container").data([0]),m=p.enter().append("div").attr("class","rapid-features-container");p.merge(m).call(u);var w=c.selectAll(".modal-section.buttons").data([0]).enter().append("div").attr("class","modal-section buttons");w.append("button").attr("class","button ok-button action").on("click",function(){return i.remove()}).text(F("confirm.okay"))}function u(c){var d=c.selectAll(".rapid-checkbox-feature").data(t.filter(function(b){return b==="previewDatasets"}),function(b){return b}),p=d.enter().append("div").attr("class","modal-section rapid-checkbox rapid-checkbox-feature");p.append("div").attr("class","rapid-feature").each(function(b,h,g){var v=G(g[h]);v.append("div").attr("class","rapid-feature-label").text(function(x){return F("rapid_poweruser_features.".concat(x,".label"))}),v.append("div").attr("class","rapid-feature-description").text(function(x){return F("rapid_poweruser_features.".concat(x,".description"))})});var m=p.append("div").attr("class","rapid-checkbox-inputs"),w=m.append("label").attr("class","rapid-checkbox-label");w.append("input").attr("type","checkbox").attr("class","rapid-feature-checkbox").on("click",s),w.append("div").attr("class","rapid-checkbox-custom"),d=d.merge(p),d.selectAll(".rapid-feature-checkbox").property("checked",o)}}function n6(){return function(e){e.append("a").attr("href","https://mapwith.ai/doc/license/MapWithAILicense.pdf").attr("target","_blank").text(F("rapid_feature_license"))}}var Ew=Xe(da());function Aw(e){var t=!1;return function(r){if(pe("sawWhatsNew")!=="true"){var n=wr(r);n.select(".modal").attr("class","modal rapid-modal modal-splash modal-whatsnew");var i=n.select(".content");i.append("div").attr("class","modal-section").append("h3").html(F("rapid_whats_new.welcome",{rapidicon:je("#iD-logo-rapid","logo-rapid")}));var a=i.append("div").attr("class","modal-section body").html((0,Ew.default)(F("rapid_whats_new.text",{rapidicon:je("#iD-logo-rapid","logo-rapid")})));a.append("img").attr("class","whatsnew-image").attr("src",e.asset("img/rapid-esri-splash.jpg")),a.select("p a").attr("target","_blank");var o=i.append("div").attr("class","modal-section rapid-checkbox dontshow").attr("id","dontshowagain"),s=o.append("label").attr("class","rapid-checkbox-label dontshow");s.append("span").attr("class","rapid-checkbox-text").text(F("rapid_whats_new.dontshowagain")),s.append("input").attr("type","checkbox").attr("class","rapid-feature-checkbox").property("checked",!1).on("click",function(){t=!t}),s.append("div").attr("class","rapid-checkbox-custom");var l=i.append("div").attr("class","modal-actions"),u=l.append("button").attr("class","whats-new-nothanks").on("click",function(){pe("sawWhatsNew",t),n.close()});u.append("div").text(F("rapid_whats_new.nope"));var c=l.append("button").attr("class","whats-new-okay");c.append("div").text(F("rapid_whats_new.ok")).on("click",function(){pe("sawWhatsNew",t),n.close(),window.open("https://mapwith.ai/rapid-esri","_blank")}),n.select("button.close").attr("class","hide")}}}function S4(e,t){var r={id:"select-ai-features",button:"browse"},n=Re("select-ai-features"),i=C4(e,n),a=t.__service__==="esri"?ue.esriData:ue.fbMLRoads,o=a.graph(t.__datasetid__),s=[qn(e),rn(e),Wn(e),Vn(e),Qn(e).behavior,Hn(e).behavior];function l(c,d){var p=e.surface().selectAll(".layer-ai-features .data"+window.toBase64(t.__fbid__).replace(/\=/g,""));if(p.empty()){var m=c&&c.type==="zoom"&&c.sourceEvent;d&&m&&(m.type==="mousemove"||m.type==="touchmove")&&e.enter(De(e))}else p.classed("selected",!0)}function u(){G(".combobox").size()||e.enter(De(e))}return r.selectedIDs=function(){return[t.id]},r.selectedDatum=function(){return t},r.zoomToSelected=function(){var c=t.extent(o);e.map().centerZoomEase(c.center(),e.map().trimmedExtentZoom(c))},r.enter=function(){s.forEach(e.install),n.on(F("inspector.zoom_to.key"),r.zoomToSelected).on("\u238B",u,!0),G(document).call(n),l();var c=e.ui().sidebar;c.show(i.datum(t));var d=t.extent(o);c.expand(c.intersects(d)),e.map().on("drawn.select-ai-features",l)},r.exit=function(){s.forEach(e.uninstall),G(document).call(n.unbind),e.surface().selectAll(".layer-ai-features .selected").classed("selected hover",!1),e.map().on("drawn.select-ai-features",null),e.ui().sidebar.hide()},r}function FO(e,t){var r=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=TO(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(e)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function TO(e,t){if(!!e){if(typeof e=="string")return Cw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cw(e,t)}}function Cw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var s6=Math.sin,Dw=Math.cos,Sw=Math.sqrt,MO=Math.PI,IO=Math.atan2,NO=6371,OO=MO/180,l6=function(t){return t*OO};function PO(e,t,r,n){var i=l6(r-e),a=l6(n-t),o=s6(i/2)*s6(i/2)+Dw(l6(e))*Dw(l6(r))*s6(a/2)*s6(a/2),s=2*IO(Sw(o),Sw(1-o));return 1e3*NO*s}var BO=function(t,r,n){var i,a,o=FO(t),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,u=xt(l.geo,2),c=u[0],d=u[1],p=PO(d,c,r,n);(!i||p<a)&&(i=l,a=p)}}catch(m){o.e(m)}finally{o.f()}return i};function Fw(e){function t(){var o=new URLSearchParams(location.hash).get("map").split("/").map(Number),s=xt(o,3),l=s[0],u=s[1],c=s[2],d=window._dsState[window._mostRecentDsId]||{},p=Object.values(d).filter(function(w){return w!=="done"}),m=BO(p,u,c);return{next:m,length:p.length,zoom:l}}function r(){var o=t(),s=o.next,l=o.zoom;!s||(e.map().centerZoomEase(s.geo,Math.max(l,18),0),e.selectedNoteID(null).selectedErrorID(null).enter(S4(e,s.feat)))}function n(o){if(o.html(""),!window._mostRecentDsId){o.append("span").html("No active dataset.");return}var s=t(),l=s.length;l?(o.append("span").html(l+" addresses remaining"),o.append("button").html("Zoom to next (G)").on("click",r)):o.append("span").html("\uD83E\uDD70 Done! You've imported/updated all features in "+window._mostRecentDsId)}var i=function(s){s.call(n),e.map().on("drawn.info-history",function(){s.call(n)}),e.on("enter.info-history",function(){s.call(n)})};i.off=function(){e.map().on("drawn.info-history",null),e.on("enter.info-history",null)},i.id="progress",i.label="Import Status",i.key=F("info_panels.progress.key");var a=Re("statusPanel");return a().on("G",r),i}var u6={background:w8,history:x8,progress:Fw,location:_8,measurement:k8};function i6(e){var t=Object.keys(u6),r=["measurement"],n={},i={};t.forEach(function(o){n[o]||(n[o]=u6[o](e),i[o]=o==="progress")});function a(o){function s(){var u=t.filter(function(m){return i[m]}).sort(),c=l.selectAll(".panel-container").data(u,function(m){return m});c.exit().style("opacity",1).transition().duration(200).style("opacity",0).on("end",function(m){G(this).call(n[m].off).remove()});var d=c.enter().append("div").attr("class",function(m){return"fillD2 panel-container panel-container-"+m});d.style("opacity",0).transition().duration(200).style("opacity",1);var p=d.append("div").attr("class","panel-title fillD2");p.append("h3").html(function(m){return n[m].label}),p.append("button").attr("class","close").on("click",function(m,w){m.stopImmediatePropagation(),m.preventDefault(),a.toggle(w)}).call(ce("#iD-icon-close")),d.append("div").attr("class",function(m){return"panel-content panel-content-"+m}),l.selectAll(".panel-content").each(function(m){G(this).call(n[m])})}a.toggle=function(u){var c=t.filter(function(d){return i[d]});u?(i[u]=!i[u],c.length===1&&c[0]===u&&(r=[u]),e.container().select("."+u+"-panel-toggle-item").classed("active",i[u]).select("input").property("checked",i[u])):c.length?(r=c,c.forEach(function(d){i[d]=!1})):r.forEach(function(d){i[d]=!0}),s()};var l=o.selectAll(".info-panels").data([0]);l=l.enter().append("div").attr("class","info-panels").merge(l),s(),e.keybinding().on(qe("\u2318"+F("info_panels.key")),function(u){u.stopImmediatePropagation(),u.preventDefault(),a.toggle()}),t.forEach(function(u){var c=F("info_panels."+u+".key",{default:null});!c||e.keybinding().on(qe("\u2318\u21E7"+c),function(d){d.stopImmediatePropagation(),d.preventDefault(),a.toggle(u)})})}return a}function Tw(e){var t=be("resize"),r="PointerEvent"in window?"pointer":"mouse";function n(i){i.append("button").attr("class","thumb-hide").on("click",function(){ue.streetside&&ue.streetside.hideViewer(e),ue.mapillary&&ue.mapillary.hideViewer(e),ue.openstreetcam&&ue.openstreetcam.hideViewer(e)}).append("div").call(ce("#iD-icon-close"));function a(s){s.preventDefault()}i.append("button").attr("class","resize-handle-xy").on("touchstart touchdown touchend",a).on(r+"down",o(i,"resize",t,{resizeOnX:!0,resizeOnY:!0})),i.append("button").attr("class","resize-handle-x").on("touchstart touchdown touchend",a).on(r+"down",o(i,"resize",t,{resizeOnX:!0})),i.append("button").attr("class","resize-handle-y").on("touchstart touchdown touchend",a).on(r+"down",o(i,"resize",t,{resizeOnY:!0}));function o(s,l,u,c){var d=!!c.resizeOnX,p=!!c.resizeOnY,m=c.minHeight||240,w=c.minWidth||320,b,h,g,v,x;function _(k){if(b===(k.pointerId||"mouse")){k.preventDefault(),k.stopPropagation();var A=e.map().dimensions();if(d){var C=A[0],D=y(v+k.clientX-h,w,C);s.style("width",D+"px")}if(p){var S=A[1]-90,N=y(x+g-k.clientY,m,S);s.style("height",N+"px")}u.call(l,s,yn(s,!0))}}function y(k,A,C){return Math.max(A,Math.min(k,C))}function E(k){b===(k.pointerId||"mouse")&&(k.preventDefault(),k.stopPropagation(),G(window).on("."+l,null))}return function(A){A.preventDefault(),A.stopPropagation(),b=A.pointerId||"mouse",h=A.clientX,g=A.clientY;var C=s.node().getBoundingClientRect();v=C.width,x=C.height,G(window).on(r+"move."+l,_,!1).on(r+"up."+l,E,!1),r==="pointer"&&G(window).on("pointercancel."+l,E,!1)}}}return n.onMapResize=function(){var i=e.container().select(".photoviewer"),a=e.container().select(".main-content"),o=yn(a,!0),s=yn(i,!0);if(s[0]>o[0]||s[1]>o[1]-90){var l=[Math.min(s[0],o[0]),Math.min(s[1],o[1]-90)];i.style("width",l[0]+"px").style("height",l[1]+"px"),t.call("resize",i,l)}},ke(n,t,"on")}function Mw(e){var t=qt(),r=0,n,i=G(null),a;function o(l){l.select(".modal").classed("modal-shortcuts",!0);var u=l.select(".content");u.append("div").attr("class","modal-section").append("h3").html(F.html("shortcuts.title")),Je.get("shortcuts").then(function(c){a=c,u.call(s)}).catch(function(){})}function s(l){if(!!a){var u=l.selectAll(".wrapper").data([0]),c=u.enter().append("div").attr("class","wrapper modal-section"),d=c.append("div").attr("class","tabs-bar"),p=c.append("div").attr("class","shortcuts-list");u=u.merge(c);var m=d.selectAll(".tab").data(a),w=m.enter().append("a").attr("class","tab").attr("href","#").on("click",function(k,A){k.preventDefault();var C=a.indexOf(A);r=C,s(l)});w.append("span").html(function(k){return F.html(k.text)}),u.selectAll(".tab").classed("active",function(k,A){return A===r});var b=p.selectAll(".shortcut-tab").data(a),h=b.enter().append("div").attr("class",function(k){return"shortcut-tab shortcut-tab-"+k.tab}),g=h.selectAll(".shortcut-column").data(function(k){return k.columns}).enter().append("table").attr("class","shortcut-column"),v=g.selectAll(".shortcut-row").data(function(k){return k.rows}).enter().append("tr").attr("class","shortcut-row"),x=v.filter(function(k){return!k.shortcuts});x.append("td"),x.append("td").attr("class","shortcut-section").append("h3").html(function(k){return F.html(k.text)});var _=v.filter(function(k){return k.shortcuts}),y=_.append("td").attr("class","shortcut-keys"),E=y.filter(function(k){return k.modifiers});E.selectAll("kbd.modifier").data(function(k){return t.os==="win"&&k.text==="shortcuts.editing.commands.redo"?["\u2318"]:t.os!=="mac"&&k.text==="shortcuts.browsing.display_options.fullscreen"?[]:k.modifiers}).enter().each(function(){var k=G(this);k.append("kbd").attr("class","modifier").html(function(A){return qe.display(A)}),k.append("span").html("+")}),y.selectAll("kbd.shortcut").data(function(k){var A=k.shortcuts;return t.os==="win"&&k.text==="shortcuts.editing.commands.redo"?A=["Y"]:t.os!=="mac"&&k.text==="shortcuts.browsing.display_options.fullscreen"&&(A=["F11"]),A=A.map(function(C){return qe.display(C.indexOf(".")!==-1?F(C):C)}),Ve(A).map(function(C){return{shortcut:C,separator:k.separator,suffix:k.suffix,rapid:k.rapid}})}).enter().each(function(k,A,C){var D=G(this),S=k.shortcut.toLowerCase().match(/(.*).click/);S&&S[1]?D.call(ce("#iD-walkthrough-mouse-"+S[1],"operation")):k.shortcut.toLowerCase()==="long-press"?D.call(ce("#iD-walkthrough-longpress","longpress operation")):k.shortcut.toLowerCase()==="tap"?D.call(ce("#iD-walkthrough-tap","tap operation")):D.append("kbd").attr("class","shortcut").html(function(N){return N.shortcut}),A<C.length-1?D.append("span").html(k.separator||"\xA0"+F.html("shortcuts.or")+"\xA0"):A===C.length-1&&k.suffix&&D.append("span").html(k.suffix),k.rapid&&D.append("svg").lower().attr("class","icon logo-rapid").append("use").attr("xlink:href","#iD-logo-rapid").attr("class","#iD-logo-rapid")}),y.filter(function(k){return k.gesture}).each(function(){var k=G(this);k.append("span").html("+"),k.append("span").attr("class","gesture").html(function(A){return F.html(A.gesture)})}),_.append("td").attr("class","shortcut-desc").html(function(k){return k.text?F.html(k.text):"\xA0"}),u.selectAll(".shortcut-tab").style("display",function(k,A){return A===r?"flex":"none"})}}return function(l,u){i=l,u?(n=wr(l),n.call(o)):e.keybinding().on([F("shortcuts.toggle.key"),"?"],function(){e.container().selectAll(".modal-shortcuts").size()?n&&(n.close(),n=null):(n=wr(i),n.call(o))})}}function Iw(e){var t={id:"download_osc",label:F("download_osc.title")},r=null,n=null,i=e.history(),a=0;function o(){return a===0}function s(c){if(c.preventDefault(),!e.inIntro()&&i.hasChanges()){var d=new Nn,p=i.changes(Na(i.difference())),m=fa.stringify(d.osmChangeJXON(p));u(m,"change.osc")}}function l(){var c=i.difference().summary().length;c!==a&&(a=c,n&&n.title(F(a>0?"download_osc.help":"download_osc.no_changes")),r&&r.classed("disabled",o()))}function u(c,d){var p=document.createElement("a");p.style.display="none",document.body.appendChild(p),p.href=window.URL.createObjectURL(new Blob([c])),p.setAttribute("download",d),p.click(),window.URL.revokeObjectURL(p.href),document.body.removeChild(p)}return t.render=function(c){n=Pe().placement("bottom").title(F("download_osc.no_changes")),r=c.append("button").attr("class","downloadOsc disabled bar-button").on("click",s).call(n),r.call(ce("#iD-icon-download-osc")),l(),e.history().on("change.download_osc",l),e.on("enter.download_osc",function(){r&&r.classed("disabled",o())})},t.uninstall=function(){e.history().on("change.download",null),e.on("enter.download",null),r=null,n=null},t}function Nw(e){var t={id:"old_modes",label:F.html("toolbar.add_feature")},r=[n5(e,{title:F.html("modes.add_point.title"),button:"point",description:F.html("modes.add_point.description"),preset:Ie.item("point"),key:"1"}),r5(e,{title:F.html("modes.add_line.title"),button:"line",description:F.html("modes.add_line.description"),preset:Ie.item("line"),key:"2"}),t5(e,{title:F.html("modes.add_area.title"),button:"area",description:F.html("modes.add_area.description"),preset:Ie.item("area"),key:"3"})];function n(){return i()}function i(){return e.editable()}return r.forEach(function(a){e.keybinding().on(a.key,function(){!n(a)||(a.id===e.mode().id?e.enter(De(e)):e.enter(a))})}),t.render=function(a){var o=a.append("div").attr("class","joined").style("display","flex"),s=Nt(l,500,{leading:!0,trailing:!0});e.map().on("move.modes",s).on("drawn.modes",s),e.on("enter.modes",l),l();function l(){var u=o.selectAll("button.add-button").data(r,function(d){return d.id});u.exit().remove();var c=u.enter().append("button").attr("class",function(d){return d.id+" add-button bar-button"}).on("click.mode-buttons",function(d,p){if(!!n(p)){var m=e.mode().id;/^draw/.test(m)||(p.id===m?e.enter(De(e)):e.enter(p))}}).call(Pe().placement("bottom").title(function(d){return d.description}).keys(function(d){return[d.key]}).scrollContainer(e.container().select(".top-toolbar")));c.each(function(d){G(this).call(ce("#iD-icon-"+d.button))}),c.append("span").attr("class","label").html(function(d){return d.title}),(u.enter().size()||u.exit().size())&&e.ui().checkOverflow(".top-toolbar",!0),u=u.merge(c).classed("disabled",function(d){return!n(d)}).classed("active",function(d){return e.mode()&&e.mode().button===d.button})}},t}function Ow(e){var t={id:"notes",label:F.html("modes.add_note.label")},r=s5(e);function n(){return i()&&a()}function i(){var o=e.layers().layer("notes");return o&&o.enabled()}function a(){var o=e.mode();return e.map().notesEditable()&&o&&o.id!=="save"}return e.keybinding().on(r.key,function(){!n(r)||(r.id===e.mode().id?e.enter(De(e)):e.enter(r))}),t.render=function(o){var s=Nt(l,500,{leading:!0,trailing:!0});e.map().on("move.notes",s).on("drawn.notes",s),e.on("enter.notes",l),l();function l(){var u=i(),c=u?[r]:[],d=o.selectAll("button.add-button").data(c,function(m){return m.id});d.exit().remove();var p=d.enter().append("button").attr("class",function(m){return m.id+" add-button bar-button"}).on("click.notes",function(m,w){if(!!n(w)){var b=e.mode().id;/^draw/.test(b)||(w.id===b?e.enter(De(e)):e.enter(w))}}).call(Pe().placement("bottom").title(function(m){return m.description}).keys(function(m){return[m.key]}).scrollContainer(e.container().select(".top-toolbar")));p.each(function(m){G(this).call(ce(m.icon||"#iD-icon-"+m.button))}),(d.enter().size()||d.exit().size())&&e.ui().checkOverflow(".top-toolbar",!0),d=d.merge(p).classed("disabled",function(m){return!n(m)}).classed("active",function(m){return e.mode()&&e.mode().button===m.button})}},t.uninstall=function(){e.on("enter.editor.notes",null).on("exit.editor.notes",null).on("enter.notes",null),e.map().on("move.notes",null).on("drawn.notes",null)},t}function Pw(e){var t={id:"save",label:F.html("save.title")},r=null,n=null,i=e.history(),a=qe("\u2318S"),o=0;function s(){var p=e.mode();return p&&p.id==="save"}function l(){return o===0||s()}function u(p){p.preventDefault(),!e.inIntro()&&!s()&&i.hasChanges()&&e.enter(x5(e))}function c(){var p;return o===0?null:o<=50?(p=o/50,ia("#fff","#ff8")(p)):(p=Math.min((o-50)/50,1),ia("#ff8","#f88")(p))}function d(){var p=i.difference().summary().length;p!==o&&(o=p,n&&n.title(F.html(o>0?"save.help":"save.no_changes")).keys([a]),r&&(r.classed("disabled",l()).style("background",c(o)),r.select("span.count").html(o)))}return t.render=function(p){n=Pe().placement("bottom").title(F.html("save.no_changes")).keys([a]).scrollContainer(e.container().select(".top-toolbar"));var m;r=p.append("button").attr("class","save disabled bar-button").on("pointerup",function(w){m=w.pointerType}).on("click",function(w){u(w),o===0&&(m==="touch"||m==="pen")&&e.ui().flash.duration(2e3).iconName("#iD-icon-save").iconClass("disabled").label(F.html("save.no_changes"))(),m=null}).call(n),r.call(ce("#iD-icon-save")),r.append("span").attr("class","count").attr("aria-hidden","true").html("0"),d(),e.keybinding().on(a,u,!0),e.history().on("change.save",d),e.on("enter.save",function(){r&&(r.classed("disabled",l()),s()&&r.call(n.hide))})},t.uninstall=function(){e.keybinding().off(a,!0),e.history().on("change.save",null),e.on("enter.save",null),r=null,n=null},t}function Bw(e){var t={id:"sidebar_toggle",label:F.html("toolbar.inspect")};return t.render=function(r){r.append("button").attr("class","bar-button").on("click",function(){e.ui().sidebar.toggle()}).call(Pe().placement("bottom").title(F.html("sidebar.tooltip")).keys([F("sidebar.key")]).scrollContainer(e.container().select(".top-toolbar"))).call(ce("#iD-icon-sidebar-"+(_e.textDirection()==="rtl"?"right":"left")))},t}function Rw(e){var t={id:"undo_redo",label:F.html("toolbar.undo_redo")},r=[{id:"undo",cmd:qe("\u2318Z"),action:function(){e.undo()},annotation:function(){return e.history().undoAnnotation()},icon:"iD-icon-"+(_e.textDirection()==="rtl"?"redo":"undo")},{id:"redo",cmd:qe("\u2318\u21E7Z"),action:function(){e.redo()},annotation:function(){return e.history().redoAnnotation()},icon:"iD-icon-"+(_e.textDirection()==="rtl"?"undo":"redo")}];function n(){return e.mode()&&e.mode().id!=="save"&&e.map().editableDataEnabled(!0)}return t.render=function(i){var a=Pe().placement("bottom").title(function(c){return c.annotation()?F(c.id+".tooltip",{action:c.annotation().description?c.annotation().description:c.annotation()}):F(c.id+".nothing"),c.cmd}).keys(function(c){return[c.cmd]}).scrollContainer(e.container().select(".top-toolbar")),o,s=i.selectAll("button").data(r).enter().append("button").attr("class",function(c){return"disabled "+c.id+"-button bar-button"}).on("pointerup",function(c){o=c.pointerType}).on("click",function(c,d){c.preventDefault();var p=d.annotation();if(n()&&p&&d.action(),n()&&(o==="touch"||o==="pen")){var m=p?F(d.id+".tooltip",{action:p}):F(d.id+".nothing");e.ui().flash.duration(2e3).iconName("#"+d.icon).iconClass(p?"":"disabled").label(m)()}o=null}).call(a);s.each(function(c){G(this).call(ce("#"+c.icon))}),e.keybinding().on(r[0].cmd,function(c){c.preventDefault(),n()&&r[0].action()}).on(r[1].cmd,function(c){c.preventDefault(),n()&&r[1].action()});var l=Nt(u,500,{leading:!0,trailing:!0});e.map().on("move.undo_redo",l).on("drawn.undo_redo",l),e.history().on("change.undo_redo",function(c){c&&u()}),e.on("enter.undo_redo",u);function u(){s.classed("disabled",function(c){return!n()||!c.annotation()}).each(function(){var c=G(this);c.select(".tooltip.in").empty()||c.call(a.updateContent)})}},t.uninstall=function(){e.keybinding().off(r[0].cmd).off(r[1].cmd),e.map().on("move.undo_redo",null).on("drawn.undo_redo",null),e.history().on("change.undo_redo",null),e.on("enter.undo_redo",null)},t}function Lw(e){var t=be("ai_feature_toggle"),r="\u21E7"+F("map_data.layers.ai-features.key"),n=t6(e,qe(r),t),i=r6(e),a=e.rapidContext().showPowerUser,o={id:"rapid_features",label:F("toolbar.rapid_features")};e.keybinding().on(qe(r),function(d){d.preventDefault(),d.stopPropagation(),l()});function s(){return e.layers().layer("ai-features").enabled()}function l(){var d=e.layers().layer("ai-features");d.enabled(!d.enabled()),t.call("ai_feature_toggle")}function u(){e.container().call(n)}function c(){e.container().call(i)}return o.render=function(d){var p=Nt(w,100,{leading:!0,trailing:!0}),m=d.append("div").attr("class",a?"joined":null).style("display","flex");e.map().on("move.rapid_features",p).on("drawn.rapid_features",p),e.on("enter.rapid_features",w),w();function w(){var b=m.selectAll(".rapid-features").data([0]),h=b.enter().append("button").attr("class","bar-button rapid-features").attr("tabindex",-1).on("click",u).call(Pe().placement("bottom").title(F("shortcuts.browsing.display_options.rapid_features_data")).keys(r));h.append("svg").attr("class","logo-rapid").append("use").attr("xlink:href","#iD-logo-rapid"),b.merge(h).classed("layer-off",!s());var g=m.selectAll(".rapid-poweruser-features").data(a?[0]:[]);g.enter().append("button").attr("class","bar-button rapid-poweruser-features").attr("tabindex",-1).on("click",c).call(Pe().placement("bottom").title(F("rapid_poweruser_features.heading.label"))).append("div").attr("class","beta")}},o}function jw(e){var t=Bw(e),r=Lw(e),n=Nw(e),i=Ow(e),a=Rw(e),o=Pw(e),s=Iw(e);function l(){var c=e.layers().layer("notes");return c&&c.enabled()}function u(c){c.on("wheel.topToolbar",function(m){m.deltaX||(c.node().scrollLeft+=m.deltaY)});var d=Nt(p,500,{leading:!0,trailing:!0});e.layers().on("change.topToolbar",d),p();function p(){var m=[t,"spacer",n,r];m.push("spacer"),l()&&(m=m.concat([i,"spacer"]));var w=Bt(window.location.hash);w.support_download_osc==="true"&&m.push(s),m=m.concat([a,o]);var b=c.selectAll(".toolbar-item").data(m,function(v){return v.id||v});b.exit().each(function(v){v.uninstall&&v.uninstall()}).remove();var h=b.enter().append("div").attr("class",function(v){var x="toolbar-item "+(v.id||v).replace("_","-");return v.klass&&(x+=" "+v.klass),x}),g=h.filter(function(v){return v!=="spacer"});g.append("div").attr("class","item-content").each(function(v){G(this).call(v.render,c)}),g.append("div").attr("class","item-label").html(function(v){return v.label})}}return u}function zw(e){function t(){var a=e.mode();return!a||!a.zoomToSelected}var r;function n(a){r=a.pointerType}function i(a){if(a.preventDefault(),t())(r==="touch"||r==="pen")&&e.ui().flash.duration(2e3).iconName("#iD-icon-framed-dot").iconClass("disabled").label(F.html("inspector.zoom_to.no_selection"))();else{var o=e.mode();o&&o.zoomToSelected&&o.zoomToSelected()}r=null}return function(a){var o=Pe().placement(_e.textDirection()==="rtl"?"right":"left").title(function(){return t()?F.html("inspector.zoom_to.no_selection"):F.html("inspector.zoom_to.title")}).keys([F("inspector.zoom_to.key")]),s=a.append("button").on("pointerup",n).on("click",i).call(ce("#iD-icon-framed-dot","light")).call(o);function l(){s.classed("disabled",t()),s.select(".tooltip.in").empty()||s.call(o.updateContent)}e.on("enter.uiZoomToSelection",l),l()}}function ha(e,t){var r,n="",i="",a="",o,s=G(null),l,u={id:e};u.label=function(d){return arguments.length?(n=d,u):n},u.key=function(d){return arguments.length?(r=d,u):r},u.description=function(d){return arguments.length?(i=d,u):i},u.iconName=function(d){return arguments.length?(a=d,u):a},u.sections=function(d){return arguments.length?(o=d,u):o},u.selection=function(){return s};function c(){t.ui().togglePanes()}return u.togglePane=function(d){d&&d.preventDefault(),l.hide(),t.ui().togglePanes(s.classed("shown")?void 0:s)},u.renderToggleButton=function(d){l||(l=Pe().placement(_e.textDirection()==="rtl"?"right":"left").title(i).keys([r])),d.append("button").on("click",u.togglePane).call(ce("#"+a,"light")).call(l)},u.renderContent=function(d){o&&o.forEach(function(p){d.call(p.render)})},u.renderPane=function(d){s=d.append("div").attr("class","fillL map-pane hide "+e+"-pane").attr("pane",e);var p=s.append("div").attr("class","pane-heading");p.append("h2").html(n),p.append("button").on("click",c).call(ce("#iD-icon-close")),s.append("div").attr("class","pane-content").call(u.renderContent),r&&t.keybinding().on(r,u.togglePane)},u}function c6(e){var t=gt("background-display-options",e).label(F.html("background.display_options")).disclosureContent(c),r=qt(),n=pe("background-opacity"),i=0,a=r.cssfilters?3:1,o=r.cssfilters?["brightness","contrast","saturation","sharpness"]:["brightness"],s={brightness:n!==null?+n:1,contrast:1,saturation:1,sharpness:1};function l(d,p,m){return Math.max(p,Math.min(d,m))}function u(d,p){p=l(p,i,a),s[d]=p,e.background()[d](p),d==="brightness"&&pe("background-opacity",p),t.reRender()}function c(d){var p=d.selectAll(".display-options-container").data([0]),m=p.enter().append("div").attr("class","display-options-container controls-list"),w=m.selectAll(".display-control").data(o).enter().append("div").attr("class",function(h){return"display-control display-control-"+h});w.append("h5").html(function(h){return F.html("background."+h)}).append("span").attr("class",function(h){return"display-option-value display-option-value-"+h});var b=w.append("div").attr("class","control-wrap");b.append("input").attr("class",function(h){return"display-option-input display-option-input-"+h}).attr("type","range").attr("min",i).attr("max",a).attr("step","0.05").on("input",function(h,g){var v=G(this).property("value");!v&&h&&h.target&&(v=h.target.value),u(g,v)}),b.append("button").attr("title",F("background.reset")).attr("class",function(h){return"display-option-reset display-option-reset-"+h}).on("click",function(h,g){h.button===0&&u(g,1)}).call(ce("#iD-icon-"+(_e.textDirection()==="rtl"?"redo":"undo"))),m.append("a").attr("class","display-option-resetlink").attr("href","#").html(F.html("background.reset_all")).on("click",function(h){h.preventDefault();for(var g=0;g<o.length;g++)u(o[g],1)}),p=m.merge(p),p.selectAll(".display-option-input").property("value",function(h){return s[h]}),p.selectAll(".display-option-value").html(function(h){return Math.floor(s[h]*100)+"%"}),p.selectAll(".display-option-reset").classed("disabled",function(h){return s[h]===1}),m.size()&&s.brightness!==1&&e.background().brightness(s.brightness)}return t}var Uw=Xe(da());function f6(){var e=be("change");function t(r){var n={template:pe("background-custom-template")},i={template:pe("background-custom-template")},a="https://{switch:a,b,c}.tile.openstreetmap.org/{zoom}/{x}/{y}.png",o=Mo(r).okButton();o.classed("settings-modal settings-custom-background",!0),o.select(".modal-section.header").append("h3").html(F.html("settings.custom_background.header"));var s=o.select(".modal-section.message-text"),l="".concat(F.html("settings.custom_background.instructions.info"),"\n")+"\n"+"#### ".concat(F.html("settings.custom_background.instructions.wms.tokens_label"),"\n")+"* ".concat(F.html("settings.custom_background.instructions.wms.tokens.proj"),"\n")+"* ".concat(F.html("settings.custom_background.instructions.wms.tokens.wkid"),"\n")+"* ".concat(F.html("settings.custom_background.instructions.wms.tokens.dimensions"),"\n")+"* ".concat(F.html("settings.custom_background.instructions.wms.tokens.bbox"),"\n")+"\n"+"#### ".concat(F.html("settings.custom_background.instructions.tms.tokens_label"),"\n")+"* ".concat(F.html("settings.custom_background.instructions.tms.tokens.xyz"),"\n")+"* ".concat(F.html("settings.custom_background.instructions.tms.tokens.flipped_y"),"\n")+"* ".concat(F.html("settings.custom_background.instructions.tms.tokens.switch"),"\n")+"* ".concat(F.html("settings.custom_background.instructions.tms.tokens.quadtile"),"\n")+"* ".concat(F.html("settings.custom_background.instructions.tms.tokens.scale_factor"),"\n")+"\n"+"#### ".concat(F.html("settings.custom_background.instructions.example"),"\n")+"`".concat(a,"`");s.append("div").attr("class","instructions-template").html((0,Uw.default)(l)),s.append("textarea").attr("class","field-template").attr("placeholder",F("settings.custom_background.template.placeholder")).call(et).property("value",i.template);var u=o.select(".modal-section.buttons");u.insert("button",".ok-button").attr("class","button cancel-button secondary-action").html(F.html("confirm.cancel")),u.select(".cancel-button").on("click.cancel",d),u.select(".ok-button").attr("disabled",c).on("click.save",p);function c(){return null}function d(){s.select(".field-template").property("value",n.template),pe("background-custom-template",n.template),this.blur(),o.close()}function p(){i.template=s.select(".field-template").property("value"),pe("background-custom-template",i.template),this.blur(),o.close(),e.call("change",this,i)}}return ke(t,e,"on")}function d6(e){var t=G(null),r=e.background().findSource("custom"),n=f6(e).on("change",w),i=gt("background-list",e).label(F("background.backgrounds")).disclosureContent(l),a=pe("background-favorites"),o=a?JSON.parse(a):{};function s(){return pe("background-last-used-toggle")}function l(_){var y=_.selectAll(".layer-background-list").data([0]);t=y.enter().append("ul").attr("class","layer-list layer-background-list").attr("dir","auto").merge(y);var E=_.selectAll(".bg-extras-list").data([0]).enter().append("ul").attr("class","layer-list bg-extras-list"),k=E.append("li").attr("class","minimap-toggle-item").append("label").call(Pe().title(F("background.minimap.tooltip")).keys([F("background.minimap.key")]).placement("top"));k.append("input").attr("type","checkbox").on("change",function(D){D.preventDefault(),w1.toggle()}),k.append("span").text(F("background.minimap.description"));var A=E.append("li").attr("class","background-panel-toggle-item").append("label").call(Pe().title(F("background.panel.tooltip")).keys([qe("\u2318\u21E7"+F("info_panels.background.key"))]).placement("top"));A.append("input").attr("type","checkbox").on("change",function(D){D.preventDefault(),e.ui().info.toggle("background")}),A.append("span").text(F("background.panel.description"));var C=E.append("li").attr("class","location-panel-toggle-item").append("label").call(Pe().title(F("background.location_panel.tooltip")).keys([qe("\u2318\u21E7"+F("info_panels.location.key"))]).placement("top"));C.append("input").attr("type","checkbox").on("change",function(D){D.preventDefault(),e.ui().info.toggle("location")}),C.append("span").text(F("background.location_panel.description")),_.selectAll(".imagery-faq").data([0]).enter().append("div").attr("class","imagery-faq").append("a").attr("target","_blank").call(ce("#iD-icon-out-link","inline")).attr("href","https://github.com/openstreetmap/iD/blob/develop/FAQ.md#how-can-i-report-an-issue-with-background-imagery").append("span").text(F("background.imagery_problem_faq")),t.call(d,"radio",m,function(D){return!D.isHidden()&&!D.overlay})}function u(_){_.each(function(y,E,k){var A=G(k[E]).select("label"),C=A.select("span"),D=E<k.length/2?"bottom":"top",S=y.description(),N=C.property("clientWidth")!==C.property("scrollWidth");A.call(Pe().destroyAny),y.id===s()?A.call(Pe().placement(D).title("<div>"+F("background.switch")+"</div>").keys([qe("\u2318"+F("background.key"))])):(S||N)&&A.call(Pe().placement(D).title(S||y.name()))})}function c(_,y){return o[_.id]&&!o[y.id]?-1:o[y.id]&&!o[_.id]?1:_.best()&&!y.best()?-1:y.best()&&!_.best()?1:z1(_.area(),y.area())||jn(_.name(),y.name())||0}function d(_,y,E,k){var A=e.background().sources(e.map().extent(),e.map().zoom(),!0).filter(k),C=_.selectAll("li").data(A,function(N){return N.id});C.exit().remove();var D=C.enter().append("li").classed("layer-custom",function(N){return N.id==="custom"}).classed("best",function(N){return N.best()}),S=D.append("label");S.append("input").attr("type",y).attr("name","layers").on("change",E),S.append("span").attr("class","background-name").text(function(N){return N.name()}),D.append("button").attr("class","background-favorite-button").classed("active",function(N){return!!o[N.id]}).attr("tabindex",-1).call(ce("#iD-icon-favorite")).on("click",function(N,R){o[R.id]?(G(N.currentTarget).classed("active",!1),delete o[R.id]):(G(N.currentTarget).classed("active",!0),o[R.id]=!0),pe("background-favorites",JSON.stringify(o)),G(N.currentTarget.parentElement).transition().duration(300).ease($o).style("background-color","orange").transition().duration(300).ease($o).style("background-color",null),_.selectAll("li").sort(c),_.call(p)}),D.filter(function(N){return N.id==="custom"}).append("button").attr("class","layer-browse").call(Pe().title(F("settings.custom_background.tooltip")).placement(_e.textDirection()==="rtl"?"right":"left")).on("click",b).call(ce("#iD-icon-more")),D.filter(function(N){return N.best()}).selectAll("label").append("span").attr("class","best").call(Pe().title(F("background.best_imagery")).placement("bottom")).call(ce("#iD-icon-best-background")),_.selectAll("li").sort(c),_.call(p)}function p(_){function y(E){return e.background().showsLayer(E)}_.selectAll("li").classed("active",y).classed("switch",function(E){return E.id===s()}).call(u).selectAll("input").property("checked",y)}function m(_,y){if(y.id==="custom"&&!y.template())return b();var E=e.background().baseLayerSource();pe("background-last-used-toggle",E.id),pe("background-last-used",y.id),e.background().baseLayerSource(y),document.activeElement.blur()}function w(_){_&&_.template?(r.template(_.template),m(void 0,r)):(r.template(""),m(void 0,e.background().findSource("none")))}function b(_){_.preventDefault(),e.container().call(n)}e.background().on("change.background_list",function(){t.call(p)}),e.map().on("move.background_list",Nt(function(){window.requestIdleCallback(i.reRender)},1e3));function h(_){return e.background().sources(e.map().extent(),e.map().zoom(),!0).filter(_)}function g(_){var y=h(function(D){return!D.isHidden()&&!D.overlay});y.sort(c);var E=e.background().baseLayerSource(),k=y.indexOf(E);if(k!==-1){var A=(k+_+y.length)%y.length,C=y[A];C.id==="custom"&&!C.template()&&(A=(A+_+y.length)%y.length,C=y[A]),m(void 0,C)}}function v(){g(1)}function x(){g(-1)}return e.keybinding().on(F("background.next_background.key"),v).on(F("background.previous_background.key"),x),i}function p6(e){var t=gt("background-offset",e).label(F.html("background.fix_misalignment")).disclosureContent(u).expandedByDefault(!1),r="PointerEvent"in window?"pointer":"mouse",n=[["top",[0,-.5]],["left",[-.5,0]],["right",[.5,0]],["bottom",[0,.5]]];function i(){var c=N2(e.background().offset()),d=+c[0].toFixed(2),p=+c[1].toFixed(2);e.container().selectAll(".nudge-inner-rect").select("input").classed("error",!1).property("value",d+", "+p),e.container().selectAll(".nudge-reset").classed("disabled",function(){return d===0&&p===0})}function a(){e.background().offset([0,0]),i()}function o(c){e.background().nudge(c,e.map().zoom()),i()}function s(){var c=G(this),d=c.node().value;if(d==="")return a();if(d=d.replace(/;/g,",").split(",").map(function(p){return!isNaN(p)&&p}),d.length!==2||!d[0]||!d[1]){c.classed("error",!0);return}e.background().offset(I2(d)),i()}function l(c){if(c.button!==0)return;var d=[c.clientX,c.clientY],p=c.pointerId||"mouse";e.container().append("div").attr("class","nudge-surface"),G(window).on(r+"move.drag-bg-offset",m).on(r+"up.drag-bg-offset",w),r==="pointer"&&G(window).on("pointercancel.drag-bg-offset",w);function m(b){if(p===(b.pointerId||"mouse")){var h=[b.clientX,b.clientY],g=[-(d[0]-h[0])/4,-(d[1]-h[1])/4];d=h,o(g)}}function w(b){p===(b.pointerId||"mouse")&&b.button===0&&(e.container().selectAll(".nudge-surface").remove(),G(window).on(".drag-bg-offset",null))}}function u(c){var d=c.selectAll(".nudge-container").data([0]),p=d.enter().append("div").attr("class","nudge-container");p.append("div").attr("class","nudge-instructions").html(F.html("background.offset"));var m=p.append("div").attr("class","nudge-controls-wrap"),w=m.append("div").attr("class","nudge-outer-rect").on(r+"down",l);w.append("div").attr("class","nudge-inner-rect").append("input").attr("type","text").on("change",s),m.append("div").selectAll("button").data(n).enter().append("button").attr("class",function(b){return b[0]+" nudge"}).on("click",function(b,h){o(h[1])}),m.append("button").attr("title",F("background.reset")).attr("class","nudge-reset disabled").on("click",function(b){b.preventDefault(),a()}).call(ce("#iD-icon-"+(_e.textDirection()==="rtl"?"redo":"undo"))),i()}return e.background().on("change.backgroundOffset-update",i),t}function qw(e){var t=gt("grid-display-options",e).label(F("background.grid.grids")).disclosureContent(i);function r(a,o){a.preventDefault(),e.background().numGridSplits(o.numSplit)}function n(a){var o=a.selectAll(".layer-grid-list").data([0]),s=o.enter().append("ul").attr("class","layer-list layer-grid-list").attr("dir","auto").merge(o),l=s.selectAll("li").data([{numSplit:0,name:F("background.grid.no_grid")},{numSplit:2,name:F("background.grid.n_by_n",{num:2})},{numSplit:3,name:F("background.grid.n_by_n",{num:3})},{numSplit:4,name:F("background.grid.n_by_n",{num:4})},{numSplit:5,name:F("background.grid.n_by_n",{num:5})},{numSplit:6,name:F("background.grid.n_by_n",{num:6})}],function(d){return d.name}),u=l.enter().insert("li",".custom-gridsopt").attr("class","gridsopt"),c=u.append("label");c.append("input").attr("type","radio").attr("name","grids").property("checked",function(d){return d.numSplit===e.background().numGridSplits()}).on("change",r),c.append("span").text(function(d){return d.name}),l.exit().remove()}function i(a){var o=G(".section-grid-display-options");if(e.rapidContext().on("task_extent_set.grid_display_options",function(){e.rapidContext().isTaskRectangular()&&(o.classed("hide",!1),a.call(n))}),!e.rapidContext().isTaskRectangular()){o.classed("hide",!0);return}}return t}function m6(e){var t=gt("overlay-list",e).label(F.html("background.overlays")).disclosureContent(s),r=G(null);function n(l){l.each(function(u,c,d){var p=G(this).select("label"),m=p.select("span"),w=c<d.length/2?"bottom":"top",b=u.description(),h=m.property("clientWidth")!==m.property("scrollWidth");p.call(Pe().destroyAny),(b||h)&&p.call(Pe().placement(w).title(b||u.name()))})}function i(l){function u(c){return e.background().showsLayer(c)}l.selectAll("li").classed("active",u).call(n).selectAll("input").property("checked",u)}function a(l,u){l.preventDefault(),e.background().toggleOverlayLayer(u),r.call(i),document.activeElement.blur()}function o(l,u,c,d){var p=e.background().sources(e.map().extent(),e.map().zoom(),!0).filter(d),m=l.selectAll("li").data(p,function(g){return g.name()});m.exit().remove();var w=m.enter().append("li"),b=w.append("label");b.append("input").attr("type",u).attr("name","layers").on("change",c),b.append("span").html(function(g){return g.label()}),l.selectAll("li").sort(h),l.call(i);function h(g,v){return g.best()&&!v.best()?-1:v.best()&&!g.best()?1:z1(g.area(),v.area())||jn(g.name(),v.name())||0}}function s(l){var u=l.selectAll(".layer-overlay-list").data([0]);r=u.enter().append("ul").attr("class","layer-list layer-overlay-list").attr("dir","auto").merge(u),r.call(o,"checkbox",a,function(c){return!c.isHidden()&&c.overlay})}return e.map().on("move.overlay_list",Nt(function(){window.requestIdleCallback(t.reRender)},1e3)),t}function h6(e){var t=ha("background",e).key(F("background.key")).label(F.html("background.title")).description(F.html("background.description")).iconName("iD-icon-layers").sections([d6(e),m6(e),qw(e),c6(e),p6(e)]);return t}var Qw=Xe(da());function g6(e){var t=[["help",["welcome","open_data_h","open_data","before_start_h","before_start","open_source_h","open_source","open_source_help"]],["overview",["navigation_h","navigation_drag","navigation_zoom","features_h","features","nodes_ways"]],["editing",["select_h","select_left_click","select_right_click","select_space","multiselect_h","multiselect","multiselect_shift_click","multiselect_lasso","undo_redo_h","undo_redo","save_h","save","save_validation","upload_h","upload","backups_h","backups","keyboard_h","keyboard"]],["feature_editor",["intro","definitions","type_h","type","type_picker","fields_h","fields_all_fields","fields_example","fields_add_field","tags_h","tags_all_tags","tags_resources"]],["points",["intro","add_point_h","add_point","add_point_finish","move_point_h","move_point","delete_point_h","delete_point","delete_point_command"]],["lines",["intro","add_line_h","add_line","add_line_draw","add_line_continue","add_line_finish","modify_line_h","modify_line_dragnode","modify_line_addnode","connect_line_h","connect_line","connect_line_display","connect_line_drag","connect_line_tag","disconnect_line_h","disconnect_line_command","move_line_h","move_line_command","move_line_connected","delete_line_h","delete_line","delete_line_command"]],["areas",["intro","point_or_area_h","point_or_area","add_area_h","add_area_command","add_area_draw","add_area_continue","add_area_finish","square_area_h","square_area_command","modify_area_h","modify_area_dragnode","modify_area_addnode","delete_area_h","delete_area","delete_area_command"]],["relations",["intro","edit_relation_h","edit_relation","edit_relation_add","edit_relation_delete","maintain_relation_h","maintain_relation","relation_types_h","multipolygon_h","multipolygon","multipolygon_create","multipolygon_merge","turn_restriction_h","turn_restriction","turn_restriction_field","turn_restriction_editing","route_h","route","route_add","boundary_h","boundary","boundary_add"]],["operations",["intro","intro_2","straighten","orthogonalize","circularize","move","rotate","reflect","continue","reverse","disconnect","split","extract","merge","delete","downgrade","copy_paste"]],["notes",["intro","add_note_h","add_note","place_note","move_note","update_note_h","update_note","save_note_h","save_note"]],["imagery",["intro","sources_h","choosing","sources","offsets_h","offset","offset_change"]],["streetlevel",["intro","using_h","using","photos","viewer"]],["gps",["intro","survey","using_h","using","tracing","upload"]],["qa",["intro","tools_h","tools","issues_h","issues"]]],r={"help.help.open_data_h":3,"help.help.before_start_h":3,"help.help.open_source_h":3,"help.overview.navigation_h":3,"help.overview.features_h":3,"help.editing.select_h":3,"help.editing.multiselect_h":3,"help.editing.undo_redo_h":3,"help.editing.save_h":3,"help.editing.upload_h":3,"help.editing.backups_h":3,"help.editing.keyboard_h":3,"help.feature_editor.type_h":3,"help.feature_editor.fields_h":3,"help.feature_editor.tags_h":3,"help.points.add_point_h":3,"help.points.move_point_h":3,"help.points.delete_point_h":3,"help.lines.add_line_h":3,"help.lines.modify_line_h":3,"help.lines.connect_line_h":3,"help.lines.disconnect_line_h":3,"help.lines.move_line_h":3,"help.lines.delete_line_h":3,"help.areas.point_or_area_h":3,"help.areas.add_area_h":3,"help.areas.square_area_h":3,"help.areas.modify_area_h":3,"help.areas.delete_area_h":3,"help.relations.edit_relation_h":3,"help.relations.maintain_relation_h":3,"help.relations.relation_types_h":2,"help.relations.multipolygon_h":3,"help.relations.turn_restriction_h":3,"help.relations.route_h":3,"help.relations.boundary_h":3,"help.notes.add_note_h":3,"help.notes.update_note_h":3,"help.notes.save_note_h":3,"help.imagery.sources_h":3,"help.imagery.offsets_h":3,"help.streetlevel.using_h":3,"help.gps.using_h":3,"help.qa.tools_h":3,"help.qa.issues_h":3},n=t.map(function(a){var o="help."+a[0],s={version:e.rapidContext().version},l=a[1].reduce(function(u,c){var d=o+"."+c,p=r[d],m=p?Array(p+1).join("#")+" ":"";return u+m+we(d,s)+"\n\n"},"");return{title:F.html(o+".title"),content:(0,Qw.default)(l.trim()).replace(/<code>/g,"<kbd>").replace(/<\/code>/g,"</kbd>")}}),i=ha("help",e).key(F("help.key")).label(F.html("help.title")).description(F.html("help.title")).iconName("iD-icon-help");return i.renderContent=function(a){function o(h,g){var v=_e.textDirection()==="rtl";a.property("scrollTop",0),i.selection().select(".pane-heading h2").html(h.title),w.html(h.content),w.selectAll("a").attr("target","_blank"),c.classed("selected",function(y){return y.title===h.title}),b.html(""),v?b.call(x).call(_):b.call(_).call(x);function x(y){if(g<n.length-1){var E=y.append("a").attr("href","#").attr("class","next").on("click",function(k){k.preventDefault(),o(n[g+1],g+1)});E.append("span").html(n[g+1].title).call(ce(v?"#iD-icon-backward":"#iD-icon-forward","inline"))}}function _(y){if(g>0){var E=y.append("a").attr("href","#").attr("class","previous").on("click",function(k){k.preventDefault(),o(n[g-1],g-1)});E.call(ce(v?"#iD-icon-forward":"#iD-icon-backward","inline")).append("span").html(n[g-1].title)}}}function s(h){h.preventDefault(),!e.inIntro()&&(e.container().call(No(e)),e.ui().togglePanes())}function l(h){h.preventDefault(),e.container().call(e.ui().shortcuts,!0)}var u=a.append("ul").attr("class","toc"),c=u.selectAll("li").data(n).enter().append("li").append("a").attr("href","#").html(function(h){return h.title}).on("click",function(h,g){h.preventDefault(),o(g,n.indexOf(g))}),d=u.append("li").attr("class","shortcuts").call(Pe().title(F.html("shortcuts.tooltip")).keys(["?"]).placement("top")).append("a").attr("href","#").on("click",l);d.append("div").html(F.html("shortcuts.title"));var p=u.append("li").attr("class","walkthrough").append("a").attr("href","#").on("click",s);p.append("svg").attr("class","logo logo-walkthrough").append("use").attr("xlink:href","#iD-logo-walkthrough"),p.append("div").html(F.html("splash.walkthrough"));var m=a.append("div").attr("class","left-content"),w=m.append("div").attr("class","body"),b=m.append("div").attr("class","nav");o(n[0],0)},i}function A0(e,t,r){var n=[],i=gt(e,r).label(function(){if(!n)return"";var u=n.length>1e3?"1000+":String(n.length);return F("inspector.title_count",{title:F.html("issues."+t+"s.list_title"),count:u})}).disclosureContent(s).shouldDisplay(function(){return n&&n.length});function a(){return{what:pe("validate-what")||"edited",where:pe("validate-where")||"all"}}function o(){n=r.validator().getIssuesBySeverity(a())[t]}function s(u){var c=r.map().center(),d=r.graph(),p=n.map(function(w){var b=w.extent(d),h=b?bt(c,b.center()):0;return Object.assign(w,{dist:h})}).sort(function(w,b){return w.dist-b.dist});p=p.slice(0,1e3),u.call(l,p)}function l(u,c){var d=pe("rapid-internal-feature.showAutoFix")==="true",p=u.selectAll(".issues-list").data([0]);p=p.enter().append("ul").attr("class","layer-list issues-list "+t+"s-list").merge(p);var m=p.selectAll("li").data(c,function(y){return y.key});m.exit().remove();var w=m.enter().append("li").attr("class",function(y){return"issue severity-"+y.severity}),b=w.append("button").attr("class","issue-label").on("click",function(y,E){r.validator().focusIssue(E)}).on("mouseover",function(y,E){ot(E.entityIds,!0,r)}).on("mouseout",function(y,E){ot(E.entityIds,!1,r)}),h=b.append("span").attr("class","issue-text");h.append("span").attr("class","issue-icon").each(function(y){var E="#iD-icon-"+(y.severity==="warning"?"alert":"error");G(this).call(ce(E))}),h.append("span").attr("class","issue-message"),d&&b.append("span").attr("class","issue-autofix").each(function(y){!y.autoArgs||G(this).append("button").attr("title",F("issues.fix_one.title")).datum(y).attr("class","autofix action").on("click",function(E,k){E.preventDefault(),E.stopPropagation(),ot(k.entityIds,!1,r),r.perform.apply(r,k.autoArgs),r.validator().validate()}).call(ce("#iD-icon-wrench"))}),m=m.merge(w).order(),m.selectAll(".issue-message").html(function(y){return y.message(r)});var g=c.filter(function(y){return y.autoArgs}),v=u.selectAll(".autofix-all").data(d&&g.length?[0]:[]);v.exit().remove();var x=v.enter().insert("div",".issues-list").attr("class","autofix-all"),_=x.append("a").attr("class","autofix-all-link").attr("href","#");_.append("span").attr("class","autofix-all-link-text").html(F.html("issues.fix_all.title")),_.append("span").attr("class","autofix-all-link-icon").call(ce("#iD-icon-wrench")),v=v.merge(x),v.selectAll(".autofix-all-link").on("click",function(){r.pauseChangeDispatch(),r.perform(Fr()),g.forEach(function(y){var E=y.autoArgs.slice();typeof E[E.length-1]!="function"&&E.pop(),E.push(F("issues.fix_all.annotation")),r.replace.apply(r,E)}),r.resumeChangeDispatch(),r.validator().validate()})}return r.validator().on("validated.uiSectionValidationIssues"+e,function(){window.requestIdleCallback(function(){o(),i.reRender()})}),r.map().on("move.uiSectionValidationIssues"+e,Nt(function(){window.requestIdleCallback(function(){a().where==="visible"&&o(),i.reRender()})},1e3)),i}function v6(e){var t=gt("issues-options",e).content(r);function r(a){var o=a.selectAll(".issues-options-container").data([0]);o=o.enter().append("div").attr("class","issues-options-container").merge(o);var s=[{key:"what",values:["edited","all"]},{key:"where",values:["visible","all"]}],l=o.selectAll(".issues-option").data(s,function(d){return d.key}),u=l.enter().append("div").attr("class",function(d){return"issues-option issues-option-"+d.key});u.append("div").attr("class","issues-option-title").html(function(d){return F.html("issues.options."+d.key+".title")});var c=u.selectAll("label").data(function(d){return d.values.map(function(p){return{value:p,key:d.key}})}).enter().append("label");c.append("input").attr("type","radio").attr("name",function(d){return"issues-option-"+d.key}).attr("value",function(d){return d.value}).property("checked",function(d){return n()[d.key]===d.value}).on("change",function(d,p){i(d,p.key,p.value)}),c.append("span").html(function(d){return F.html("issues.options."+d.key+"."+d.value)})}function n(){return{what:pe("validate-what")||"edited",where:pe("validate-where")||"all"}}function i(a,o,s){!s&&a&&a.target&&(s=a.target.value),pe("validate-"+o,s),e.validator().validate()}return t}function y6(e){var t=0,r=20,n=5,i=gt("issues-rules",e).disclosureContent(o).label(F.html("issues.rules.title")),a=e.validator().getRuleKeys().filter(function(d){return d!=="maprules"}).sort(function(d,p){return F("issues."+d+".title")<F("issues."+p+".title")?-1:1});function o(d){var p=d.selectAll(".issues-rulelist-container").data([0]),m=p.enter().append("div").attr("class","issues-rulelist-container");m.append("ul").attr("class","layer-list issue-rules-list");var w=m.append("div").attr("class","issue-rules-links section-footer");w.append("a").attr("class","issue-rules-link").attr("href","#").html(F.html("issues.disable_all")).on("click",function(b){b.preventDefault(),e.validator().disableRules(a)}),w.append("a").attr("class","issue-rules-link").attr("href","#").html(F.html("issues.enable_all")).on("click",function(b){b.preventDefault(),e.validator().disableRules([])}),p=p.merge(m),p.selectAll(".issue-rules-list").call(s,a,"checkbox","rule",c,u)}function s(d,p,m,w,b,h){var g=d.selectAll("li").data(p);g.exit().remove();var v=g.enter().append("li");w==="rule"&&v.call(Pe().title(function(k){return F.html("issues."+k+".tip")}).placement("top"));var x=v.append("label");x.append("input").attr("type",m).attr("name",w).on("change",b),x.append("span").html(function(k){var A={};return k==="unsquare_way"&&(A.val='<span class="square-degrees"></span>'),F.html("issues."+k+".title",A)}),g=g.merge(v),g.classed("active",h).selectAll("input").property("checked",h).property("indeterminate",!1);var _=pe("validate-square-degrees");_===null&&(_=n.toString());var y=g.selectAll(".square-degrees"),E=y.selectAll(".square-degrees-input").data([0]);E.enter().append("input").attr("type","number").attr("min",t.toString()).attr("max",r.toString()).attr("step","0.5").attr("class","square-degrees-input").call(et).on("click",function(k){k.preventDefault(),k.stopPropagation(),this.select()}).on("keyup",function(k){k.keyCode===13&&(this.blur(),this.select())}).on("blur",l).merge(E).property("value",_)}function l(){var d=G(this),p=Qe(d).trim(),m=parseFloat(p,10);isFinite(m)?m>r?m=r:m<t&&(m=t):m=n,m=Math.round(m*10)/10,p=m.toString(),d.property("value",p),pe("validate-square-degrees",p),e.validator().revalidateUnsquare()}function u(d){return e.validator().isRuleEnabled(d)}function c(d,p){e.validator().toggleRule(p)}return e.validator().on("validated.uiSectionValidationRules",function(){window.requestIdleCallback(i.reRender)}),i}function b6(e){var t=gt("issues-status",e).content(n).shouldDisplay(function(){var o=e.validator().getIssues(r());return o.length===0});function r(){return{what:pe("validate-what")||"edited",where:pe("validate-where")||"all"}}function n(o){var s=o.selectAll(".box").data([0]),l=s.enter().append("div").attr("class","box");l.append("div").call(ce("#iD-icon-apply","pre-text"));var u=l.append("span");u.append("strong").attr("class","message"),u.append("br"),u.append("span").attr("class","details"),i(o),a(o)}function i(o){var s=e.validator().getIssues({what:"all",where:"all",includeDisabledRules:!0,includeIgnored:"only"}),l=o.selectAll(".reset-ignored").data(s.length?[0]:[]);l.exit().remove();var u=l.enter().append("div").attr("class","reset-ignored section-footer");u.append("a").attr("href","#"),l=l.merge(u),l.select("a").html(F("inspector.title_count",{title:F.html("issues.reset_ignored"),count:s.length})),l.on("click",function(c){c.preventDefault(),e.validator().resetIgnoredIssues()})}function a(o){var s=r();function l(c){for(var d in c){var p=c[d],m=e.validator().getIssues(p);if(m.length){o.select(".box .details").html(F.html("issues.no_issues.hidden_issues."+d,{count:m.length.toString()}));return}}o.select(".box .details").html(F.html("issues.no_issues.hidden_issues.none"))}var u;s.what==="edited"&&s.where==="visible"?(u="edits_in_view",l({elsewhere:{what:"edited",where:"all"},everything_else:{what:"all",where:"visible"},disabled_rules:{what:"edited",where:"visible",includeDisabledRules:"only"},everything_else_elsewhere:{what:"all",where:"all"},disabled_rules_elsewhere:{what:"edited",where:"all",includeDisabledRules:"only"},ignored_issues:{what:"edited",where:"visible",includeIgnored:"only"},ignored_issues_elsewhere:{what:"edited",where:"all",includeIgnored:"only"}})):s.what==="edited"&&s.where==="all"?(u="edits",l({everything_else:{what:"all",where:"all"},disabled_rules:{what:"edited",where:"all",includeDisabledRules:"only"},ignored_issues:{what:"edited",where:"all",includeIgnored:"only"}})):s.what==="all"&&s.where==="visible"?(u="everything_in_view",l({elsewhere:{what:"all",where:"all"},disabled_rules:{what:"all",where:"visible",includeDisabledRules:"only"},disabled_rules_elsewhere:{what:"all",where:"all",includeDisabledRules:"only"},ignored_issues:{what:"all",where:"visible",includeIgnored:"only"},ignored_issues_elsewhere:{what:"all",where:"all",includeIgnored:"only"}})):s.what==="all"&&s.where==="all"&&(u="everything",l({disabled_rules:{what:"all",where:"all",includeDisabledRules:"only"},ignored_issues:{what:"all",where:"all",includeIgnored:"only"}})),s.what==="edited"&&e.history().difference().summary().length===0&&(u="no_edits"),o.select(".box .message").html(F.html("issues.no_issues.message."+u))}return e.validator().on("validated.uiSectionValidationStatus",function(){window.requestIdleCallback(t.reRender)}),e.map().on("move.uiSectionValidationStatus",Nt(function(){window.requestIdleCallback(t.reRender)},1e3)),t}function w6(e){var t=ha("issues",e).key(F("issues.key")).label(F.html("issues.title")).description(F.html("issues.title")).iconName("iD-icon-alert").sections([v6(e),b6(e),A0("issues-errors","error",e),A0("issues-warnings","warning",e),y6(e)]);return t}function x6(e){var t=be("change");function r(n){var i=e.layers().layer("data"),a={fileList:i&&i.fileList()||null,url:pe("settings-custom-data-url")},o={fileList:i&&i.fileList()||null,url:pe("settings-custom-data-url")},s=Mo(n).okButton();s.classed("settings-modal settings-custom-data",!0),s.select(".modal-section.header").append("h3").html(F.html("settings.custom_data.header"));var l=s.select(".modal-section.message-text");l.append("pre").attr("class","instructions-file").html(F.html("settings.custom_data.file.instructions")),l.append("input").attr("class","field-file").attr("type","file").property("files",o.fileList).on("change",function(m){var w=m.target.files;w&&w.length?(o.url="",l.select(".field-url").property("value",""),o.fileList=w):o.fileList=null}),l.append("h4").html(F.html("settings.custom_data.or")),l.append("pre").attr("class","instructions-url").html(F.html("settings.custom_data.url.instructions")),l.append("textarea").attr("class","field-url").attr("placeholder",F("settings.custom_data.url.placeholder")).call(et).property("value",o.url);var u=s.select(".modal-section.buttons");u.insert("button",".ok-button").attr("class","button cancel-button secondary-action").html(F.html("confirm.cancel")),u.select(".cancel-button").on("click.cancel",d),u.select(".ok-button").attr("disabled",c).on("click.save",p);function c(){return null}function d(){l.select(".field-url").property("value",a.url),pe("settings-custom-data-url",a.url),this.blur(),s.close()}function p(){o.url=l.select(".field-url").property("value").trim(),o.url&&(o.fileList=null),o.fileList&&(o.url=""),pe("settings-custom-data-url",o.url),this.blur(),s.close(),t.call("change",this,o)}}return ke(r,t,"on")}function _6(e){var t=x6(e).on("change",m),r=e.layers(),n=gt("data-layers",e).label(F.html("map_data.data_layers")).disclosureContent(i);function i(b){var h=b.selectAll(".data-layer-container").data([0]);h.enter().append("div").attr("class","data-layer-container").merge(h).call(l).call(u).call(d).call(c).call(w)}function a(b){var h=r.layer(b);return h?h.enabled():!1}function o(b,h){var g=e.mode();if(!(g&&/^draw/.test(g.id))){var v=r.layer(b);v&&(v.enabled(h),!h&&(b==="osm"||b==="notes")&&e.enter(De(e)))}}function s(b){o(b,!a(b))}function l(b){var h=["osm","notes"],g=r.all().filter(function(E){return h.indexOf(E.id)!==-1}),v=b.selectAll(".layer-list-osm").data([0]);v=v.enter().append("ul").attr("class","layer-list layer-list-osm").merge(v);var x=v.selectAll(".list-item").data(g);x.exit().remove();var _=x.enter().append("li").attr("class",function(E){return"list-item list-item-"+E.id}),y=_.append("label").each(function(E){E.id==="osm"?G(this).call(Pe().title(F.html("map_data.layers."+E.id+".tooltip")).keys([qe("\u2325"+F("area_fill.wireframe.key"))]).placement("bottom")):G(this).call(Pe().title(F.html("map_data.layers."+E.id+".tooltip")).placement("bottom"))});y.append("input").attr("type","checkbox").on("change",function(E,k){s(k.id)}),y.append("span").html(function(E){return F.html("map_data.layers."+E.id+".title")}),x.merge(_).classed("active",function(E){return E.layer.enabled()}).selectAll("input").property("checked",function(E){return E.layer.enabled()})}function u(b){var h=["keepRight","improveOSM","osmose"],g=r.all().filter(function(E){return h.indexOf(E.id)!==-1}),v=b.selectAll(".layer-list-qa").data([0]);v=v.enter().append("ul").attr("class","layer-list layer-list-qa").merge(v);var x=v.selectAll(".list-item").data(g);x.exit().remove();var _=x.enter().append("li").attr("class",function(E){return"list-item list-item-"+E.id}),y=_.append("label").each(function(E){G(this).call(Pe().title(F.html("map_data.layers."+E.id+".tooltip")).placement("bottom"))});y.append("input").attr("type","checkbox").on("change",function(E,k){s(k.id)}),y.append("span").html(function(E){return F.html("map_data.layers."+E.id+".title")}),x.merge(_).classed("active",function(E){return E.layer.enabled()}).selectAll("input").property("checked",function(E){return E.layer.enabled()})}function c(b){var h=r.layer("data"),g=[{name:"Detroit Neighborhoods/Parks",src:"neighborhoods-parks",tooltip:"Neighborhood boundaries and parks as compiled by City of Detroit in concert with community groups.",template:"https://{switch:a,b,c,d}.tiles.mapbox.com/v4/jonahadkins.cjksmur6x34562qp9iv1u3ksf-54hev,jonahadkins.cjksmqxdx33jj2wp90xd9x2md-4e5y2/{z}/{x}/{y}.vector.pbf?access_token=pk.eyJ1Ijoiam9uYWhhZGtpbnMiLCJhIjoiRlVVVkx3VSJ9.9sdVEK_B_VkEXPjssU5MqA"},{name:"Detroit Composite POIs",src:"composite-poi",tooltip:"Fire Inspections, Business Licenses, and other public location data collated from the City of Detroit.",template:"https://{switch:a,b,c,d}.tiles.mapbox.com/v4/jonahadkins.cjksmm6a02sli31myxhsr7zf3-2sw8h/{z}/{x}/{y}.vector.pbf?access_token=pk.eyJ1Ijoiam9uYWhhZGtpbnMiLCJhIjoiRlVVVkx3VSJ9.9sdVEK_B_VkEXPjssU5MqA"},{name:"Detroit All-The-Places POIs",src:"alltheplaces-poi",tooltip:"Public domain business location data created by web scrapers.",template:"https://{switch:a,b,c,d}.tiles.mapbox.com/v4/jonahadkins.cjksmswgk340g2vo06p1w9w0j-8fjjc/{z}/{x}/{y}.vector.pbf?access_token=pk.eyJ1Ijoiam9uYWhhZGtpbnMiLCJhIjoiRlVVVkx3VSJ9.9sdVEK_B_VkEXPjssU5MqA"}],v=new Ne([-83.5,42.1],[-82.8,42.5]),x=new Ne(e.map().center()),_=e.map().zoom()>9&&v.contains(x),y=b.selectAll(".vectortile-container").data(_?[0]:[]);y.exit().remove();var E=y.enter().append("div").attr("class","vectortile-container");E.append("h4").attr("class","vectortile-header").html("Detroit Vector Tiles (Beta)"),E.append("ul").attr("class","layer-list layer-list-vectortile"),E.append("div").attr("class","vectortile-footer").append("a").attr("target","_blank").call(ce("#iD-icon-out-link","inline")).attr("href","https://github.com/osmus/detroit-mapping-challenge").append("span").html("About these layers"),y=y.merge(E);var k=y.selectAll(".layer-list-vectortile"),A=k.selectAll(".list-item").data(g);A.exit().remove();var C=A.enter().append("li").attr("class",function(R){return"list-item list-item-"+R.src}),D=C.append("label").each(function(R){G(this).call(Pe().title(R.tooltip).placement("top"))});D.append("input").attr("type","radio").attr("name","vectortile").on("change",N),D.append("span").html(function(R){return R.name}),A.merge(C).classed("active",S).selectAll("input").property("checked",S);function S(R){return h&&h.template()===R.template}function N(R,P){pe("settings-custom-data-url",P.template),h&&(h.template(P.template,P.src),h.enabled(!0))}}function d(b){var h=r.layer("data"),g=h&&h.hasData(),v=g&&h.enabled(),x=b.selectAll(".layer-list-data").data(h?[0]:[]);x.exit().remove();var _=x.enter().append("ul").attr("class","layer-list layer-list-data"),y=_.append("li").attr("class","list-item-data"),E=y.append("label").call(Pe().title(F.html("map_data.layers.custom.tooltip")).placement("top"));E.append("input").attr("type","checkbox").on("change",function(){s("data")}),E.append("span").html(F.html("map_data.layers.custom.title")),y.append("button").attr("class","open-data-options").call(Pe().title(F.html("settings.custom_data.tooltip")).placement(_e.textDirection()==="rtl"?"right":"left")).on("click",function(k){k.preventDefault(),p()}).call(ce("#iD-icon-more")),y.append("button").attr("class","zoom-to-data").call(Pe().title(F.html("map_data.layers.custom.zoom")).placement(_e.textDirection()==="rtl"?"right":"left")).on("click",function(k){G(this).classed("disabled")||(k.preventDefault(),k.stopPropagation(),h.fitZoom())}).call(ce("#iD-icon-framed-dot","monochrome")),x=x.merge(_),x.selectAll(".list-item-data").classed("active",v).selectAll("label").classed("deemphasize",!g).selectAll("input").property("disabled",!g).property("checked",v),x.selectAll("button.zoom-to-data").classed("disabled",!g)}function p(){e.container().call(t)}function m(b){var h=r.layer("data");b&&b.url?h.url(b.url):b&&b.fileList&&h.fileList(b.fileList)}function w(b){var h=b.selectAll(".md-extras-list").data([0]).enter().append("ul").attr("class","layer-list md-extras-list"),g=h.append("li").attr("class","history-panel-toggle-item").append("label").call(Pe().title(F.html("map_data.history_panel.tooltip")).keys([qe("\u2318\u21E7"+F("info_panels.history.key"))]).placement("top"));g.append("input").attr("type","checkbox").on("change",function(_){_.preventDefault(),e.ui().info.toggle("history")}),g.append("span").html(F.html("map_data.history_panel.title"));var v=h.append("li").attr("class","progress-panel-toggle-item").append("label").call(Pe().title("Shows the import status panel").keys([qe("\u2318\u21E7"+F("info_panels.progress.key"))]).placement("top"));v.append("input").attr("type","checkbox").on("change",function(_){_.preventDefault(),e.ui().info.toggle("progress")}),v.append("span").html("Show Import Progress Panel");var x=h.append("li").attr("class","measurement-panel-toggle-item").append("label").call(Pe().title(F.html("map_data.measurement_panel.tooltip")).keys([qe("\u2318\u21E7"+F("info_panels.measurement.key"))]).placement("top"));x.append("input").attr("type","checkbox").on("change",function(_){_.preventDefault(),e.ui().info.toggle("measurement")}),x.append("span").html(F.html("map_data.measurement_panel.title"))}return e.layers().on("change.uiSectionDataLayers",n.reRender),e.map().on("move.uiSectionDataLayers",Nt(function(){window.requestIdleCallback(n.reRender)},1e3)),n}function k6(e){var t=e.features().keys(),r=gt("map-features",e).label(F.html("map_data.map_features")).disclosureContent(n).expandedByDefault(!1);function n(u){var c=u.selectAll(".layer-feature-list-container").data([0]),d=c.enter().append("div").attr("class","layer-feature-list-container");d.append("ul").attr("class","layer-list layer-feature-list");var p=d.append("div").attr("class","feature-list-links section-footer");p.append("a").attr("class","feature-list-link").attr("href","#").html(F.html("issues.disable_all")).on("click",function(m){m.preventDefault(),e.features().disableAll()}),p.append("a").attr("class","feature-list-link").attr("href","#").html(F.html("issues.enable_all")).on("click",function(m){m.preventDefault(),e.features().enableAll()}),c=c.merge(d),c.selectAll(".layer-feature-list").call(i,t,"checkbox","feature",s,o)}function i(u,c,d,p,m,w){var b=u.selectAll("li").data(c);b.exit().remove();var h=b.enter().append("li").call(Pe().title(function(v){var x=F.html(p+"."+v+".tooltip");if(a(v)){var _=l("osm")?F.html("map_data.autohidden"):F.html("map_data.osmhidden");x+="<div>"+_+"</div>"}return x}).placement("top")),g=h.append("label");g.append("input").attr("type",d).attr("name",p).on("change",m),g.append("span").html(function(v){return F.html(p+"."+v+".description")}),b=b.merge(h),b.classed("active",w).selectAll("input").property("checked",w).property("indeterminate",a)}function a(u){return e.features().autoHidden(u)}function o(u){return e.features().enabled(u)}function s(u,c){e.features().toggle(c)}function l(u){var c=e.layers().layer(u);return c&&c.enabled()}return e.features().on("change.map_features",r.reRender),r}function E6(e){var t=gt("fill-area",e).label(F.html("map_data.style_options")).disclosureContent(r).expandedByDefault(!1);function r(s){var l=s.selectAll(".layer-fill-list").data([0]);l.enter().append("ul").attr("class","layer-list layer-fill-list").merge(l).call(n,e.map().areaFillOptions,"radio","area_fill",o,i);var u=s.selectAll(".layer-visual-diff-list").data([0]);u.enter().append("ul").attr("class","layer-list layer-visual-diff-list").merge(u).call(n,["highlight_edits"],"checkbox","visual_diff",a,function(){return e.surface().classed("highlight-edited")})}function n(s,l,u,c,d,p){var m=s.selectAll("li").data(l);m.exit().remove();var w=m.enter().append("li").call(Pe().title(function(h){return F.html(c+"."+h+".tooltip")}).keys(function(h){var g=h==="wireframe"?F("area_fill.wireframe.key"):null;return h==="highlight_edits"&&(g=F("map_data.highlight_edits.key")),g?[g]:null}).placement("top")),b=w.append("label");b.append("input").attr("type",u).attr("name",c).on("change",d),b.append("span").html(function(h){return F.html(c+"."+h+".description")}),m=m.merge(w),m.classed("active",p).selectAll("input").property("checked",p).property("indeterminate",!1)}function i(s){return e.map().activeAreaFill()===s}function a(s){s.preventDefault(),e.map().toggleHighlightEdited()}function o(s,l){e.map().activeAreaFill(l)}return e.map().on("changeHighlighting.ui_style, changeAreaFill.ui_style",t.reRender),t}function A6(e){var t=e.layers(),r=gt("photo-overlays",e).label(F.html("photo_overlays.title")).disclosureContent(n).expandedByDefault(!1);function n(d){var p=d.selectAll(".photo-overlay-container").data([0]);p.enter().append("div").attr("class","photo-overlay-container").merge(p).call(i).call(a).call(o).call(s)}function i(d){var p=e.photos().overlayLayerIDs(),m=t.all().filter(function(y){return p.indexOf(y.id)!==-1}),w=m.filter(function(y){return y.layer.supported()});function b(y){return y.layer&&y.layer.supported()}function h(y){return b(y)&&y.layer.enabled()}var g=d.selectAll(".layer-list-photos").data([0]);g=g.enter().append("ul").attr("class","layer-list layer-list-photos").merge(g);var v=g.selectAll(".list-item-photos").data(w);v.exit().remove();var x=v.enter().append("li").attr("class",function(y){var E="list-item-photos list-item-"+y.id;return(y.id==="mapillary-signs"||y.id==="mapillary-map-features")&&(E+=" indented"),E}),_=x.append("label").each(function(y){var E;y.id==="mapillary-signs"?E="mapillary.signs.tooltip":y.id==="mapillary"?E="mapillary_images.tooltip":y.id==="openstreetcam"?E="openstreetcam_images.tooltip":E=y.id.replace(/-/g,"_")+".tooltip",G(this).call(Pe().title(F.html(E)).placement("top"))});_.append("input").attr("type","checkbox").on("change",function(y,E){l(E.id)}),_.append("span").html(function(y){var E=y.id;return E==="mapillary-signs"&&(E="photo_overlays.traffic_signs"),F.html(E.replace(/-/g,"_")+".title")}),v.merge(x).classed("active",h).selectAll("input").property("checked",h)}function a(d){var p=e.photos().allPhotoTypes();function m(v){return e.photos().showsPhotoType(v)}var w=d.selectAll(".layer-list-photo-types").data([0]);w.exit().remove(),w=w.enter().append("ul").attr("class","layer-list layer-list-photo-types").merge(w);var b=w.selectAll(".list-item-photo-types").data(e.photos().shouldFilterByPhotoType()?p:[]);b.exit().remove();var h=b.enter().append("li").attr("class",function(v){return"list-item-photo-types list-item-"+v}),g=h.append("label").each(function(v){G(this).call(Pe().title(F.html("photo_overlays.photo_type."+v+".tooltip")).placement("top"))});g.append("input").attr("type","checkbox").on("change",function(v,x){e.photos().togglePhotoType(x)}),g.append("span").html(function(v){return F.html("photo_overlays.photo_type."+v+".title")}),b.merge(h).classed("active",m).selectAll("input").property("checked",m)}function o(d){var p=e.photos().dateFilters();function m(v){return e.photos().dateFilterValue(v)}var w=d.selectAll(".layer-list-date-filter").data([0]);w.exit().remove(),w=w.enter().append("ul").attr("class","layer-list layer-list-date-filter").merge(w);var b=w.selectAll(".list-item-date-filter").data(e.photos().shouldFilterByDate()?p:[]);b.exit().remove();var h=b.enter().append("li").attr("class","list-item-date-filter"),g=h.append("label").each(function(v){G(this).call(Pe().title(F.html("photo_overlays.date_filter."+v+".tooltip")).placement("top"))});g.append("span").html(function(v){return F.html("photo_overlays.date_filter."+v+".title")}),g.append("input").attr("type","date").attr("class","list-item-input").attr("placeholder",F("units.year_month_day")).call(et).each(function(v){Qe(G(this),e.photos().dateFilterValue(v)||"")}).on("change",function(v,x){var _=Qe(G(this)).trim();e.photos().setDateFilter(x,_,!0),b.selectAll("input").each(function(y){Qe(G(this),e.photos().dateFilterValue(y)||"")})}),b=b.merge(h).classed("active",m)}function s(d){function p(){return e.photos().usernames()}var m=d.selectAll(".layer-list-username-filter").data([0]);m.exit().remove(),m=m.enter().append("ul").attr("class","layer-list layer-list-username-filter").merge(m);var w=m.selectAll(".list-item-username-filter").data(e.photos().shouldFilterByUsername()?["username-filter"]:[]);w.exit().remove();var b=w.enter().append("li").attr("class","list-item-username-filter"),h=b.append("label").each(function(){G(this).call(Pe().title(F.html("photo_overlays.username_filter.tooltip")).placement("top"))});h.append("span").html(F.html("photo_overlays.username_filter.title")),h.append("input").attr("type","text").attr("class","list-item-input").call(et).property("value",g).on("change",function(){var v=G(this).property("value");e.photos().setUsernameFilter(v,!0),G(this).property("value",g)}),w.merge(b).classed("active",p);function g(){var v=e.photos().usernames();return v&&v.join("; ")}}function l(d){c(d,!u(d))}function u(d){var p=t.layer(d);return p?p.enabled():!1}function c(d,p){var m=t.layer(d);m&&m.enabled(p)}return e.layers().on("change.uiSectionPhotoOverlays",r.reRender),e.photos().on("change.uiSectionPhotoOverlays",r.reRender),r}function C6(e){var t=ha("map-data",e).key(F("map_data.key")).label(F.html("map_data.title")).description(F.html("map_data.description")).iconName("iD-icon-data").sections([_6(e),A6(e),E6(e),k6(e)]);return t}function D6(e){var t=gt("preferences-third-party",e).label(F.html("preferences.privacy.title")).disclosureContent(n),r=pe("preferences.privacy.thirdpartyicons")||"true";function n(i){var a=i.selectAll(".privacy-options-list").data([0]).enter().append("ul").attr("class","layer-list privacy-options-list"),o=a.append("li").attr("class","privacy-third-party-icons-item").append("label").call(Pe().title(F.html("preferences.privacy.third_party_icons.tooltip")).placement("bottom"));o.append("input").attr("type","checkbox").on("change",function(l){l.preventDefault(),r=r==="true"?"false":"true",pe("preferences.privacy.thirdpartyicons",r),s()}),o.append("span").html(F.html("preferences.privacy.third_party_icons.description")),i.selectAll(".privacy-link").data([0]).enter().append("div").attr("class","privacy-link").append("a").attr("target","_blank").call(ce("#iD-icon-out-link","inline")).attr("href","https://github.com/openstreetmap/iD/blob/release/PRIVACY.md").append("span").html(F.html("preferences.privacy.privacy_link")),s();function s(){i.selectAll(".privacy-third-party-icons-item").classed("active",r==="true").select("input").property("checked",r==="true")}}return t}function S6(e){var t=ha("preferences",e).key(F("preferences.key")).label(F.html("preferences.title")).description(F.html("preferences.description")).iconName("fas-user-cog").sections([D6(e)]);return t}function a6(e){var t=0,r={},n;function i(u){u.on("click.ui",function(S){if(S.button===0&&!!S.composedPath){var N=S.composedPath().some(function(R){return R.nodeType===1&&(R.nodeName==="INPUT"||R.nodeName==="LABEL"||R.nodeName==="A")});N||S.preventDefault()}});var c=qt();"GestureEvent"in window&&!c.isMobileWebKit&&u.on("gesturestart.ui gesturechange.ui gestureend.ui",function(S){S.preventDefault()}),"PointerEvent"in window?G(window).on("pointerdown.ui pointerup.ui",function(S){var N=S.pointerType||"mouse";n!==N&&(n=N,u.attr("pointer",N))},!0):(n="mouse",u.attr("pointer","mouse")),u.attr("lang",_e.localeCode()).attr("dir",_e.textDirection()),u.call(J3(e));var d=e.map();d.redrawEnable(!1),d.on("hitMinZoom.ui",function(){a.flash.iconName("#iD-icon-no").label(F.html("cannot_zoom"))()}),u.append("svg").attr("id","ideditor-defs").call(a.svgDefs),u.append("div").attr("class","sidebar").call(a.sidebar);var p=u.append("div").attr("class","main-content active");p.append("div").attr("class","top-toolbar-wrap").append("div").attr("class","top-toolbar fillD").call(jw(e)),p.append("div").attr("class","main-map").attr("dir","ltr").call(d);var m=p.append("div").attr("class","over-map");m.append("div").attr("class","select-trap").text("t"),m.call(w1(e)).call(G5(e)),m.append("div").attr("class","spinner").call(Y5(e));var w=m.append("div").attr("class","map-controls");w.append("div").attr("class","map-control zoombuttons").call($5(e)),w.append("div").attr("class","map-control zoom-to-selection-control").call(zw(e)),w.append("div").attr("class","map-control geolocate-control").call(e5(e)),w.on("wheel.mapControls",function(S){S.deltaX||(w.node().scrollTop+=S.deltaY)});var b=m.append("div").attr("class","map-panes"),h=[h6(e),C6(e),w6(e),S6(e),g6(e)];h.forEach(function(S){w.append("div").attr("class","map-control map-pane-control "+S.id+"-control").call(S.renderToggleButton),b.call(S.renderPane)}),a.info=i6(e),m.call(a.info),m.append("div").attr("class","photoviewer").classed("al",!0).classed("hide",!0).call(a.photoviewer),m.append("div").attr("class","attribution-wrap").attr("dir","ltr").call(K3(e));var g=p.append("div").attr("class","map-footer");g.append("div").attr("class","api-status").call(Z5(e));var v=g.append("div").attr("class","map-footer-bar fillD");v.append("div").attr("class","flash-wrap footer-hide");var x=v.append("div").attr("class","main-footer-wrap footer-show");x.append("div").attr("class","scale-block").call(W5(e));var _=x.append("div").attr("class","info-block").append("ul").attr("class","map-footer-list");_.append("li").attr("class","user-list").call(Y3(e)),_.append("li").attr("class","fb-road-license").attr("tabindex",-1).call(n6());var y=e.apiConnections();y&&y.length>1&&_.append("li").attr("class","source-switch").call(K5(e).keys(y)),_.append("li").attr("class","issues-info").call(q5(e)),_.append("li").attr("class","feature-warning").call($3(e));var E=_.append("li");E.append("a").attr("target","_blank").attr("tabindex",-1).attr("href","https://github.com/facebookincubator/RapiD/issues").call(ce("#iD-icon-bug","light")).call(Pe().title(F.html("report_a_bug")).placement("top")),E.append("a").attr("target","_blank").attr("href","https://github.com/openstreetmap/iD/blob/develop/CONTRIBUTING.md#translating").call(ce("#iD-icon-translate","light")).call(Pe().title(F.html("help_translate")).placement("top")),_.append("li").attr("class","version").call(X5(e)),e.embed()||_.call(V3(e)),a.onResize(),d.redrawEnable(!0),a.hash=F6(e),a.hash(),a.hash.hadHash||d.centerZoom([0,0],2),window.onbeforeunload=function(){return e.save()},window.onunload=function(){e.history().unlock()},G(window).on("resize.editor",function(){a.onResize()});var k=80;e.keybinding().on("\u232B",function(S){S.preventDefault()}).on([F("sidebar.key"),"`","\xB2","@"],a.sidebar.toggle).on("\u2190",D([k,0])).on("\u2191",D([0,k])).on("\u2192",D([-k,0])).on("\u2193",D([0,-k])).on(qe("\u2325\u2190"),D([d.dimensions()[0],0])).on(qe("\u2325\u2191"),D([0,d.dimensions()[1]])).on(qe("\u2325\u2192"),D([-d.dimensions()[0],0])).on(qe("\u2325\u2193"),D([0,-d.dimensions()[1]])).on(qe("\u2318"+F("background.key")),function(N){N&&(N.stopImmediatePropagation(),N.preventDefault());var R=e.background().findSource(pe("background-last-used-toggle"));if(R){var P=e.background().baseLayerSource();pe("background-last-used-toggle",P.id),pe("background-last-used",R.id),e.background().baseLayerSource(R)}}).on(F("area_fill.wireframe.key"),function(N){N.preventDefault(),N.stopPropagation(),e.map().toggleWireframe()}).on(qe("\u2325"+F("area_fill.wireframe.key")),function(N){N.preventDefault(),N.stopPropagation();var R=e.mode();if(!(R&&/^draw/.test(R.id))){var P=e.layers().layer("osm");P&&(P.enabled(!P.enabled()),P.enabled()||e.enter(De(e)))}}).on(F("map_data.highlight_edits.key"),function(N){N.preventDefault(),e.map().toggleHighlightEdited()}),e.on("enter.editor",function(S){u.classed("mode-"+S.id,!0)}).on("exit.editor",function(S){u.classed("mode-"+S.id,!1)}),e.enter(De(e));var A=e.connection();t++||(a.hash.startWalkthrough||(e.history().lock()&&e.history().hasRestorableChanges()?e.container().call(H5(e)):e.container().call(D4(e))),e.container().call(a.shortcuts));var C=Pa(e).message(F.html("loading_auth")).blocking(!0);A&&C&&A.on("authLoading.ui",function(){e.container().call(C)}).on("authDone.ui",function(){C.close()}),t++,a.hash.startWalkthrough&&(a.hash.startWalkthrough=!1,e.container().call(No(e)));function D(S){return function(N){N.shiftKey||e.container().select(".combobox").size()||(N.preventDefault(),e.map().pan(S,100))}}}var a={},o;a.ensureLoaded=function(){return o||(o=Promise.all([_e.ensureLoaded(),Ie.ensureLoaded()]).then(function(){e.container().empty()||i(e.container())}).catch(function(u){return console.error(u)}))},a.restart=function(){e.keybinding().clear(),o=null,e.container().selectAll("*").remove(),a.ensureLoaded()},a.lastPointerType=function(){return n},a.svgDefs=l3(e),a.flash=p4(e),a.sidebar=V5(e),a.photoviewer=Tw(e),a.shortcuts=Mw(e),a.onResize=function(u){var c=e.map(),d=yn(e.container().select(".main-content"),!0);yn(e.container().select(".sidebar"),!0),u!==void 0&&(c.redrawEnable(!1),c.pan(u),c.redrawEnable(!0)),c.dimensions(d),a.photoviewer.onMapResize(),a.checkOverflow(".top-toolbar"),a.checkOverflow(".map-footer-bar");var p=document.createEvent("Event");p.initEvent("resizeWindow",!0,!0),document.dispatchEvent(p)},a.checkOverflow=function(u,c){c&&delete r[u];var d=e.container().select(u);if(!d.empty()){var p=d.property("scrollWidth"),m=d.property("clientWidth"),w=r[u]||p;p>m?(d.classed("narrow",!0),r[u]||(r[u]=p)):p>=w&&d.classed("narrow",!1)}},a.togglePanes=function(u){var c=e.container().selectAll(".map-pane.shown"),d=_e.textDirection()==="ltr"?"right":"left";c.classed("shown",!1).classed("hide",!0),e.container().selectAll(".map-pane-control button").classed("active",!1),u?(c.classed("shown",!1).classed("hide",!0).style(d,"-500px"),e.container().selectAll("."+u.attr("pane")+"-control button").classed("active",!0),u.classed("shown",!0).classed("hide",!1),c.empty()?u.style(d,"-500px").transition().duration(200).style(d,"0px"):u.style(d,"0px")):c.classed("shown",!0).classed("hide",!1).style(d,"0px").transition().duration(200).style(d,"-500px").on("end",function(){G(this).classed("shown",!1).classed("hide",!0)})};var s=X3(e);a.editMenu=function(){return s},a.showEditMenu=function(u,c,d){if(a.closeEditMenu(),!d&&e.mode().operations&&(d=e.mode().operations()),!(!d||!d.length)&&!!e.map().editableDataEnabled()){var p=e.surface().node();p.focus&&p.focus(),d.forEach(function(m){m.point&&m.point(u)}),s.anchorLoc(u).triggerType(c).operations(d),e.map().supersurface.call(s)}},a.closeEditMenu=function(){e.map().supersurface.select(".edit-menu").remove()};var l=G(null);return e.uploader().on("saveStarted.ui",function(){l=Pa(e).message(F.html("save.uploading")).blocking(!0),e.container().call(l)}).on("saveEnded.ui",function(){l.close(),l=G(null)}),a}function Gw(){var e=this,t=be("enter","exit","change"),r=ke({},t,"on"),n=new Set;r.version="2.20.2-dev",r.privacyVersion="20201202",r.initialHashParams=window.location.hash?Bt(window.location.hash):{},r.isFirstSession=!pe("sawSplash")&&!pe("sawPrivacyVersion"),r.changeset=null;var i=r.initialHashParams.comment,a=r.initialHashParams.source,o=r.initialHashParams.hashtags;r.defaultChangesetComment=function(I){return arguments.length?(i=I,r):i},r.defaultChangesetSource=function(I){return arguments.length?(a=I,r):a},r.defaultChangesetHashtags=function(I){return arguments.length?(o=I,r):o};var s=!0;r.setsDocumentTitle=function(I){return arguments.length?(s=I,r):s};var l=document.title;r.documentTitleBase=function(I){return arguments.length?(l=I,r):l};var u;r.ui=function(){return u},r.lastPointerType=function(){return u.lastPointerType()};var c=Re("context");r.keybinding=function(){return c},G(document).call(c);var d=ue.osm,p,m,w;r.connection=function(){return d},r.history=function(){return p},r.validator=function(){return m},r.uploader=function(){return w},r.preauth=function(I){return d&&d.switch(I),r};var b;r.apiConnections=function(I){return arguments.length?(b=I,r):b},r.locale=function(I){return arguments.length?(_e.preferredLocaleCodes(I),r):_e.localeCode()};function h(I,z){return function(q,V){if(q){(q.status===400||q.status===401||q.status===403)&&d&&d.logout(),typeof z=="function"&&z(q);return}else if(d&&d.getConnectionId()!==I){typeof z=="function"&&z({message:"Connection Switched",status:-1});return}else{p.merge(V.data,V.extent),typeof z=="function"&&z(q,V);return}}}r.loadTiles=function(I,z){var q=window.requestIdleCallback(function(){if(n.delete(q),d&&r.editableDataEnabled()){var V=d.getConnectionId();d.loadTiles(I,h(V,z))}});n.add(q)},r.loadTileAtLoc=function(I,z){var q=window.requestIdleCallback(function(){if(n.delete(q),d&&r.editableDataEnabled()){var V=d.getConnectionId();d.loadTileAtLoc(I,h(V,z))}});n.add(q)},r.loadEntity=function(I,z){if(d){var q=d.getConnectionId();d.loadEntity(I,h(q,z)),d.loadEntityRelations(I,h(q,z))}},r.zoomToEntity=function(I,z){r.loadEntity(I,function(q,V){if(!q&&z!==!1){var Y=V.data.find(function(ee){return ee.id===I});Y&&P.zoomTo(Y)}}),P.on("drawn.zoomToEntity",function(){!r.hasEntity(I)||(P.on("drawn.zoomToEntity",null),r.on("enter.zoomToEntity",null),r.enter(Le(r,[I])))}),r.on("enter.zoomToEntity",function(){y.id!=="browse"&&(P.on("drawn.zoomToEntity",null),r.on("enter.zoomToEntity",null))})};var g=16;r.minEditableZoom=function(I){return arguments.length?(g=I,d&&d.tileZoom(I),r):g},r.maxCharsForTagKey=function(){return 255},r.maxCharsForTagValue=function(){return 255},r.maxCharsForRelationRole=function(){return 255};function v(I,z){return I==null?I="":I=I.toString(),I=I.trim(),I.normalize&&(I=I.normalize("NFC")),Y0(I,z)}r.cleanTagKey=function(I){return v(I,r.maxCharsForTagKey())},r.cleanTagValue=function(I){return v(I,r.maxCharsForTagValue())},r.cleanRelationRole=function(I){return v(I,r.maxCharsForRelationRole())};var x=!1;r.inIntro=function(I){return arguments.length?(x=I,r):x},r.save=function(){if(!(x||r.container().select(".modal").size())){var I;if(y&&y.id==="save"){if(I=!1,ue.osm&&ue.osm.isChangesetInflight()){p.clearSaved();return}}else I=r.selectedIDs().every(function(z){var q=r.hasEntity(z);return q&&!q.isDegenerate()});if(I&&p.save(),p.hasChanges())return F("save.unsaved_changes")}},r.debouncedSave=Nt(r.save,350);function _(I){return function(){var z=I.apply(p,arguments);return r.debouncedSave(),z}}r.hasEntity=function(I){return p.graph().hasEntity(I)},r.entity=function(I){return p.graph().entity(I)};var y;r.mode=function(){return y},r.enter=function(I){y&&(y.exit(),t.call("exit",e,y)),y=I,y.enter(),t.call("enter",e,y)},r.selectedIDs=function(){return y&&y.selectedIDs&&y.selectedIDs()||[]},r.activeID=function(){return y&&y.activeID&&y.activeID()};var E;r.selectedNoteID=function(I){return arguments.length?(E=I,r):E};var k;r.selectedErrorID=function(I){return arguments.length?(k=I,r):k},r.install=function(I){return r.surface().call(I)},r.uninstall=function(I){return r.surface().call(I.off)};var A;r.copyGraph=function(){return A};var C=[];r.copyIDs=function(I){return arguments.length?(C=I,A=p.graph(),r):C};var D;r.copyLonLat=function(I){return arguments.length?(D=I,r):D};var S;r.background=function(){return S};var N;r.features=function(){return N},r.hasHiddenConnections=function(I){var z=p.graph(),q=z.entity(I);return N.hasHiddenConnections(q,z)};var R;r.photos=function(){return R};var P;r.map=function(){return P},r.layers=function(){return P.layers()},r.surface=function(){return P.surface},r.editableDataEnabled=function(){return P.editableDataEnabled()},r.surfaceRect=function(){return P.surface.node().getBoundingClientRect()},r.editable=function(){var I=r.mode();return!I||I.id==="save"?!1:P.editableDataEnabled()};var L={tile:!1,collision:!1,imagery:!1,target:!1,downloaded:!1};r.debugFlags=function(){return L},r.getDebug=function(I){return I&&L[I]},r.setDebug=function(I,z){return arguments.length===1&&(z=!0),L[I]=z,t.call("change"),r};var B=G(null);r.container=function(I){return arguments.length?(B=I,B.classed("ideditor",!0),r):B},r.containerNode=function(I){return arguments.length?(r.container(G(I)),r):r.container().node()};var O;r.embed=function(I){return arguments.length?(O=I,r):O};var U="";r.assetPath=function(I){return arguments.length?(U=I,Je.assetPath(I),r):U};var T={};r.assetMap=function(I){return arguments.length?(T=I,Je.assetMap(I),r):T},r.asset=function(I){if(/^http(s)?:\/\//i.test(I))return I;var z=U+I;return T[z]||z},r.imagePath=function(I){return r.asset("img/".concat(I))},r.reset=r.flush=function(){return r.debouncedSave.cancel(),Array.from(n).forEach(function(I){window.cancelIdleCallback(I),n.delete(I)}),Object.values(ue).forEach(function(I){I&&typeof I.reset=="function"&&I.reset(r)}),r.changeset=null,m.reset(),N.reset(),p.reset(),w.reset(),r.container().select(".inspector-wrap *").remove(),r},r.projection=xi(),r.curtainProjection=xi();var M;return r.rapidContext=function(){return M},r.init=function(){return I(),z(),r;function I(){p=Yu(r),r.graph=p.graph,r.pauseChangeDispatch=p.pauseChangeDispatch,r.resumeChangeDispatch=p.resumeChangeDispatch,r.perform=_(p.perform),r.replace=_(p.replace),r.pop=_(p.pop),r.overwrite=_(p.overwrite),r.undo=_(p.undo),r.redo=_(p.redo),M=Ku(r),m=$u(r),w=e3(r),S=t3(r),N=r3(r),P=H3(r),R=W3(r),u=a6(r)}function z(){r.initialHashParams.presets&&Ie.addablePresetIDs(new Set(r.initialHashParams.presets.split(","))),r.initialHashParams.locale&&_e.preferredLocaleCodes(r.initialHashParams.locale),_e.ensureLoaded(),S.ensureLoaded(),Ie.ensureLoaded(),Object.values(ue).forEach(function(q){q&&typeof q.init=="function"&&q.init()}),P.init(),m.init(),N.init(),M.init(),ue.maprules&&r.initialHashParams.maprules&&kt(r.initialHashParams.maprules).then(function(q){ue.maprules.init(),q.forEach(function(V){return ue.maprules.addRule(V)})}).catch(function(){}),r.container().empty()||u.ensureLoaded().then(function(){R.init()})}},r}var Hw=new URLSearchParams(location.hash).get("dev"),Ww="http://localhost:5000",Vw="https://linz-addr-cdn.kyle.kiwi",U8=Hw?Ww:Vw;window.APIROOT=U8;var RO=14,LO=new Nr().zoomRange(RO),Kw=be("loadedData"),ga={},Yw,F4={};window._dsState={};window._mostRecentDsId=null;window.__locked={};fetch(U8+"/__locked").then(function(e){return e.json()}).then(function(e){return window.__locked=e}).catch(console.error);function jO(e){return e.replace(/ā/ig,"aa").replace(/ē/ig,"ee").replace(/ī/ig,"ii").replace(/ō/ig,"oo").replace(/ū/ig,"uu")}function Zw(e){e.abort()}function zO(){return"".concat(U8,"/index.json?noCache=").concat(Math.random())}function UO(e,t){var r=e.url;Hw&&(r=r.replace(Vw,Ww));var n=t.toParam();return"".concat(r,"?geometry=").concat(n,"&u=").concat((window.__user||{}).display_name)}function qO(e,t,r,n,i){if(!r)return i({message:"No GeoJSON",status:-1});window._dsState[e.id]||(window._dsState[e.id]={});var a=[];(r.features||[]).forEach(function(o){var s=QO(o,e);s&&a.push.apply(a,s)}),i(null,a)}function QO(e,t){var r=e.geometry,n=e.properties;if(!r||!n)return null;var i="".concat(n.__action||"create","-").concat(e.id);if(!i||t.cache.seen[i])return null;t.cache.seen[i]=!0;var a="".concat(t.id,"-").concat(i),o={__fbid__:a,__origid__:a,__service__:"esri",__datasetid__:t.id,__featureid__:i},s=[],l=new Map;if(r.type==="Point"){var u=new ut({loc:r.coordinates,tags:E(n)},o);return window._dsState[t.id][i]!=="done"&&(window._dsState[t.id][i]={feat:u,geo:r.coordinates}),[u]}else if(r.type==="LineString"){var c=y(r.coordinates);if(c.length<2)return null;var d=new Pt({nodes:c,tags:E(n)},o);return s.push(d),window._dsState[t.id][i]!=="done"&&(window._dsState[t.id][i]={feat:d,geo:r.coordinates[0]}),s}else if(r.type==="Polygon"){var p=[];if(r.coordinates.forEach(function(A){var C=y(A);if(C.length<3)return null;var D=C[0],S=C[C.length-1];D!==S&&C.push(D);var N=new Pt({nodes:C});p.push(N)}),p.length===1){var m=p[0].update(Object.assign({tags:E(n)},o));s.push(m),window._dsState[t.id][i]!=="done"&&(window._dsState[t.id][i]={feat:m,geo:r.coordinates[0][0]})}else{var w=p.map(function(A,C){return s.push(A),{id:A.id,role:C===0?"outer":"inner",type:"way"}}),b=Object.assign(E(n),{type:"multipolygon"}),h=new br({members:w,tags:b},o);s.push(h),window._dsState[t.id][i]!=="done"&&(window._dsState[t.id][i]={feat:h,geo:r.coordinates[0][0]})}return s}else if(r.type==="MultiPolygon"){var g=[];r.coordinates.forEach(function(A,C){g[C]=[],A.forEach(function(D){var S=y(D);if(S.length<3)return null;var N=S[0],R=S[S.length-1];N!==R&&S.push(N);var P=new Pt({nodes:S});g[C].push(P)})});var v=g.flatMap(function(A){return A.map(function(C,D){return s.push(C),{id:C.id,role:D===0?"outer":"inner",type:"way"}})}),x=Object.assign(E(n),{type:"multipolygon"}),_=new br({members:v,tags:x},o);return s.push(_),window._dsState[t.id][i]!=="done"&&(window._dsState[t.id][i]={feat:_,geo:r.coordinates[0][0][0]}),s}function y(A){var C=[];return A.forEach(function(D){var S=D.toString(),N=l.get(S);N||(N=new ut({loc:D}),s.push(N),l.set(S,N)),C.push(N.id)}),C}function E(A){var C={};return Object.keys(A).forEach(function(D){var S=k(t.layer.tagmap[D]||D),N=k(A[D]);S&&N&&(C[S]=N)}),C}function k(A){return A?A.toString().trim():null}}var q8={init:function(){this.event=ke(this,Kw,"on")},reset:function(){return Object.values(ga).forEach(function(t){t.cache.inflight&&Object.values(t.cache.inflight).forEach(Zw),t.graph=dr(),t.tree=zi(t.graph),t.cache={inflight:{},loaded:{},seen:{},origIdTile:{}}}),this},graph:function(t){var r=ga[t];return r&&r.graph},intersects:function(t,r){var n=ga[t];return!n||!n.tree||!n.graph?[]:n.tree.intersects(r,n.graph)},toggle:function(t){return Yw=!t,this},loadTiles:function(t,r,n,i){if(!Yw){window._mostRecentDsId=t;var a=ga[t];if(!(!a||!a.layer)){var o=a.cache,s=a.tree,l=a.graph,u=new er().transform(r.transform()).dimensions(r.clipExtent()),c=LO.getTiles(u).tiles;if(Object.keys(o.inflight).forEach(function(_){var y=c.find(function(E){return E.id===_});y||(Zw(o.inflight[_]),delete o.inflight[_])}),!F4[t]){var d=xt(a.extent,2),p=xt(d[0],2),m=p[0],w=p[1],b=xt(d[1],2),h=b[0],g=b[1],v='<gpx xmlns="http://www.topografix.com/GPX/1/1" creator="LINZ Addr" version="1.1">\n      <metadata>\n        <link href="https://github.com/hotosm/tasking-manager">\n          <text>LINZ Addr</text>\n        </link>\n        <time>2021-03-08T22:14:43.088005</time>\n      </metadata>\n      <trk>\n        <name>Extent of the '.concat(jO(a.name),' data</name>\n        <trkseg>\n        <trkpt lat="').concat(w-3e-4,'" lon="').concat(m-3e-4,'"/>\n        <trkpt lat="').concat(g+3e-4,'" lon="').concat(m-3e-4,'"/>\n        <trkpt lat="').concat(g+3e-4,'" lon="').concat(h+3e-4,'"/>\n        <trkpt lat="').concat(w-3e-4,'" lon="').concat(h+3e-4,'"/>\n        <trkpt lat="').concat(w-3e-4,'" lon="').concat(m-3e-4,'"/>\n        </trkseg>\n      </trk>\n      <wpt lat="').concat(w-3e-4,'" lon="').concat(m-3e-4,'"/>\n      <wpt lat="').concat(g+3e-4,'" lon="').concat(m-3e-4,'"/>\n      <wpt lat="').concat(g+3e-4,'" lon="').concat(h+3e-4,'"/>\n      <wpt lat="').concat(w-3e-4,'" lon="').concat(h+3e-4,'"/>\n      <wpt lat="').concat(w-3e-4,'" lon="').concat(m-3e-4,'"/>\n      </gpx>'),x="data:text/xml;base64,".concat(btoa(v));i.layers().layer("data").url(x)}c.forEach(function(_){if(!(o.loaded[_.id]||o.inflight[_.id])){var y=new AbortController,E=UO(a,_.wgs84Extent);kt(E,{signal:y.signal}).then(function(k){if(F4[t]={name:a.name,source:a.source},delete o.inflight[_.id],!k)throw new Error("no geojson");qO(a,_,k,i,function(A,C){if(A)throw new Error(A);l.rebase(C,[l],!0),s.rebase(C,!0),o.loaded[_.id]=!0,Kw.call("loadedData")})}).catch(console.error),o.inflight[_.id]=y}})}}},loadDatasets:function(){if(Object.keys(ga).length)return Promise.resolve(ga);var t=this;return kt(zO()).then(function(r){return(r.results||[]).forEach(function(n){if(!ga[n.id]){ga[n.id]=n,n.graph=dr(),n.tree=zi(n.graph),n.cache={inflight:{},loaded:{},seen:{},origIdTile:{}};var i=G(document.createElement("div"));i.html(n.licenseInfo),i.selectAll("*").attr("style",null).attr("size",null),n.license_html=i.html(),t.loadLayer(n.id)}}),ga}).catch(function(){})},getLoadedDatasetIDs:function(){return Object.keys(F4)},getLoadedDatasetNames:function(){return Object.values(F4).map(function(t){return t.name})},getLoadedDatasetSources:function(){return $t(new Set(Object.values(F4).map(function(t){return t.source})))},resetLoadedDatasets:function(){F4={}},loadLayer:function(t){var r=ga[t];r.layer={tagmap:{}}}};var GO="https://mapwith.ai/maps/ml_roads",HO=16,WO=new Nr().zoomRange(HO),Xw=be("loadedData"),Oo={},T6=new Set,$w;function Jw(e){e.abort()}function VO(e,t,r){var n=/-conflated$/.test(e.id),i=e.id.replace("-conflated",""),a={conflate_with_osm:n,theme:"ml_road_vector",collaborator:"fbid",token:"ASZUVdYpCkd3M6ZrzjXdQzHulqRMnxdlkeBJWEKOeTUoY_Gwm9fuEd2YObLrClgDB_xfavizBsh0oDfTWTF7Zb4C",hash:"ASYM8LPNy8k1XoJiI7A"};i==="fbRoads"?a.result_type="road_vector_xml":i==="msBuildings"?(a.result_type="road_building_vector_xml",a.building_source="microsoft"):(a.result_type="osm_xml",a.sources="esri_building.".concat(i)),a.bbox=t.toParam(),r&&(a.crop_bbox=r.toParam());var o=Bt(window.location.hash).fb_ml_road_url,s=Bt(window.location.hash).fb_ml_road_tags,l=o||GO,u=l+"?"+c(a,!0);return s&&s.split(",").forEach(function(d){u+="&allow_tags[]="+d}),u;function c(d,p){function m(w){return encodeURIComponent(w).replace(/(%2F|%3A|%2C|%7B|%7D)/g,decodeURIComponent)}return Object.keys(d).map(function(w){return encodeURIComponent(w)+"="+(p?m(d[w]):encodeURIComponent(d[w]))}).join("&")}}function KO(e){var t=e.lon&&e.lon.value,r=e.lat&&e.lat.value;return[parseFloat(t),parseFloat(r)]}function YO(e){for(var t=e.getElementsByTagName("nd"),r=new Array(t.length),n=0,i=t.length;n<i;n++)r[n]="n"+t[n].attributes.ref.value;return r}function ex(e){for(var t=e.getElementsByTagName("tag"),r={},n=0,i=t.length;n<i;n++){var a=t[n].attributes,o=(a.k.value||"").trim(),s=(a.v.value||"").trim();o&&s&&(r[o]=s)}return r}function tx(e){return!e.visible||e.visible.value!=="false"}var ZO={node:function(t,r){var n=t.attributes;return new ut({id:r,visible:tx(n),loc:KO(n),tags:ex(t)})},way:function(t,r){var n=t.attributes;return new Pt({id:r,visible:tx(n),tags:ex(t),nodes:YO(t)})}};function XO(e,t,r,n,i){if(i=Object.assign({skipSeen:!0},i),!t||!t.childNodes)return n({message:"No XML",status:-1});var a=e.graph,o=e.cache,s=t.childNodes[0],l=s.childNodes,u=window.requestIdleCallback(function(){T6.delete(u);for(var d=[],p=0;p<l.length;p++){var m=c(l[p]);m&&d.push(m)}n(null,d)});T6.add(u);function c(d){var p=ZO[d.nodeName];if(!p)return null;var m=Me.id.fromOSM(d.nodeName,d.attributes.id.value);if(i.skipSeen){if(o.seen[m]||o.origIdTile[m])return null;o.seen[m]=!0}var w;if(d.attributes.orig_id){if(w=Me.id.fromOSM(d.nodeName,d.attributes.orig_id.value),a.entities[w]||o.origIdTile[w]&&o.origIdTile[w]!==r.id)return null;o.origIdTile[w]=r.id}var b=p(d,m),h={__fbid__:d.attributes.id.value,__origid__:w,__service__:"fbml",__datasetid__:e.id};return Object.assign(b,h)}}var Q8={init:function(){this.event=ke(this,Xw,"on");var t="rapid_intro_graph",r=dr(),n=zi(r),i={inflight:{},loaded:{},seen:{},origIdTile:{}},a={id:t,graph:r,tree:n,cache:i};Oo[t]=a},reset:function(){return Array.from(T6).forEach(function(t){window.cancelIdleCallback(t),T6.delete(t)}),Object.values(Oo).forEach(function(t){t.cache.inflight&&Object.values(t.cache.inflight).forEach(Jw),t.graph=dr(),t.tree=zi(t.graph),t.cache={inflight:{},loaded:{},seen:{},origIdTile:{}}}),this},graph:function(t){var r=Oo[t];return r&&r.graph},intersects:function(t,r){var n=Oo[t];return!n||!n.tree||!n.graph?[]:n.tree.intersects(r,n.graph)},merge:function(t,r){var n=Oo[t];!n||!n.tree||!n.graph||(n.graph.rebase(r,[n.graph],!1),n.tree.rebase(r,!1))},cache:function(t,r){var n=Oo[t];if(!n||!n.cache)return;function i(a){return JSON.parse(JSON.stringify(a))}if(!arguments.length)return{tile:i(n.cache)};if(r==="get")return n.cache;n.cache=r},toggle:function(t){return $w=!t,this},loadTiles:function(t,r,n){if(!$w){var i=Oo[t],a,o,s;i?(a=i.graph,o=i.tree,s=i.cache):(a=dr(),o=zi(a),s={inflight:{},loaded:{},seen:{},origIdTile:{}},i={id:t,graph:a,tree:o,cache:s},Oo[t]=i);var l=new er().transform(r.transform()).dimensions(r.clipExtent()),u=WO.getTiles(l).tiles;Object.keys(s.inflight).forEach(function(c){var d=u.find(function(p){return c===p.id});d||(Jw(s.inflight[c]),delete s.inflight[c])}),u.forEach(function(c){if(!(s.loaded[c.id]||s.inflight[c.id])){var d=new AbortController;Is(VO(i,c.wgs84Extent,n),{signal:d.signal}).then(function(p){delete s.inflight[c.id],!!p&&XO(i,p,c,function(m,w){m||(a.rebase(w,[a],!0),o.rebase(w,!0),s.loaded[c.id]=!0,Xw.call("loadedData"))})}).catch(function(){}),s.inflight[c.id]=d}})}}};An();var rx=Xe(ji());var $O=14,JO=new Nr().zoomRange($O),nx=be("loaded"),G8="https://www.keepright.at",Po={errorTypes:{},localizeStrings:{}},gr,eP=[30,40,50,60,70,90,100,110,120,130,150,160,170,180,190,191,192,193,194,195,196,197,198,200,201,202,203,204,205,206,207,208,210,220,230,231,232,270,280,281,282,283,284,285,290,291,292,293,294,295,296,297,298,300,310,311,312,313,320,350,360,370,380,390,400,401,402,410,411,412,413];function ix(e){e&&e.abort()}function tP(e,t){Object.keys(e.inflightTile).forEach(function(r){var n=t.find(function(i){return r===i.id});n||(ix(e.inflightTile[r]),delete e.inflightTile[r])})}function H8(e){return{minX:e.loc[0],minY:e.loc[1],maxX:e.loc[0],maxY:e.loc[1],data:e}}function ax(e,t){gr.rtree.remove(e,function(r,n){return r.data.id===n.data.id}),t&&gr.rtree.insert(e)}function rP(e){if(e instanceof lr){var t=new RegExp(/<\/[a-z][\s\S]*>/),r={},n=Po.errorTypes[e.whichType];if(!n){console.log("No Template: ",e.whichType),console.log("  ",e.description);return}if(!!n.regex){var i=new RegExp(n.regex,"i"),a=i.exec(e.description);if(!a){console.log("Unmatched: ",e.whichType),console.log("  ",e.description),console.log("  ",i);return}for(var o=1;o<a.length;o++){var s=a[o],l=void 0;if(l="IDs"in n?n.IDs[o-1]:"",l&&s)s=nP(s,l);else if(t.test(s))s="\\"+s+"\\";else{var u=s.toLowerCase();Po.localizeStrings[u]&&(s=F("QA.keepRight.error_parts."+Po.localizeStrings[u]))}r["var"+o]=s}return r}}}function nP(e,t){var r=e.toLowerCase();switch(Po.localizeStrings[r]&&(e=F("QA.keepRight.error_parts."+Po.localizeStrings[r])),t){case"this":e=n(e);break;case"url":e=a(e);break;case"n":case"w":case"r":e=i(t+e);break;case"20":e=c(e);break;case"211":e=o(e);break;case"231":e=s(e);break;case"294":e=l(e);break;case"370":e=u(e);break}return e;function n(d){return'<a class="error_object_link">'.concat(d,"</a>")}function i(d){return'<a class="error_entity_link">'.concat(d,"</a>")}function a(d){return'<a class="kr_external_link" target="_blank" href="'.concat(d,'">').concat(d,"</a>")}function o(d){var p=[],m=d.split(", ");return m.forEach(function(w){var b=i("n"+w.slice(1));p.push(b)}),p.join(", ")}function s(d){var p=[],m=d.split("),");return m.forEach(function(w){var b=w.match(/\#(\d+)\((.+)\)?/);b!==null&&b.length>2&&p.push(i("w"+b[1])+" "+F("QA.keepRight.errorTypes.231.layer",{layer:b[2]}))}),p.join(", ")}function l(d){var p=[],m=d.split(",");return m.forEach(function(w){w=w.split(" ");var b='"'.concat(w[0],'"'),h=w[1].slice(0,1),g=w[2].slice(1);g=i(h+g),p.push("".concat(b," ").concat(w[1]," ").concat(g))}),p.join(", ")}function u(d){if(!d)return"";var p=d.match(/\(including the name (\'.+\')\)/);return p&&p.length?F("QA.keepRight.errorTypes.370.including_the_name",{name:p[1]}):""}function c(d){var p=[],m=d.split(",");return m.forEach(function(w){var b=i("n"+w.slice(1));p.push(b)}),p.join(", ")}}var W8={title:"keepRight",init:function(){Je.get("keepRight").then(function(t){return Po=t}),gr||this.reset(),this.event=ke(this,nx,"on")},reset:function(){gr&&Object.values(gr.inflightTile).forEach(ix),gr={data:{},loadedTile:{},inflightTile:{},inflightPost:{},closed:{},rtree:new rx.default}},loadIssues:function(t){var r=this,n={format:"geojson",ch:eP},i=new er().transform(t.transform()).dimensions(t.clipExtent()),a=JO.getTiles(i).tiles;tP(gr,a),a.forEach(function(o){if(!(gr.loadedTile[o.id]||gr.inflightTile[o.id])){var s=o.wgs84Extent.rectangle(),l=xt(s,4),u=l[0],c=l[1],d=l[2],p=l[3],m=Object.assign({},n,{left:u,bottom:p,right:d,top:c}),w="".concat(G8,"/export.php?")+at(m),b=new AbortController;gr.inflightTile[o.id]=b,kt(w,{signal:b.signal}).then(function(h){if(delete gr.inflightTile[o.id],gr.loadedTile[o.id]=!0,!h||!h.features||!h.features.length)throw new Error("No Data");h.features.forEach(function(g){var v=g.properties,x=v.error_type,_=v.error_id,y=v.comment,E=y===void 0?null:y,k=v.object_id,A=v.object_type,C=v.schema,D=v.title,S=g.geometry.coordinates,N=g.properties.description,R=N===void 0?"":N,P=Po.errorTypes[x],L=(Math.floor(x/10)*10).toString(),B=P?x:L,O=Po.errorTypes[B];switch(B){case"170":R="This feature has a FIXME tag: ".concat(R);break;case"292":case"293":R=R.replace("A turn-","This turn-");break;case"294":case"295":case"296":case"297":case"298":R="This turn-restriction~".concat(R);break;case"300":R="This highway is missing a maxspeed tag";break;case"411":case"412":case"413":R="This feature~".concat(R);break}var U=!1;do{var T=U?[1e-5,0]:[0,1e-5];S=kr(S,T);var M=new Ne(S).bbox();U=gr.rtree.search(M).length}while(U);var I=new lr(S,r,x,_,{comment:E,description:R,whichType:B,parentIssueType:L,severity:O.severity||"error",objectId:k,objectType:A,schema:C,title:D});I.replacements=rP(I),gr.data[_]=I,gr.rtree.insert(H8(I))}),nx.call("loaded")}).catch(function(){delete gr.inflightTile[o.id],gr.loadedTile[o.id]=!0})}})},postUpdate:function(t,r){var n=this;if(gr.inflightPost[t.id])return r({message:"Error update already inflight",status:-2},t);var i={schema:t.schema,id:t.id};t.newStatus&&(i.st=t.newStatus),t.newComment!==void 0&&(i.co=t.newComment);var a="".concat(G8,"/comment.php?")+at(i),o=new AbortController;gr.inflightPost[t.id]=o,kt(a,{signal:o.signal}).finally(function(){delete gr.inflightPost[t.id],t.newStatus==="ignore"?n.removeItem(t):t.newStatus==="ignore_t"?(n.removeItem(t),gr.closed["".concat(t.schema,":").concat(t.id)]=!0):t=n.replaceItem(t.update({comment:t.newComment,newComment:void 0,newState:void 0})),r&&r(null,t)})},getItems:function(t){var r=t.clipExtent(),n=[r[0][0],r[1][1]],i=[r[1][0],r[0][1]],a=new Ne(t.invert(n),t.invert(i)).bbox();return gr.rtree.search(a).map(function(o){return o.data})},getError:function(t){return gr.data[t]},replaceItem:function(t){if(!(!(t instanceof lr)||!t.id))return gr.data[t.id]=t,ax(H8(t),!0),t},removeItem:function(t){!(t instanceof lr)||!t.id||(delete gr.data[t.id],ax(H8(t),!1))},issueURL:function(t){return"".concat(G8,"/report_map.php?schema=").concat(t.schema,"&error=").concat(t.id)},getClosedIDs:function(){return Object.keys(gr.closed).sort()}};An();var ox=Xe(ji());var iP=14,aP=new Nr().zoomRange(iP),sx=be("loaded"),M6={ow:"https://grab.community.improve-osm.org/directionOfFlowService",mr:"https://grab.community.improve-osm.org/missingGeoService",tr:"https://grab.community.improve-osm.org/turnRestrictionService"},lx={icons:{}},zt;function ux(e){Object.values(e).forEach(function(t){t&&t.abort()})}function oP(e,t){Object.keys(e.inflightTile).forEach(function(r){var n=t.find(function(i){return r===i.id});n||(ux(e.inflightTile[r]),delete e.inflightTile[r])})}function C0(e){return{minX:e.loc[0],minY:e.loc[1],maxX:e.loc[0],maxY:e.loc[1],data:e}}function cx(e,t){zt.rtree.remove(e,function(r,n){return r.data.id===n.data.id}),t&&zt.rtree.insert(e)}function fx(e){return'<a class="error_object_link">'.concat(e,"</a>")}function I6(e){return'<a class="error_entity_link">'.concat(e,"</a>")}function dx(e){if(e.length){var t=e.reduce(function(r,n){return kr(r,[n.lon,n.lat])},[0,0]);return Ni(t,1/e.length)}else return[0,0]}function sP(e,t){var r=Math.atan2(t.lon-e.lon,t.lat-e.lat);return r<0&&(r+=2*Math.PI),r*180/Math.PI}function lP(e){var t=45*Math.round(e/45),r={0:"north",45:"northeast",90:"east",135:"southeast",180:"south",225:"southwest",270:"west",315:"northwest",360:"north"};return F("QA.improveOSM.directions.".concat(r[t]))}function V8(e,t){var r=!1;do{var n=r?[1e-5,0]:t?[0,1e-5]:[0,0];e=kr(e,n);var i=new Ne(e).bbox();r=zt.rtree.search(i).length}while(r);return e}var K8={title:"improveOSM",init:function(){Je.get("qa_data").then(function(t){return lx=t.improveOSM}),zt||this.reset(),this.event=ke(this,sx,"on")},reset:function(){zt&&Object.values(zt.inflightTile).forEach(ux),zt={data:{},loadedTile:{},inflightTile:{},inflightPost:{},closed:{},rtree:new ox.default}},loadIssues:function(t){var r=this,n={client:"iD",status:"OPEN",zoom:"19"},i=new er().transform(t.transform()).dimensions(t.clipExtent()),a=aP.getTiles(i).tiles;oP(zt,a),a.forEach(function(o){if(!(zt.loadedTile[o.id]||zt.inflightTile[o.id])){var s=o.wgs84Extent.rectangle(),l=xt(s,4),u=l[0],c=l[1],d=l[2],p=l[3],m=Object.assign({},n,{east:u,south:p,west:d,north:c}),w={};Object.keys(M6).forEach(function(b){var h=Object.assign({},m,b==="mr"?{type:"PARKING,ROAD,BOTH,PATH"}:{confidenceLevel:"C1"}),g="".concat(M6[b],"/search?")+at(h),v=new AbortController;w[b]=v,kt(g,{signal:v.signal}).then(function(x){delete zt.inflightTile[o.id][b],Object.keys(zt.inflightTile[o.id]).length||(delete zt.inflightTile[o.id],zt.loadedTile[o.id]=!0),x.roadSegments&&x.roadSegments.forEach(function(_){var y=_.points,E=_.wayId,k=_.fromNodeId,A=_.toNodeId,C="".concat(E).concat(k).concat(A),D=y.length/2,S;D%1==0?S=dx([y[D-1],y[D]]):(D=y[Math.floor(D)],S=[D.lon,D.lat]),S=V8(S,!1);var N=new lr(S,r,b,C,{issueKey:b,identifier:{wayId:E,fromNodeId:k,toNodeId:A},objectId:E,objectType:"way"});N.replacements={percentage:_.percentOfTrips,num_trips:_.numberOfTrips,highway:fx(F("QA.keepRight.error_parts.highway")),from_node:I6("n"+_.fromNodeId),to_node:I6("n"+_.toNodeId)},zt.data[N.id]=N,zt.rtree.insert(C0(N))}),x.tiles&&x.tiles.forEach(function(_){var y=_.type,E=_.x,k=_.y,A=_.numberOfTrips,C=y.toLowerCase(),D="".concat(C).concat(E).concat(k).concat(A),S=dx(_.points);S=V8(S,!1);var N=new lr(S,r,"".concat(b,"-").concat(C),D,{issueKey:b,identifier:{x:E,y:k}});N.replacements={num_trips:A,geometry_type:F("QA.improveOSM.geometry_types.".concat(C))},A===-1&&(N.desc=F("QA.improveOSM.error_types.mr.description_alt",N.replacements)),zt.data[N.id]=N,zt.rtree.insert(C0(N))}),x.entities&&x.entities.forEach(function(_){var y=_.point,E=_.id,k=_.segments,A=_.numberOfPasses,C=_.turnType,D="".concat(E.replace(/[,:+#]/g,"_")),S=V8([y.lon,y.lat],!0),N=E.split(","),R=N[0],P=N[3],L=N[2].split(":")[1],B=new lr(S,r,b,D,{issueKey:b,identifier:E,objectId:P,objectType:"node"}),O=xt(k[0].points,2),U=O[0],T=O[1],M=lP(sP(U,T));B.replacements={num_passed:A,num_trips:k[0].numberOfTrips,turn_restriction:C.toLowerCase(),from_way:I6("w"+R),to_way:I6("w"+L),travel_direction:M,junction:fx(F("QA.keepRight.error_parts.this_node"))},zt.data[B.id]=B,zt.rtree.insert(C0(B)),sx.call("loaded")})}).catch(function(){delete zt.inflightTile[o.id][b],Object.keys(zt.inflightTile[o.id]).length||(delete zt.inflightTile[o.id],zt.loadedTile[o.id]=!0)})}),zt.inflightTile[o.id]=w}})},getComments:function(t){var r=this;if(t.comments)return Promise.resolve(t);var n=t.issueKey,i={};n==="ow"?i=t.identifier:n==="mr"?(i.tileX=t.identifier.x,i.tileY=t.identifier.y):n==="tr"&&(i.targetId=t.identifier);var a="".concat(M6[n],"/retrieveComments?")+at(i),o=function(l){t.comments=l.comments?l.comments.reverse():[],r.replaceItem(t)};return kt(a).then(o).then(function(){return t})},postUpdate:function(t,r){if(!T4.authenticated())return r({message:"Not Authenticated",status:-3},t);if(zt.inflightPost[t.id])return r({message:"Error update already inflight",status:-2},t);T4.userDetails(n.bind(this));function n(i,a){var o=this;if(i)return r(i,t);var s=t.issueKey,l="".concat(M6[s],"/comment"),u={username:a.display_name,targetIds:[t.identifier]};t.newStatus&&(u.status=t.newStatus,u.text="status changed"),t.newComment&&(u.text=t.newComment);var c=new AbortController;zt.inflightPost[t.id]=c;var d={method:"POST",signal:c.signal,body:JSON.stringify(u)};kt(l,d).then(function(){if(delete zt.inflightPost[t.id],t.newStatus)o.removeItem(t),t.newStatus==="SOLVED"&&(t.issueKey in zt.closed||(zt.closed[t.issueKey]=0),zt.closed[t.issueKey]+=1);else{var p=new Date,m=t.comments?t.comments:[];m.push({username:u.username,text:u.text,timestamp:p.getTime()/1e3}),o.replaceItem(t.update({comments:m,newComment:void 0}))}r&&r(null,t)}).catch(function(p){delete zt.inflightPost[t.id],r&&r(p.message)})}},getItems:function(t){var r=t.clipExtent(),n=[r[0][0],r[1][1]],i=[r[1][0],r[0][1]],a=new Ne(t.invert(n),t.invert(i)).bbox();return zt.rtree.search(a).map(function(o){return o.data})},getError:function(t){return zt.data[t]},getIcon:function(t){return lx.icons[t]},replaceItem:function(t){if(!(!(t instanceof lr)||!t.id))return zt.data[t.id]=t,cx(C0(t),!0),t},removeItem:function(t){!(t instanceof lr)||!t.id||(delete zt.data[t.id],cx(C0(t),!1))},getClosedCounts:function(){return zt.closed}};An();var D0=Xe(da()),px=Xe(ji());var uP=14,cP=new Nr().zoomRange(uP),mx=be("loaded"),N6="https://osmose.openstreetmap.fr/api/0.3",M4={icons:{},items:[]},vt;function hx(e){e&&e.abort()}function fP(e,t){Object.keys(e.inflightTile).forEach(function(r){var n=t.find(function(i){return r===i.id});n||(hx(e.inflightTile[r]),delete e.inflightTile[r])})}function Y8(e){return{minX:e.loc[0],minY:e.loc[1],maxX:e.loc[0],maxY:e.loc[1],data:e}}function gx(e,t){vt.rtree.remove(e,function(r,n){return r.data.id===n.data.id}),t&&vt.rtree.insert(e)}function dP(e){var t=!1;do{var r=t?[1e-5,0]:[0,1e-5];e=kr(e,r);var n=new Ne(e).bbox();t=vt.rtree.search(n).length}while(t);return e}var Z8={title:"osmose",init:function(){Je.get("qa_data").then(function(t){M4=t.osmose,M4.items=Object.keys(t.osmose.icons).map(function(r){return r.split("-")[0]}).reduce(function(r,n){return r.indexOf(n)!==-1?r:[].concat($t(r),[n])},[])}),vt||this.reset(),this.event=ke(this,mx,"on")},reset:function(){var t={},r={};vt&&(Object.values(vt.inflightTile).forEach(hx),t=vt.strings,r=vt.colors),vt={data:{},loadedTile:{},inflightTile:{},inflightPost:{},closed:{},rtree:new px.default,strings:t,colors:r}},loadIssues:function(t){var r=this,n={item:M4.items},i=new er().transform(t.transform()).dimensions(t.clipExtent()),a=cP.getTiles(i).tiles;fP(vt,a),a.forEach(function(o){if(!(vt.loadedTile[o.id]||vt.inflightTile[o.id])){var s=xt(o.xyz,3),l=s[0],u=s[1],c=s[2],d="".concat(N6,"/issues/").concat(c,"/").concat(l,"/").concat(u,".json?")+at(n),p=new AbortController;vt.inflightTile[o.id]=p,kt(d,{signal:p.signal}).then(function(m){delete vt.inflightTile[o.id],vt.loadedTile[o.id]=!0,m.features&&m.features.forEach(function(w){var b=w.properties,h=b.item,g=b.class,v=b.uuid,x="".concat(h,"-").concat(g);if(x in M4.icons){var _=w.geometry.coordinates;_=dP(_);var y=new lr(_,r,x,v,{item:h});(h===8300||h===8360)&&(y.elems=[]),vt.data[y.id]=y,vt.rtree.insert(Y8(y))}}),mx.call("loaded")}).catch(function(){delete vt.inflightTile[o.id],vt.loadedTile[o.id]=!0})}})},loadIssueDetail:function(t){var r=this;if(t.elems!==void 0)return Promise.resolve(t);var n="".concat(N6,"/issue/").concat(t.id,"?langs=").concat(_e.localeCode()),i=function(o){t.elems=o.elems.map(function(s){return s.type.substring(0,1)+s.id}),t.detail=o.subtitle?(0,D0.default)(o.subtitle.auto):"",r.replaceItem(t)};return kt(n).then(i).then(function(){return t})},loadStrings:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_e.localeCode(),r=Object.keys(M4.icons);if(t in vt.strings&&Object.keys(vt.strings[t]).length===r.length)return Promise.resolve(vt.strings[t]);t in vt.strings||(vt.strings[t]={});var n=r.map(function(i){if(i in vt.strings[t])return null;var a=function(p){var m=xt(p.categories,1),w=m[0],b=w===void 0?{items:[]}:w,h=xt(b.items,1),g=h[0],v=g===void 0?{class:[]}:g,x=xt(v.class,1),_=x[0],y=_===void 0?null:_;if(!y){console.log("Osmose strings request (".concat(i,") had unexpected data"));return}var E=v.item,k=v.color;/^#[A-Fa-f0-9]{6}|[A-Fa-f0-9]{3}/.test(k)&&(vt.colors[E]=k);var A=y.title,C=y.detail,D=y.fix,S=y.trap,N={};A&&(N.title=A.auto),C&&(N.detail=(0,D0.default)(C.auto)),S&&(N.trap=(0,D0.default)(S.auto)),D&&(N.fix=(0,D0.default)(D.auto)),vt.strings[t][i]=N},o=i.split("-"),s=xt(o,2),l=s[0],u=s[1],c="".concat(N6,"/items/").concat(l,"/class/").concat(u,"?langs=").concat(t);return kt(c).then(a)}).filter(Boolean);return Promise.all(n).then(function(){return vt.strings[t]})},getStrings:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_e.localeCode();return r in vt.strings?vt.strings[r][t]:{}},getColor:function(t){return t in vt.colors?vt.colors[t]:"#FFFFFF"},postUpdate:function(t,r){var n=this;if(vt.inflightPost[t.id])return r({message:"Issue update already inflight",status:-2},t);var i="".concat(N6,"/issue/").concat(t.id,"/").concat(t.newStatus),a=new AbortController,o=function(){delete vt.inflightPost[t.id],n.removeItem(t),t.newStatus==="done"&&(t.item in vt.closed||(vt.closed[t.item]=0),vt.closed[t.item]+=1),r&&r(null,t)};vt.inflightPost[t.id]=a,fetch(i,{signal:a.signal}).then(o).catch(function(s){delete vt.inflightPost[t.id],r&&r(s.message)})},getItems:function(t){var r=t.clipExtent(),n=[r[0][0],r[1][1]],i=[r[1][0],r[0][1]],a=new Ne(t.invert(n),t.invert(i)).bbox();return vt.rtree.search(a).map(function(o){return o.data})},getError:function(t){return vt.data[t]},getIcon:function(t){return M4.icons[t]},replaceItem:function(t){if(!(!(t instanceof lr)||!t.id))return vt.data[t.id]=t,gx(Y8(t),!0),t},removeItem:function(t){!(t instanceof lr)||!t.id||(delete vt.data[t.id],gx(Y8(t),!1))},getClosedCounts:function(){return vt.closed},itemURL:function(t){return"https://osmose.openstreetmap.fr/en/error/".concat(t.id)}};var nf=Xe(J8()),af=Xe(rf()),S0=Xe(ji());var B4="MLY|3376030635833192|f13ab0bdf6b2f7b99e0d8bd5868e1d88",Tx="https://graph.mapillary.com/",of="https://tiles.mapillary.com/maps/vtp",UP="".concat(of,"/mly_map_feature_point/2/{z}/{x}/{y}?access_token=").concat(B4),qP="".concat(of,"/mly1_public/2/{z}/{x}/{y}?access_token=").concat(B4),QP="".concat(of,"/mly_map_feature_traffic_sign/2/{z}/{x}/{y}?access_token=").concat(B4),GP="mapillary-js/mapillary.css",HP="mapillary-js/mapillary.js",WP=14,Ga=be("change","loadedImages","loadedSigns","loadedMapFeatures","bearingChanged","imageChanged"),Mx=new Nr().skipNullIsland(!0),F0,x1,Gr,R6=!1,sf,L6=!1,j6=!1,on,lf=["all"];function uf(e,t,r,n){var i=new er().transform(n.transform()).dimensions(n.clipExtent()),a=Mx.zoomRange(WP,r).getTiles(i).tiles;a.forEach(function(o){VP(e,t,o)})}function VP(e,t,r){var n=Gr.requests,i="".concat(r.id,"-").concat(e);if(!(n.loaded[i]||n.inflight[i])){var a=new AbortController;n.inflight[i]=a;var o=t.replace("{x}",r.xyz[0]).replace("{y}",r.xyz[1]).replace("{z}",r.xyz[2]);fetch(o,{signal:a.signal}).then(function(s){if(!s.ok)throw new Error(s.status+" "+s.statusText);return n.loaded[i]=!0,delete n.inflight[i],s.arrayBuffer()}).then(function(s){if(!s)throw new Error("No Data");KP(s,r,e),e==="images"?Ga.call("loadedImages"):e==="signs"?Ga.call("loadedSigns"):e==="points"&&Ga.call("loadedMapFeatures")}).catch(function(){n.loaded[i]=!0,delete n.inflight[i]})}}function KP(e,t,r){var n=new nf.VectorTile(new af.default(e)),i,a,o,s,l,u,c;if(n.layers.hasOwnProperty("image")){for(i=[],a=Gr.images,o=n.layers.image,s=0;s<o.length;s++)l=o.feature(s).toGeoJSON(t.xyz[0],t.xyz[1],t.xyz[2]),u=l.geometry.coordinates,c={loc:u,captured_at:l.properties.captured_at,ca:l.properties.compass_angle,id:l.properties.id,is_pano:l.properties.is_pano,sequence_id:l.properties.sequence_id},a.forImageId[c.id]=c,i.push({minX:u[0],minY:u[1],maxX:u[0],maxY:u[1],data:c});a.rtree&&a.rtree.load(i)}if(n.layers.hasOwnProperty("sequence"))for(i=[],a=Gr.sequences,o=n.layers.sequence,s=0;s<o.length;s++)l=o.feature(s).toGeoJSON(t.xyz[0],t.xyz[1],t.xyz[2]),a.lineString[l.properties.id]?a.lineString[l.properties.id].push(l):a.lineString[l.properties.id]=[l];if(n.layers.hasOwnProperty("point")){for(i=[],a=Gr[r],o=n.layers.point,s=0;s<o.length;s++)l=o.feature(s).toGeoJSON(t.xyz[0],t.xyz[1],t.xyz[2]),u=l.geometry.coordinates,c={loc:u,id:l.properties.id,first_seen_at:l.properties.first_seen_at,last_seen_at:l.properties.last_seen_at,value:l.properties.value},i.push({minX:u[0],minY:u[1],maxX:u[0],maxY:u[1],data:c});a.rtree&&a.rtree.load(i)}if(n.layers.hasOwnProperty("traffic_sign")){for(i=[],a=Gr[r],o=n.layers.traffic_sign,s=0;s<o.length;s++)l=o.feature(s).toGeoJSON(t.xyz[0],t.xyz[1],t.xyz[2]),u=l.geometry.coordinates,c={loc:u,id:l.properties.id,first_seen_at:l.properties.first_seen_at,last_seen_at:l.properties.last_seen_at,value:l.properties.value},i.push({minX:u[0],minY:u[1],maxX:u[0],maxY:u[1],data:c});a.rtree&&a.rtree.load(i)}}function Ix(e){return fetch(e).then(function(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.json()}).then(function(t){return t?t.data||[]:[]})}function YP(e){var t=Jt(e.scale()),r=Math.ceil(t*2)/2+2.5,n=new er().transform(e.transform()).dimensions(e.clipExtent()),i=Mx.zoomRange(r).getTiles(n).tiles;return i.map(function(a){return a.wgs84Extent})}function cf(e,t,r){return e=e||5,YP(t).reduce(function(n,i){var a=r.search(i.bbox()).slice(0,e).map(function(o){return o.data});return a.length?n.concat(a):n},[])}var ff={init:function(){Gr||this.reset(),this.event=ke(this,Ga,"on")},reset:function(){Gr&&Object.values(Gr.requests.inflight).forEach(function(t){t.abort()}),Gr={images:{rtree:new S0.default,forImageId:{}},image_detections:{forImageId:{}},signs:{rtree:new S0.default},points:{rtree:new S0.default},sequences:{rtree:new S0.default,lineString:{}},requests:{loaded:{},inflight:{}}},x1=null},images:function(t){var r=5;return cf(r,t,Gr.images.rtree)},signs:function(t){var r=5;return cf(r,t,Gr.signs.rtree)},mapFeatures:function(t){var r=5;return cf(r,t,Gr.points.rtree)},cachedImage:function(t){return Gr.images.forImageId[t]},sequences:function(t){var r=t.clipExtent(),n=[r[0][0],r[1][1]],i=[r[1][0],r[0][1]],a=new Ne(t.invert(n),t.invert(i)).bbox(),o={},s=[];return Gr.images.rtree.search(a).forEach(function(l){l.data.sequence_id&&(o[l.data.sequence_id]=!0)}),Object.keys(o).forEach(function(l){Gr.sequences.lineString[l]&&(s=s.concat(Gr.sequences.lineString[l]))}),s},loadImages:function(t){uf("images",qP,14,t)},loadSigns:function(t){uf("signs",QP,14,t)},loadMapFeatures:function(t){uf("points",UP,14,t)},ensureViewerLoaded:function(t){if(F0)return F0;var r=t.container().select(".photoviewer").selectAll(".mly-wrapper").data([0]);r.enter().append("div").attr("id","ideditor-mly").attr("class","photo-wrapper mly-wrapper").classed("hide",!0);var n=this;return F0=new Promise(function(i,a){var o=0;function s(){o+=1,o===2&&i()}var l=G("head");l.selectAll("#ideditor-mapillary-viewercss").data([0]).enter().append("link").attr("id","ideditor-mapillary-viewercss").attr("rel","stylesheet").attr("crossorigin","anonymous").attr("href",t.asset(GP)).on("load.serviceMapillary",s).on("error.serviceMapillary",function(){a()}),l.selectAll("#ideditor-mapillary-viewerjs").data([0]).enter().append("script").attr("id","ideditor-mapillary-viewerjs").attr("crossorigin","anonymous").attr("src",t.asset(HP)).on("load.serviceMapillary",s).on("error.serviceMapillary",function(){a()})}).catch(function(){F0=null}).then(function(){n.initViewer(t)}),F0},loadSignResources:function(t){return t.ui().svgDefs.addSprites(["mapillary-sprite"],!1),this},loadObjectResources:function(t){return t.ui().svgDefs.addSprites(["mapillary-object-sprite"],!1),this},resetTags:function(){on&&!R6&&on.getComponent("tag").removeAll()},showFeatureDetections:function(t){L6=t,!L6&&!j6&&this.resetTags()},showSignDetections:function(t){j6=t,!L6&&!j6&&this.resetTags()},filterViewer:function(t){var r=t.photos().showsPanoramic(),n=t.photos().showsFlat(),i=t.photos().fromDate(),a=t.photos().toDate(),o=["all"];return r||o.push(["!=","cameraType","spherical"]),!n&&r&&o.push(["==","pano",!0]),i&&o.push([">=","capturedAt",new Date(i).getTime()]),a&&o.push([">=","capturedAt",new Date(a).getTime()]),on&&on.setFilter(o),lf=o,o},showViewer:function(t){var r=t.container().select(".photoviewer").classed("hide",!1),n=r.selectAll(".photo-wrapper.mly-wrapper.hide").size();return n&&on&&(r.selectAll(".photo-wrapper:not(.mly-wrapper)").classed("hide",!0),r.selectAll(".photo-wrapper.mly-wrapper").classed("hide",!1),on.resize()),this},hideViewer:function(t){x1=null,!R6&&on&&on.getComponent("sequence").stop();var r=t.container().select(".photoviewer");return r.empty()||r.datum(null),r.classed("hide",!0).selectAll(".photo-wrapper").classed("hide",!0),this.updateUrlImage(null),Ga.call("imageChanged"),Ga.call("loadedMapFeatures"),Ga.call("loadedSigns"),this.setStyles(t,null)},updateUrlImage:function(t){if(!window.mocha){var r=Bt(window.location.hash);t?r.photo="mapillary/"+t:delete r.photo,window.location.replace("#"+at(r,!0))}},highlightDetection:function(t){return t&&(sf=t.id),this},initViewer:function(t){var r=this;if(!window.mapillary)return;var n={accessToken:B4,component:{cover:!1,keyboard:!1,tag:!0},container:"ideditor-mly"};!mapillary.isSupported()&&mapillary.isFallbackSupported()&&(R6=!0,n.component={cover:!1,direction:!1,imagePlane:!1,keyboard:!1,mouse:!1,sequence:!1,tag:!1,image:!0,navigation:!0}),on=new mapillary.Viewer(n),on.on("image",i),on.on("bearing",a),lf&&on.setFilter(lf),t.ui().photoviewer.on("resize.mapillary",function(){on&&on.resize()});function i(o){r.resetTags();var s=o.image;r.setActiveImage(s),r.setStyles(t,null);var l=[s.originalLngLat.lng,s.originalLngLat.lat];t.map().centerEase(l),r.updateUrlImage(s.id),(L6||j6)&&r.updateDetections(s.id,"".concat(Tx,"/").concat(s.id,"/detections?access_token=").concat(B4,"&fields=id,image,geometry,value")),Ga.call("imageChanged")}function a(o){Ga.call("bearingChanged",void 0,o)}},selectImage:function(t,r){return on&&r&&on.moveTo(r).catch(function(n){console.error("mly3",n)}),this},getActiveImage:function(){return x1},getDetections:function(t){return Ix("".concat(Tx,"/").concat(t,"/detections?access_token=").concat(B4,"&fields=id,value,image"))},setActiveImage:function(t){t?x1={ca:t.originalCompassAngle,id:t.id,loc:[t.originalLngLat.lng,t.originalLngLat.lat],is_pano:t.cameraType==="spherical",sequence_id:t.sequenceId}:x1=null},setStyles:function(t,r){var n=r&&r.id,i=r&&r.sequence_id,a=x1&&x1.sequence_id;return t.container().selectAll(".layer-mapillary .viewfield-group").classed("highlighted",function(o){return o.sequence_id===a||o.id===n}).classed("hovered",function(o){return o.id===n}),t.container().selectAll(".layer-mapillary .sequence").classed("highlighted",function(o){return o.properties.id===i}).classed("currentView",function(o){return o.properties.id===a}),this},updateDetections:function(t,r){if(!on||R6||!t)return;var n=Gr.image_detections;n.forImageId[t]?i(Gr.image_detections.forImageId[t]):Ix(r).then(function(o){o.forEach(function(s){n.forImageId[t]||(n.forImageId[t]=[]),n.forImageId[t].push({geometry:s.geometry,id:s.id,image_id:t,value:s.value})}),i(Gr.image_detections.forImageId[t]||[])});function i(o){var s=on.getComponent("tag");o.forEach(function(l){var u=a(l);u&&s.add([u])})}function a(o){var s=o.value.split("--");if(!!s.length){var l,u,c=16777215;sf===o.id&&(c=16776960,u=s[1],(u==="flat"||u==="discrete"||u==="sign")&&(u=s[2]),u=u.replace(/-/g," "),u=u.charAt(0).toUpperCase()+u.slice(1),sf=null);for(var d=window.atob(o.geometry),p=new Uint8Array(d.length),m=0;m<d.length;m++)p[m]=d.charCodeAt(m);var w=new nf.VectorTile(new af.default(p.buffer)),b=w.layers["mpy-or"],h=b.feature(0).loadGeometry(),g=h.map(function(v){return v.map(function(x){return[x.x/b.extent,x.y/b.extent]})});return l=new mapillary.OutlineTag(o.id,new mapillary.PolygonGeometry(g[0]),{text:u,textColor:c,lineColor:c,lineWidth:2,fillColor:c,fillOpacity:.3}),l}}},cache:function(){return Gr}};var ZP=function(){return{equals:function(r){return function(n){return Object.keys(r).every(function(i){return r[i]===n[i]})}},notEquals:function(r){return function(n){return Object.keys(r).some(function(i){return r[i]!==n[i]})}},absence:function(r){return function(n){return Object.keys(n).indexOf(r)===-1}},presence:function(r){return function(n){return Object.keys(n).indexOf(r)>-1}},greaterThan:function(r){var n=Object.keys(r)[0],i=r[n];return function(a){return a[n]>i}},greaterThanEqual:function(r){var n=Object.keys(r)[0],i=r[n];return function(a){return a[n]>=i}},lessThan:function(r){var n=Object.keys(r)[0],i=r[n];return function(a){return a[n]<i}},lessThanEqual:function(r){var n=Object.keys(r)[0],i=r[n];return function(a){return a[n]<=i}},positiveRegex:function(r){var n=Object.keys(r)[0],i=r[n].join("|"),a=new RegExp(i);return function(o){return a.test(o[n])}},negativeRegex:function(r){var n=Object.keys(r)[0],i=r[n].join("|"),a=new RegExp(i);return function(o){return!a.test(o[n])}}}},XP=function(){return{highway:{rest_area:!0,services:!0},railway:{roundhouse:!0,station:!0,traverser:!0,turntable:!0,wash:!0}}},df={init:function(){this._ruleChecks=ZP(),this._validationRules=[],this._areaKeys=_a,this._lineKeys=XP()},filterRuleChecks:function(t){var r=this._ruleChecks;return Object.keys(t).reduce(function(n,i){return["geometry","error","warning"].indexOf(i)===-1&&n.push(r[i](t[i])),n},[])},buildTagMap:function(t){var r=function(a){return a.map(function(o){return o.replace(/\$|\^/g,"")})},n=Object.keys(t).reduce(function(i,a){var o,s=/regex/gi.test(a),l=/equals/gi.test(a);if(s||l)Object.keys(t[a]).forEach(function(c){o=l?[t[a][c]]:r(t[a][c]),i.hasOwnProperty(c)&&(o=o.concat(i[c])),i[c]=o});else if(/(greater|less)Than(Equal)?|presence/g.test(a)){var u=/presence/.test(a)?t[a]:Object.keys(t[a])[0];o=[t[a][u]],i.hasOwnProperty(u)&&(o=o.concat(i[u])),i[u]=o}return i},{});return n},inferGeometry:function(t){var r=this._lineKeys,n=this._areaKeys,i=function(l){return Ar(t[l],Object.keys(n[l])).length>0},a=function(l){return Ar(t[l],Object.keys(r[l])).length>0};if(t.hasOwnProperty("area")){if(t.area.indexOf("yes")>-1)return"area";if(t.area.indexOf("no")>-1)return"line"}for(var o in t)if(o in n&&!i(o)||o in r&&a(o))return"area";return"line"},addRule:function(t){var r={checks:this.filterRuleChecks(t),matches:function(i){return this.checks.every(function(a){return a(i.tags)})},inferredGeometry:this.inferGeometry(this.buildTagMap(t),this._areaKeys),geometryMatches:function(i,a){if(i.type==="node"||i.type==="relation")return t.geometry===i.type;if(i.type==="way")return this.inferredGeometry===i.geometry(a)},findIssues:function(i,a,o){if(this.geometryMatches(i,a)&&this.matches(i)){var s=Object.keys(t).indexOf("error")>-1?"error":"warning",l=t[s];o.push(new mt({type:"maprules",severity:s,message:function(){return l},entityIds:[i.id]}))}}};this._validationRules.push(r)},clearRules:function(){this._validationRules=[]},validationRules:function(){return this._validationRules},ruleChecks:function(){return this._ruleChecks}};var pf=Xe(ji()),Nx="https://nominatim.openstreetmap.org/",Vi={},z6,mf={init:function(){Vi={},z6=new pf.default},reset:function(){Object.values(Vi).forEach(function(t){t.abort()}),Vi={},z6=new pf.default},countryCode:function(t,r){this.reverse(t,function(n,i){return n?r(n):i.address?r(null,i.address.country_code):r("Unable to geocode",null)})},reverse:function(t,r){var n=z6.search({minX:t[0],minY:t[1],maxX:t[0],maxY:t[1]});if(n.length>0){r&&r(null,n[0].data);return}var i={zoom:13,format:"json",addressdetails:1,lat:t[1],lon:t[0]},a=Nx+"reverse?"+at(i);if(!Vi[a]){var o=new AbortController;Vi[a]=o,kt(a,{signal:o.signal}).then(function(s){if(delete Vi[a],s&&s.error)throw new Error(s.error);var l=new Ne(t).padByMeters(200);z6.insert(Object.assign(l.bbox(),{data:s})),r&&r(null,s)}).catch(function(s){delete Vi[a],s.name!=="AbortError"&&r&&r(s.message)})}},search:function(t,r){var n=encodeURIComponent(t),i=Nx+"search/"+n+"?limit=10&format=json";if(!Vi[i]){var a=new AbortController;Vi[i]=a,kt(i,{signal:a.signal}).then(function(o){if(delete Vi[i],o&&o.error)throw new Error(o.error);r&&r(null,o)}).catch(function(o){delete Vi[i],o.name!=="AbortError"&&r&&r(o.message)})}}};pt();var Px=Xe($l());var Ox=Xe(H0());function _1(e){return typeof e!="string"?"":Ox.default.remove(e.replace(/&/g,"and").replace(/İ/ig,"i").replace(/[\s\-=_!"#%'*{},.\/:;?\(\)\[\]@\\$\^*+<>«»~`’\u00a1\u00a7\u00b6\u00b7\u00bf\u037e\u0387\u055a-\u055f\u0589\u05c0\u05c3\u05c6\u05f3\u05f4\u0609\u060a\u060c\u060d\u061b\u061e\u061f\u066a-\u066d\u06d4\u0700-\u070d\u07f7-\u07f9\u0830-\u083e\u085e\u0964\u0965\u0970\u0af0\u0df4\u0e4f\u0e5a\u0e5b\u0f04-\u0f12\u0f14\u0f85\u0fd0-\u0fd4\u0fd9\u0fda\u104a-\u104f\u10fb\u1360-\u1368\u166d\u166e\u16eb-\u16ed\u1735\u1736\u17d4-\u17d6\u17d8-\u17da\u1800-\u1805\u1807-\u180a\u1944\u1945\u1a1e\u1a1f\u1aa0-\u1aa6\u1aa8-\u1aad\u1b5a-\u1b60\u1bfc-\u1bff\u1c3b-\u1c3f\u1c7e\u1c7f\u1cc0-\u1cc7\u1cd3\u2000-\u206f\u2cf9-\u2cfc\u2cfe\u2cff\u2d70\u2e00-\u2e7f\u3001-\u3003\u303d\u30fb\ua4fe\ua4ff\ua60d-\ua60f\ua673\ua67e\ua6f2-\ua6f7\ua874-\ua877\ua8ce\ua8cf\ua8f8-\ua8fa\ua92e\ua92f\ua95f\ua9c1-\ua9cd\ua9de\ua9df\uaa5c-\uaa5f\uaade\uaadf\uaaf0\uaaf1\uabeb\ufe10-\ufe16\ufe19\ufe30\ufe45\ufe46\ufe49-\ufe4c\ufe50-\ufe52\ufe54-\ufe57\ufe5f-\ufe61\ufe68\ufe6a\ufe6b\ufeff\uff01-\uff03\uff05-\uff07\uff0a\uff0c\uff0e\uff0f\uff1a\uff1b\uff1f\uff20\uff3c\uff61\uff64\uff65]+/g,"").toLowerCase())}var $P={matchGroups:{adult_gaming_centre:["amenity/casino","amenity/gambling","leisure/adult_gaming_centre"],beauty:["shop/beauty","shop/hairdresser_supply"],bed:["shop/bed","shop/furniture"],beverages:["shop/alcohol","shop/beer","shop/beverages","shop/wine"],camping:["leisure/park","tourism/camp_site","tourism/caravan_site"],car_parts:["shop/car_parts","shop/car_repair","shop/tires","shop/tyres"],clinic:["amenity/clinic","amenity/doctors","healthcare/clinic","healthcare/dialysis"],confectionery:["shop/candy","shop/chocolate","shop/confectionery"],convenience:["shop/beauty","shop/chemist","shop/convenience","shop/cosmetics","shop/grocery","shop/newsagent","shop/perfumery"],coworking:["amenity/coworking_space","office/coworking","office/coworking_space"],dentist:["amenity/dentist","amenity/doctors","healthcare/dentist"],electronics:["office/telecommunication","shop/computer","shop/electronics","shop/hifi","shop/mobile","shop/mobile_phone","shop/telecommunication"],fabric:["shop/fabric","shop/haberdashery","shop/sewing"],fashion:["shop/accessories","shop/bag","shop/boutique","shop/clothes","shop/department_store","shop/fashion","shop/fashion_accessories","shop/sports","shop/shoes"],financial:["amenity/bank","office/accountant","office/financial","office/financial_advisor","office/tax_advisor","shop/tax"],fitness:["leisure/fitness_centre","leisure/fitness_center","leisure/sports_centre","leisure/sports_center"],food:["amenity/pub","amenity/bar","amenity/cafe","amenity/fast_food","amenity/ice_cream","amenity/restaurant","shop/bakery","shop/ice_cream","shop/pastry","shop/tea","shop/coffee"],fuel:["amenity/fuel","shop/gas","shop/convenience;gas","shop/gas;convenience"],gift:["shop/gift","shop/card","shop/cards","shop/stationery"],hardware:["shop/bathroom_furnishing","shop/carpet","shop/diy","shop/doityourself","shop/doors","shop/electrical","shop/flooring","shop/hardware","shop/hardware_store","shop/power_tools","shop/tool_hire","shop/tools","shop/trade"],health_food:["shop/health","shop/health_food","shop/herbalist","shop/nutrition_supplements"],hobby:["shop/electronics","shop/hobby","shop/books","shop/games","shop/collector","shop/toys","shop/model","shop/video_games","shop/anime"],hospital:["amenity/doctors","amenity/hospital","healthcare/hospital"],houseware:["shop/houseware","shop/interior_decoration"],lifeboat_station:["amenity/lifeboat_station","emergency/lifeboat_station","emergency/marine_rescue"],lodging:["tourism/hotel","tourism/motel"],money_transfer:["amenity/money_transfer","shop/money_transfer"],office_supplies:["shop/office_supplies","shop/stationary","shop/stationery"],outdoor:["shop/outdoor","shop/sports"],pharmacy:["amenity/doctors","amenity/pharmacy","healthcare/pharmacy"],playground:["amenity/theme_park","leisure/amusement_arcade","leisure/playground"],rental:["amenity/bicycle_rental","amenity/boat_rental","amenity/car_rental","amenity/truck_rental","amenity/vehicle_rental","shop/rental"],school:["amenity/childcare","amenity/college","amenity/kindergarten","amenity/language_school","amenity/prep_school","amenity/school","amenity/university"],storage:["shop/storage_units","shop/storage_rental"],substation:["power/station","power/substation","power/sub_station"],supermarket:["shop/food","shop/frozen_food","shop/greengrocer","shop/grocery","shop/supermarket","shop/wholesale"],variety_store:["shop/variety_store","shop/discount","shop/convenience"],vending:["amenity/vending_machine","shop/vending_machine"],weight_loss:["amenity/doctors","amenity/weight_clinic","healthcare/counselling","leisure/fitness_centre","office/therapist","shop/beauty","shop/diet","shop/food","shop/health_food","shop/herbalist","shop/nutrition","shop/nutrition_supplements","shop/weight_loss"],wholesale:["shop/wholesale","shop/supermarket","shop/department_store"]}},JP={genericWords:["^(barn|bazaa?r|bench|bou?tique|building|casa|church)$","^(baseball|basketball|football|soccer|softball|tennis(halle)?)\\s?(field|court)?$","^(club|green|out|ware)\\s?house$","^(driveway|el \xE1rbol|fountain|golf|government|graveyard)$","^(fixme|n\\s?\\/?\\s?a|name|no\\s?name|none|null|temporary|test|unknown)$","^(hofladen|librairie|magazine?|maison)$","^(mobile home|skate)?\\s?park$","^(obuwie|pond|pool|sale|shops?|sklep|stores?)$","^\\?+$","^private$","^tattoo( studio)?$","^windmill$","^\u0446\u0435\u0440\u043A\u043E\u0432\u043D\u0430\u044F( \u043B\u0430\u0432\u043A\u0430)?$"]},eB={trees:{brands:{emoji:"\uD83C\uDF54",mainTag:"brand:wikidata",sourceTags:["brand","name"],nameTags:{primary:"^(name|name:\\w+)$",alternate:"^(brand|brand:\\w+|operator|operator:\\w+|\\w+_name|\\w+_name:\\w+)$"}},flags:{emoji:"\uD83D\uDEA9",mainTag:"flag:wikidata",nameTags:{primary:"^(flag:name|flag:name:\\w+)$",alternate:"^(country|country:\\w+|flag|flag:\\w+|subject|subject:\\w+)$"}},operators:{emoji:"\uD83D\uDCBC",mainTag:"operator:wikidata",sourceTags:["operator"],nameTags:{primary:"^(name|name:\\w+|operator|operator:\\w+)$",alternate:"^(brand|brand:\\w+|\\w+_name|\\w+_name:\\w+)$"}},transit:{emoji:"\uD83D\uDE87",mainTag:"network:wikidata",sourceTags:["network"],nameTags:{primary:"^network$",alternate:"^(operator|operator:\\w+|network:\\w+|\\w+_name|\\w+_name:\\w+)$"}}}},hf=$P.matchGroups,tB=eB.trees,gf=function(){function e(){var t=this;kn(this,e),this.matchIndex=void 0,this.genericWords=new Map,(JP.genericWords||[]).forEach(function(r){return t.genericWords.set(r,new RegExp(r,"i"))}),this.itemLocation=void 0,this.locationSets=void 0,this.locationIndex=void 0,this.warnings=[]}return En(e,[{key:"buildMatchIndex",value:function(r){var n=this;if(n.matchIndex)return;n.matchIndex=new Map;var i=new Map;Object.keys(r).forEach(function(s){var l=r[s],u=s.split("/",3),c=u[0],d=u[1],p=u[2],m="".concat(d,"/").concat(p),w=tB[c],b=n.matchIndex.get(m);b||(b={primary:new Map,alternate:new Map,excludeGeneric:new Map,excludeNamed:new Map},n.matchIndex.set(m,b));var h=l.properties||{},g=h.exclude||{};(g.generic||[]).forEach(function(D){return b.excludeGeneric.set(D,new RegExp(D,"i"))}),(g.named||[]).forEach(function(D){return b.excludeNamed.set(D,new RegExp(D,"i"))});var v=[].concat($t(b.excludeGeneric.values()),$t(b.excludeNamed.values())),x=l.items;if(!(!Array.isArray(x)||!x.length)){var _=new RegExp(w.nameTags.primary,"i"),y=new RegExp(w.nameTags.alternate,"i"),E=/:(colou?r|type|forward|backward|left|right|etymology|pronunciation|wikipedia)$/i,k=o(c,d,p),A=new Set(["".concat(d,"/yes"),"building/yes"]),C=new Set;Object.values(hf).forEach(function(D){var S=D.some(function(N){return N===m});!S||D.forEach(function(N){if(N!==m){C.add(N);var R=N.split("/",2)[0];A.add("".concat(R,"/yes"))}})}),x.forEach(function(D){if(!!D.id){Array.isArray(D.matchTags)&&D.matchTags.length&&(D.matchTags=D.matchTags.filter(function(R){return!C.has(R)&&!A.has(R)}),D.matchTags.length||delete D.matchTags);var S=["".concat(m)].concat(D.matchTags||[]);k||(S=S.concat(Array.from(A))),Object.keys(D.tags).forEach(function(R){if(!E.test(R)){var P=D.tags[R];!P||v.some(function(L){return L.test(P)})||(_.test(R)?S.forEach(function(L){return a("primary",c,L,_1(P),D.id)}):y.test(R)&&S.forEach(function(L){return a("alternate",c,L,_1(P),D.id)}))}});var N=new Set;(D.matchNames||[]).forEach(function(R){var P=_1(R);S.forEach(function(L){var B=n.matchIndex.get(L),O=B&&B.primary.get(P),U=B&&B.alternate.get(P),T=O&&O.has(D.id),M=U&&U.has(D.id);!T&&!M&&(a("alternate",c,L,P,D.id),N.add(R))})}),N.size?D.matchNames=Array.from(N):delete D.matchNames}})}});function a(s,l,u,c,d){if(!c){n.warnings.push("Warning: skipping empty ".concat(s," name for item ").concat(l,"/").concat(u,": ").concat(d));return}var p=n.matchIndex.get(u);p||(p={primary:new Map,alternate:new Map,excludeGeneric:new Map,excludeNamed:new Map},n.matchIndex.set(u,p));var m=p[s].get(c);if(m||(m=new Set,p[s].set(c,m)),m.add(d),!/yes$/.test(u)){var w="".concat(u,"/").concat(c),b=i.get(w);if(b&&b!==l){var h=Array.from(m);n.warnings.push('Duplicate cache key "'.concat(w,'" in trees "').concat(l,'" and "').concat(b,'", check items: ').concat(h));return}i.set(w,l)}}function o(s,l,u){return s==="flags"||s==="transit"||l==="landuse"||u==="atm"||u==="bicycle_parking"||u==="car_sharing"||u==="caravan_site"||u==="charging_station"||u==="dog_park"||u==="parking"||u==="phone"||u==="playground"||u==="post_box"||u==="public_bookcase"||u==="recycling"||u==="vending_machine"}}},{key:"buildLocationIndex",value:function(r,n){var i=this;if(i.locationIndex)return;i.itemLocation=new Map,i.locationSets=new Map,Object.keys(r).forEach(function(o){var s=r[o].items;!Array.isArray(s)||!s.length||s.forEach(function(l){if(!i.itemLocation.has(l.id)){var u;try{u=n.resolveLocationSet(l.locationSet)}catch(d){console.warn("buildLocationIndex: ".concat(d.message))}if(!(!u||!u.id)&&(i.itemLocation.set(l.id,u.id),!i.locationSets.has(u.id))){var c=a(u.feature);if(c.id=u.id,c.properties.id=u.id,!c.geometry.coordinates.length||!c.properties.area){console.warn("buildLocationIndex: locationSet ".concat(u.id," for ").concat(l.id," resolves to an empty feature:")),console.warn(JSON.stringify(c));return}i.locationSets.set(u.id,c)}}})}),i.locationIndex=(0,Px.default)({type:"FeatureCollection",features:$t(i.locationSets.values())});function a(o){return JSON.parse(JSON.stringify(o))}}},{key:"match",value:function(r,n,i,a){var o=this;if(!o.matchIndex)throw new Error("match:  matchIndex not built.");var s;Array.isArray(a)&&o.locationIndex&&(s=o.locationIndex([a[0],a[1],a[0],a[1]],!0));var l=_1(i),u=new Set,c=[];if(d("primary"),d("alternate"),c.length)return c;return d("exclude"),c.length?c:null;function d(m){var w="".concat(r,"/").concat(n),b=p(m,w);if(!b){for(var h in hf){var g=hf[h],v=g.some(function(E){return E===w});if(!!v)for(var x=0;x<g.length;x++){var _=g[x];if(_!==w&&(b=p(m,_),b))return}}if(m==="exclude"){var y=$t(o.genericWords.values()).find(function(E){return E.test(i)});if(y){c.push({match:"excludeGeneric",pattern:String(y)});return}}}}function p(m,w){var b=o.matchIndex.get(w);if(!b)return;if(m==="exclude"){var h=$t(b.excludeNamed.values()).find(function(k){return k.test(i)});if(h){c.push({match:"excludeNamed",pattern:String(h),kv:w});return}if(h=$t(b.excludeGeneric.values()).find(function(k){return k.test(i)}),h){c.push({match:"excludeGeneric",pattern:String(h),kv:w});return}return}var g=b[m].get(l);if(!g||!g.size)return;var v=Array.from(g).map(function(k){var A=1/0;if(o.itemLocation&&o.locationSets){var C=o.locationSets.get(o.itemLocation.get(k));A=C&&C.properties.area||1/0}return{match:m,itemID:k,area:A,kv:w,nsimple:l}}),x=E;if(s&&(v=v.filter(_),x=y),!v.length)return;return v.sort(x).forEach(function(k){u.has(k.itemID)||(u.add(k.itemID),c.push(k))}),!0;function _(k){return o.itemLocation?s.find(function(A){return A.id===o.itemLocation.get(k.itemID)}):!0}function y(k,A){return k.area-A.area}function E(k,A){return A.area-k.area}}}},{key:"getWarnings",value:function(){return this.warnings}}]),e}();var vf="loading",ur={},rB={"building/commercial":!0,"building/government":!0,"building/hotel":!0,"building/retail":!0,"building/office":!0,"building/supermarket":!0,"building/yes":!0},nB=/:(colou?r|type|forward|backward|left|right|etymology|pronunciation|wikipedia)$/i,iB=/(coop|express|wireless|factory|outlet)/i;function aB(){var e={nsi_data:"https://cdn.jsdelivr.net/npm/name-suggestion-index@6.0/dist/nsi.min.json",nsi_dissolved:"https://cdn.jsdelivr.net/npm/name-suggestion-index@6.0/dist/dissolved.min.json",nsi_features:"https://cdn.jsdelivr.net/npm/name-suggestion-index@6.0/dist/featureCollection.min.json",nsi_generics:"https://cdn.jsdelivr.net/npm/name-suggestion-index@6.0/dist/genericWords.min.json",nsi_presets:"https://cdn.jsdelivr.net/npm/name-suggestion-index@6.0/dist/presets/nsi-id-presets.min.json",nsi_replacements:"https://cdn.jsdelivr.net/npm/name-suggestion-index@6.0/dist/replacements.min.json",nsi_trees:"https://cdn.jsdelivr.net/npm/name-suggestion-index@6.0/dist/trees.min.json"},t=Je.fileMap();for(var r in e)t[r]||(t[r]=e[r])}function oB(){return Promise.all([Je.get("nsi_presets"),Je.get("nsi_features")]).then(function(e){Object.values(e[0].presets).forEach(function(t){return t.suggestion=!0}),Ie.merge({presets:e[0].presets,featureCollection:e[1]})})}function sB(){return Promise.all([Je.get("nsi_data"),Je.get("nsi_dissolved"),Je.get("nsi_replacements"),Je.get("nsi_trees")]).then(function(e){ur={data:e[0].nsi,dissolved:e[1].dissolved,replacements:e[2].replacements,trees:e[3].trees,kvt:new Map,qids:new Map,ids:new Map},ur.matcher=new gf,ur.matcher.buildMatchIndex(ur.data),ur.matcher.buildLocationIndex(ur.data,tn.loco()),Object.keys(ur.data).forEach(function(t){var r=ur.data[t],n=t.split("/",3),i=n[0],a=n[1],o=n[2],s=ur.kvt.get(a);s||(s=new Map,ur.kvt.set(a,s)),s.set(o,i);var l=ur.trees[i],u=l.mainTag,c=r.items||[];c.forEach(function(d){d.tkv=t,d.mainTag=u,ur.ids.set(d.id,d);var p=d.tags[u],m=d.tags[u.replace("wikidata","wikipedia")];p&&ur.qids.set(p,p),m&&p&&ur.qids.set(m,p)})})})}function Bx(e){var t=new Set,r=new Set;Object.keys(e).forEach(function(i){var a=e[i];if(!!a){i==="route_master"&&(i="route");var o=ur.kvt.get(i);!o||(o.get(a)?t.add("".concat(i,"/").concat(a)):a==="yes"&&r.add("".concat(i,"/").concat(a)))}});var n=Ie.matchTags(e,"area");return rB[n.id]&&r.add("building/yes"),{primary:t,alternate:r}}function lB(e){var t,r;return Object.keys(e).forEach(function(n){if(!r){var i=e[n];if(!!i){n==="route_master"&&(n="route");var a=ur.kvt.get(n);!a||(i==="yes"?t="unknown":r=a.get(i))}}}),r||t||null}function Rx(e){var t={primary:new Set,alternate:new Set},r=new Set,n=new Set,i=!1,a=!1,o,s=lB(e);if(!s)return t;if(s==="transit"?o={primary:/^network$/i,alternate:/^(operator|operator:\w+|network:\w+|\w+_name|\w+_name:\w+)$/i}:s==="flags"?o={primary:/^(flag:name|flag:name:\w+)$/i,alternate:/^(flag|flag:\w+|subject|subject:\w+)$/i}:s==="brands"?(a=!0,o={primary:/^(name|name:\w+)$/i,alternate:/^(brand|brand:\w+|operator|operator:\w+|\w+_name|\w+_name:\w+)/i}):s==="operators"?(a=!0,o={primary:/^(name|name:\w+|operator|operator:\w+)$/i,alternate:/^(brand|brand:\w+|\w+_name|\w+_name:\w+)/i}):(a=!0,o={primary:/^(name|name:\w+)$/i,alternate:/^(brand|brand:\w+|network|network:\w+|operator|operator:\w+|\w+_name|\w+_name:\w+)/i}),e.name&&a)for(var l=e.name.split(/[\s\-\/,.]/),u=l.length;u>0;u--){var c=l.slice(0,u).join(" ");r.add(c)}if(Object.keys(e).forEach(function(m){var w=e[m];!w||(p(m,"primary")?/;/.test(w)?i=!0:(r.add(w),n.delete(w)):!r.has(w)&&p(m,"alternate")&&(/;/.test(w)?i=!0:n.add(w)))}),e.man_made==="flagpole"&&!r.size&&!n.size&&!!e.country){var d=e.country;/;/.test(d)?i=!0:n.add(d)}if(i)return t;return{primary:r,alternate:n};function p(m,w){return m==="old_name"?!1:o[w].test(m)&&!nB.test(m)}}function Lx(e,t){var r=[];return["primary","alternate"].forEach(function(n){var i=Array.from(t[n]).sort(function(a,o){return o.length-a.length});i.forEach(function(a){["primary","alternate"].forEach(function(o){e[o].forEach(function(s){var l=s.split("/",2),u=l[0],c=l[1];r.push({k:u,v:c,n:a})})})})}),r}function uB(e,t){var r=Object.assign({},e),n=!1;Object.keys(r).forEach(function(p){var m=p.match(/^(\w+:)?wikidata$/);if(m){var w=m[1]||"",b=r[p],h=ur.replacements[b];if(h&&h.wikidata!==void 0&&(n=!0,h.wikidata?r[p]=h.wikidata:delete r[p]),h&&h.wikipedia!==void 0){n=!0;var g="".concat(w,"wikipedia");h.wikipedia?r[g]=h.wikipedia:delete r[g]}}});var i=e.type==="route_master",a=Bx(e);if(!a.primary.size&&!a.alternate.size)return n?{newTags:r,matched:null}:null;var o=Rx(e),s=ur.qids.get(e.wikidata)||ur.qids.get(e.wikipedia);if(s&&o.primary.add(s),!o.primary.size&&!o.alternate.size)return n?{newTags:r,matched:null}:null;for(var l=Lx(a,o),u=function(m){var w=l[m],b=ur.matcher.match(w.k,w.v,w.n,t);if(!b||!b.length)return"continue";if(b[0].match!=="primary"&&b[0].match!=="alternate")return"break";for(var h=void 0,g=void 0,v=0;v<b.length;v++){var x=b[v];if(h=x.itemID,!ur.dissolved[h]&&(g=ur.ids.get(h),!!g)){var _=g.mainTag,y=g.tags[_],E=r["not:".concat(_)];if(!y||y===E||r.office&&!g.tags.office){g=null;continue}else break}}if(!g)return"continue";g=JSON.parse(JSON.stringify(g));var k=g.tkv,A=k.split("/",3),C=A[1],D=A[2],S=ur.data[k],N=S.properties||{},R=g.preserveTags||N.preserveTags||[];["building","emergency","internet_access","takeaway"].forEach(function(ie){C!==ie&&R.push("^".concat(ie,"$"))});var P=R.map(function(ie){return new RegExp(ie,"i")}),L={};Object.keys(r).forEach(function(ie){P.some(function(se){return se.test(ie)})&&(L[ie]=r[ie])}),ur.kvt.forEach(function(ie,se){r[se]==="yes"&&delete r[se]}),s&&(delete r.wikipedia,delete r.wikidata),Object.assign(r,g.tags,L),i&&(r.route_master=r.route,delete r.route);var B=e.name,O=r.name;if(O&&B&&O!==B&&!r.branch){var U=Rx(r),T=new Set([].concat($t(U.primary),$t(U.alternate))),M=T.has(B);if(!M)for(var I=B.split(/[\s\-\/,.]/),z=I.length;z>0;z--){var q=I.slice(0,z).join(" "),V=I.slice(z).join(" "),Y=ur.matcher.match(C,D,q,t);if(!(!Y||!Y.length)&&Y.some(function(ie){return ie.itemID===h})){if(V)if(iB.test(V))r.name=B;else{var ee=ur.matcher.match(C,D,V,t);if(ee&&ee.length){if(ee[0].match==="primary"||ee[0].match==="alternate")return{v:null}}else r.branch=V}break}}}return{v:{newTags:r,matched:g}}},c=0;c<l.length;c++){var d=u(c);if(d!=="continue"){if(d==="break")break;if(Se(d)==="object")return d.v}}return n?{newTags:r,matched:null}:null}function cB(e){var t=e.name;if(!t)return!1;var r={primary:new Set([t]),alternate:new Set},n=Bx(e);if(!n.primary.size&&!n.alternate.size)return!1;for(var i=Lx(n,r),a=0;a<i.length;a++){var o=i[a],s=ur.matcher.match(o.k,o.v,o.n);if(s&&s.length&&s[0].match==="excludeGeneric")return!0}return!1}var yf={init:function(){aB(),Ie.ensureLoaded().then(function(){return oB()}).then(function(){return t(100)}).then(function(){return tn.mergeLocationSets([])}).then(function(){return sB()}).then(function(){return vf="ok"}).catch(function(){return vf="failed"});function t(r){return new Promise(function(n){window.setTimeout(n,r)})}},reset:function(){},status:function(){return vf},isGenericName:function(t){return cB(t)},upgradeTags:function(t,r){return uB(t,r)},cache:function(){return ur}};var jx=Xe(ji());var zx="https://openstreetcam.org",Ux=1e3,fB=14,qx=new Nr().skipNullIsland(!0),Qx=be("loadedImages"),U6=so().extent([[0,0],[320,240]]).translateExtent([[0,0],[320,240]]).scaleExtent([1,15]),Xr,Ha,q6;function Gx(e){e.abort()}function dB(e){if(e<15)return 2;if(e===15)return 5;if(e===16)return 10;if(e===17)return 20;if(e===18)return 40;if(e>18)return 80}function pB(e,t,r){var n=Math.floor(Jt(r.scale())),i=new er().transform(r.transform()).dimensions(r.clipExtent()),a=qx.zoomRange(fB).getTiles(i).tiles,o=Xr[e];Object.keys(o.inflight).forEach(function(s){var l=a.find(function(u){return s.indexOf(u.id+",")===0});l||(Gx(o.inflight[s]),delete o.inflight[s])}),a.forEach(function(s){Hx(e,n,t,s)})}function Hx(e,t,r,n){var i=Xr[e],a=n.wgs84Extent.bbox(),o=dB(t),s=i.nextPage[n.id]||1,l=at({ipp:Ux,page:s,bbTopLeft:[a.maxY,a.minX].join(","),bbBottomRight:[a.minY,a.maxX].join(",")},!0);if(!(s>o)){var u=n.id+","+String(s);if(!(i.loaded[u]||i.inflight[u])){var c=new AbortController;i.inflight[u]=c;var d={method:"POST",signal:c.signal,body:l,headers:{"Content-Type":"application/x-www-form-urlencoded"}};kt(r,d).then(function(p){if(i.loaded[u]=!0,delete i.inflight[u],!p||!p.currentPageItems||!p.currentPageItems.length)throw new Error("No Data");var m=p.currentPageItems.map(function(w){var b=[+w.lng,+w.lat],h;if(e==="images"){h={loc:b,key:w.id,ca:+w.heading,captured_at:w.shot_date||w.date_added,captured_by:w.username,imagePath:w.lth_name,sequence_id:w.sequence_id,sequence_index:+w.sequence_index};var g=Xr.sequences[h.sequence_id];g||(g={rotation:0,images:[]},Xr.sequences[h.sequence_id]=g),g.images[h.sequence_index]=h,Xr.images.forImageKey[h.key]=h}return{minX:b[0],minY:b[1],maxX:b[0],maxY:b[1],data:h}});i.rtree.load(m),p.currentPageItems.length===Ux?(i.nextPage[n.id]=s+1,Hx(e,t,r,n)):i.nextPage[n.id]=1/0,e==="images"&&Qx.call("loadedImages")}).catch(function(){i.loaded[u]=!0,delete i.inflight[u]})}}}function mB(e){var t=Jt(e.scale()),r=Math.ceil(t*2)/2+2.5,n=new er().transform(e.transform()).dimensions(e.clipExtent()),i=qx.zoomRange(r).getTiles(n).tiles;return i.map(function(a){return a.wgs84Extent})}function hB(e,t,r){return e=e||5,mB(t).reduce(function(n,i){var a=r.search(i.bbox()).slice(0,e).map(function(o){return o.data});return a.length?n.concat(a):n},[])}var bf={init:function(){Xr||this.reset(),this.event=ke(this,Qx,"on")},reset:function(){Xr&&Object.values(Xr.images.inflight).forEach(Gx),Xr={images:{inflight:{},loaded:{},nextPage:{},rtree:new jx.default,forImageKey:{}},sequences:{}},Ha=null},images:function(t){var r=5;return hB(r,t,Xr.images.rtree)},sequences:function(t){var r=t.clipExtent(),n=[r[0][0],r[1][1]],i=[r[1][0],r[0][1]],a=new Ne(t.invert(n),t.invert(i)).bbox(),o={};Xr.images.rtree.search(a).forEach(function(l){o[l.data.sequence_id]=!0});var s=[];return Object.keys(o).forEach(function(l){var u=Xr.sequences[l],c=u&&u.images;c&&s.push({type:"LineString",coordinates:c.map(function(d){return d.loc}).filter(Boolean),properties:{captured_at:c[0]?c[0].captured_at:null,captured_by:c[0]?c[0].captured_by:null,key:l}})}),s},cachedImage:function(t){return Xr.images.forImageKey[t]},loadImages:function(t){var r=zx+"/1.0/list/nearby-photos/";pB("images",r,t)},ensureViewerLoaded:function(t){if(q6)return q6;var r=t.container().select(".photoviewer").selectAll(".osc-wrapper").data([0]),n=this,i=r.enter().append("div").attr("class","photo-wrapper osc-wrapper").classed("hide",!0).call(U6.on("zoom",o)).on("dblclick.zoom",null);i.append("div").attr("class","photo-attribution fillD");var a=i.append("div").attr("class","photo-controls-wrap").append("div").attr("class","photo-controls");a.append("button").on("click.back",l(-1)).html("\u25C4"),a.append("button").on("click.rotate-ccw",s(-90)).html("\u293F"),a.append("button").on("click.rotate-cw",s(90)).html("\u293E"),a.append("button").on("click.forward",l(1)).html("\u25BA"),i.append("div").attr("class","osc-image-wrap"),t.ui().photoviewer.on("resize.openstreetcam",function(u){U6=so().extent([[0,0],u]).translateExtent([[0,0],u]).scaleExtent([1,15]).on("zoom",o)});function o(u){var c=u.transform;t.container().select(".photoviewer .osc-image-wrap").call(ei,c.x,c.y,c.k)}function s(u){return function(){if(!!Ha){var c=Ha.sequence_id,d=Xr.sequences[c];if(!!d){var p=d.rotation||0;p+=u,p>180&&(p-=360),p<-180&&(p+=360),d.rotation=p;var m=t.container().select(".photoviewer .osc-wrapper");m.transition().duration(100).call(U6.transform,Ir),m.selectAll(".osc-image").transition().duration(100).style("transform","rotate("+p+"deg)")}}}}function l(u){return function(){if(!!Ha){var c=Ha.sequence_id,d=Xr.sequences[c];if(!!d){var p=Ha.sequence_index+u,m=d.images[p];!m||(t.map().centerEase(m.loc),n.selectImage(t,m.key))}}}}return q6=Promise.resolve(),q6},showViewer:function(t){var r=t.container().select(".photoviewer").classed("hide",!1),n=r.selectAll(".photo-wrapper.osc-wrapper.hide").size();return n&&(r.selectAll(".photo-wrapper:not(.osc-wrapper)").classed("hide",!0),r.selectAll(".photo-wrapper.osc-wrapper").classed("hide",!1)),this},hideViewer:function(t){Ha=null,this.updateUrlImage(null);var r=t.container().select(".photoviewer");return r.empty()||r.datum(null),r.classed("hide",!0).selectAll(".photo-wrapper").classed("hide",!0),t.container().selectAll(".viewfield-group, .sequence, .icon-sign").classed("currentView",!1),this.setStyles(t,null,!0)},selectImage:function(t,r){var n=this.cachedImage(r);Ha=n,this.updateUrlImage(r);var i=t.container().select(".photoviewer");if(i.empty()||i.datum(n),this.setStyles(t,null,!0),t.container().selectAll(".icon-sign").classed("currentView",!1),!n)return this;var a=t.container().select(".photoviewer .osc-wrapper"),o=a.selectAll(".osc-image-wrap"),s=a.selectAll(".photo-attribution").html("");if(a.transition().duration(100).call(U6.transform,Ir),o.selectAll(".osc-image").remove(),n){var l=Xr.sequences[n.sequence_id],u=l&&l.rotation||0;o.append("img").attr("class","osc-image").attr("src",zx+"/"+n.imagePath).style("transform","rotate("+u+"deg)"),n.captured_by&&(s.append("a").attr("class","captured_by").attr("target","_blank").attr("href","https://openstreetcam.org/user/"+encodeURIComponent(n.captured_by)).html("@"+n.captured_by),s.append("span").html("|")),n.captured_at&&(s.append("span").attr("class","captured_at").html(c(n.captured_at)),s.append("span").html("|")),s.append("a").attr("class","image-link").attr("target","_blank").attr("href","https://openstreetcam.org/details/"+n.sequence_id+"/"+n.sequence_index).html("openstreetcam.org")}return this;function c(d){if(!d)return null;var p={day:"numeric",month:"short",year:"numeric"},m=new Date(d);return isNaN(m.getTime())?null:m.toLocaleDateString(_e.localeCode(),p)}},getSelectedImage:function(){return Ha},getSequenceKeyForImage:function(t){return t&&t.sequence_id},setStyles:function(t,r,n){n&&(t.container().selectAll(".viewfield-group").classed("highlighted",!1).classed("hovered",!1).classed("currentView",!1),t.container().selectAll(".sequence").classed("highlighted",!1).classed("currentView",!1));var i=r&&r.key,a=this.getSequenceKeyForImage(r),o=a&&Xr.sequences[a],s=o&&o.images.map(function(h){return h.key})||[],l=t.container().select(".photoviewer"),u=l.empty()?void 0:l.datum(),c=u&&u.key,d=this.getSequenceKeyForImage(u),p=d&&Xr.sequences[d],m=p&&p.images.map(function(h){return h.key})||[],w=Yt(s,m);t.container().selectAll(".layer-openstreetcam .viewfield-group").classed("highlighted",function(h){return w.indexOf(h.key)!==-1}).classed("hovered",function(h){return h.key===i}).classed("currentView",function(h){return h.key===c}),t.container().selectAll(".layer-openstreetcam .sequence").classed("highlighted",function(h){return h.properties.key===a}).classed("currentView",function(h){return h.properties.key===d}),t.container().selectAll(".layer-openstreetcam .viewfield-group .viewfield").attr("d",b);function b(){var h=this.parentNode.__data__;return h.pano&&h.key!==c?"M 8,13 m -10,0 a 10,10 0 1,0 20,0 a 10,10 0 1,0 -20,0":"M 6,9 C 8,8.4 8,8.4 10,9 L 16,-2 C 12,-5 4,-5 0,-2 z"}return this},updateUrlImage:function(t){if(!window.mocha){var r=Bt(window.location.hash);t?r.photo="openstreetcam/"+t:delete r.photo,window.location.replace("#"+at(r,!0))}},cache:function(){return Xr}};pt();var I_=Xe(M_()),U4=Xe(ji());var Mf=new Nr,Ci=be("apiStatusChange","authLoading","authDone","change","loading","loaded","loadedNotes"),ai="https://www.openstreetmap.org",N_=Bt(window.location.hash),O_="omit";N_.hasOwnProperty("osm_api_url")&&(ai=N_.osm_api_url,O_="include");var Yn=(0,I_.default)({url:ai,oauth_consumer_key:"MlAcABGGdqadlgrjpmG6qSQu3bwbAgxC7hW0vRwm",oauth_secret:"M0g3lCJTvpnwMic0HYYwwTMpVvugNRlkycQL7so5",loading:R_,done:L_}),P_=[/.*\.google(apis)?\..*\/(vt|kh)[\?\/].*([xyz]=.*){3}.*/],fr={toLoad:{},loaded:{},inflight:{},seen:{},rtree:new U4.default},Zt={toLoad:{},loaded:{},inflight:{},inflightPost:{},note:{},closed:{},rtree:new U4.default},zr={toLoad:{},user:{}},P0,oi={},Ro=new Set,si=1,B0=16,AR=12,q4,C1,D1,Q6,B_=2e3;function R_(){Ci.call("authLoading")}function L_(){Ci.call("authDone")}function R0(e){e&&e.abort()}function G6(e){return Object.keys(e.inflight).length}function j_(e,t){Object.keys(e.inflight).forEach(function(r){e.toLoad[r]||t.find(function(n){return r===n.id})||(R0(e.inflight[r]),delete e.inflight[r])})}function z_(e){var t=e.lon&&e.lon.value,r=e.lat&&e.lat.value;return[parseFloat(t),parseFloat(r)]}function CR(e){for(var t=e.getElementsByTagName("nd"),r=new Array(t.length),n=0,i=t.length;n<i;n++)r[n]="n"+t[n].attributes.ref.value;return r}function DR(e){for(var t=e.nodes,r=new Array(t.length),n=0,i=t.length;n<i;n++)r[n]="n"+t[n];return r}function H6(e){for(var t=e.getElementsByTagName("tag"),r={},n=0,i=t.length;n<i;n++){var a=t[n].attributes;r[a.k.value]=a.v.value}return r}function SR(e){for(var t=e.getElementsByTagName("member"),r=new Array(t.length),n=0,i=t.length;n<i;n++){var a=t[n].attributes;r[n]={id:a.type.value[0]+a.ref.value,type:a.type.value,role:a.role.value}}return r}function FR(e){for(var t=e.members,r=new Array(t.length),n=0,i=t.length;n<i;n++){var a=t[n];r[n]={id:a.type[0]+a.ref,type:a.type,role:a.role}}return r}function If(e){return!e.visible||e.visible.value!=="false"}function TR(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];if(n.nodeName==="comment"){for(var i=n.childNodes,a={},o=0;o<i.length;o++){var s=i[o],l=s.nodeName;if(l!=="#text"&&(a[l]=s.textContent,l==="uid")){var u=s.textContent;u&&!zr.user[u]&&(zr.toLoad[u]=!0)}}a&&t.push(a)}}return t}function Nf(e){return{minX:e.loc[0],minY:e.loc[1],maxX:e.loc[0],maxY:e.loc[1],data:e}}var U_={node:function(t,r){return new ut({id:r,visible:typeof t.visible=="boolean"?t.visible:!0,version:t.version&&t.version.toString(),changeset:t.changeset&&t.changeset.toString(),timestamp:t.timestamp,user:t.user,uid:t.uid&&t.uid.toString(),loc:[parseFloat(t.lon),parseFloat(t.lat)],tags:t.tags})},way:function(t,r){return new Pt({id:r,visible:typeof t.visible=="boolean"?t.visible:!0,version:t.version&&t.version.toString(),changeset:t.changeset&&t.changeset.toString(),timestamp:t.timestamp,user:t.user,uid:t.uid&&t.uid.toString(),tags:t.tags,nodes:DR(t)})},relation:function(t,r){return new br({id:r,visible:typeof t.visible=="boolean"?t.visible:!0,version:t.version&&t.version.toString(),changeset:t.changeset&&t.changeset.toString(),timestamp:t.timestamp,user:t.user,uid:t.uid&&t.uid.toString(),tags:t.tags,members:FR(t)})},user:function(t,r){return{id:r,display_name:t.display_name,account_created:t.account_created,image_url:t.img&&t.img.href,changesets_count:t.changesets&&t.changesets.count&&t.changesets.count.toString()||"0",active_blocks:t.blocks&&t.blocks.received&&t.blocks.received.active&&t.blocks.received.active.toString()||"0"}}};function MR(e,t,r){if(r=Object.assign({skipSeen:!0},r),!e)return t({message:"No JSON",status:-1});var n=e;if(Se(n)!=="object"&&(n=JSON.parse(e)),!n.elements)return t({message:"No JSON",status:-1});var i=n.elements,a=window.requestIdleCallback(function(){Ro.delete(a);for(var s=[],l,u=0;u<i.length;u++)l=o(i[u]),l&&s.push(l);t(null,s)});Ro.add(a);function o(s){var l=U_[s.type];if(!l)return null;var u;if(u=Me.id.fromOSM(s.type,s.id),r.skipSeen){if(fr.seen[u])return null;fr.seen[u]=!0}return l(s,u)}}function Of(e,t,r){if(r=Object.assign({skipSeen:!0},r),!e)return t({message:"No JSON",status:-1});var n=e;if(Se(n)!=="object"&&(n=JSON.parse(e)),!n.users&&!n.user)return t({message:"No JSON",status:-1});var i=n.users||[n],a=window.requestIdleCallback(function(){Ro.delete(a);for(var s=[],l,u=0;u<i.length;u++)l=o(i[u]),l&&s.push(l);t(null,s)});Ro.add(a);function o(s){var l=s.user.id&&s.user.id.toString();if(r.skipSeen&&zr.user[l])return delete zr.toLoad[l],null;var u=U_.user(s.user,l);return zr.user[l]=u,delete zr.toLoad[l],u}}var IR={node:function(t,r){var n=t.attributes;return new ut({id:r,visible:If(n),version:n.version.value,changeset:n.changeset&&n.changeset.value,timestamp:n.timestamp&&n.timestamp.value,user:n.user&&n.user.value,uid:n.uid&&n.uid.value,loc:z_(n),tags:H6(t)})},way:function(t,r){var n=t.attributes;return new Pt({id:r,visible:If(n),version:n.version.value,changeset:n.changeset&&n.changeset.value,timestamp:n.timestamp&&n.timestamp.value,user:n.user&&n.user.value,uid:n.uid&&n.uid.value,tags:H6(t),nodes:CR(t)})},relation:function(t,r){var n=t.attributes;return new br({id:r,visible:If(n),version:n.version.value,changeset:n.changeset&&n.changeset.value,timestamp:n.timestamp&&n.timestamp.value,user:n.user&&n.user.value,uid:n.uid&&n.uid.value,tags:H6(t),members:SR(t)})},note:function(t,r){var n=t.attributes,i=t.childNodes,a={};a.id=r,a.loc=z_(n);var o=!1,s=1e-5;do{o&&(a.loc=kr(a.loc,[s,s]));var l=new Ne(a.loc).bbox();o=Zt.rtree.search(l).length}while(o);for(var u=0;u<i.length;u++){var c=i[u],d=c.nodeName;d!=="#text"&&(d==="comments"?a[d]=TR(c.childNodes):a[d]=c.textContent)}var p=new or(a),m=Nf(p);return Zt.note[p.id]=p,Zt.rtree.insert(m),p},user:function(t,r){var n=t.attributes,i={id:r,display_name:n.display_name&&n.display_name.value,account_created:n.account_created&&n.account_created.value,changesets_count:"0",active_blocks:"0"},a=t.getElementsByTagName("img");a&&a[0]&&a[0].getAttribute("href")&&(i.image_url=a[0].getAttribute("href"));var o=t.getElementsByTagName("changesets");o&&o[0]&&o[0].getAttribute("count")&&(i.changesets_count=o[0].getAttribute("count"));var s=t.getElementsByTagName("blocks");if(s&&s[0]){var l=s[0].getElementsByTagName("received");l&&l[0]&&l[0].getAttribute("active")&&(i.active_blocks=l[0].getAttribute("active"))}return zr.user[r]=i,delete zr.toLoad[r],i}};function Pf(e,t,r){if(r=Object.assign({skipSeen:!0},r),!e||!e.childNodes)return t({message:"No XML",status:-1});var n=e.childNodes[0],i=n.childNodes,a=window.requestIdleCallback(function(){Ro.delete(a);for(var s=[],l,u=0;u<i.length;u++)l=o(i[u]),l&&s.push(l);t(null,s)});Ro.add(a);function o(s){var l=IR[s.nodeName];if(!l)return null;var u;if(s.nodeName==="user"){if(u=s.attributes.id.value,r.skipSeen&&zr.user[u])return delete zr.toLoad[u],null}else if(s.nodeName==="note")u=s.getElementsByTagName("id")[0].textContent;else if(u=Me.id.fromOSM(s.nodeName,s.attributes.id.value),r.skipSeen){if(fr.seen[u])return null;fr.seen[u]=!0}return l(s,u)}}function q_(e,t){Zt.rtree.remove(e,function(n,i){return n.data.id===i.data.id}),t&&Zt.rtree.insert(e)}function va(e,t,r){return function(n,i){return n?((n.status===400||n.status===401||n.status===403)&&e.logout(),t.call(e,n)):e.getConnectionId()!==r?t.call(e,{message:"Connection Switched",status:-1}):t.call(e,n,i)}}var T4={init:function(){ke(this,Ci,"on"),this.userDetails(function(t,r){return window.__user=r})},reset:function(){return Array.from(Ro).forEach(function(t){window.cancelIdleCallback(t),Ro.delete(t)}),si++,C1=void 0,D1=void 0,q4=void 0,Object.values(fr.inflight).forEach(R0),Object.values(Zt.inflight).forEach(R0),Object.values(Zt.inflightPost).forEach(R0),oi.inflight&&R0(oi.inflight),fr={toLoad:{},loaded:{},inflight:{},seen:{},rtree:new U4.default},Zt={toLoad:{},loaded:{},inflight:{},inflightPost:{},note:{},closed:{},rtree:new U4.default},zr={toLoad:{},user:{}},P0=void 0,oi={},this},getConnectionId:function(){return si},changesetURL:function(t){return ai+"/changeset/"+t},changesetsURL:function(t,r){var n=Math.max(0,Math.ceil(Math.log(r)/Math.LN2));return ai+"/history#map="+Math.floor(r)+"/"+t[1].toFixed(n)+"/"+t[0].toFixed(n)},entityURL:function(t){return ai+"/"+t.type+"/"+t.osmId()},historyURL:function(t){return ai+"/"+t.type+"/"+t.osmId()+"/history"},userURL:function(t){return ai+"/user/"+t},noteURL:function(t){return ai+"/note/"+t.id},noteReportURL:function(t){return ai+"/reports/new?reportable_type=Note&reportable_id="+t.id},loadFromAPI:function(t,r,n){n=Object.assign({skipSeen:!0},n);var i=this,a=si;function o(c,d){if(i.getConnectionId()!==a){r&&r({message:"Connection Switched",status:-1});return}var p=i.authenticated();if(p&&c&&c.status&&(c.status===400||c.status===401||c.status===403))i.logout(),i.loadFromAPI(t,r,n);else if(!p&&!q4&&c&&c.status&&(c.status===509||c.status===429)?(q4=c,Ci.call("change"),i.reloadApiStatus()):(c&&P0==="online"||!c&&P0!=="online")&&i.reloadApiStatus(),r)return c?r(c):t.indexOf(".json")!==-1?MR(d,r,n):Pf(d,r,n)}if(this.authenticated())return Yn.xhr({method:"GET",path:t},o);var s=ai+t,l=new AbortController,u;return t.indexOf(".json")!==-1?u=kt:u=Is,u(s,{signal:l.signal}).then(function(c){o(null,c)}).catch(function(c){if(c.name!=="AbortError"){var d=c.message.match(/^\d{3}/);o(d?{status:+d[0],statusText:c.message}:c.message)}}),l},loadEntity:function(t,r){var n=Me.id.type(t),i=Me.id.toOSM(t),a={skipSeen:!1};this.loadFromAPI("/api/0.6/"+n+"/"+i+(n!=="node"?"/full":"")+".json",function(o,s){r&&r(o,{data:s})},a)},loadEntityVersion:function(t,r,n){var i=Me.id.type(t),a=Me.id.toOSM(t),o={skipSeen:!1};this.loadFromAPI("/api/0.6/"+i+"/"+a+"/"+r+".json",function(s,l){n&&n(s,{data:l})},o)},loadEntityRelations:function(t,r){var n=Me.id.type(t),i=Me.id.toOSM(t),a={skipSeen:!1};this.loadFromAPI("/api/0.6/"+n+"/"+i+"/relations.json",function(o,s){r&&r(o,{data:s})},a)},loadMultiple:function(t,r){var n=this,i=ar(Ve(t),Me.id.type);Object.keys(i).forEach(function(a){var o=a+"s",s=i[a].map(function(u){return Me.id.toOSM(u)}),l={skipSeen:!1};zo(s,150).forEach(function(u){n.loadFromAPI("/api/0.6/"+o+".json?"+o+"="+u.join(),function(c,d){r&&r(c,{data:d})},l)})})},putChangeset:function(t,r,n){var i=si;if(oi.inflight)return n({message:"Changeset already inflight",status:-2},t);if(oi.open)return o.call(this,null,oi.open);var a={method:"PUT",path:"/api/0.6/changeset/create",options:{header:{"Content-Type":"text/xml"}},content:fa.stringify(t.asJXON())};oi.inflight=Yn.xhr(a,va(this,o,i));function o(l,u){if(oi.inflight=null,l)return n(l,t);oi.open=u,t=t.update({id:u});var c={method:"POST",path:"/api/0.6/changeset/"+u+"/upload",options:{header:{"Content-Type":"text/xml"}},content:fa.stringify(t.osmChangeJXON(r))};oi.inflight=Yn.xhr(c,va(this,s,i))}function s(l){if(oi.inflight=null,l)return n(l,t);window.setTimeout(function(){n(null,t)},2500),oi.open=null,this.getConnectionId()===i&&Yn.xhr({method:"PUT",path:"/api/0.6/changeset/"+t.id+"/close",options:{header:{"Content-Type":"text/xml"}}},function(){return!0})}},loadUsers:function(t,r){var n=[],i=[];if(Ve(t).forEach(function(o){zr.user[o]?(delete zr.toLoad[o],i.push(zr.user[o])):n.push(o)}),(i.length||!this.authenticated())&&(r(void 0,i),!this.authenticated()))return;zo(n,150).forEach(function(o){Yn.xhr({method:"GET",path:"/api/0.6/users.json?users="+o.join()},va(this,a,si))}.bind(this));function a(o,s){if(o)return r(o);var l={skipSeen:!0};return Of(s,function(u,c){return u?r(u):r(void 0,c)},l)}},loadUser:function(t,r){if(zr.user[t]||!this.authenticated())return delete zr.toLoad[t],r(void 0,zr.user[t]);Yn.xhr({method:"GET",path:"/api/0.6/user/"+t+".json"},va(this,n,si));function n(i,a){if(i)return r(i);var o={skipSeen:!0};return Of(a,function(s,l){return s?r(s):r(void 0,l[0])},o)}},userDetails:function(t){if(D1)return t(void 0,D1);Yn.xhr({method:"GET",path:"/api/0.6/user/details.json"},va(this,r,si));function r(n,i){if(n)return t(n);var a={skipSeen:!1};return Of(i,function(o,s){return o?t(o):(D1=s[0],t(void 0,D1))},a)}},userChangesets:function(t){if(C1)return t(void 0,C1);this.userDetails(va(this,r,si));function r(i,a){if(i)return t(i);Yn.xhr({method:"GET",path:"/api/0.6/changesets?user="+a.id},va(this,n,si))}function n(i,a){return i?t(i):(C1=Array.prototype.map.call(a.getElementsByTagName("changeset"),function(o){return{tags:H6(o)}}).filter(function(o){var s=o.tags.comment;return s&&s!==""}),t(void 0,C1))}},status:function(t){var r=ai+"/api/capabilities",n=va(this,i,si);Is(r,{credentials:O_}).then(function(a){n(null,a)}).catch(function(a){n(a.message)});function i(a,o){if(a)return t(a,null);for(var s=o.getElementsByTagName("blacklist"),l=[],u=0;u<s.length;u++){var c=s[u].getAttribute("regex");if(c)try{var d=new RegExp(c);l.push(d)}catch(h){}}if(l.length&&(P_=l),q4)return t(q4,"rateLimited");var p=o.getElementsByTagName("waynodes"),m=p.length&&parseInt(p[0].getAttribute("maximum"),10);m&&isFinite(m)&&(B_=m);var w=o.getElementsByTagName("status"),b=w[0].getAttribute("api");return t(void 0,b)}},reloadApiStatus:function(){if(!this.throttledReloadApiStatus){var t=this;this.throttledReloadApiStatus=Et(function(){t.status(function(r,n){n!==P0&&(P0=n,Ci.call("apiStatusChange",t,r,n))})},500)}this.throttledReloadApiStatus()},maxWayNodes:function(){return B_},loadTiles:function(t,r){if(!Q6){var n=new er().transform(t.transform()).dimensions(t.clipExtent()),i=Mf.zoomRange(B0).getTiles(n).tiles,a=G6(fr);j_(fr,i),a&&!G6(fr)&&Ci.call("loaded"),i.forEach(function(o){this.loadTile(o,r)},this)}},loadTile:function(t,r){if(Q6||fr.loaded[t.id]||fr.inflight[t.id])return;G6(fr)||Ci.call("loading");var n="/api/0.6/map.json?bbox=",i={skipSeen:!0};fr.inflight[t.id]=this.loadFromAPI(n+t.wgs84Extent.toParam(),a,i);function a(o,s){if(delete fr.inflight[t.id],!o){delete fr.toLoad[t.id],fr.loaded[t.id]=!0;var l=t.wgs84Extent.bbox();l.id=t.id,fr.rtree.insert(l)}r&&r(o,Object.assign({data:s},t)),G6(fr)||Ci.call("loaded")}},isDataLoaded:function(t){var r={minX:t[0],minY:t[1],maxX:t[0],maxY:t[1]};return fr.rtree.collides(r)},loadTileAtLoc:function(t,r){if(!(Object.keys(fr.toLoad).length>50)){var n=Qr(B0+1),i=new er().scale(n).project(t),a=new er().transform({k:n,x:-i[0],y:-i[1]}),o=Mf.zoomRange(B0).getTiles(a).tiles;o.forEach(function(s){fr.toLoad[s.id]||fr.loaded[s.id]||fr.inflight[s.id]||(fr.toLoad[s.id]=!0,this.loadTile(s,r))},this)}},loadNotes:function(t,r){if(r=Object.assign({limit:1e4,closed:7},r),!Q6){var n=this,i="/api/0.6/notes?limit="+r.limit+"&closed="+r.closed+"&bbox=",a=Et(function(){var l=Object.keys(zr.toLoad);!l.length||n.loadUsers(l,function(){})},750),o=new er().transform(t.transform()).dimensions(t.clipExtent()),s=Mf.zoomRange(AR).getTiles(o).tiles;j_(Zt,s),s.forEach(function(l){if(!(Zt.loaded[l.id]||Zt.inflight[l.id])){var u={skipSeen:!1};Zt.inflight[l.id]=n.loadFromAPI(i+l.wgs84Extent.toParam(),function(c){delete Zt.inflight[l.id],c||(Zt.loaded[l.id]=!0),a(),Ci.call("loadedNotes")},u)}})}},postNoteCreate:function(t,r){if(!this.authenticated())return r({message:"Not Authenticated",status:-3},t);if(Zt.inflightPost[t.id])return r({message:"Note update already inflight",status:-2},t);if(!t.loc[0]||!t.loc[1]||!t.newComment)return;var n=t.newComment;t.newCategory&&t.newCategory!=="None"&&(n+=" #"+t.newCategory);var i="/api/0.6/notes?"+at({lon:t.loc[0],lat:t.loc[1],text:n});Zt.inflightPost[t.id]=Yn.xhr({method:"POST",path:i},va(this,a,si));function a(o,s){if(delete Zt.inflightPost[t.id],o)return r(o);this.removeNote(t);var l={skipSeen:!1};return Pf(s,function(u,c){return u?r(u):r(void 0,c[0])},l)}},postNoteUpdate:function(t,r,n){if(!this.authenticated())return n({message:"Not Authenticated",status:-3},t);if(Zt.inflightPost[t.id])return n({message:"Note update already inflight",status:-2},t);var i;if(t.status!=="closed"&&r==="closed")i="close";else if(t.status!=="open"&&r==="open")i="reopen";else if(i="comment",!t.newComment)return;var a="/api/0.6/notes/"+t.id+"/"+i;t.newComment&&(a+="?"+at({text:t.newComment})),Zt.inflightPost[t.id]=Yn.xhr({method:"POST",path:a},va(this,o,si));function o(s,l){if(delete Zt.inflightPost[t.id],s)return n(s);this.removeNote(t),i==="close"?Zt.closed[t.id]=!0:i==="reopen"&&delete Zt.closed[t.id];var u={skipSeen:!1};return Pf(l,function(c,d){return c?n(c):n(void 0,d[0])},u)}},switch:function(t){return ai=t.urlroot,Yn.options(Object.assign({url:ai,loading:R_,done:L_},t)),this.reset(),this.userChangesets(function(){}),Ci.call("change"),this},toggle:function(t){return Q6=!t,this},isChangesetInflight:function(){return!!oi.inflight},caches:function(t){function r(n){var i={};return Object.keys(n).forEach(function(a){a==="rtree"?i.rtree=new U4.default().fromJSON(n.rtree.toJSON()):a==="note"?(i.note={},Object.keys(n.note).forEach(function(o){i.note[o]=or(n.note[o])})):i[a]=JSON.parse(JSON.stringify(n[a]))}),i}return arguments.length?t==="get"?{tile:fr,note:Zt,user:zr}:(t.tile&&(fr=t.tile,fr.inflight={}),t.note&&(Zt=t.note,Zt.inflight={},Zt.inflightPost={}),t.user&&(zr=t.user),this):{tile:r(fr),note:r(Zt),user:r(zr)}},logout:function(){return C1=void 0,D1=void 0,Yn.logout(),Ci.call("change"),this},authenticated:function(){return Yn.authenticated()},authenticate:function(t){var r=this,n=si;C1=void 0,D1=void 0;function i(a,o){if(a){t&&t(a);return}if(r.getConnectionId()!==n){t&&t({message:"Connection Switched",status:-1});return}q4=void 0,Ci.call("change"),t&&t(a,o),r.userChangesets(function(){})}return Yn.authenticate(i)},imageryBlocklists:function(){return P_},tileZoom:function(t){return arguments.length?(B0=t,this):B0},notes:function(t){var r=t.clipExtent(),n=[r[0][0],r[1][1]],i=[r[1][0],r[0][1]],a=new Ne(t.invert(n),t.invert(i)).bbox();return Zt.rtree.search(a).map(function(o){return o.data})},getNote:function(t){return Zt.note[t]},removeNote:function(t){!(t instanceof or)||!t.id||(delete Zt.note[t.id],q_(Nf(t),!1))},replaceNote:function(t){if(!(!(t instanceof or)||!t.id))return Zt.note[t.id]=t,q_(Nf(t),!0),t},getClosedIDs:function(){return Object.keys(Zt.closed).sort()}};var Bf="https://wiki.openstreetmap.org/w/api.php",S1={},ya={},W6={en:!1},NR=Nt(Q_,500,{leading:!1});function Q_(e,t){if(!S1[e]){var r=new AbortController;S1[e]=r,kt(e,{signal:r.signal}).then(function(n){delete S1[e],t&&t(null,n)}).catch(function(n){delete S1[e],n.name!=="AbortError"&&t&&t(n.message)})}}var Rf={init:function(){S1={},ya={},W6={}},reset:function(){Object.values(S1).forEach(function(t){t.abort()}),S1={}},claimToValue:function(t,r,n){if(!!t.claims[r]){var i=W6[n],a,o;t.claims[r].forEach(function(u){!a&&u.rank==="preferred"&&(a=u),i&&u.qualifiers&&u.qualifiers.P26&&u.qualifiers.P26[0].datavalue.value.id===i&&(o=u)});var s=o||a;if(s){var l=s.mainsnak.datavalue;return l.type==="wikibase-entityid"?l.value.id:l.value}else return}},monolingualClaimToValueObj:function(t,r){if(!(!t||!t.claims[r]))return t.claims[r].reduce(function(n,i){var a=i.mainsnak.datavalue.value;return n[a.language]=a.text,n},{})},toSitelink:function(t,r){var n=r?"Tag:"+t+"="+r:"Key:"+t;return n.replace(/_/g," ").trim()},getEntity:function(t,r){var n=t.debounce?NR:Q_,i=this,a=[],o={},s=t.key==="type"&&t.value?("Relation:"+t.value).replace(/_/g," ").trim():!1,l=t.key?this.toSitelink(t.key):!1,u=t.key&&t.value?this.toSitelink(t.key,t.value):!1,c;if(t.langCodes&&t.langCodes.forEach(function(m){W6[m]===void 0&&(c=("Locale:"+m).replace(/_/g," ").trim(),a.push(c))}),s&&(ya[s]?o.rtype=ya[s]:a.push(s)),l&&(ya[l]?o.key=ya[l]:a.push(l)),u&&(ya[u]?o.tag=ya[u]:a.push(u)),!a.length)return r(null,o);var d={action:"wbgetentities",sites:"wiki",titles:a.join("|"),languages:t.langCodes.join("|"),languagefallback:1,origin:"*",format:"json"},p=Bf+"?"+at(d);n(p,function(m,w){if(m)r(m);else if(!w.success||w.error)r(w.error.messages.map(function(h){return h.html["*"]}).join("<br>"));else{var b=!1;Object.values(w.entities).forEach(function(h){if(h.missing!==""){var g=h.sitelinks.wiki.title;g===s?(ya[s]=h,o.rtype=h):g===l?(ya[l]=h,o.key=h):g===u?(ya[u]=h,o.tag=h):g===c?b=h.id:console.log("Unexpected title "+g)}}),c&&i.addLocale(t.langCodes[0],b),r(null,o)}})},getDocs:function(t,r){var n=this,i=_e.localeCodes().map(function(a){return a.toLowerCase()});t.langCodes=i,this.getEntity(t,function(a,o){if(a){r(a);return}var s=o.rtype||o.tag||o.key;if(!s){r("No entity");return}var l,u;for(l in i){var c=i[l];if(s.descriptions[c]&&s.descriptions[c].language===c){u=s.descriptions[c];break}}!u&&Object.values(s.descriptions).length&&(u=Object.values(s.descriptions)[0]);var d={title:s.title,description:u?u.value:"",descriptionLocaleCode:u?u.language:"",editURL:"https://wiki.openstreetmap.org/wiki/"+s.title};if(s.claims){var p,m=n.claimToValue(s,"P4",i[0]);m?p="https://commons.wikimedia.org/w/index.php":(m=n.claimToValue(s,"P28",i[0]),m&&(p="https://wiki.openstreetmap.org/w/index.php")),p&&m&&(d.imageURL=p+"?"+at({title:"Special:Redirect/file/"+m,width:400}))}var w=n.monolingualClaimToValueObj(o.rtype,"P31"),b=n.monolingualClaimToValueObj(o.tag,"P31"),h=n.monolingualClaimToValueObj(o.key,"P31"),g=[w,b,h];for(l in g){var v=g[l];for(var x in i){var _=i[x],y=i[0].split("-")[0]!=="en"&&_.split("-")[0]==="en"?"inspector.wiki_en_reference":"inspector.wiki_reference",E=k(v,_,y);if(E){d.wiki=E;break}}if(d.wiki)break}r(null,d);function k(A,C,D){if(A&&A[C])return{title:A[C],text:D,url:"https://wiki.openstreetmap.org/wiki/"+A[C]}}})},addLocale:function(t,r){W6[t]=r},apibase:function(t){return arguments.length?(Bf=t,this):Bf}};var H_=Xe(ji());var V6={};window.jsonpCache=V6;function G_(e,t){var r={abort:function(){}};if(window.JSONP_FIX){if(window.JSONP_DELAY===0)t(window.JSONP_FIX);else{var n=window.setTimeout(function(){t(window.JSONP_FIX)},window.JSONP_DELAY||0);r.abort=function(){window.clearTimeout(n)}}return r}function i(){for(var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",u="",c=-1;++c<15;)u+=l.charAt(Math.floor(Math.random()*52));return u}function a(l){var u=l.match(/callback=(\w+)/),c=u?u[1]:i();V6[c]=function(p){V6[c]&&t(p),d()};function d(){delete V6[c],s.remove()}return r.abort=d,"jsonpCache."+c}var o=a(e),s=G("head").append("script").attr("type","text/javascript").attr("src",e.replace(/(\{|%7B)callback(\}|%7D)/,o));return r}var OR="https://dev.virtualearth.net/mapcontrol/HumanScaleServices/GetBubbles.ashx?",PR="https://t.ssl.ak.tiles.virtualearth.net/tiles/",BR="AuftgJsO0Xs8Ts4M1xZUQJQXJNsvmh3IV8DkNieCiy3tCwCUMq76-WpkrBtNAuEm",RR="pannellum-streetside/pannellum.css",LR="pannellum-streetside/pannellum.js",jR=2e3,W_=16.5,V_=new Nr().zoomRange(W_).skipNullIsland(!0),K6=be("loadedImages","viewerChanged"),zR=10,UR=90,qR=45,Y6=!1,Z6=512,Q4=0,wn,Di,F1={showFullscreenCtrl:!1,autoLoad:!0,compass:!0,yaw:0,minHfov:zR,maxHfov:UR,hfov:qR,type:"cubemap",cubeMap:[]},L0;function K_(e){e.abort()}function QR(e){if(!e)return null;var t={day:"numeric",month:"short",year:"numeric"},r=new Date(e);return isNaN(r.getTime())?null:r.toLocaleString(_e.localeCode(),t)}function GR(e,t,r,n){var i=new er().transform(r.transform()).dimensions(r.clipExtent()),a=V_.zoomRange(W_).margin(n).getTiles(i).tiles,o=wn[e];Object.keys(o.inflight).forEach(function(s){var l=a.find(function(u){return s.indexOf(u.id+",")===0});l||(K_(o.inflight[s]),delete o.inflight[s])}),a.forEach(function(s){return HR(e,t,s)})}function HR(e,t,r){var n=wn[e],i=n.nextPage[r.id]||0,a=r.id+","+String(i);n.loaded[a]||n.inflight[a]||(n.inflight[a]=VR(t,r,function(o){if(n.loaded[a]=!0,delete n.inflight[a],!!o){o.shift();var s=o.map(function(l){if(n.points[l.id])return null;var u=[l.lo,l.la],c={loc:u,key:l.id,ca:l.he,captured_at:l.cd,captured_by:"microsoft",pr:l.pr,ne:l.ne,pano:!0,sequenceKey:null};return n.points[l.id]=c,l.pr===void 0&&n.leaders.push(l.id),{minX:u[0],minY:u[1],maxX:u[0],maxY:u[1],data:c}}).filter(Boolean);n.rtree.load(s),WR(),e==="bubbles"&&K6.call("loadedImages")}}))}function WR(){for(var e=wn.bubbles,t=[],r=0;r<e.leaders.length;r++){var n=e.points[e.leaders[r]],i={},a={key:n.key,bubbles:[]},o=!1;do a.bubbles.push(n),i[n.key]=!0,n.ne===void 0?o=!0:n=e.points[n.ne];while(n&&!i[n.key]&&!o);if(o){wn.sequences[a.key]=a;for(var s=0;s<a.bubbles.length;s++)a.bubbles[s].sequenceKey=a.key;a.geojson={type:"LineString",properties:{captured_at:a.bubbles[0]?a.bubbles[0].captured_at:null,captured_by:a.bubbles[0]?a.bubbles[0].captured_by:null,key:a.key},coordinates:a.bubbles.map(function(l){return l.loc})}}else t.push(e.leaders[r])}e.leaders=t}function VR(e,t,r){var n=t.wgs84Extent.rectangle(),i=e+at({n:n[3],s:n[1],e:n[2],w:n[0],c:jR,appkey:BR,jsCallback:"{callback}"});return G_(i,function(a){!a||a.error?r(null):r(a)})}function KR(e){var t=Jt(e.scale()),r=Math.ceil(t*2)/2+2.5,n=new er().transform(e.transform()).dimensions(e.clipExtent()),i=V_.zoomRange(r).margin(0).getTiles(n).tiles;return i.map(function(a){return a.wgs84Extent})}function YR(e,t,r){return e=e||5,KR(t).reduce(function(n,i){var a=r.search(i.bbox()).slice(0,e).map(function(o){return o.data});return a.length?n.concat(a):n},[])}function ZR(e){return new Promise(function(t){var r=new Image;r.onload=function(){var n=document.getElementById("ideditor-canvas"+e.face),i=n.getContext("2d");i.drawImage(r,e.x,e.y),t({imgInfo:e,status:"ok"})},r.onerror=function(){t({data:e,status:"error"})},r.setAttribute("crossorigin",""),r.src=e.url})}function XR(e){return Promise.all(e.map(ZR)).then(function(t){var r=document.getElementById("ideditor-canvas"+t[0].imgInfo.face),n={"01":0,"02":1,"03":2,"10":3,"11":4,"12":5},i=t[0].imgInfo.face;return F1.cubeMap[n[i]]=r.toDataURL("image/jpeg",1),{status:"loadCanvas for face "+t[0].imgInfo.face+"ok"}})}function $R(e){return Promise.all(e.map(XR)).then(function(){return{status:"loadFaces done"}})}function Y_(e,t){t&&e.selectAll("#ideditor-stitcher-canvases").remove(),e.selectAll("#ideditor-stitcher-canvases").data([0]).enter().append("div").attr("id","ideditor-stitcher-canvases").attr("display","none").selectAll("canvas").data(["canvas01","canvas02","canvas03","canvas10","canvas11","canvas12"]).enter().append("canvas").attr("id",function(r){return"ideditor-"+r}).attr("width",Z6).attr("height",Z6)}function JR(e){for(var t=0,r=0,n=256,i=e.length;i>0;i--){var a=e[i-1];t+=+(a==="1"||a==="3")*n,r+=+(a==="2"||a==="3")*n,n*=2}return[t,r]}function eL(){var e=Z6/256,t;return e===16?t=["0000","0001","0010","0011","0100","0101","0110","0111","1000","1001","1010","1011","1100","1101","1110","1111","0002","0003","0012","0013","0102","0103","0112","0113","1002","1003","1012","1013","1102","1103","1112","1113","0020","0021","0030","0031","0120","0121","0130","0131","1020","1021","1030","1031","1120","1121","1130","1131","0022","0023","0032","0033","0122","0123","0132","0133","1022","1023","1032","1033","1122","1123","1132","1133","0200","0201","0210","0211","0300","0301","0310","0311","1200","1201","1210","1211","1300","1301","1310","1311","0202","0203","0212","0213","0302","0303","0312","0313","1202","1203","1212","1213","1302","1303","1312","1313","0220","0221","0230","0231","0320","0321","0330","0331","1220","1221","1230","1231","1320","1321","1330","1331","0222","0223","0232","0233","0322","0323","0332","0333","1222","1223","1232","1233","1322","1323","1332","1333","2000","2001","2010","2011","2100","2101","2110","2111","3000","3001","3010","3011","3100","3101","3110","3111","2002","2003","2012","2013","2102","2103","2112","2113","3002","3003","3012","3013","3102","3103","3112","3113","2020","2021","2030","2031","2120","2121","2130","2131","3020","3021","3030","3031","3120","3121","3130","3131","2022","2023","2032","2033","2122","2123","2132","2133","3022","3023","3032","3033","3122","3123","3132","3133","2200","2201","2210","2211","2300","2301","2310","2311","3200","3201","3210","3211","3300","3301","3310","3311","2202","2203","2212","2213","2302","2303","2312","2313","3202","3203","3212","3213","3302","3303","3312","3313","2220","2221","2230","2231","2320","2321","2330","2331","3220","3221","3230","3231","3320","3321","3330","3331","2222","2223","2232","2233","2322","2323","2332","2333","3222","3223","3232","3233","3322","3323","3332","3333"]:e===8?t=["000","001","010","011","100","101","110","111","002","003","012","013","102","103","112","113","020","021","030","031","120","121","130","131","022","023","032","033","122","123","132","133","200","201","210","211","300","301","310","311","202","203","212","213","302","303","312","313","220","221","230","231","320","321","330","331","222","223","232","233","322","323","332","333"]:e===4?t=["00","01","10","11","02","03","12","13","20","21","30","31","22","23","32","33"]:t=["0","1","2","3"],t}var Lf={init:function(){wn||this.reset(),this.event=ke(this,K6,"on")},reset:function(){wn&&Object.values(wn.bubbles.inflight).forEach(K_),wn={bubbles:{inflight:{},loaded:{},nextPage:{},rtree:new H_.default,points:{},leaders:[]},sequences:{}}},bubbles:function(t){var r=5;return YR(r,t,wn.bubbles.rtree)},cachedImage:function(t){return wn.bubbles.points[t]},sequences:function(t){var r=t.clipExtent(),n=[r[0][0],r[1][1]],i=[r[1][0],r[0][1]],a=new Ne(t.invert(n),t.invert(i)).bbox(),o={},s=[];return wn.bubbles.rtree.search(a).forEach(function(l){var u=l.data.sequenceKey;u&&!o[u]&&(o[u]=!0,s.push(wn.sequences[u].geojson))}),s},loadBubbles:function(t,r){r===void 0&&(r=2),GR("bubbles",OR,t,r)},viewer:function(){return Di},initViewer:function(){if(!!window.pannellum&&!Di){Q4+=1;var t=Q4.toString(),r={default:{firstScene:t},scenes:{}};r.scenes[t]=F1,Di=window.pannellum.viewer("ideditor-viewer-streetside",r)}},ensureViewerLoaded:function(t){if(L0)return L0;var r=t.container().select(".photoviewer").selectAll(".ms-wrapper").data([0]),n=r.enter().append("div").attr("class","photo-wrapper ms-wrapper").classed("hide",!0),i=this,a="PointerEvent"in window?"pointer":"mouse";n.append("div").attr("id","ideditor-viewer-streetside").on(a+"down.streetside",function(){G(window).on(a+"move.streetside",function(){K6.call("viewerChanged")},!0)}).on(a+"up.streetside pointercancel.streetside",function(){G(window).on(a+"move.streetside",null);var l=ao(function(u){K6.call("viewerChanged"),u>2e3&&l.stop()})}).append("div").attr("class","photo-attribution fillD");var o=n.append("div").attr("class","photo-controls-wrap").append("div").attr("class","photo-controls");return o.append("button").on("click.back",s(-1)).html("\u25C4"),o.append("button").on("click.forward",s(1)).html("\u25BA"),r=r.merge(n).call(Y_,!0),t.ui().photoviewer.on("resize.streetside",function(){Di&&Di.resize()}),L0=new Promise(function(l,u){var c=0;function d(){c+=1,c===2&&l()}var p=G("head");p.selectAll("#ideditor-streetside-viewercss").data([0]).enter().append("link").attr("id","ideditor-streetside-viewercss").attr("rel","stylesheet").attr("crossorigin","anonymous").attr("href",t.asset(RR)).on("load.serviceStreetside",d).on("error.serviceStreetside",function(){u()}),p.selectAll("#ideditor-streetside-viewerjs").data([0]).enter().append("script").attr("id","ideditor-streetside-viewerjs").attr("crossorigin","anonymous").attr("src",t.asset(LR)).on("load.serviceStreetside",d).on("error.serviceStreetside",function(){u()})}).catch(function(){L0=null}),L0;function s(l){return function(){var u=t.container().select(".photoviewer"),c=u.empty()?void 0:u.datum();if(!!c){var d=l===1?c.ne:c.pr,p=Di.getYaw(),m=c.ca+p,w=c.loc,b=35,h=[w[0]+ln(b/5,w[1]),w[1]],g=[w[0]+ln(b/2,w[1]),w[1]+Sn(b)],v=[w[0]-ln(b/2,w[1]),w[1]+Sn(b)],x=[w[0]-ln(b/5,w[1]),w[1]],_=[h,g,v,x,h],y=(l===1?m:m+180)*(Math.PI/180);_=es(_,-y,w);var E=_.reduce(function(C,D){return C.min=[Math.min(C.min[0],D[0]),Math.min(C.min[1],D[1])],C.max=[Math.max(C.max[0],D[0]),Math.max(C.max[1],D[1])],C},new Ne),k=1/0;wn.bubbles.rtree.search(E.bbox()).forEach(function(C){if(C.data.key!==c.key&&!!ro(C.data.loc,_)){var D=it(C.data.loc,c.loc),S=c.ca-C.data.ca,N=Math.min(Math.abs(S),360-Math.abs(S));N>20&&(D+=5),D<k&&(d=C.data.key,k=D)}});var A=d&&i.cachedImage(d);!A||(t.map().centerEase(A.loc),i.selectImage(t,A.key).yaw(p).showViewer(t))}}}},yaw:function(t){return typeof t!="number"?t:(F1.yaw=t,this)},showViewer:function(t){var r=t.container().select(".photoviewer").classed("hide",!1),n=r.selectAll(".photo-wrapper.ms-wrapper.hide").size();return n&&(r.selectAll(".photo-wrapper:not(.ms-wrapper)").classed("hide",!0),r.selectAll(".photo-wrapper.ms-wrapper").classed("hide",!1)),this},hideViewer:function(t){var r=t.container().select(".photoviewer");return r.empty()||r.datum(null),r.classed("hide",!0).selectAll(".photo-wrapper").classed("hide",!0),t.container().selectAll(".viewfield-group, .sequence, .icon-sign").classed("currentView",!1),this.updateUrlImage(null),this.setStyles(t,null,!0)},selectImage:function(t,r){var n=this,i=this.cachedImage(r),a=t.container().select(".photoviewer");a.empty()||a.datum(i),this.setStyles(t,null,!0);var o=t.container().select(".photoviewer .ms-wrapper"),s=o.selectAll(".photo-attribution").html("");if(o.selectAll(".pnlm-load-box").style("display","block"),!i)return this;this.updateUrlImage(r),F1.northOffset=i.ca;var l=s.append("div").attr("class","attribution-row"),u=li("streetside-hires"),c=l.append("label").attr("for",u).attr("class","streetside-hires");c.append("input").attr("type","checkbox").attr("id",u).property("checked",Y6).on("click",function(E){E.stopPropagation(),Y6=!Y6,Z6=Y6?1024:512,o.call(Y_,!0);var k={yaw:Di.getYaw(),pitch:Di.getPitch(),hfov:Di.getHfov()};F1=Object.assign(F1,k),n.selectImage(t,i.key).showViewer(t)}),c.append("span").html(F.html("streetside.hires"));var d=l.append("div").attr("class","attribution-capture-info");if(i.captured_by){var p=new Date().getFullYear();d.append("a").attr("class","captured_by").attr("target","_blank").attr("href","https://www.microsoft.com/en-us/maps/streetside").html("\xA9"+p+" Microsoft"),d.append("span").html("|")}i.captured_at&&d.append("span").attr("class","captured_at").html(QR(i.captured_at));var m=s.append("div").attr("class","attribution-row");m.append("a").attr("class","image-view-link").attr("target","_blank").attr("href","https://www.bing.com/maps?cp="+i.loc[1]+"~"+i.loc[0]+"&lvl=17&dir="+i.ca+"&style=x&v=2&sV=1").html(F.html("streetside.view_on_bing")),m.append("a").attr("class","image-report-link").attr("target","_blank").attr("href","https://www.bing.com/maps/privacyreport/streetsideprivacyreport?bubbleid="+encodeURIComponent(i.key)+"&focus=photo&lat="+i.loc[1]+"&lng="+i.loc[0]+"&z=17").html(F.html("streetside.report"));for(var w=i.key.toString(4),b=16-w.length,h=0;h<b;h++)w="0"+w;var g=PR+"hs"+w,v=".jpg?g=6338&n=z",x=["01","02","03","10","11","12"],_=eL(),y=x.map(function(E){return _.map(function(k){var A=JR(k);return{face:E,url:g+E+k+v,x:A[0],y:A[1]}})});return $R(y).then(function(){if(!Di)n.initViewer();else{Q4+=1;var E=Q4.toString();Di.addScene(E,F1).loadScene(E),Q4>2&&(E=(Q4-1).toString(),Di.removeScene(E))}}),this},getSequenceKeyForBubble:function(t){return t&&t.sequenceKey},setStyles:function(t,r,n){n&&(t.container().selectAll(".viewfield-group").classed("highlighted",!1).classed("hovered",!1).classed("currentView",!1),t.container().selectAll(".sequence").classed("highlighted",!1).classed("currentView",!1));var i=r&&r.key,a=this.getSequenceKeyForBubble(r),o=a&&wn.sequences[a],s=o&&o.bubbles.map(function(h){return h.key})||[],l=t.container().select(".photoviewer"),u=l.empty()?void 0:l.datum(),c=u&&u.key,d=this.getSequenceKeyForBubble(u),p=d&&wn.sequences[d],m=p&&p.bubbles.map(function(h){return h.key})||[],w=Yt(s,m);t.container().selectAll(".layer-streetside-images .viewfield-group").classed("highlighted",function(h){return w.indexOf(h.key)!==-1}).classed("hovered",function(h){return h.key===i}).classed("currentView",function(h){return h.key===c}),t.container().selectAll(".layer-streetside-images .sequence").classed("highlighted",function(h){return h.properties.key===a}).classed("currentView",function(h){return h.properties.key===d}),t.container().selectAll(".layer-streetside-images .viewfield-group .viewfield").attr("d",b);function b(){var h=this.parentNode.__data__;return h.pano&&h.key!==c?"M 8,13 m -10,0 a 10,10 0 1,0 20,0 a 10,10 0 1,0 -20,0":"M 6,9 C 8,8.4 8,8.4 10,9 L 16,-2 C 12,-5 4,-5 0,-2 z"}return this},updateUrlImage:function(t){if(!window.mocha){var r=Bt(window.location.hash);t?r.photo="streetside/"+t:delete r.photo,window.location.replace("#"+at(r,!0))}},cache:function(){return wn}};var T1="https://taginfo.openstreetmap.org/api/4/",M1={},jf={},I1={},tL={point:"count_nodes",vertex:"count_nodes",area:"count_ways",line:"count_ways"},rL={point:"count_node_members",vertex:"count_node_members",area:"count_way_members",line:"count_way_members",relation:"count_relation_members"},nL={point:"nodes",vertex:"nodes",area:"ways",line:"ways"},iL={point:"count_node_members_fraction",vertex:"count_node_members_fraction",area:"count_way_members_fraction",line:"count_way_members_fraction",relation:"count_relation_members_fraction"};function zf(e,t,r){return e.geometry&&r[e.geometry]&&(e[t]=r[e.geometry]),e}function aL(e){return zf(e,"filter",nL)}function X6(e){return zf(e,"sortname",tL)}function oL(e){return zf(e,"sortname",rL)}function j0(e){return Ln(e,["geometry","debounce"])}function sL(e){var t=e?"count_"+e:"count_all";return function(r){return parseFloat(r[t])>2500||r.in_wiki}}function lL(e){return function(t){var r=new RegExp("^"+e+"(.*)$"),n=t.key.match(r)||[];return n.length===2&&n[1].indexOf(":")===-1}}function uL(e){return function(t){return t.value.match(/[;,]/)!==null||!e&&t.value.match(/[A-Z*]/)!==null?!1:parseFloat(t.fraction)>0}}function cL(e){return function(t){return t.role===""||t.role.match(/[A-Z*;,]/)!==null?!1:parseFloat(t[iL[e]])>0}}function Z_(e){return{value:e.key,title:e.key}}function fL(e){var t={value:e.value,title:e.description||e.value};return e.count&&(t.count=e.count),t}function dL(e){return{value:e.role,title:e.role}}function pL(e,t){return e.key.indexOf(":")===-1&&t.key.indexOf(":")!==-1?-1:e.key.indexOf(":")!==-1&&t.key.indexOf(":")===-1?1:0}var z0=Nt(G4,300,{leading:!1});function G4(e,t,r,n,i){if(!M1[e]&&!mL(e,t,r,n)){var a=new AbortController;M1[e]=a,kt(e,{signal:a.signal}).then(function(o){delete M1[e],i&&i(null,o)}).catch(function(o){delete M1[e],o.name!=="AbortError"&&i&&i(o.message)})}}function mL(e,t,r,n){var i=t.rp||25,a=t.query||"",o=e;do{var s=I1[o];if(s&&(e===o||s.length<i))return n(null,s),!0;if(r||!a.length)return!1;a=a.slice(0,-1),o=e.replace(/&query=(.*?)&/,"&query="+a+"&")}while(a.length>=0);return!1}var Uf={init:function(){M1={},I1={},jf={postal_code:!0,full_name:!0,loc_name:!0,reg_name:!0,short_name:!0,sorting_name:!0,artist_name:!0,nat_name:!0,long_name:!0,"bridge:name":!0};var t={rp:100,sortname:"values_all",sortorder:"desc",page:1,debounce:!1,lang:_e.languageCode()};this.keys(t,function(r,n){r||n.forEach(function(i){i.value!=="opening_hours"&&(jf[i.value]=!0)})})},reset:function(){Object.values(M1).forEach(function(t){t.abort()}),M1={}},keys:function(t,r){var n=t.debounce?z0:G4;t=j0(X6(t)),t=Object.assign({rp:10,sortname:"count_all",sortorder:"desc",page:1,lang:_e.languageCode()},t);var i=T1+"keys/all?"+at(t);n(i,t,!1,r,function(a,o){if(a)r(a);else{var s=sL(t.filter),l=o.data.filter(s).sort(pL).map(Z_);I1[i]=l,r(null,l)}})},multikeys:function(t,r){var n=t.debounce?z0:G4;t=j0(X6(t)),t=Object.assign({rp:25,sortname:"count_all",sortorder:"desc",page:1,lang:_e.languageCode()},t);var i=t.query,a=T1+"keys/all?"+at(t);n(a,t,!0,r,function(o,s){if(o)r(o);else{var l=lL(i),u=s.data.filter(l).map(Z_);I1[a]=u,r(null,u)}})},values:function(t,r){var n=t.key;if(n&&jf[n]){r(null,[]);return}var i=t.debounce?z0:G4;t=j0(X6(aL(t))),t=Object.assign({rp:25,sortname:"count_all",sortorder:"desc",page:1,lang:_e.languageCode()},t);var a=T1+"key/values?"+at(t);i(a,t,!1,r,function(o,s){if(o)r(o);else{var l=/network|taxon|genus|species|brand|grape_variety|royal_cypher|listed_status|booth|rating|stars|:output|_hours|_times|_ref|manufacturer|country|target|brewery/,u=l.test(t.key),c=uL(u),d=s.data.filter(c).map(fL);I1[a]=d,r(null,d)}})},roles:function(t,r){var n=t.debounce?z0:G4,i=t.geometry;t=j0(oL(t)),t=Object.assign({rp:25,sortname:"count_all_members",sortorder:"desc",page:1,lang:_e.languageCode()},t);var a=T1+"relation/roles?"+at(t);n(a,t,!0,r,function(o,s){if(o)r(o);else{var l=cL(i),u=s.data.filter(l).map(dL);I1[a]=u,r(null,u)}})},docs:function(t,r){var n=t.debounce?z0:G4;t=j0(X6(t));var i="key/wiki_pages?";t.value?i="tag/wiki_pages?":t.rtype&&(i="relation/wiki_pages?");var a=T1+i+at(t);n(a,t,!0,r,function(o,s){o?r(o):(I1[a]=s.data,r(null,s.data))})},apibase:function(t){return arguments.length?(T1=t,this):T1}};var ak=Xe(bi());pt();var Bn=63710088e-1,RUe={centimeters:Bn*100,centimetres:Bn*100,degrees:Bn/111325,feet:Bn*3.28084,inches:Bn*39.37,kilometers:Bn/1e3,kilometres:Bn/1e3,meters:Bn,metres:Bn,miles:Bn/1609.344,millimeters:Bn*1e3,millimetres:Bn*1e3,nauticalmiles:Bn/1852,radians:1,yards:Bn*1.0936},LUe={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/Bn,yards:1.0936133};function $6(e,t,r){r===void 0&&(r={});var n={type:"Feature"};return(r.id===0||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function X_(e,t,r){r===void 0&&(r={});for(var n=0,i=e;n<i.length;n++){var a=i[n];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var o=0;o<a[a.length-1].length;o++)if(a[a.length-1][o]!==a[0][o])throw new Error("First and last Position are not equivalent.")}var s={type:"Polygon",coordinates:e};return $6(s,t,r)}function $_(e,t,r){if(r===void 0&&(r={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");var n={type:"LineString",coordinates:e};return $6(n,t,r)}function J_(e,t,r){r===void 0&&(r={});var n={type:"MultiLineString",coordinates:e};return $6(n,t,r)}function ek(e,t,r){r===void 0&&(r={});var n={type:"MultiPolygon",coordinates:e};return $6(n,t,r)}function tk(e){return e.type==="Feature"?e.geometry:e}function rk(e,t,r){var n=e.length,i=H4(e[0],t),a=[],o,s,l,u,c;for(r||(r=[]),o=1;o<n;o++){for(u=e[o-1],c=e[o],s=l=H4(c,t);;)if(i|s){if(i&s)break;i?(u=qf(u,c,i,t),i=H4(u,t)):(c=qf(u,c,s,t),s=H4(c,t))}else{a.push(u),s!==l?(a.push(c),o<n-1&&(r.push(a),a=[])):o===n-1&&a.push(c);break}i=l}return a.length&&r.push(a),r}function nk(e,t){var r,n,i,a,o,s,l;for(n=1;n<=8;n*=2){for(r=[],i=e[e.length-1],a=!(H4(i,t)&n),o=0;o<e.length;o++)s=e[o],l=!(H4(s,t)&n),l!==a&&r.push(qf(i,s,n,t)),l&&r.push(s),i=s,a=l;if(e=r,!e.length)break}return r}function qf(e,t,r,n){return r&8?[e[0]+(t[0]-e[0])*(n[3]-e[1])/(t[1]-e[1]),n[3]]:r&4?[e[0]+(t[0]-e[0])*(n[1]-e[1])/(t[1]-e[1]),n[1]]:r&2?[n[2],e[1]+(t[1]-e[1])*(n[2]-e[0])/(t[0]-e[0])]:r&1?[n[0],e[1]+(t[1]-e[1])*(n[0]-e[0])/(t[0]-e[0])]:null}function H4(e,t){var r=0;return e[0]<t[0]?r|=1:e[0]>t[2]&&(r|=2),e[1]<t[1]?r|=4:e[1]>t[3]&&(r|=8),r}function Qf(e,t){var r=tk(e),n=r.type,i=e.type==="Feature"?e.properties:{},a=r.coordinates;switch(n){case"LineString":case"MultiLineString":{var o=[];return n==="LineString"&&(a=[a]),a.forEach(function(s){rk(s,t,o)}),o.length===1?$_(o[0],i):J_(o,i)}case"Polygon":return X_(ik(a,t),i);case"MultiPolygon":return ek(a.map(function(s){return ik(s,t)}),i);default:throw new Error("geometry "+n+" not supported")}}function ik(e,t){for(var r=[],n=0,i=e;n<i.length;n++){var a=i[n],o=nk(a,t);o.length>0&&((o[0][0]!==o[o.length-1][0]||o[0][1]!==o[o.length-1][1])&&o.push(o[0]),o.length>=4&&r.push(o))}return r}var Gf=Xe(c8()),ok=Xe(ic()),sk=Xe(rf()),lk=Xe(J8());var uk=new Nr().tileSize(512).margin(1),ck=be("loadedData"),Wa;function fk(e){e.abort()}function hL(e,t,r){var n=new lk.default.VectorTile(new sk.default(e)),i=Object.keys(n.layers);Array.isArray(i)||(i=[i]);var a=[];return i.forEach(function(o){var s=n.layers[o];if(s)for(var l=0;l<s.length;l++){var u=s.feature(l).toGeoJSON(t.xyz[0],t.xyz[1],t.xyz[2]),c=u.geometry;c.type==="Polygon"&&(c.type="MultiPolygon",c.coordinates=[c.coordinates]);var d=!1;if(c.type==="MultiPolygon"){var p=Qf(u,t.wgs84Extent.rectangle());if((0,ak.default)(u.geometry,p.geometry)||(d=!0),!u.geometry.coordinates.length||!u.geometry.coordinates[0].length)continue}var m=qo((0,Gf.default)(u)),w=qo((0,Gf.default)(u.properties||{}));if(u.__layerID__=o.replace(/[^_a-zA-Z0-9\-]/g,"_"),u.__featurehash__=m,u.__propertyhash__=w,a.push(u),d&&c.type==="MultiPolygon"){var b=r[w];if(b&&b.length){var h=b[0],g=ok.default.union(u.geometry.coordinates,h.geometry.coordinates);if(!g||!g.length)continue;b.push(u);for(var v=0;v<b.length;v++)b[v].geometry.coordinates=g,b[v].__featurehash__=m}else r[w]=[u]}}}),a}function gL(e,t){if(!(e.loaded[t.id]||e.inflight[t.id])){var r=e.template.replace("{x}",t.xyz[0]).replace("{y}",t.xyz[1]).replace(/\{[t-]y\}/,Math.pow(2,t.xyz[2])-t.xyz[1]-1).replace(/\{z(oom)?\}/,t.xyz[2]).replace(/\{switch:([^}]+)\}/,function(i,a){var o=a.split(",");return o[(t.xyz[0]+t.xyz[1])%o.length]}),n=new AbortController;e.inflight[t.id]=n,fetch(r,{signal:n.signal}).then(function(i){if(!i.ok)throw new Error(i.status+" "+i.statusText);return e.loaded[t.id]=[],delete e.inflight[t.id],i.arrayBuffer()}).then(function(i){if(!i)throw new Error("No Data");var a=t.xyz[2];e.canMerge[a]||(e.canMerge[a]={}),e.loaded[t.id]=hL(i,t,e.canMerge[a]),ck.call("loadedData")}).catch(function(){e.loaded[t.id]=[],delete e.inflight[t.id]})}}var Hf={init:function(){Wa||this.reset(),this.event=ke(this,ck,"on")},reset:function(){for(var t in Wa){var r=Wa[t];r&&r.inflight&&Object.values(r.inflight).forEach(fk)}Wa={}},addSource:function(t,r){return Wa[t]={template:r,inflight:{},loaded:{},canMerge:{}},Wa[t]},data:function(t,r){var n=Wa[t];if(!n)return[];for(var i=new er().transform(r.transform()).dimensions(r.clipExtent()),a=uk.getTiles(i).tiles,o={},s=[],l=0;l<a.length;l++){var u=n.loaded[a[l].id];if(!(!u||!u.length))for(var c=0;c<u.length;c++){var d=u[c],p=d.__featurehash__;o[p]||(o[p]=!0,s.push(Object.assign({},d)))}}return s},loadTiles:function(t,r,n){var i=Wa[t];i||(i=this.addSource(t,r));var a=new er().transform(n.transform()).dimensions(n.clipExtent()),o=uk.getTiles(a).tiles;Object.keys(i.inflight).forEach(function(s){var l=o.find(function(u){return s===u.id});l||(fk(i.inflight[s]),delete i.inflight[s])}),o.forEach(function(s){gL(i,s)})},cache:function(){return Wa}};var Wf="https://www.wikidata.org/w/api.php?",Vf={},Kf={init:function(){},reset:function(){Vf={}},itemsForSearchQuery:function(t,r){if(!t){r&&r("No query",{});return}var n=this.languagesToQuery()[0],i=Wf+at({action:"wbsearchentities",format:"json",formatversion:2,search:t,type:"item",language:n,uselang:n,limit:10,origin:"*"});kt(i).then(function(a){if(a&&a.error)throw new Error(a.error);r&&r(null,a.search||{})}).catch(function(a){r&&r(a.message,{})})},itemsByTitle:function(t,r,n){if(!r){n&&n("No title",{});return}t=t||"en";var i=Wf+at({action:"wbgetentities",format:"json",formatversion:2,sites:t.replace(/-/g,"_")+"wiki",titles:r,languages:"en",origin:"*"});kt(i).then(function(a){if(a&&a.error)throw new Error(a.error);n&&n(null,a.entities||{})}).catch(function(a){n&&n(a.message,{})})},languagesToQuery:function(){return _e.localeCodes().map(function(t){return t.toLowerCase()}).filter(function(t){return t!=="en-us"})},entityByQID:function(t,r){if(!t){r("No qid",{});return}if(Vf[t]){r&&r(null,Vf[t]);return}var n=this.languagesToQuery(),i=Wf+at({action:"wbgetentities",format:"json",formatversion:2,ids:t,props:"labels|descriptions|claims|sitelinks",sitefilter:n.map(function(a){return a+"wiki"}).join("|"),languages:n.join("|"),languagefallback:1,origin:"*"});kt(i).then(function(a){if(a&&a.error)throw new Error(a.error);r&&r(null,a.entities[t]||{})}).catch(function(a){r&&r(a.message,{})})},getDocs:function(t,r){var n=this.languagesToQuery();this.entityByQID(t.qid,function(i,a){if(i||!a){r(i||"No entity");return}var o,s;for(o in n){var l=n[o];if(a.descriptions[l]&&a.descriptions[l].language===l){s=a.descriptions[l];break}}!s&&Object.values(a.descriptions).length&&(s=Object.values(a.descriptions)[0]);var u={title:a.id,description:s?s.value:"",descriptionLocaleCode:s?s.language:"",editURL:"https://www.wikidata.org/wiki/"+a.id};if(a.claims){var c="https://commons.wikimedia.org/w/index.php",d=["P154","P18"],p,m;for(o=0;o<d.length;o++)if(p=a.claims[d[o]],p&&Object.keys(p).length>0&&(m=p[Object.keys(p)[0]].mainsnak.datavalue.value,m)){u.imageURL=c+"?"+at({title:"Special:Redirect/file/"+m,width:400});break}}if(a.sitelinks){var w=_e.languageCode().toLowerCase()==="en";for(o=0;o<n.length;o++){var b=n[o]+"wiki";if(a.sitelinks[b]){var h=a.sitelinks[b].title,g="inspector.wiki_reference";!w&&n[o]==="en"&&(g="inspector.wiki_en_reference"),u.wiki={title:h,text:g,url:"https://"+n[o]+".wikipedia.org/wiki/"+h.replace(/ /g,"_")};break}}}r(null,u)})}};var Yf="https://en.wikipedia.org/w/api.php?",Zf={init:function(){},reset:function(){},search:function(t,r,n){if(!r){n&&n("No Query",[]);return}t=t||"en";var i=Yf.replace("en",t)+at({action:"query",list:"search",srlimit:"10",srinfo:"suggestion",format:"json",origin:"*",srsearch:r});kt(i).then(function(a){if(a&&a.error)throw new Error(a.error);if(!a||!a.query||!a.query.search)throw new Error("No Results");if(n){var o=a.query.search.map(function(s){return s.title});n(null,o)}}).catch(function(a){n&&n(a,[])})},suggestions:function(t,r,n){if(!r){n&&n("",[]);return}t=t||"en";var i=Yf.replace("en",t)+at({action:"opensearch",namespace:0,suggest:"",format:"json",origin:"*",search:r});kt(i).then(function(a){if(a&&a.error)throw new Error(a.error);if(!a||a.length<2)throw new Error("No Results");n&&n(null,a[1]||[])}).catch(function(a){n&&n(a.message,[])})},translations:function(t,r,n){if(!r){n&&n("No Title");return}var i=Yf.replace("en",t)+at({action:"query",prop:"langlinks",format:"json",origin:"*",lllimit:500,titles:r});kt(i).then(function(a){if(a&&a.error)throw new Error(a.error);if(!a||!a.query||!a.query.pages)throw new Error("No Results");if(n){var o=a.query.pages[Object.keys(a.query.pages)[0]],s={};o&&o.langlinks&&o.langlinks.forEach(function(l){s[l.lang]=l["*"]}),n(null,s)}}).catch(function(a){n&&n(a.message)})}};var ue={esriData:q8,fbMLRoads:Q8,geocoder:mf,keepRight:W8,improveOSM:K8,osmose:Z8,mapillary:ff,nsi:yf,openstreetcam:bf,osm:T4,osmWikibase:Rf,maprules:df,streetside:Lf,taginfo:Uf,vectorTile:Hf,wikidata:Kf,wikipedia:Zf};function Hn(e){var t={id:"drag-note",button:"browse"},r=_i(e),n,i,a;function o(w,b){n&&window.clearInterval(n),n=window.setInterval(function(){e.map().pan(b),d(w,b)},50)}function s(){n&&(window.clearInterval(n),n=null)}function l(w){return e.projection(w.loc)}function u(w,b){a=b;var h=ue.osm;h&&(a=h.getNote(a.id)),e.surface().selectAll(".note-"+a.id).classed("active",!0),e.perform(Fr()),e.enter(t),e.selectedNoteID(a.id)}function c(w,b,h){w.stopPropagation(),i=e.projection.invert(h),d(w);var g=rs(h,e.map().dimensions());g?o(w,g):s()}function d(w,b){b=b||[0,0];var h=w&&w.point||e.projection(i),g=Lt(h,b),v=e.projection.invert(g);a=a.move(v);var x=ue.osm;x&&x.replaceNote(a),e.replace(Fr())}function p(){e.replace(Fr()),e.selectedNoteID(a.id).enter(To(e,a.id))}var m=Ms().selector(".layer-touch.markers .target.note.new").surface(e.container().select(".main-map").node()).origin(l).on("start",u).on("move",c).on("end",p);return t.enter=function(){e.install(r)},t.exit=function(){e.ui().sidebar.hover.cancel(),e.uninstall(r),e.surface().selectAll(".active").classed("active",!1),s()},t.behavior=m,t}function o6(e,t){var r={id:"select-data",button:"browse"},n=Re("select-data"),i=E4(e),a=[qn(e),rn(e),Wn(e),Vn(e),Qn(e).behavior,Hn(e).behavior];function o(l,u){var c=e.surface().selectAll(".layer-mapdata .data"+window.toBase64(t.__featurehash__).replace(/\=/g,""));if(c.empty()){var d=l&&l.type==="zoom"&&l.sourceEvent;u&&d&&(d.type==="pointermove"||d.type==="mousemove"||d.type==="touchmove")&&e.enter(De(e))}else c.classed("selected",!0)}function s(){e.container().select(".combobox").size()||e.enter(De(e))}return r.zoomToSelected=function(){var l=G1(t),u=new Ne(l[0],l[1]);e.map().centerZoomEase(u.center(),e.map().trimmedExtentZoom(u))},r.enter=function(){a.forEach(e.install),n.on(F("inspector.zoom_to.key"),r.zoomToSelected).on("\u238B",s,!0),G(document).call(n),o();var l=e.ui().sidebar;l.show(i.datum(t));var u=G1(t),c=new Ne(u[0],u[1]);l.expand(l.intersects(c)),e.map().on("drawn.select-data",o)},r.exit=function(){a.forEach(e.uninstall),G(document).call(n.unbind),e.surface().selectAll(".layer-mapdata .selected").classed("selected hover",!1),e.map().on("drawn.select-data",null),e.ui().sidebar.hide()},r}function Wn(e){var t=4,r=null,n=!1,i={},a=null,o=null,s=null,l="PointerEvent"in window?"pointer":"mouse";function u(E){if(E.keyCode===32){var k=document.activeElement;if(k&&new Set(["INPUT","TEXTAREA"]).has(k.nodeName))return}(E.keyCode===93||E.keyCode===32)&&E.preventDefault(),!E.repeat&&(x(),E.shiftKey&&e.surface().classed("behavior-multiselect",!0),E.keyCode===32&&!i.spacebar&&r&&(x(),a=window.setTimeout(p,500,"spacebar","spacebar"),i.spacebar={firstEvent:r,lastEvent:r}))}function c(E){if(x(),E.shiftKey||e.surface().classed("behavior-multiselect",!1),E.keyCode===93)E.preventDefault(),o="menukey",h(E);else if(E.keyCode===32){var k=i.spacebar;if(k){if(delete i.spacebar,k.done)return;E.preventDefault(),o="spacebar",g(k.firstEvent,k.lastEvent,"spacebar")}}}function d(E){var k=(E.pointerId||"mouse").toString();x(),!(E.buttons&&E.buttons!==1)&&(e.ui().closeEditMenu(),a=window.setTimeout(p,500,k,"longdown-"+(E.pointerType||"mouse")),i[k]={firstEvent:E,lastEvent:E})}function p(E,k){var A=i[E];if(!!A){for(var C in i)i[C].done=!0;a=null,o=k,n=!0,g(A.firstEvent,A.lastEvent,E)}}function m(E){var k=(E.pointerId||"mouse").toString();i[k]&&(i[k].lastEvent=E),(!E.pointerType||E.pointerType==="mouse")&&(r=E,i.spacebar&&(i.spacebar.lastEvent=E))}function w(E){var k=(E.pointerId||"mouse").toString(),A=i[k];!A||(delete i[k],s===k&&(s=null),!A.done&&g(A.firstEvent,E,k))}function b(E){var k=(E.pointerId||"mouse").toString();!i[k]||(delete i[k],s===k&&(s=null))}function h(E){if(E.preventDefault(),!+E.clientX&&!+E.clientY)if(r)E.sourceEvent=r;else return;else r=E,o="rightclick";n=!0,g(E,E)}function g(E,k,A){x();var C=e.container().select(".main-map").node(),D=Dr(C),S=D(E),N=D(k),R=it(S,N);if(R>t||!U(k)){_();return}var P=k.target.__data__,L;if(!s){var B=T(A);B&&(s=B.pointerId,L=!B.selected&&B.entityId,i[B.pointerId].done=!0)}var O=e.mode().id==="select"&&(k&&k.shiftKey||e.surface().select(".lasso").node()||s&&!L);v(P,O,N,L);function U(M){var I=C.getBoundingClientRect();return M.clientX>=I.left&&M.clientX<=I.right&&M.clientY>=I.top&&M.clientY<=I.bottom}function T(M){var I=e.mode(),z=I.id==="select"?I.selectedIDs():[];for(var q in i)if(!(q==="spacebar"||q===M)){var V=i[q],Y=D(V.firstEvent),ee=D(V.lastEvent);if(!(it(Y,ee)>t)){var ie=V.firstEvent.target.__data__,se=ie&&ie.properties&&ie.properties.entity||ie;if(e.graph().hasEntity(se.id))return{pointerId:q,entityId:se.id,selected:z.indexOf(se.id)!==-1}}}return null}}function v(E,k,A,C){var D=e.mode(),S=n,N=o,R=E&&E.properties&&E.properties.entity;R&&(E=R),E&&E.type==="midpoint"&&(E=E.parents[0]);var P;if(E&&E.__fbid__)e.selectedNoteID(null).selectedErrorID(null).enter(S4(e,E));else if(E instanceof Me){var L=e.selectedIDs();e.selectedNoteID(null),e.selectedErrorID(null),k?L.indexOf(E.id)!==-1?S||(L=L.filter(function(B){return B!==E.id}),P=L.length?D.selectedIDs(L):De(e).selectBehavior(y),e.enter(P)):(L=L.concat([E.id]),P=D.selectedIDs(L),e.enter(P)):(!S||L.length<=1||L.indexOf(E.id)===-1)&&(C===E.id&&(C=null),L=(C?[C]:[]).concat([E.id]),P=D.id==="select"?D.selectedIDs(L):Le(e,L).selectBehavior(y),e.enter(P))}else E&&E.__featurehash__&&!k?e.selectedNoteID(null).enter(o6(e,E)):E instanceof or&&!k?e.selectedNoteID(E.id).enter(To(e,E.id)):E instanceof lr&!k?e.selectedErrorID(E.id).enter(F5(e,E.id,E.service)):(e.selectedNoteID(null),e.selectedErrorID(null),!k&&D.id!=="browse"&&e.enter(De(e)));e.ui().closeEditMenu(),S&&e.ui().showEditMenu(A,N),_()}function x(){a&&window.clearTimeout(a),a=null}function _(){x(),n=!1,o=null}function y(E){_(),r=e.map().lastPointerEvent(),G(window).on("keydown.select",u).on("keyup.select",c).on(l+"move.select",m,!0).on(l+"up.select",w,!0).on("pointercancel.select",b,!0).on("contextmenu.select-window",function(k){var A=k;+A.clientX==0&&+A.clientY==0&&k.preventDefault()}),E.on(l+"down.select",d).on("contextmenu.select",h)}return y.off=function(E){x(),G(window).on("keydown.select",null).on("keyup.select",null).on("contextmenu.select-window",null).on(l+"move.select",null,!0).on(l+"up.select",null,!0).on("pointercancel.select",null,!0),E.on(l+"down.select",null).on("contextmenu.select",null),e.surface().classed("behavior-multiselect",!1)},y}function Le(e,t){var r={id:"select",button:"browse"},n=Re("select"),i=qn(e),a=Qn(e),o,s=[],l=[],u=!1,c=!1,d,p;function m(){if(t&&t.length===1)return e.hasEntity(t[0])}function w(){return t.map(function(y){return e.hasEntity(y)}).filter(Boolean)}function b(){var y=[];if(Array.isArray(t)&&(y=t.filter(function(E){return e.hasEntity(E)})),y.length){if(t.length>1&&y.length===1||t.length===1&&y.length>1)return e.enter(Le(e,y)),!1}else return e.enter(De(e)),!1;return t=y,!0}function h(y){for(var E=e.graph(),k=[],A=0;A<t.length;A++){var C=e.hasEntity(t[A]);if(!C||C.geometry(E)!=="vertex")return[];var D=E.parentWays(C).map(function(S){return S.id});if(!k.length){k=D;continue}if(k=(y?Ar:Yt)(k,D),!k.length)return[]}return k}function g(y){for(var E=e.graph(),k=[],A=0;A<t.length;A++){var C=e.hasEntity(t[A]);if(!C||!["area","line"].includes(C.geometry(E)))return[];var D=E.childNodes(C).map(function(S){return S.id});if(!k.length){k=D;continue}if(k=(y?Ar:Yt)(k,D),!k.length)return[]}return k}function v(){if(d){var y=h(!0);y.indexOf(d)===-1&&(d=null)}}function x(){var y=h(!0);return d&&y.indexOf(d)!==-1?d:y.length?y[0]:null}r.selectedIDs=function(y){return arguments.length?(t=y,r):t},r.zoomToSelected=function(){e.map().zoomToEase(w())},r.newFeature=function(y){return arguments.length?(u=y,r):u},r.selectBehavior=function(y){return arguments.length?(o=y,r):o},r.follow=function(y){return arguments.length?(c=y,r):c};function _(){l.forEach(function(y){y.behavior&&e.uninstall(y.behavior)}),l=Object.values(a8).map(function(y){return y(e,t)}).filter(function(y){return y.id!=="delete"&&y.id!=="downgrade"&&y.id!=="copy"}).concat([Zu(e,t),Xu(e,t),nn(e,t)]).filter(function(y){return y.available()}),l.forEach(function(y){y.behavior&&e.install(y.behavior)}),e.ui().closeEditMenu()}return r.operations=function(){return l},r.enter=function(){if(!b())return;if(e.features().forceVisible(t),a.restoreSelectedIDs(t),_(),s.length||(o||(o=Wn(e)),s=[Ts(e),i,rn(e).on("hover",e.ui().sidebar.hoverModeSelect),o,Vn(e),a.behavior,Hn(e).behavior]),s.forEach(e.install),n.on(F("inspector.zoom_to.key"),r.zoomToSelected).on(["[","pgup"],P).on(["]","pgdown"],L).on(["{",qe("\u2318["),"home"],N).on(["}",qe("\u2318]"),"end"],R).on(qe("\u21E7\u2190"),k([-10,0])).on(qe("\u21E7\u2191"),k([0,-10])).on(qe("\u21E7\u2192"),k([10,0])).on(qe("\u21E7\u2193"),k([0,10])).on(qe("\u21E7\u2325\u2190"),k([-100,0])).on(qe("\u21E7\u2325\u2191"),k([0,-100])).on(qe("\u21E7\u2325\u2192"),k([100,0])).on(qe("\u21E7\u2325\u2193"),k([0,100])).on(Re.plusKeys.map(function(T){return qe("\u21E7"+T)}),A(1.05)).on(Re.plusKeys.map(function(T){return qe("\u21E7\u2325"+T)}),A(Math.pow(1.05,5))).on(Re.minusKeys.map(function(T){return qe("\u21E7"+T)}),A(1/1.05)).on(Re.minusKeys.map(function(T){return qe("\u21E7\u2325"+T)}),A(1/Math.pow(1.05,5))).on(["\\","pause"],B).on(qe("\u2318\u2191"),O).on(qe("\u2318\u2193"),U).on("\u238B",S,!0),G(document).call(n),e.ui().sidebar.select(t,u),e.history().on("change.select",function(){_(),D()}).on("undone.select",b).on("redone.select",b),e.map().on("drawn.select",D).on("crossEditableZoom.select",function(){D(),i.restartIfNeeded(e.surface())}),e.map().doubleUpHandler().on("doubleUp.modeSelect",C),D(),c){var y=St(t,e.graph()),E=y.center();e.map().centerEase(E),c=!1}function k(T){return function(){if(!!e.map().withinEditableZoom()){var M=c1(e,t);M.disabled()?e.ui().flash.duration(4e3).iconName("#iD-operation-"+M.id).iconClass("operation disabled").label(M.tooltip)():(e.perform(oa(t,T,e.projection),M.annotation()),e.validator().validate())}}}function A(T){return function(){if(!e.map().withinEditableZoom())return;var M=Xt(t,e.graph()),I=T>1;if(M.length<=1)return;var z=St(t,e.graph());function q(){var se=pe("rapid-internal-feature.allowLargeEdits")==="true";if(ve())return"too_small";if(!se&&z.percentContainedIn(e.map().extent())<.8)return"too_large";if(le()||t.some(re))return"not_downloaded";if(t.some(e.hasHiddenConnections))return"connected_to_hidden";return!1;function ve(){if(I)return!1;var Ae=Math.abs(z.max[0]-z.min[0]),ae=Math.abs(z.max[1]-z.min[1]);return Ae<ln(1,z.max[1])&&ae<Sn(1)}function le(){if(e.inIntro())return!1;var Ae=e.connection();if(Ae){var ae=M.filter(function(he){return!Ae.isDataLoaded(he.loc)});if(ae.length)return ae.forEach(function(he){e.loadTileAtLoc(he)}),!0}return!1}function re(Ae){var ae=e.entity(Ae);return ae.type==="relation"&&!ae.isComplete(e.graph())}}var V=q();if(V){var Y=t.length===1?"single":"multiple";e.ui().flash.duration(4e3).iconName("#iD-icon-no").iconClass("operation disabled").label(F("operations.scale."+V+"."+Y))()}else{var ee=e.projection(z.center()),ie=F("operations.scale.annotation."+(I?"up":"down")+".feature",{n:t.length});e.perform(Iu(t,ee,T,e.projection),ie),e.validator().validate()}}}function C(T,M){if(!!e.map().withinEditableZoom()){var I=G(T.target),z=I.datum(),q=z&&z.properties&&z.properties.entity;if(!!q)if(q instanceof Pt&&I.classed("target")){var V=Zr(e.graph().childNodes(q),M,e.projection),Y=q.nodes[V.index-1],ee=q.nodes[V.index];e.perform(Sr({loc:V.loc,edge:[Y,ee]},ut()),F("operations.add.annotation.vertex")),e.validator().validate()}else q.type==="midpoint"&&(e.perform(Sr({loc:q.loc,edge:q.edge},ut()),F("operations.add.annotation.vertex")),e.validator().validate())}}function D(){if(!!b()){var T=e.surface();T.selectAll(".selected-member").classed("selected-member",!1),T.selectAll(".selected").classed("selected",!1),T.selectAll(".related").classed("related",!1),v(),d&&T.selectAll(Fi([d])).classed("related",!0),e.map().withinEditableZoom()&&(T.selectAll(ld(t,e.graph(),!0)).classed("selected-member",!0),T.selectAll(V0(t,e.graph())).classed("selected",!0))}}function S(){e.container().select(".combobox").size()||e.enter(De(e))}function N(T){T.preventDefault();var M=m(),I=x(),z;M&&M.type==="way"?z=M:I&&(z=e.entity(I)),d=z&&z.id,z&&e.enter(r.selectedIDs([z.first()]).follow(!0))}function R(T){T.preventDefault();var M=m(),I=x(),z;M&&M.type==="way"?z=M:I&&(z=e.entity(I)),d=z&&z.id,z&&e.enter(r.selectedIDs([z.last()]).follow(!0))}function P(T){T.preventDefault();var M=x();if(d=M,!!M){var I=e.entity(M),z=I.nodes.length,q=I.nodes.indexOf(t[0]),V=-1;q>0?V=q-1:I.isClosed()&&(V=z-2),V!==-1&&e.enter(r.selectedIDs([I.nodes[V]]).follow(!0))}}function L(T){T.preventDefault();var M=x();if(d=M,!!M){var I=e.entity(M),z=I.nodes.length,q=I.nodes.indexOf(t[0]),V=-1;q<z-1?V=q+1:I.isClosed()&&(V=0),V!==-1&&e.enter(r.selectedIDs([I.nodes[V]]).follow(!0))}}function B(T){T.preventDefault();var M=h(!0);if(!(!M||M.length<2)){var I=M.indexOf(d);I<0||I>M.length-2?d=M[0]:d=M[I+1];var z=e.surface();z.selectAll(".related").classed("related",!1),d&&z.selectAll(Fi([d])).classed("related",!0)}}function O(T){T.preventDefault();var M=r.selectedIDs(),I=d?[d]:h(!1);!I.length||(e.enter(r.selectedIDs(I)),p=M)}function U(T){T.preventDefault();var M=r.selectedIDs(),I=p?p.filter(function(z){return e.hasEntity(z)}):g(!0);!I||!I.length||(M.length===1&&(d=M[0]),e.enter(r.selectedIDs(I)))}},r.exit=function(){u=!1,p=null,l.forEach(function(A){A.behavior&&e.uninstall(A.behavior)}),l=[],s.forEach(e.uninstall),G(document).call(n.unbind),e.ui().closeEditMenu(),e.history().on("change.select",null).on("undone.select",null).on("redone.select",null);var y=e.surface();y.selectAll(".selected-member").classed("selected-member",!1),y.selectAll(".selected").classed("selected",!1),y.selectAll(".highlighted").classed("highlighted",!1),y.selectAll(".related").classed("related",!1),e.map().on("drawn.select",null),e.ui().sidebar.hide(),e.features().forceVisible([]);var E=m();if(u&&E&&E.type==="relation"&&Object.keys(E.tags).length===0&&e.graph().parentRelations(E).length===0&&(E.members.length===0||E.members.length===1&&!E.members[0].role)){var k=Rr(E.id,!0);e.perform(k,F("operations.delete.annotation.relation")),e.validator().validate()}},r}function Vn(e){var t="PointerEvent"in window?"pointer":"mouse",r=function(i){var a;function o(d){var p=0;d.button===p&&d.shiftKey===!0&&(a=null,G(window).on(t+"move.lasso",s).on(t+"up.lasso",c),d.stopPropagation())}function s(){a||(a=Q5(e),e.surface().call(a)),a.p(e.map().mouse())}function l(d,p){return[[Math.min(d[0],p[0]),Math.min(d[1],p[1])],[Math.max(d[0],p[0]),Math.max(d[1],p[1])]]}function u(){if(!a)return[];var d=e.graph(),p;if(e.map().editableDataEnabled(!0)&&e.map().isInWideSelection())p=new Set(Xt(e.selectedIDs(),d));else if(!e.map().editableDataEnabled())return[];var m=a.extent(),w=l(e.projection.invert(m.min),e.projection.invert(m.max)),b=new Ne(w[0],w[1]),h=e.history().intersects(b).filter(function(g){return g.type==="node"&&(!p||p.has(g))&&ro(e.projection(g.loc),a.coordinates)&&!e.features().isHidden(g,d,g.geometry(d))});return h.sort(function(g,v){var x=d.parentWays(g),_=d.parentWays(v);if(x.length&&_.length){var y=Ar(x,_);if(y.length){var E=y[0].nodes;return E.indexOf(g.id)-E.indexOf(v.id)}else return parseFloat(x[0].id.slice(1))-parseFloat(_[0].id.slice(1))}else if(x.length||_.length)return x.length-_.length;return g.loc[0]-v.loc[0]}),h.map(function(g){return g.id})}function c(){if(G(window).on(t+"move.lasso",null).on(t+"up.lasso",null),!!a){var d=u();a.close(),d.length&&e.enter(Le(e,d))}}i.on(t+"down.lasso",o)};return r.off=function(n){n.on(t+"down.lasso",null)},r}function De(e){var t={button:"browse",id:"browse",title:F("modes.browse.title"),description:F("modes.browse.description")},r,n,i=[];return t.selectBehavior=function(a){return arguments.length?(n=a,t):n},t.enter=function(){i.length||(n||(n=Wn(e)),i=[Ts(e),rn(e).on("hover",e.ui().sidebar.hover),n,Vn(e),Qn(e).behavior,Hn(e).behavior]),i.forEach(e.install),document.activeElement&&document.activeElement.blur&&document.activeElement.blur(),r?e.ui().sidebar.show(r):e.ui().sidebar.select(null)},t.exit=function(){e.ui().sidebar.hover.cancel(),i.forEach(e.uninstall),r&&e.ui().sidebar.hide()},t.sidebar=function(a){return arguments.length?(r=a,t):r},t.operations=function(){return[f0(e)]},t}function g4(e){var t=be("start","startFromWay","startFromNode"),r=sa(e);function n(i){r.on("click",function(){t.apply("start",this,arguments)}).on("clickWay",function(){t.apply("startFromWay",this,arguments)}).on("clickNode",function(){t.apply("startFromNode",this,arguments)}).on("cancel",n.cancel).on("finish",n.cancel),e.map().dblclickZoomEnable(!1),i.call(r)}return n.off=function(i){i.call(r.off)},n.cancel=function(){window.setTimeout(function(){e.map().dblclickZoomEnable(!0)},1e3),e.enter(De(e))},ke(n,t,"on")}function F6(e){var t=null,r=90-1e-8;function n(){var p=e.map(),m=p.center(),w=p.zoom(),b=Math.max(0,Math.ceil(Math.log(w)/Math.LN2)),h=Ln(Bt(window.location.hash),["comment","source","hashtags","walkthrough"]),g={};delete h.id;var v=e.selectedIDs().filter(function(x){return e.hasEntity(x)});return v.length&&(g.id=v.join(",")),g.map=w.toFixed(2)+"/"+m[1].toFixed(b)+"/"+m[0].toFixed(b),Object.assign(h,g)}function i(){return"#"+at(n(),!0)}function a(p){var m=e.documentTitleBase()||"iD",w,b,h,g=e.selectedIDs().filter(function(x){return e.hasEntity(x)});if(g.length){var v=lt(e.entity(g[0]),e.graph());g.length>1?w=F("title.labeled_and_more",{labeled:v,count:g.length-1}):w=v,h="context"}return p&&(b=e.history().difference().summary().length,b>0&&(h=w?"changes_context":"changes")),h?F("title.format."+h,{changes:b,base:m,context:w}):m}function o(p){if(!!e.setsDocumentTitle()){var m=a(p);document.title!==m&&(document.title=m)}}function s(){if(!e.inIntro()){var p=i();t!==p&&(t=p,window.history.replaceState(null,a(!1),p),o(!0))}}var l=Et(s,500),u=Et(function(){o(!0)},500);function c(){if(window.location.hash!==t){t=window.location.hash;var p=Bt(t),m=(p.map||"").split("/").map(Number);if(m.length<3||m.some(isNaN))s();else{if(t===i())return;var w=e.mode();if(e.map().centerZoom([m[2],Math.min(r,Math.max(-r,m[1]))],m[0]),p.id&&w){var b=p.id.split(",").filter(function(x){return e.hasEntity(x)});if(b.length&&(w.id==="browse"||w.id==="select"&&!Jr(w.selectedIDs(),b))){e.enter(Le(e,b));return}}var h=e.map().center(),g=bt(h,[m[2],m[1]]),v=500;if(w&&w.id.match(/^draw/)!==null&&g>v){e.enter(De(e));return}}}}function d(){if(e.map().on("move.behaviorHash",l),e.history().on("change.behaviorHash",u),e.on("enter.behaviorHash",l),G(window).on("hashchange.behaviorHash",c),window.location.hash){var p=Bt(window.location.hash);p.id&&e.zoomToEntity(p.id.split(",")[0],!p.map),p.walkthrough==="true"&&(d.startWalkthrough=!0),p.map&&(d.hadHash=!0),c(),o(!1)}}return d.off=function(){l.cancel(),u.cancel(),e.map().on("move.behaviorHash",null),e.on("enter.behaviorHash",null),G(window).on("hashchange.behaviorHash",null),window.location.hash=""},d}function dk(e){return[+e[0],+e[1]]}function vL(e){return[dk(e[0]),dk(e[1])]}var nHe={name:"x",handles:["w","e"].map(Xf),input:function(t,r){return t==null?null:[[+t[0],r[0][1]],[+t[1],r[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},iHe={name:"y",handles:["n","s"].map(Xf),input:function(t,r){return t==null?null:[[r[0][0],+t[0]],[r[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},aHe={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Xf),input:function(t){return t==null?null:vL(t)},output:function(t){return t}};function Xf(e){return{type:e}}window.toBase64=function(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(t,r){return String.fromCharCode(+"0x".concat(r))})).replace(/[=]/g,"").replace(/\+/g,"-").replace(/\//g,"_")};window.fromBase64=function(e){return decodeURIComponent(atob(e.replace(/_/g,"/").replace(/-/g,"+")).split("").map(function(t){return"%".concat("00".concat(t.charCodeAt(0).toString(16)).slice(-2))}).join(""))};var Wl=!1,yL={dispatch:be,geoMercator:i9,geoProjection:Z1,polygonArea:X1,polygonCentroid:ta,select:G,selectAll:c9,timerFlush:ru},bL={Extent:Ne,geoSphericalDistance:bt,geoZoomToScale:Qr,vecLength:it,utilQsString:at,utilStringQs:Bt};window.requestIdleCallback=window.requestIdleCallback||function(e){var t=Date.now();return window.requestAnimationFrame(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})})};window.cancelIdleCallback=window.cancelIdleCallback||function(e){window.cancelAnimationFrame(e)};window.iD=$f;})();
//# sourceMappingURL=iD.legacy.min.js.map
